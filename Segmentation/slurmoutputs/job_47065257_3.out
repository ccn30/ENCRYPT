This is job 3
Time: Mon  4 Oct 12:10:32 BST 2021
Running on master node: cpu-p-72
Current directory: /home/ccn30/rds/hpc-work/WBIC_lustre/ENCRYPT/scripts/Segmentation/slurmoutputs
Changed directory to /home/ccn30/rds/hpc-work/WBIC_lustre/ENCRYPT/scripts/Segmentation/slurmoutputs.

JobID: 47065257
======
Time: Mon  4 Oct 12:10:32 BST 2021
Running on master node: cpu-p-72
Current directory: /home/ccn30/rds/hpc-work/WBIC_lustre/ENCRYPT/scripts/Segmentation/slurmoutputs

Nodes allocated:
================
cpu-p-72

numtasks=, numnodes=, mpi_tasks_per_node= (OMP_NUM_THREADS=1)

Executing command:
==================
/home/ccn30/rds/hpc-work/WBIC_lustre/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh /home/ccn30/rds/hpc-work/WBIC_lustre/ENCRYPT/testsubjcode.txt 3 /home/ccn30/rds/rds-p00500_encrypt-URQgmO1brZ0/p00500/ENCRYPT_images /home/ccn30/rds/rds-p00500_encrypt-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2 /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta /home/ccn30/rds/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas /home/ccn30/rds/hpc-work/WBIC_lustre/ENCRYPT/scripts/Segmentation/slurmoutputs /home/ccn30/rds/rds-p00500_encrypt-URQgmO1brZ0/p00500/ENCRYPT_registrations

Beginning ASHS for:  32099
INPUT: /home/ccn30/rds/rds-p00500_encrypt-URQgmO1brZ0/p00500/ENCRYPT_images/32099/mp2rage/denoise_n4mag0000_PSIR_skulled_std.nii /home/ccn30/rds/rds-p00500_encrypt-URQgmO1brZ0/p00500/ENCRYPT_images/32099/T2/denoise_N4t2.nii
Registration copied from: /home/ccn30/rds/rds-p00500_encrypt-URQgmO1brZ0/p00500/ENCRYPT_registrations/32099
ashs_main execution log
  timestamp:   Mon  4 Oct 12:10:33 BST 2021
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 32099 -a /home/ccn30/rds/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas -g /home/ccn30/rds/rds-p00500_encrypt-URQgmO1brZ0/p00500/ENCRYPT_images/32099/mp2rage/denoise_n4mag0000_PSIR_skulled_std.nii -f /home/ccn30/rds/rds-p00500_encrypt-URQgmO1brZ0/p00500/ENCRYPT_images/32099/T2/denoise_N4t2.nii -w /home/ccn30/rds/rds-p00500_encrypt-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 -N -T
  directory:   /home/ccn30/rds/hpc-work/WBIC_lustre/ENCRYPT/scripts/Segmentation/slurmoutputs
  environment:
    ASHS_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_images/32099/mp2rage/denoise_n4mag0000_PSIR_skulled_std.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SKIP_ANTS=1
    ASHS_SKIP_RIGID=1
    ASHS_SUBJID=32099
    ASHS_TIDY=1
    ASHS_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_images/32099/T2/denoise_N4t2.nii
    ASHS_WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
Atlas    : /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas
T1 Image : /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_images/32099/mp2rage/denoise_n4mag0000_PSIR_skulled_std.nii
T2 Image : /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_images/32099/T2/denoise_N4t2.nii
WorkDir  : /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
  Skip Rigid: 1
  Skip Ants: 1
+ WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ TEMP_T1_FULL=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz
+ TEMP_T1_MASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_images/32099/mp2rage/denoise_n4mag0000_PSIR_skulled_std.nii -nt /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz ]]
+ [[ /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_images/32099/T2/denoise_N4t2.nii -nt /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz ]]
+ ashs_align_t1t2 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local ASHS_WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ [[ -n 1 ]]
+ echo 'Skipping Rigid Registration'
Skipping Rigid Registration
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat ]]
+ [[ -n 1 ]]
+ echo 'Skipping Affine Registration'
Skipping Affine Registration
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz ]]
+ echo 'SKIPPING Deformable registration'
SKIPPING Deformable registration
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.9
+ local PROGRESS=0.9
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.9'
CHUNK 0 0.2 0.9
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.9
====================================
         PROGRESS: 0               
====================================
+ greedy -d 3 -rm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/reslice_mprage_to_template.nii.gz -rf /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 56
+ greedy -d 3 -rm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/reslice_tse_to_template.nii.gz -rf /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 56
+ ashs_reslice_to_template /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas
+ local ASHS_WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local ATLAS=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ local side
+ for side in '$SIDES'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz
+ greedy -d 3 -rf /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -rm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 56
+ greedy -d 3 -rf /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -rm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 56
+ c3d /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -times -type uchar -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.00856
Thresholding #1
  Mapping range [0.00856, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz
Adding #1 and 0
Writing #1 to file /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz -rm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz /tmp/ashs.3uFfaK5G/natmask.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 56
+ c3d /tmp/ashs.3uFfaK5G/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz -reslice-identity -type short -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/seg_left.nii.gz ]]
+ for side in '$SIDES'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz
+ greedy -d 3 -rf /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -rm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 56
+ greedy -d 3 -rf /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -rm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 56
+ c3d /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -times -type uchar -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.00837
Thresholding #1
  Mapping range [0.00837, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz
Adding #1 and 0
Writing #1 to file /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz -rm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz /tmp/ashs.3uFfaK5G/natmask.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 56
+ c3d /tmp/ashs.3uFfaK5G/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz -reslice-identity -type short -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/seg_right.nii.gz ]]
+ [[ -f '' ]]
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_histmatch.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_histmatch.nii.gz
+ for side in '$SIDES'
+ ashs_registration_qc left
+ local side=left
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ local TEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz
+ local TEMPSEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.3uFfaK5G/cor_temp_%02d.png -clear -push SS /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.3uFfaK5G/cor_mprage_%02d.png -clear -push SS /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.3uFfaK5G/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.3uFfaK5G/sag_temp_%02d.png -clear -push SS /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.3uFfaK5G/sag_mprage_%02d.png -clear -push SS /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.3uFfaK5G/sag_tse_%02d.png
++ ls /tmp/ashs.3uFfaK5G/cor_mprage_00.png /tmp/ashs.3uFfaK5G/cor_mprage_01.png /tmp/ashs.3uFfaK5G/cor_mprage_02.png /tmp/ashs.3uFfaK5G/cor_mprage_03.png /tmp/ashs.3uFfaK5G/cor_mprage_04.png /tmp/ashs.3uFfaK5G/cor_temp_00.png /tmp/ashs.3uFfaK5G/cor_temp_01.png /tmp/ashs.3uFfaK5G/cor_temp_02.png /tmp/ashs.3uFfaK5G/cor_temp_03.png /tmp/ashs.3uFfaK5G/cor_temp_04.png /tmp/ashs.3uFfaK5G/cor_tse_00.png /tmp/ashs.3uFfaK5G/cor_tse_01.png /tmp/ashs.3uFfaK5G/cor_tse_02.png /tmp/ashs.3uFfaK5G/cor_tse_03.png /tmp/ashs.3uFfaK5G/cor_tse_04.png /tmp/ashs.3uFfaK5G/sag_mprage_00.png /tmp/ashs.3uFfaK5G/sag_mprage_01.png /tmp/ashs.3uFfaK5G/sag_temp_00.png /tmp/ashs.3uFfaK5G/sag_temp_01.png /tmp/ashs.3uFfaK5G/sag_tse_00.png /tmp/ashs.3uFfaK5G/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_mprage_00.png /tmp/ashs.3uFfaK5G/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_mprage_01.png /tmp/ashs.3uFfaK5G/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_mprage_02.png /tmp/ashs.3uFfaK5G/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_mprage_03.png /tmp/ashs.3uFfaK5G/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_mprage_04.png /tmp/ashs.3uFfaK5G/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_temp_00.png /tmp/ashs.3uFfaK5G/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_temp_01.png /tmp/ashs.3uFfaK5G/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_temp_02.png /tmp/ashs.3uFfaK5G/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_temp_03.png /tmp/ashs.3uFfaK5G/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_temp_04.png /tmp/ashs.3uFfaK5G/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_tse_00.png /tmp/ashs.3uFfaK5G/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_tse_01.png /tmp/ashs.3uFfaK5G/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_tse_02.png /tmp/ashs.3uFfaK5G/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_tse_03.png /tmp/ashs.3uFfaK5G/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_tse_04.png /tmp/ashs.3uFfaK5G/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/sag_mprage_00.png /tmp/ashs.3uFfaK5G/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/sag_mprage_01.png /tmp/ashs.3uFfaK5G/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/sag_temp_00.png /tmp/ashs.3uFfaK5G/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/sag_temp_01.png /tmp/ashs.3uFfaK5G/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/sag_tse_00.png /tmp/ashs.3uFfaK5G/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/sag_tse_01.png /tmp/ashs.3uFfaK5G/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.3uFfaK5G/cor_temp_00.png /tmp/ashs.3uFfaK5G/cor_temp_01.png /tmp/ashs.3uFfaK5G/cor_temp_02.png /tmp/ashs.3uFfaK5G/cor_temp_03.png /tmp/ashs.3uFfaK5G/cor_temp_04.png /tmp/ashs.3uFfaK5G/sag_temp_00.png /tmp/ashs.3uFfaK5G/sag_temp_01.png /tmp/ashs.3uFfaK5G/cor_mprage_00.png /tmp/ashs.3uFfaK5G/cor_mprage_01.png /tmp/ashs.3uFfaK5G/cor_mprage_02.png /tmp/ashs.3uFfaK5G/cor_mprage_03.png /tmp/ashs.3uFfaK5G/cor_mprage_04.png /tmp/ashs.3uFfaK5G/sag_mprage_00.png /tmp/ashs.3uFfaK5G/sag_mprage_01.png /tmp/ashs.3uFfaK5G/cor_tse_00.png /tmp/ashs.3uFfaK5G/cor_tse_01.png /tmp/ashs.3uFfaK5G/cor_tse_02.png /tmp/ashs.3uFfaK5G/cor_tse_03.png /tmp/ashs.3uFfaK5G/cor_tse_04.png /tmp/ashs.3uFfaK5G/sag_tse_00.png /tmp/ashs.3uFfaK5G/sag_tse_01.png /tmp/ashs.3uFfaK5G/qa.png
+ convert /tmp/ashs.3uFfaK5G/qa.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/qa.png
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/qa
+ montage -label 32099:left /tmp/ashs.3uFfaK5G/qa.png -geometry +1+1 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/qa/qa_registration_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (left)' /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/qa/qa_registration_left_qa.png
+ for side in '$SIDES'
+ ashs_registration_qc right
+ local side=right
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ local TEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz
+ local TEMPSEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.3uFfaK5G/cor_temp_%02d.png -clear -push SS /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.3uFfaK5G/cor_mprage_%02d.png -clear -push SS /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.3uFfaK5G/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.3uFfaK5G/sag_temp_%02d.png -clear -push SS /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.3uFfaK5G/sag_mprage_%02d.png -clear -push SS /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.3uFfaK5G/sag_tse_%02d.png
++ ls /tmp/ashs.3uFfaK5G/cor_mprage_00.png /tmp/ashs.3uFfaK5G/cor_mprage_01.png /tmp/ashs.3uFfaK5G/cor_mprage_02.png /tmp/ashs.3uFfaK5G/cor_mprage_03.png /tmp/ashs.3uFfaK5G/cor_mprage_04.png /tmp/ashs.3uFfaK5G/cor_temp_00.png /tmp/ashs.3uFfaK5G/cor_temp_01.png /tmp/ashs.3uFfaK5G/cor_temp_02.png /tmp/ashs.3uFfaK5G/cor_temp_03.png /tmp/ashs.3uFfaK5G/cor_temp_04.png /tmp/ashs.3uFfaK5G/cor_tse_00.png /tmp/ashs.3uFfaK5G/cor_tse_01.png /tmp/ashs.3uFfaK5G/cor_tse_02.png /tmp/ashs.3uFfaK5G/cor_tse_03.png /tmp/ashs.3uFfaK5G/cor_tse_04.png /tmp/ashs.3uFfaK5G/sag_mprage_00.png /tmp/ashs.3uFfaK5G/sag_mprage_01.png /tmp/ashs.3uFfaK5G/sag_temp_00.png /tmp/ashs.3uFfaK5G/sag_temp_01.png /tmp/ashs.3uFfaK5G/sag_tse_00.png /tmp/ashs.3uFfaK5G/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_mprage_00.png /tmp/ashs.3uFfaK5G/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_mprage_01.png /tmp/ashs.3uFfaK5G/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_mprage_02.png /tmp/ashs.3uFfaK5G/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_mprage_03.png /tmp/ashs.3uFfaK5G/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_mprage_04.png /tmp/ashs.3uFfaK5G/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_temp_00.png /tmp/ashs.3uFfaK5G/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_temp_01.png /tmp/ashs.3uFfaK5G/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_temp_02.png /tmp/ashs.3uFfaK5G/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_temp_03.png /tmp/ashs.3uFfaK5G/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_temp_04.png /tmp/ashs.3uFfaK5G/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_tse_00.png /tmp/ashs.3uFfaK5G/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_tse_01.png /tmp/ashs.3uFfaK5G/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_tse_02.png /tmp/ashs.3uFfaK5G/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_tse_03.png /tmp/ashs.3uFfaK5G/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/cor_tse_04.png /tmp/ashs.3uFfaK5G/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/sag_mprage_00.png /tmp/ashs.3uFfaK5G/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/sag_mprage_01.png /tmp/ashs.3uFfaK5G/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/sag_temp_00.png /tmp/ashs.3uFfaK5G/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/sag_temp_01.png /tmp/ashs.3uFfaK5G/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/sag_tse_00.png /tmp/ashs.3uFfaK5G/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3uFfaK5G/sag_tse_01.png /tmp/ashs.3uFfaK5G/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3uFfaK5G/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.3uFfaK5G/cor_temp_00.png /tmp/ashs.3uFfaK5G/cor_temp_01.png /tmp/ashs.3uFfaK5G/cor_temp_02.png /tmp/ashs.3uFfaK5G/cor_temp_03.png /tmp/ashs.3uFfaK5G/cor_temp_04.png /tmp/ashs.3uFfaK5G/sag_temp_00.png /tmp/ashs.3uFfaK5G/sag_temp_01.png /tmp/ashs.3uFfaK5G/cor_mprage_00.png /tmp/ashs.3uFfaK5G/cor_mprage_01.png /tmp/ashs.3uFfaK5G/cor_mprage_02.png /tmp/ashs.3uFfaK5G/cor_mprage_03.png /tmp/ashs.3uFfaK5G/cor_mprage_04.png /tmp/ashs.3uFfaK5G/sag_mprage_00.png /tmp/ashs.3uFfaK5G/sag_mprage_01.png /tmp/ashs.3uFfaK5G/cor_tse_00.png /tmp/ashs.3uFfaK5G/cor_tse_01.png /tmp/ashs.3uFfaK5G/cor_tse_02.png /tmp/ashs.3uFfaK5G/cor_tse_03.png /tmp/ashs.3uFfaK5G/cor_tse_04.png /tmp/ashs.3uFfaK5G/sag_tse_00.png /tmp/ashs.3uFfaK5G/sag_tse_01.png /tmp/ashs.3uFfaK5G/qa.png
+ convert /tmp/ashs.3uFfaK5G/qa.png -bordercolor Black -border 1x1 /tmp/ashs.3uFfaK5G/qa.png
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/qa
+ montage -label 32099:right /tmp/ashs.3uFfaK5G/qa.png -geometry +1+1 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/qa/qa_registration_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (right)' /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/qa/qa_registration_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 1'
CHUNK 0 0.2 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 1
====================================
         PROGRESS: 0               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 1 successful
------------------------------------------------
[0m
****************************************
Starting stage 2: Initial ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 2: Initial ROI registration to 
all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 000
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 000 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=000
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.544
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3810.54   GNORM= 844.654
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3969.715     152.320       0.000
   2    4     -3978.398     112.068       1.000
   3    5     -3998.355     115.170       1.000
   4    6     -4032.113     200.341       1.000
   5    7     -4054.873     141.894       1.000
   6    8     -4069.172      58.509       1.000
   7    9     -4070.614     110.815       1.000
   8   10     -4073.407      45.400       1.000
   9   11     -4075.458      26.117       1.000
  10   12     -4077.680      41.103       1.000
  11   13     -4078.771      28.799       1.000
  12   14     -4078.953      34.800       1.000
  13   15     -4079.567      19.135       1.000
  14   16     -4079.830      25.267       1.000
  15   17     -4080.069      16.314       1.000
  16   18     -4080.550      21.122       1.000
  17   19     -4080.980      17.108       1.000
  18   20     -4081.073      15.719       1.000
  19   21     -4081.141       8.404       1.000
  20   22     -4081.188       9.282       1.000
  21   24     -4081.251       7.124       0.455
  22   25     -4081.290       3.642       1.000
  23   26     -4081.301       7.280       1.000
  24   27     -4081.318       7.870       1.000
  25   28     -4081.323       5.013       1.000
  26   29     -4081.335       4.023       1.000
  27   30     -4081.361       5.067       1.000
  28   32     -4081.366       4.027       0.485
  29   33     -4081.375       3.272       1.000
  30   34     -4081.379       5.300       1.000
  31   35     -4081.391       3.041       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.986257 0.00170637 0.00325719 -0.715617 
-0.000420672 1.00702 0.0234841 1.1676 
-0.00637128 0.00799622 1.02628 0.472256 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3053.15   GNORM= 104.011
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3057.396      75.177       0.001
   2    4     -3060.160      63.045       1.000
   3    5     -3068.974      57.818       1.000
   4    6     -3080.931      85.906       1.000
   5    7     -3095.726     116.761       1.000
   6    8     -3108.559      93.746       1.000
   7    9     -3115.380      25.374       1.000
   8   10     -3116.367      24.863       1.000
   9   11     -3117.724      40.509       1.000
  10   12     -3119.160      48.373       1.000
  11   13     -3120.002      16.175       1.000
  12   14     -3120.161      17.057       1.000
  13   15     -3120.543      19.087       1.000
  14   16     -3122.512      19.281       1.000
  15   17     -3124.034      20.965       1.000
  16   18     -3124.890      18.406       1.000
  17   20     -3125.117      18.249       0.230
  18   21     -3125.372      10.321       1.000
  19   22     -3125.650       7.189       1.000
  20   24     -3125.741       8.088       0.304
  21   26     -3125.819       5.572       0.440
  22   28     -3125.826       3.182       0.443
  23   29     -3125.833       1.834       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00483 -0.00334285 0.0259774 0.407751 
0.0177704 1.02677 0.011317 0.781115 
-0.00634579 -0.0126987 1.03391 1.12571 
0 0 0 1 

Final RAS Transform: 
1.00483 -0.00334285 0.0259774 0.407751 
0.0177704 1.02677 0.011317 0.781115 
-0.00634579 -0.0126987 1.03391 1.12571 
0 0 0 1 


real	0m4.128s
user	0m5.410s
sys	0m0.656s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.523135
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1340
Level     0,  Iter     1:    Energy =   0.1433
Level     0,  Iter     2:    Energy =   0.1510
Level     0,  Iter     3:    Energy =   0.1548
Level     0,  Iter     4:    Energy =   0.1573
Level     0,  Iter     5:    Energy =   0.1590
Level     0,  Iter     6:    Energy =   0.1608
Level     0,  Iter     7:    Energy =   0.1621
Level     0,  Iter     8:    Energy =   0.1634
Level     0,  Iter     9:    Energy =   0.1644
Level     0,  Iter    10:    Energy =   0.1643
Level     0,  Iter    11:    Energy =   0.1656
Level     0,  Iter    12:    Energy =   0.1656
Level     0,  Iter    13:    Energy =   0.1663
Level     0,  Iter    14:    Energy =   0.1659
Level     0,  Iter    15:    Energy =   0.1668
Level     0,  Iter    16:    Energy =   0.1668
Level     0,  Iter    17:    Energy =   0.1673
Level     0,  Iter    18:    Energy =   0.1670
Level     0,  Iter    19:    Energy =   0.1675
Level     0,  Iter    20:    Energy =   0.1677
Level     0,  Iter    21:    Energy =   0.1679
Level     0,  Iter    22:    Energy =   0.1680
Level     0,  Iter    23:    Energy =   0.1681
Level     0,  Iter    24:    Energy =   0.1685
Level     0,  Iter    25:    Energy =   0.1685
Level     0,  Iter    26:    Energy =   0.1688
Level     0,  Iter    27:    Energy =   0.1686
Level     0,  Iter    28:    Energy =   0.1683
Level     0,  Iter    29:    Energy =   0.1682
Level     0,  Iter    30:    Energy =   0.1686
Level     0,  Iter    31:    Energy =   0.1687
Level     0,  Iter    32:    Energy =   0.1695
Level     0,  Iter    33:    Energy =   0.1690
Level     0,  Iter    34:    Energy =   0.1683
Level     0,  Iter    35:    Energy =   0.1681
Level     0,  Iter    36:    Energy =   0.1677
Level     0,  Iter    37:    Energy =   0.1679
Level     0,  Iter    38:    Energy =   0.1676
Level     0,  Iter    39:    Energy =   0.1672
Level     0,  Iter    40:    Energy =   0.1673
Level     0,  Iter    41:    Energy =   0.1667
Level     0,  Iter    42:    Energy =   0.1671
Level     0,  Iter    43:    Energy =   0.1668
Level     0,  Iter    44:    Energy =   0.1670
Level     0,  Iter    45:    Energy =   0.1668
Level     0,  Iter    46:    Energy =   0.1668
Level     0,  Iter    47:    Energy =   0.1666
Level     0,  Iter    48:    Energy =   0.1668
Level     0,  Iter    49:    Energy =   0.1665
Level     0,  Iter    50:    Energy =   0.1667
Level     0,  Iter    51:    Energy =   0.1665
Level     0,  Iter    52:    Energy =   0.1667
Level     0,  Iter    53:    Energy =   0.1665
Level     0,  Iter    54:    Energy =   0.1667
Level     0,  Iter    55:    Energy =   0.1665
Level     0,  Iter    56:    Energy =   0.1667
Level     0,  Iter    57:    Energy =   0.1664
Level     0,  Iter    58:    Energy =   0.1668
Level     0,  Iter    59:    Energy =   0.1666
END OF LEVEL     0    DetJac Range:   0.3809  to   1.9114 
  Avg. Gradient Time  : 0.0056s  34.92% 
  Avg. Gaussian Time  : 0.0072s  45.31% 
  Avg. Iteration Time : 0.0159s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1187
Level     1,  Iter     1:    Energy =   0.1246
Level     1,  Iter     2:    Energy =   0.1294
Level     1,  Iter     3:    Energy =   0.1340
Level     1,  Iter     4:    Energy =   0.1380
Level     1,  Iter     5:    Energy =   0.1410
Level     1,  Iter     6:    Energy =   0.1424
Level     1,  Iter     7:    Energy =   0.1435
Level     1,  Iter     8:    Energy =   0.1440
Level     1,  Iter     9:    Energy =   0.1458
Level     1,  Iter    10:    Energy =   0.1458
Level     1,  Iter    11:    Energy =   0.1476
Level     1,  Iter    12:    Energy =   0.1476
Level     1,  Iter    13:    Energy =   0.1484
Level     1,  Iter    14:    Energy =   0.1482
Level     1,  Iter    15:    Energy =   0.1499
Level     1,  Iter    16:    Energy =   0.1496
Level     1,  Iter    17:    Energy =   0.1503
Level     1,  Iter    18:    Energy =   0.1499
Level     1,  Iter    19:    Energy =   0.1512
Level     1,  Iter    20:    Energy =   0.1509
Level     1,  Iter    21:    Energy =   0.1510
Level     1,  Iter    22:    Energy =   0.1506
Level     1,  Iter    23:    Energy =   0.1515
Level     1,  Iter    24:    Energy =   0.1512
Level     1,  Iter    25:    Energy =   0.1515
Level     1,  Iter    26:    Energy =   0.1510
Level     1,  Iter    27:    Energy =   0.1521
Level     1,  Iter    28:    Energy =   0.1517
Level     1,  Iter    29:    Energy =   0.1519
Level     1,  Iter    30:    Energy =   0.1514
Level     1,  Iter    31:    Energy =   0.1527
Level     1,  Iter    32:    Energy =   0.1522
Level     1,  Iter    33:    Energy =   0.1525
Level     1,  Iter    34:    Energy =   0.1519
Level     1,  Iter    35:    Energy =   0.1531
Level     1,  Iter    36:    Energy =   0.1527
Level     1,  Iter    37:    Energy =   0.1527
Level     1,  Iter    38:    Energy =   0.1521
Level     1,  Iter    39:    Energy =   0.1533
Level     1,  Iter    40:    Energy =   0.1528
Level     1,  Iter    41:    Energy =   0.1531
Level     1,  Iter    42:    Energy =   0.1525
Level     1,  Iter    43:    Energy =   0.1535
Level     1,  Iter    44:    Energy =   0.1532
Level     1,  Iter    45:    Energy =   0.1530
Level     1,  Iter    46:    Energy =   0.1524
Level     1,  Iter    47:    Energy =   0.1535
Level     1,  Iter    48:    Energy =   0.1530
Level     1,  Iter    49:    Energy =   0.1535
Level     1,  Iter    50:    Energy =   0.1528
Level     1,  Iter    51:    Energy =   0.1539
Level     1,  Iter    52:    Energy =   0.1537
Level     1,  Iter    53:    Energy =   0.1533
Level     1,  Iter    54:    Energy =   0.1528
Level     1,  Iter    55:    Energy =   0.1537
Level     1,  Iter    56:    Energy =   0.1531
Level     1,  Iter    57:    Energy =   0.1539
Level     1,  Iter    58:    Energy =   0.1533
Level     1,  Iter    59:    Energy =   0.1540
END OF LEVEL     1    DetJac Range:   0.1550  to   3.0364 
  Avg. Gradient Time  : 0.0250s  34.67% 
  Avg. Gaussian Time  : 0.0349s  48.40% 
  Avg. Iteration Time : 0.0722s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0818
Level     2,  Iter     1:    Energy =   0.0857
Level     2,  Iter     2:    Energy =   0.0888
Level     2,  Iter     3:    Energy =   0.0911
Level     2,  Iter     4:    Energy =   0.0936
Level     2,  Iter     5:    Energy =   0.0960
Level     2,  Iter     6:    Energy =   0.0983
Level     2,  Iter     7:    Energy =   0.1006
Level     2,  Iter     8:    Energy =   0.1012
Level     2,  Iter     9:    Energy =   0.1016
Level     2,  Iter    10:    Energy =   0.1029
Level     2,  Iter    11:    Energy =   0.1028
Level     2,  Iter    12:    Energy =   0.1033
Level     2,  Iter    13:    Energy =   0.1035
Level     2,  Iter    14:    Energy =   0.1035
Level     2,  Iter    15:    Energy =   0.1038
Level     2,  Iter    16:    Energy =   0.1039
Level     2,  Iter    17:    Energy =   0.1041
Level     2,  Iter    18:    Energy =   0.1042
Level     2,  Iter    19:    Energy =   0.1043
END OF LEVEL     2    DetJac Range:   0.1060  to   3.3156 
  Avg. Gradient Time  : 0.1142s  32.89% 
  Avg. Gaussian Time  : 0.1815s  52.27% 
  Avg. Iteration Time : 0.3472s 

real	0m14.585s
user	0m20.240s
sys	0m2.642s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.2 0.204286
+ echo 'CHUNK 0.2 0.204286 1'
CHUNK 0.2 0.204286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.2 0.204286 1
====================================
         PROGRESS: 0.2               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 001
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 001 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=001
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.587
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3757.27   GNORM= 682.58
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3898.686     299.329       0.001
   2    4     -3933.504     170.722       1.000
   3    5     -3961.585     145.969       1.000
   4    6     -3991.699     206.999       1.000
   5    7     -4042.314     223.820       1.000
   6    8     -4065.622     216.800       1.000
   7    9     -4082.093      51.319       1.000
   8   10     -4085.653      53.749       1.000
   9   12     -4087.490      60.893       0.466
  10   13     -4090.101      47.252       1.000
  11   14     -4092.980      32.070       1.000
  12   15     -4093.501      22.784       1.000
  13   16     -4094.068      23.146       1.000
  14   17     -4094.598      38.239       1.000
  15   18     -4095.286      20.646       1.000
  16   20     -4095.395       5.503       0.343
  17   21     -4095.421       4.351       1.000
  18   22     -4095.437       8.757       1.000
  19   23     -4095.475       5.844       1.000
  20   24     -4095.520      10.046       1.000
  21   25     -4095.536       6.518       1.000
  22   26     -4095.547       3.661       1.000
  23   27     -4095.558       3.260       1.000
  24   29     -4095.570       1.948       0.127
  25   30     -4095.582       5.670       1.000
  26   31     -4095.589       4.582       1.000
  27   32     -4095.598       4.205       1.000
  28   34     -4095.598       4.392       0.146
  29   35     -4095.612       3.139       1.000
  30   37     -4095.620       3.087       0.486
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.993307 0.00768729 -0.0103512 -0.727155 
0.0101649 0.981637 0.019919 1.35598 
-0.00305112 0.0215563 1.04631 0.636978 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2953.88   GNORM= 104.791
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2967.054      67.090       0.002
   2    4     -2969.488      91.759       1.000
   3    5     -2972.105      49.841       1.000
   4    6     -2975.680      53.036       1.000
   5    7     -2980.460      87.234       1.000
   6    8     -2988.771      92.881       1.000
   7   10     -2992.110      91.202       0.393
   8   11     -2995.815      43.306       1.000
   9   12     -2997.936      24.212       1.000
  10   13     -2998.976      35.348       1.000
  11   14     -3000.283      38.822       1.000
  12   16     -3000.861      13.366       0.266
  13   17     -3001.102       5.855       1.000
  14   18     -3001.168       7.288       1.000
  15   19     -3001.237       5.778       1.000
  16   20     -3001.400       7.717       1.000
  17   21     -3001.811       6.485       1.000
  18   23     -3002.110      10.648       0.431
  19   25     -3002.203      19.250       0.442
  20   26     -3002.337       9.744       1.000
  21   27     -3002.434       9.802       1.000
  22   28     -3002.497       5.444       1.000
  23   29     -3002.542       4.125       1.000
  24   30     -3002.601       4.560       1.000
  25   31     -3002.715      19.441       1.000
  26   32     -3002.812       3.723       1.000
  27   33     -3002.823       3.284       1.000
  28   34     -3002.837       2.641       1.000
  29   35     -3002.863       3.710       1.000
  30   36     -3002.877       3.592       1.000
  31   37     -3002.889       3.513       1.000
  32   38     -3002.906       5.214       1.000
  33   39     -3002.914       4.635       1.000
  34   41     -3002.934       7.314       0.465
  35   42     -3002.950       4.906       1.000
  36   43     -3002.990       5.454       1.000
  37   45     -3003.008       5.378       0.453
  38   47     -3003.012       2.807       0.350
  39   48     -3003.018       2.160       1.000
  40   49     -3003.023       1.937       1.000
  41   50     -3003.026       2.141       1.000
  42   51     -3003.036       3.685       1.000
  43   52     -3003.038       1.776       1.000
  44   53     -3003.042       1.872       1.000
Final RAS Transform: 
0.999745 -0.00454575 0.00884486 -0.00197811 
0.0228219 0.988833 0.00602334 0.943326 
-0.0125431 0.0103927 1.04421 0.738908 
0 0 0 1 

Final RAS Transform: 
0.999745 -0.00454575 0.00884486 -0.00197811 
0.0228219 0.988833 0.00602334 0.943326 
-0.0125431 0.0103927 1.04421 0.738908 
0 0 0 1 


real	0m4.694s
user	0m6.310s
sys	0m0.664s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.56972
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1326
Level     0,  Iter     1:    Energy =   0.1434
Level     0,  Iter     2:    Energy =   0.1514
Level     0,  Iter     3:    Energy =   0.1552
Level     0,  Iter     4:    Energy =   0.1581
Level     0,  Iter     5:    Energy =   0.1599
Level     0,  Iter     6:    Energy =   0.1614
Level     0,  Iter     7:    Energy =   0.1625
Level     0,  Iter     8:    Energy =   0.1635
Level     0,  Iter     9:    Energy =   0.1643
Level     0,  Iter    10:    Energy =   0.1647
Level     0,  Iter    11:    Energy =   0.1658
Level     0,  Iter    12:    Energy =   0.1659
Level     0,  Iter    13:    Energy =   0.1663
Level     0,  Iter    14:    Energy =   0.1658
Level     0,  Iter    15:    Energy =   0.1666
Level     0,  Iter    16:    Energy =   0.1665
Level     0,  Iter    17:    Energy =   0.1669
Level     0,  Iter    18:    Energy =   0.1661
Level     0,  Iter    19:    Energy =   0.1665
Level     0,  Iter    20:    Energy =   0.1661
Level     0,  Iter    21:    Energy =   0.1665
Level     0,  Iter    22:    Energy =   0.1660
Level     0,  Iter    23:    Energy =   0.1666
Level     0,  Iter    24:    Energy =   0.1664
Level     0,  Iter    25:    Energy =   0.1672
Level     0,  Iter    26:    Energy =   0.1665
Level     0,  Iter    27:    Energy =   0.1667
Level     0,  Iter    28:    Energy =   0.1664
Level     0,  Iter    29:    Energy =   0.1668
Level     0,  Iter    30:    Energy =   0.1662
Level     0,  Iter    31:    Energy =   0.1667
Level     0,  Iter    32:    Energy =   0.1665
Level     0,  Iter    33:    Energy =   0.1672
Level     0,  Iter    34:    Energy =   0.1664
Level     0,  Iter    35:    Energy =   0.1667
Level     0,  Iter    36:    Energy =   0.1661
Level     0,  Iter    37:    Energy =   0.1666
Level     0,  Iter    38:    Energy =   0.1660
Level     0,  Iter    39:    Energy =   0.1671
Level     0,  Iter    40:    Energy =   0.1666
Level     0,  Iter    41:    Energy =   0.1677
Level     0,  Iter    42:    Energy =   0.1667
Level     0,  Iter    43:    Energy =   0.1673
Level     0,  Iter    44:    Energy =   0.1666
Level     0,  Iter    45:    Energy =   0.1674
Level     0,  Iter    46:    Energy =   0.1665
Level     0,  Iter    47:    Energy =   0.1669
Level     0,  Iter    48:    Energy =   0.1663
Level     0,  Iter    49:    Energy =   0.1669
Level     0,  Iter    50:    Energy =   0.1662
Level     0,  Iter    51:    Energy =   0.1670
Level     0,  Iter    52:    Energy =   0.1663
Level     0,  Iter    53:    Energy =   0.1670
Level     0,  Iter    54:    Energy =   0.1661
Level     0,  Iter    55:    Energy =   0.1673
Level     0,  Iter    56:    Energy =   0.1671
Level     0,  Iter    57:    Energy =   0.1679
Level     0,  Iter    58:    Energy =   0.1669
Level     0,  Iter    59:    Energy =   0.1672
END OF LEVEL     0    DetJac Range:   0.3426  to   1.9173 
  Avg. Gradient Time  : 0.0054s  34.94% 
  Avg. Gaussian Time  : 0.0071s  45.33% 
  Avg. Iteration Time : 0.0156s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1154
Level     1,  Iter     1:    Energy =   0.1221
Level     1,  Iter     2:    Energy =   0.1265
Level     1,  Iter     3:    Energy =   0.1317
Level     1,  Iter     4:    Energy =   0.1357
Level     1,  Iter     5:    Energy =   0.1397
Level     1,  Iter     6:    Energy =   0.1425
Level     1,  Iter     7:    Energy =   0.1440
Level     1,  Iter     8:    Energy =   0.1448
Level     1,  Iter     9:    Energy =   0.1458
Level     1,  Iter    10:    Energy =   0.1462
Level     1,  Iter    11:    Energy =   0.1469
Level     1,  Iter    12:    Energy =   0.1473
Level     1,  Iter    13:    Energy =   0.1475
Level     1,  Iter    14:    Energy =   0.1482
Level     1,  Iter    15:    Energy =   0.1480
Level     1,  Iter    16:    Energy =   0.1490
Level     1,  Iter    17:    Energy =   0.1488
Level     1,  Iter    18:    Energy =   0.1499
Level     1,  Iter    19:    Energy =   0.1494
Level     1,  Iter    20:    Energy =   0.1506
Level     1,  Iter    21:    Energy =   0.1514
Level     1,  Iter    22:    Energy =   0.1514
Level     1,  Iter    23:    Energy =   0.1507
Level     1,  Iter    24:    Energy =   0.1517
Level     1,  Iter    25:    Energy =   0.1524
Level     1,  Iter    26:    Energy =   0.1526
Level     1,  Iter    27:    Energy =   0.1518
Level     1,  Iter    28:    Energy =   0.1526
Level     1,  Iter    29:    Energy =   0.1529
Level     1,  Iter    30:    Energy =   0.1523
Level     1,  Iter    31:    Energy =   0.1516
Level     1,  Iter    32:    Energy =   0.1525
Level     1,  Iter    33:    Energy =   0.1527
Level     1,  Iter    34:    Energy =   0.1522
Level     1,  Iter    35:    Energy =   0.1515
Level     1,  Iter    36:    Energy =   0.1526
Level     1,  Iter    37:    Energy =   0.1529
Level     1,  Iter    38:    Energy =   0.1524
Level     1,  Iter    39:    Energy =   0.1516
Level     1,  Iter    40:    Energy =   0.1527
Level     1,  Iter    41:    Energy =   0.1527
Level     1,  Iter    42:    Energy =   0.1523
Level     1,  Iter    43:    Energy =   0.1516
Level     1,  Iter    44:    Energy =   0.1527
Level     1,  Iter    45:    Energy =   0.1529
Level     1,  Iter    46:    Energy =   0.1525
Level     1,  Iter    47:    Energy =   0.1518
Level     1,  Iter    48:    Energy =   0.1529
Level     1,  Iter    49:    Energy =   0.1529
Level     1,  Iter    50:    Energy =   0.1525
Level     1,  Iter    51:    Energy =   0.1518
Level     1,  Iter    52:    Energy =   0.1530
Level     1,  Iter    53:    Energy =   0.1533
Level     1,  Iter    54:    Energy =   0.1528
Level     1,  Iter    55:    Energy =   0.1521
Level     1,  Iter    56:    Energy =   0.1530
Level     1,  Iter    57:    Energy =   0.1531
Level     1,  Iter    58:    Energy =   0.1528
Level     1,  Iter    59:    Energy =   0.1520
END OF LEVEL     1    DetJac Range:   0.1117  to   3.1787 
  Avg. Gradient Time  : 0.0247s  34.48% 
  Avg. Gaussian Time  : 0.0347s  48.46% 
  Avg. Iteration Time : 0.0715s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0817
Level     2,  Iter     1:    Energy =   0.0849
Level     2,  Iter     2:    Energy =   0.0882
Level     2,  Iter     3:    Energy =   0.0907
Level     2,  Iter     4:    Energy =   0.0930
Level     2,  Iter     5:    Energy =   0.0948
Level     2,  Iter     6:    Energy =   0.0964
Level     2,  Iter     7:    Energy =   0.0973
Level     2,  Iter     8:    Energy =   0.0982
Level     2,  Iter     9:    Energy =   0.0990
Level     2,  Iter    10:    Energy =   0.0995
Level     2,  Iter    11:    Energy =   0.1003
Level     2,  Iter    12:    Energy =   0.1005
Level     2,  Iter    13:    Energy =   0.1008
Level     2,  Iter    14:    Energy =   0.1013
Level     2,  Iter    15:    Energy =   0.1011
Level     2,  Iter    16:    Energy =   0.1022
Level     2,  Iter    17:    Energy =   0.1020
Level     2,  Iter    18:    Energy =   0.1026
Level     2,  Iter    19:    Energy =   0.1024
END OF LEVEL     2    DetJac Range:   0.0895  to   3.3934 
  Avg. Gradient Time  : 0.1132s  32.87% 
  Avg. Gaussian Time  : 0.1824s  52.95% 
  Avg. Iteration Time : 0.3444s 

real	0m14.488s
user	0m20.169s
sys	0m2.664s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.204286 0.208571
+ echo 'CHUNK 0.204286 0.208571 1'
CHUNK 0.204286 0.208571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.204286 0.208571 1
====================================
         PROGRESS: 0.204286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 002
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 002 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=002
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.573
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3590.58   GNORM= 1138.01
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3907.524     358.175       0.000
   2    4     -3944.799     161.269       1.000
   3    5     -3961.582     149.063       1.000
   4    6     -3987.578     210.587       1.000
   5    7     -4011.498     167.164       1.000
   6    8     -4045.705      86.186       1.000
   7   10     -4049.813      76.499       0.424
   8   11     -4055.157      84.724       1.000
   9   12     -4066.703      74.780       1.000
  10   14     -4070.919      65.659       0.404
  11   15     -4072.481      27.125       1.000
  12   16     -4073.114      28.250       1.000
  13   17     -4073.753      35.414       1.000
  14   18     -4074.859      66.074       1.000
  15   19     -4076.785      31.959       1.000
  16   20     -4079.546      36.851       1.000
  17   21     -4081.800      32.474       1.000
  18   23     -4082.197      26.577       0.213
  19   24     -4082.553      21.434       1.000
  20   25     -4083.132      32.614       1.000
  21   26     -4083.570      38.834       1.000
  22   27     -4084.111      25.041       1.000
  23   28     -4084.501      35.693       1.000
  24   29     -4084.891      17.598       1.000
  25   31     -4085.023      16.037       0.417
  26   33     -4085.083      15.674       0.372
  27   34     -4085.152       9.221       1.000
  28   35     -4085.196       9.193       1.000
  29   36     -4085.227       6.008       1.000
  30   38     -4085.273       4.905       5.000
  31   40     -4085.303       8.397       0.408
  32   41     -4085.368       8.039       1.000
  33   43     -4085.411       5.078       0.268
  34   45     -4085.412       4.994       0.237
  35   47     -4085.416       3.737       0.300
  36   48     -4085.419       5.378       1.000
  37   50     -4085.433       5.036       5.000
  38   51     -4085.438       5.435       1.000
  39   52     -4085.449       5.538       1.000
Final RAS Transform: 
0.984454 -0.000315674 -0.00667165 -0.506389 
-0.0527547 1.00481 0.0011358 -0.0809387 
0.0134045 -0.0123123 1.02389 1.14694 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3125.98   GNORM= 241.843
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3144.802     131.558       0.001
   2    4     -3153.282      92.028       1.000
   3    5     -3158.462      35.357       1.000
   4    6     -3159.860      41.265       1.000
   5    7     -3164.127      47.561       1.000
   6    8     -3174.410      68.937       1.000
   7   10     -3175.611      72.127       0.207
   8   11     -3179.205      42.935       1.000
   9   12     -3182.620      31.591       1.000
  10   13     -3184.479      44.819       1.000
  11   14     -3186.283      31.672       1.000
  12   15     -3187.712      24.022       1.000
  13   17     -3188.235      31.146       0.475
  14   18     -3188.613      15.596       1.000
  15   19     -3188.819      14.225       1.000
  16   20     -3189.202      20.539       1.000
  17   21     -3189.597       9.224       1.000
  18   22     -3189.869       8.534       1.000
  19   23     -3190.105      10.514       1.000
  20   24     -3190.242       8.112       1.000
  21   25     -3190.290      15.288       1.000
  22   26     -3190.356       5.507       1.000
  23   27     -3190.376       8.860       1.000
  24   28     -3190.437       6.912       1.000
  25   29     -3190.505       7.710       1.000
  26   30     -3190.540       5.889       1.000
  27   31     -3190.558       2.778       1.000
  28   34     -3190.573       4.294       2.579
  29   35     -3190.584       6.399       1.000
  30   36     -3190.606       5.838       1.000
  31   37     -3190.629      11.723       1.000
  32   38     -3190.676       5.459       1.000
  33   39     -3190.708       4.765       1.000
  34   40     -3190.710       3.883       1.000
  35   41     -3190.718       2.291       1.000
  36   42     -3190.724       2.289       1.000
  37   43     -3190.748       5.012       1.000
  38   44     -3190.770       4.549       1.000
  39   46     -3190.770       3.128       0.208
  40   47     -3190.784       2.492       1.000
  41   49     -3190.794       4.763       0.238
  42   50     -3190.807       2.830       1.000
  43   51     -3190.809       3.324       1.000
  44   52     -3190.813       1.548       1.000
  45   53     -3190.819       1.298       1.000
  46   54     -3190.826       2.476       1.000
  47   55     -3190.827       2.420       1.000
  48   57     -3190.829       2.473       0.111
  49   58     -3190.834       2.258       1.000
  50   60     -3190.835       2.193       0.344
  51   61     -3190.841       2.113       1.000
Final RAS Transform: 
1.00462 0.00208656 0.0153547 0.382857 
-0.0331003 1.00993 0.0042348 -0.0768392 
0.00967018 -0.0160265 1.01651 1.13732 
0 0 0 1 

Final RAS Transform: 
1.00462 0.00208656 0.0153547 0.382857 
-0.0331003 1.00993 0.0042348 -0.0768392 
0.00967018 -0.0160265 1.01651 1.13732 
0 0 0 1 


real	0m4.760s
user	0m6.362s
sys	0m0.719s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.549859
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1347
Level     0,  Iter     1:    Energy =   0.1448
Level     0,  Iter     2:    Energy =   0.1519
Level     0,  Iter     3:    Energy =   0.1557
Level     0,  Iter     4:    Energy =   0.1585
Level     0,  Iter     5:    Energy =   0.1597
Level     0,  Iter     6:    Energy =   0.1612
Level     0,  Iter     7:    Energy =   0.1620
Level     0,  Iter     8:    Energy =   0.1629
Level     0,  Iter     9:    Energy =   0.1636
Level     0,  Iter    10:    Energy =   0.1641
Level     0,  Iter    11:    Energy =   0.1648
Level     0,  Iter    12:    Energy =   0.1650
Level     0,  Iter    13:    Energy =   0.1657
Level     0,  Iter    14:    Energy =   0.1658
Level     0,  Iter    15:    Energy =   0.1665
Level     0,  Iter    16:    Energy =   0.1664
Level     0,  Iter    17:    Energy =   0.1670
Level     0,  Iter    18:    Energy =   0.1666
Level     0,  Iter    19:    Energy =   0.1675
Level     0,  Iter    20:    Energy =   0.1674
Level     0,  Iter    21:    Energy =   0.1680
Level     0,  Iter    22:    Energy =   0.1673
Level     0,  Iter    23:    Energy =   0.1678
Level     0,  Iter    24:    Energy =   0.1674
Level     0,  Iter    25:    Energy =   0.1679
Level     0,  Iter    26:    Energy =   0.1673
Level     0,  Iter    27:    Energy =   0.1678
Level     0,  Iter    28:    Energy =   0.1673
Level     0,  Iter    29:    Energy =   0.1679
Level     0,  Iter    30:    Energy =   0.1674
Level     0,  Iter    31:    Energy =   0.1681
Level     0,  Iter    32:    Energy =   0.1675
Level     0,  Iter    33:    Energy =   0.1681
Level     0,  Iter    34:    Energy =   0.1675
Level     0,  Iter    35:    Energy =   0.1681
Level     0,  Iter    36:    Energy =   0.1675
Level     0,  Iter    37:    Energy =   0.1680
Level     0,  Iter    38:    Energy =   0.1674
Level     0,  Iter    39:    Energy =   0.1680
Level     0,  Iter    40:    Energy =   0.1674
Level     0,  Iter    41:    Energy =   0.1680
Level     0,  Iter    42:    Energy =   0.1674
Level     0,  Iter    43:    Energy =   0.1680
Level     0,  Iter    44:    Energy =   0.1674
Level     0,  Iter    45:    Energy =   0.1679
Level     0,  Iter    46:    Energy =   0.1673
Level     0,  Iter    47:    Energy =   0.1678
Level     0,  Iter    48:    Energy =   0.1673
Level     0,  Iter    49:    Energy =   0.1678
Level     0,  Iter    50:    Energy =   0.1672
Level     0,  Iter    51:    Energy =   0.1677
Level     0,  Iter    52:    Energy =   0.1674
Level     0,  Iter    53:    Energy =   0.1678
Level     0,  Iter    54:    Energy =   0.1672
Level     0,  Iter    55:    Energy =   0.1677
Level     0,  Iter    56:    Energy =   0.1673
Level     0,  Iter    57:    Energy =   0.1678
Level     0,  Iter    58:    Energy =   0.1672
Level     0,  Iter    59:    Energy =   0.1677
END OF LEVEL     0    DetJac Range:   0.4560  to   2.1444 
  Avg. Gradient Time  : 0.0056s  35.07% 
  Avg. Gaussian Time  : 0.0073s  45.25% 
  Avg. Iteration Time : 0.0161s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1173
Level     1,  Iter     1:    Energy =   0.1234
Level     1,  Iter     2:    Energy =   0.1286
Level     1,  Iter     3:    Energy =   0.1315
Level     1,  Iter     4:    Energy =   0.1354
Level     1,  Iter     5:    Energy =   0.1398
Level     1,  Iter     6:    Energy =   0.1432
Level     1,  Iter     7:    Energy =   0.1459
Level     1,  Iter     8:    Energy =   0.1477
Level     1,  Iter     9:    Energy =   0.1484
Level     1,  Iter    10:    Energy =   0.1484
Level     1,  Iter    11:    Energy =   0.1498
Level     1,  Iter    12:    Energy =   0.1495
Level     1,  Iter    13:    Energy =   0.1508
Level     1,  Iter    14:    Energy =   0.1508
Level     1,  Iter    15:    Energy =   0.1509
Level     1,  Iter    16:    Energy =   0.1506
Level     1,  Iter    17:    Energy =   0.1515
Level     1,  Iter    18:    Energy =   0.1512
Level     1,  Iter    19:    Energy =   0.1522
Level     1,  Iter    20:    Energy =   0.1519
Level     1,  Iter    21:    Energy =   0.1523
Level     1,  Iter    22:    Energy =   0.1519
Level     1,  Iter    23:    Energy =   0.1528
Level     1,  Iter    24:    Energy =   0.1525
Level     1,  Iter    25:    Energy =   0.1528
Level     1,  Iter    26:    Energy =   0.1523
Level     1,  Iter    27:    Energy =   0.1531
Level     1,  Iter    28:    Energy =   0.1528
Level     1,  Iter    29:    Energy =   0.1528
Level     1,  Iter    30:    Energy =   0.1524
Level     1,  Iter    31:    Energy =   0.1531
Level     1,  Iter    32:    Energy =   0.1528
Level     1,  Iter    33:    Energy =   0.1530
Level     1,  Iter    34:    Energy =   0.1526
Level     1,  Iter    35:    Energy =   0.1532
Level     1,  Iter    36:    Energy =   0.1531
Level     1,  Iter    37:    Energy =   0.1530
Level     1,  Iter    38:    Energy =   0.1526
Level     1,  Iter    39:    Energy =   0.1532
Level     1,  Iter    40:    Energy =   0.1529
Level     1,  Iter    41:    Energy =   0.1533
Level     1,  Iter    42:    Energy =   0.1529
Level     1,  Iter    43:    Energy =   0.1536
Level     1,  Iter    44:    Energy =   0.1532
Level     1,  Iter    45:    Energy =   0.1533
Level     1,  Iter    46:    Energy =   0.1529
Level     1,  Iter    47:    Energy =   0.1536
Level     1,  Iter    48:    Energy =   0.1532
Level     1,  Iter    49:    Energy =   0.1534
Level     1,  Iter    50:    Energy =   0.1530
Level     1,  Iter    51:    Energy =   0.1538
Level     1,  Iter    52:    Energy =   0.1535
Level     1,  Iter    53:    Energy =   0.1534
Level     1,  Iter    54:    Energy =   0.1530
Level     1,  Iter    55:    Energy =   0.1538
Level     1,  Iter    56:    Energy =   0.1534
Level     1,  Iter    57:    Energy =   0.1537
Level     1,  Iter    58:    Energy =   0.1533
Level     1,  Iter    59:    Energy =   0.1540
END OF LEVEL     1    DetJac Range:   0.1924  to   3.4918 
  Avg. Gradient Time  : 0.0254s  34.95% 
  Avg. Gaussian Time  : 0.0347s  47.85% 
  Avg. Iteration Time : 0.0726s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0838
Level     2,  Iter     1:    Energy =   0.0874
Level     2,  Iter     2:    Energy =   0.0904
Level     2,  Iter     3:    Energy =   0.0934
Level     2,  Iter     4:    Energy =   0.0959
Level     2,  Iter     5:    Energy =   0.0979
Level     2,  Iter     6:    Energy =   0.0989
Level     2,  Iter     7:    Energy =   0.0995
Level     2,  Iter     8:    Energy =   0.0998
Level     2,  Iter     9:    Energy =   0.1006
Level     2,  Iter    10:    Energy =   0.1006
Level     2,  Iter    11:    Energy =   0.1015
Level     2,  Iter    12:    Energy =   0.1014
Level     2,  Iter    13:    Energy =   0.1023
Level     2,  Iter    14:    Energy =   0.1021
Level     2,  Iter    15:    Energy =   0.1030
Level     2,  Iter    16:    Energy =   0.1027
Level     2,  Iter    17:    Energy =   0.1036
Level     2,  Iter    18:    Energy =   0.1033
Level     2,  Iter    19:    Energy =   0.1041
END OF LEVEL     2    DetJac Range:   0.1524  to   3.6252 
  Avg. Gradient Time  : 0.1168s  33.25% 
  Avg. Gaussian Time  : 0.1851s  52.69% 
  Avg. Iteration Time : 0.3514s 

real	0m14.634s
user	0m20.232s
sys	0m2.682s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.208571 0.212857
+ echo 'CHUNK 0.208571 0.212857 1'
CHUNK 0.208571 0.212857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.208571 0.212857 1
====================================
         PROGRESS: 0.208571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 003
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 003 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=003
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.667
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4108.86   GNORM= 978.874
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4302.545     194.539       0.000
   2    4     -4314.433     119.050       1.000
   3    5     -4326.540      96.634       1.000
   4    6     -4340.103     140.954       1.000
   5    7     -4364.926     205.908       1.000
   6    8     -4379.229     160.851       1.000
   7    9     -4389.253      50.359       1.000
   8   10     -4391.104      42.978       1.000
   9   11     -4392.890      45.807       1.000
  10   12     -4395.287      76.818       1.000
  11   14     -4396.422      21.843       0.474
  12   15     -4396.679      15.157       1.000
  13   16     -4396.854      16.206       1.000
  14   17     -4397.210      20.043       1.000
  15   18     -4397.828      21.824       1.000
  16   20     -4397.957      10.646       0.440
  17   21     -4398.067      16.528       1.000
  18   22     -4398.178       8.447       1.000
  19   23     -4398.259      17.498       1.000
  20   24     -4398.347       9.506       1.000
  21   25     -4398.492       8.451       1.000
  22   28     -4398.578       9.828       1.980
  23   30     -4398.599      13.001       0.099
  24   31     -4398.646       6.871       1.000
  25   32     -4398.679       4.113       1.000
  26   33     -4398.685       4.247       1.000
  27   34     -4398.687       3.064       1.000
  28   35     -4398.696       2.773       1.000
  29   36     -4398.702       2.453       1.000
  30   37     -4398.713       4.428       1.000
  31   38     -4398.721       3.199       1.000
  32   39     -4398.725       3.220       1.000
  33   40     -4398.734       1.838       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.993626 -0.00266414 -0.00128443 -0.344061 
-0.0019232 1.0018 -0.0226963 0.348688 
0.0234429 0.00577053 1.02094 1.18634 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3316.65   GNORM= 186.112
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3331.527     115.426       0.001
   2    4     -3337.454      36.139       1.000
   3    5     -3338.757      29.896       1.000
   4    6     -3340.775      35.584       1.000
   5    7     -3345.275      74.439       1.000
   6    8     -3350.375      70.000       1.000
   7   10     -3353.664      71.151       0.308
   8   11     -3357.080      27.968       1.000
   9   12     -3357.914      23.783       1.000
  10   13     -3360.989      25.230       1.000
  11   14     -3362.330      15.966       1.000
  12   15     -3363.335      14.261       1.000
  13   17     -3364.123      28.077       0.299
  14   19     -3364.412       8.203       0.486
  15   20     -3364.459       6.388       1.000
  16   22     -3364.503       5.324       0.330
  17   23     -3364.511       3.110       1.000
  18   24     -3364.531       3.284       1.000
  19   25     -3364.563       5.206       1.000
  20   26     -3364.583       8.739       1.000
  21   27     -3364.613       5.800       1.000
  22   28     -3364.637       5.457       1.000
  23   29     -3364.650       4.260       1.000
  24   30     -3364.677       2.874       1.000
  25   31     -3364.682       2.731       1.000
  26   32     -3364.695       2.929       1.000
  27   34     -3364.710       8.157       0.360
  28   35     -3364.726       6.239       1.000
  29   37     -3364.750       3.726       0.361
  30   38     -3364.751       2.466       1.000
  31   39     -3364.753       5.837       1.000
  32   40     -3364.755       3.671       1.000
  33   41     -3364.757       1.398       1.000
  34   42     -3364.764       1.510       1.000
  35   44     -3364.770       2.534       0.274
  36   45     -3364.771       2.194       1.000
  37   46     -3364.788       7.485       1.000
  38   47     -3364.806       2.756       1.000
Final RAS Transform: 
1.00812 -0.00371028 0.0131583 0.33424 
0.0175391 1.01242 -0.0159771 0.399297 
0.0172296 -0.00457589 1.01656 1.26794 
0 0 0 1 

Final RAS Transform: 
1.00812 -0.00371028 0.0131583 0.33424 
0.0175391 1.01242 -0.0159771 0.399297 
0.0172296 -0.00457589 1.01656 1.26794 
0 0 0 1 


real	0m4.788s
user	0m6.326s
sys	0m0.704s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.641125
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1446
Level     0,  Iter     1:    Energy =   0.1527
Level     0,  Iter     2:    Energy =   0.1601
Level     0,  Iter     3:    Energy =   0.1630
Level     0,  Iter     4:    Energy =   0.1645
Level     0,  Iter     5:    Energy =   0.1659
Level     0,  Iter     6:    Energy =   0.1665
Level     0,  Iter     7:    Energy =   0.1675
Level     0,  Iter     8:    Energy =   0.1675
Level     0,  Iter     9:    Energy =   0.1683
Level     0,  Iter    10:    Energy =   0.1682
Level     0,  Iter    11:    Energy =   0.1688
Level     0,  Iter    12:    Energy =   0.1686
Level     0,  Iter    13:    Energy =   0.1692
Level     0,  Iter    14:    Energy =   0.1689
Level     0,  Iter    15:    Energy =   0.1694
Level     0,  Iter    16:    Energy =   0.1691
Level     0,  Iter    17:    Energy =   0.1696
Level     0,  Iter    18:    Energy =   0.1693
Level     0,  Iter    19:    Energy =   0.1697
Level     0,  Iter    20:    Energy =   0.1693
Level     0,  Iter    21:    Energy =   0.1699
Level     0,  Iter    22:    Energy =   0.1695
Level     0,  Iter    23:    Energy =   0.1700
Level     0,  Iter    24:    Energy =   0.1695
Level     0,  Iter    25:    Energy =   0.1701
Level     0,  Iter    26:    Energy =   0.1696
Level     0,  Iter    27:    Energy =   0.1701
Level     0,  Iter    28:    Energy =   0.1696
Level     0,  Iter    29:    Energy =   0.1702
Level     0,  Iter    30:    Energy =   0.1697
Level     0,  Iter    31:    Energy =   0.1703
Level     0,  Iter    32:    Energy =   0.1698
Level     0,  Iter    33:    Energy =   0.1704
Level     0,  Iter    34:    Energy =   0.1698
Level     0,  Iter    35:    Energy =   0.1704
Level     0,  Iter    36:    Energy =   0.1698
Level     0,  Iter    37:    Energy =   0.1705
Level     0,  Iter    38:    Energy =   0.1698
Level     0,  Iter    39:    Energy =   0.1705
Level     0,  Iter    40:    Energy =   0.1699
Level     0,  Iter    41:    Energy =   0.1705
Level     0,  Iter    42:    Energy =   0.1699
Level     0,  Iter    43:    Energy =   0.1706
Level     0,  Iter    44:    Energy =   0.1700
Level     0,  Iter    45:    Energy =   0.1706
Level     0,  Iter    46:    Energy =   0.1701
Level     0,  Iter    47:    Energy =   0.1707
Level     0,  Iter    48:    Energy =   0.1702
Level     0,  Iter    49:    Energy =   0.1708
Level     0,  Iter    50:    Energy =   0.1702
Level     0,  Iter    51:    Energy =   0.1709
Level     0,  Iter    52:    Energy =   0.1703
Level     0,  Iter    53:    Energy =   0.1709
Level     0,  Iter    54:    Energy =   0.1704
Level     0,  Iter    55:    Energy =   0.1710
Level     0,  Iter    56:    Energy =   0.1704
Level     0,  Iter    57:    Energy =   0.1711
Level     0,  Iter    58:    Energy =   0.1705
Level     0,  Iter    59:    Energy =   0.1711
END OF LEVEL     0    DetJac Range:   0.5226  to   1.7650 
  Avg. Gradient Time  : 0.0057s  34.92% 
  Avg. Gaussian Time  : 0.0074s  45.46% 
  Avg. Iteration Time : 0.0163s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1223
Level     1,  Iter     1:    Energy =   0.1275
Level     1,  Iter     2:    Energy =   0.1323
Level     1,  Iter     3:    Energy =   0.1376
Level     1,  Iter     4:    Energy =   0.1417
Level     1,  Iter     5:    Energy =   0.1446
Level     1,  Iter     6:    Energy =   0.1473
Level     1,  Iter     7:    Energy =   0.1490
Level     1,  Iter     8:    Energy =   0.1505
Level     1,  Iter     9:    Energy =   0.1509
Level     1,  Iter    10:    Energy =   0.1508
Level     1,  Iter    11:    Energy =   0.1521
Level     1,  Iter    12:    Energy =   0.1518
Level     1,  Iter    13:    Energy =   0.1524
Level     1,  Iter    14:    Energy =   0.1520
Level     1,  Iter    15:    Energy =   0.1529
Level     1,  Iter    16:    Energy =   0.1525
Level     1,  Iter    17:    Energy =   0.1531
Level     1,  Iter    18:    Energy =   0.1527
Level     1,  Iter    19:    Energy =   0.1533
Level     1,  Iter    20:    Energy =   0.1529
Level     1,  Iter    21:    Energy =   0.1535
Level     1,  Iter    22:    Energy =   0.1531
Level     1,  Iter    23:    Energy =   0.1537
Level     1,  Iter    24:    Energy =   0.1533
Level     1,  Iter    25:    Energy =   0.1539
Level     1,  Iter    26:    Energy =   0.1535
Level     1,  Iter    27:    Energy =   0.1541
Level     1,  Iter    28:    Energy =   0.1536
Level     1,  Iter    29:    Energy =   0.1543
Level     1,  Iter    30:    Energy =   0.1538
Level     1,  Iter    31:    Energy =   0.1544
Level     1,  Iter    32:    Energy =   0.1540
Level     1,  Iter    33:    Energy =   0.1546
Level     1,  Iter    34:    Energy =   0.1541
Level     1,  Iter    35:    Energy =   0.1547
Level     1,  Iter    36:    Energy =   0.1542
Level     1,  Iter    37:    Energy =   0.1548
Level     1,  Iter    38:    Energy =   0.1543
Level     1,  Iter    39:    Energy =   0.1549
Level     1,  Iter    40:    Energy =   0.1544
Level     1,  Iter    41:    Energy =   0.1550
Level     1,  Iter    42:    Energy =   0.1545
Level     1,  Iter    43:    Energy =   0.1550
Level     1,  Iter    44:    Energy =   0.1545
Level     1,  Iter    45:    Energy =   0.1549
Level     1,  Iter    46:    Energy =   0.1545
Level     1,  Iter    47:    Energy =   0.1550
Level     1,  Iter    48:    Energy =   0.1545
Level     1,  Iter    49:    Energy =   0.1551
Level     1,  Iter    50:    Energy =   0.1546
Level     1,  Iter    51:    Energy =   0.1552
Level     1,  Iter    52:    Energy =   0.1547
Level     1,  Iter    53:    Energy =   0.1552
Level     1,  Iter    54:    Energy =   0.1547
Level     1,  Iter    55:    Energy =   0.1552
Level     1,  Iter    56:    Energy =   0.1547
Level     1,  Iter    57:    Energy =   0.1553
Level     1,  Iter    58:    Energy =   0.1548
Level     1,  Iter    59:    Energy =   0.1553
END OF LEVEL     1    DetJac Range:   0.2610  to   2.9022 
  Avg. Gradient Time  : 0.0247s  34.42% 
  Avg. Gaussian Time  : 0.0350s  48.68% 
  Avg. Iteration Time : 0.0719s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0827
Level     2,  Iter     1:    Energy =   0.0868
Level     2,  Iter     2:    Energy =   0.0898
Level     2,  Iter     3:    Energy =   0.0927
Level     2,  Iter     4:    Energy =   0.0954
Level     2,  Iter     5:    Energy =   0.0976
Level     2,  Iter     6:    Energy =   0.0997
Level     2,  Iter     7:    Energy =   0.1015
Level     2,  Iter     8:    Energy =   0.1027
Level     2,  Iter     9:    Energy =   0.1037
Level     2,  Iter    10:    Energy =   0.1046
Level     2,  Iter    11:    Energy =   0.1053
Level     2,  Iter    12:    Energy =   0.1053
Level     2,  Iter    13:    Energy =   0.1063
Level     2,  Iter    14:    Energy =   0.1063
Level     2,  Iter    15:    Energy =   0.1071
Level     2,  Iter    16:    Energy =   0.1068
Level     2,  Iter    17:    Energy =   0.1076
Level     2,  Iter    18:    Energy =   0.1076
Level     2,  Iter    19:    Energy =   0.1077
END OF LEVEL     2    DetJac Range:   0.1500  to   3.8631 
  Avg. Gradient Time  : 0.1176s  34.13% 
  Avg. Gaussian Time  : 0.1772s  51.45% 
  Avg. Iteration Time : 0.3445s 

real	0m14.538s
user	0m20.124s
sys	0m2.730s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.212857 0.217143
+ echo 'CHUNK 0.212857 0.217143 1'
CHUNK 0.212857 0.217143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.212857 0.217143 1
====================================
         PROGRESS: 0.212857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 004
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 004 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=004
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.512
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3899.81   GNORM= 542.509
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4011.928     227.641       0.001
   2    4     -4039.492     194.504       1.000
   3    5     -4069.089     186.760       1.000
   4    6     -4142.481     116.635       1.000
   5    7     -4156.680     196.106       1.000
   6    8     -4166.637      76.984       1.000
   7    9     -4171.875      56.103       1.000
   8   10     -4174.574      52.248       1.000
   9   11     -4175.636      19.264       1.000
  10   12     -4175.983      20.381       1.000
  11   13     -4176.717      23.233       1.000
  12   14     -4176.779      50.250       1.000
  13   15     -4178.469      16.855       1.000
  14   16     -4179.074      26.547       1.000
  15   17     -4179.090      29.311       1.000
  16   18     -4179.257       6.548       1.000
  17   19     -4179.279       6.731       1.000
  18   20     -4179.342      17.631       1.000
  19   21     -4179.425       8.574       1.000
  20   22     -4179.477       9.337       1.000
  21   23     -4179.575      13.258       1.000
  22   24     -4179.646       6.907       1.000
  23   25     -4179.675       8.426       1.000
  24   26     -4179.680       6.410       1.000
  25   27     -4179.686       4.706       1.000
  26   28     -4179.687       8.500       1.000
  27   29     -4179.698       5.023       1.000
  28   30     -4179.701       6.295       1.000
  29   31     -4179.721       4.391       1.000
  30   32     -4179.744       3.802       1.000
  31   33     -4179.747       9.212       1.000
  32   34     -4179.765       3.796       1.000
  33   35     -4179.771       4.068       1.000
  34   36     -4179.778       2.658       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.984788 0.0026533 -0.0120247 -0.801509 
-0.0086055 1.02656 0.0119816 -0.165942 
0.00355981 -0.00779012 1.04238 0.686144 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3234.78   GNORM= 135.743
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3246.703      65.615       0.001
   2    4     -3250.340      61.553       1.000
   3    5     -3259.498      92.922       1.000
   4    6     -3271.973     106.764       1.000
   5    7     -3275.060     174.882       1.000
   6    8     -3283.033      39.004       1.000
   7    9     -3283.695      23.090       1.000
   8   10     -3284.700      20.573       1.000
   9   11     -3287.165      29.062       1.000
  10   12     -3287.738      59.122       1.000
  11   13     -3289.293      16.980       1.000
  12   14     -3289.500       8.992       1.000
  13   15     -3289.661       8.382       1.000
  14   16     -3290.518      18.560       1.000
  15   18     -3290.655      14.037       0.377
  16   19     -3290.855       4.741       1.000
  17   20     -3290.903       4.727       1.000
  18   21     -3290.938       4.294       1.000
  19   22     -3290.987       3.080       1.000
  20   23     -3291.135       5.034       1.000
  21   25     -3291.167      10.083       0.241
  22   26     -3291.200       4.640       1.000
  23   27     -3291.214       4.468       1.000
  24   28     -3291.234       3.808       1.000
  25   30     -3291.254       6.542       0.242
  26   32     -3291.267       3.972       0.453
  27   33     -3291.279       3.659       1.000
  28   34     -3291.287       3.470       1.000
  29   36     -3291.303       5.945       0.402
  30   37     -3291.330       4.904       1.000
  31   38     -3291.357       7.428       1.000
  32   39     -3291.374       2.520       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.993294 -0.00855197 0.00944796 0.0965352 
-4.88461e-05 1.01689 0.00442885 -0.120546 
0.0110302 -0.00156348 1.04342 0.967573 
0 0 0 1 

Final RAS Transform: 
0.993294 -0.00855197 0.00944796 0.0965352 
-4.88461e-05 1.01689 0.00442885 -0.120546 
0.0110302 -0.00156348 1.04342 0.967573 
0 0 0 1 


real	0m4.622s
user	0m6.133s
sys	0m0.659s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.488271
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1370
Level     0,  Iter     1:    Energy =   0.1460
Level     0,  Iter     2:    Energy =   0.1525
Level     0,  Iter     3:    Energy =   0.1564
Level     0,  Iter     4:    Energy =   0.1580
Level     0,  Iter     5:    Energy =   0.1595
Level     0,  Iter     6:    Energy =   0.1604
Level     0,  Iter     7:    Energy =   0.1614
Level     0,  Iter     8:    Energy =   0.1617
Level     0,  Iter     9:    Energy =   0.1624
Level     0,  Iter    10:    Energy =   0.1626
Level     0,  Iter    11:    Energy =   0.1631
Level     0,  Iter    12:    Energy =   0.1632
Level     0,  Iter    13:    Energy =   0.1636
Level     0,  Iter    14:    Energy =   0.1636
Level     0,  Iter    15:    Energy =   0.1640
Level     0,  Iter    16:    Energy =   0.1640
Level     0,  Iter    17:    Energy =   0.1643
Level     0,  Iter    18:    Energy =   0.1643
Level     0,  Iter    19:    Energy =   0.1645
Level     0,  Iter    20:    Energy =   0.1644
Level     0,  Iter    21:    Energy =   0.1646
Level     0,  Iter    22:    Energy =   0.1646
Level     0,  Iter    23:    Energy =   0.1648
Level     0,  Iter    24:    Energy =   0.1646
Level     0,  Iter    25:    Energy =   0.1648
Level     0,  Iter    26:    Energy =   0.1647
Level     0,  Iter    27:    Energy =   0.1649
Level     0,  Iter    28:    Energy =   0.1647
Level     0,  Iter    29:    Energy =   0.1649
Level     0,  Iter    30:    Energy =   0.1648
Level     0,  Iter    31:    Energy =   0.1649
Level     0,  Iter    32:    Energy =   0.1648
Level     0,  Iter    33:    Energy =   0.1650
Level     0,  Iter    34:    Energy =   0.1649
Level     0,  Iter    35:    Energy =   0.1650
Level     0,  Iter    36:    Energy =   0.1649
Level     0,  Iter    37:    Energy =   0.1650
Level     0,  Iter    38:    Energy =   0.1649
Level     0,  Iter    39:    Energy =   0.1650
Level     0,  Iter    40:    Energy =   0.1649
Level     0,  Iter    41:    Energy =   0.1650
Level     0,  Iter    42:    Energy =   0.1649
Level     0,  Iter    43:    Energy =   0.1650
Level     0,  Iter    44:    Energy =   0.1649
Level     0,  Iter    45:    Energy =   0.1651
Level     0,  Iter    46:    Energy =   0.1649
Level     0,  Iter    47:    Energy =   0.1651
Level     0,  Iter    48:    Energy =   0.1649
Level     0,  Iter    49:    Energy =   0.1651
Level     0,  Iter    50:    Energy =   0.1650
Level     0,  Iter    51:    Energy =   0.1651
Level     0,  Iter    52:    Energy =   0.1650
Level     0,  Iter    53:    Energy =   0.1652
Level     0,  Iter    54:    Energy =   0.1650
Level     0,  Iter    55:    Energy =   0.1652
Level     0,  Iter    56:    Energy =   0.1650
Level     0,  Iter    57:    Energy =   0.1652
Level     0,  Iter    58:    Energy =   0.1650
Level     0,  Iter    59:    Energy =   0.1652
END OF LEVEL     0    DetJac Range:   0.4683  to   1.8292 
  Avg. Gradient Time  : 0.0057s  35.25% 
  Avg. Gaussian Time  : 0.0073s  45.06% 
  Avg. Iteration Time : 0.0162s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1196
Level     1,  Iter     1:    Energy =   0.1250
Level     1,  Iter     2:    Energy =   0.1317
Level     1,  Iter     3:    Energy =   0.1368
Level     1,  Iter     4:    Energy =   0.1400
Level     1,  Iter     5:    Energy =   0.1418
Level     1,  Iter     6:    Energy =   0.1432
Level     1,  Iter     7:    Energy =   0.1449
Level     1,  Iter     8:    Energy =   0.1467
Level     1,  Iter     9:    Energy =   0.1484
Level     1,  Iter    10:    Energy =   0.1501
Level     1,  Iter    11:    Energy =   0.1516
Level     1,  Iter    12:    Energy =   0.1518
Level     1,  Iter    13:    Energy =   0.1526
Level     1,  Iter    14:    Energy =   0.1527
Level     1,  Iter    15:    Energy =   0.1534
Level     1,  Iter    16:    Energy =   0.1534
Level     1,  Iter    17:    Energy =   0.1541
Level     1,  Iter    18:    Energy =   0.1541
Level     1,  Iter    19:    Energy =   0.1548
Level     1,  Iter    20:    Energy =   0.1547
Level     1,  Iter    21:    Energy =   0.1553
Level     1,  Iter    22:    Energy =   0.1552
Level     1,  Iter    23:    Energy =   0.1556
Level     1,  Iter    24:    Energy =   0.1554
Level     1,  Iter    25:    Energy =   0.1560
Level     1,  Iter    26:    Energy =   0.1558
Level     1,  Iter    27:    Energy =   0.1566
Level     1,  Iter    28:    Energy =   0.1562
Level     1,  Iter    29:    Energy =   0.1569
Level     1,  Iter    30:    Energy =   0.1566
Level     1,  Iter    31:    Energy =   0.1572
Level     1,  Iter    32:    Energy =   0.1568
Level     1,  Iter    33:    Energy =   0.1573
Level     1,  Iter    34:    Energy =   0.1570
Level     1,  Iter    35:    Energy =   0.1574
Level     1,  Iter    36:    Energy =   0.1571
Level     1,  Iter    37:    Energy =   0.1576
Level     1,  Iter    38:    Energy =   0.1572
Level     1,  Iter    39:    Energy =   0.1576
Level     1,  Iter    40:    Energy =   0.1573
Level     1,  Iter    41:    Energy =   0.1576
Level     1,  Iter    42:    Energy =   0.1573
Level     1,  Iter    43:    Energy =   0.1575
Level     1,  Iter    44:    Energy =   0.1573
Level     1,  Iter    45:    Energy =   0.1574
Level     1,  Iter    46:    Energy =   0.1572
Level     1,  Iter    47:    Energy =   0.1573
Level     1,  Iter    48:    Energy =   0.1572
Level     1,  Iter    49:    Energy =   0.1573
Level     1,  Iter    50:    Energy =   0.1572
Level     1,  Iter    51:    Energy =   0.1572
Level     1,  Iter    52:    Energy =   0.1571
Level     1,  Iter    53:    Energy =   0.1573
Level     1,  Iter    54:    Energy =   0.1572
Level     1,  Iter    55:    Energy =   0.1573
Level     1,  Iter    56:    Energy =   0.1572
Level     1,  Iter    57:    Energy =   0.1573
Level     1,  Iter    58:    Energy =   0.1572
Level     1,  Iter    59:    Energy =   0.1573
END OF LEVEL     1    DetJac Range:   0.1201  to   3.1470 
  Avg. Gradient Time  : 0.0249s  34.45% 
  Avg. Gaussian Time  : 0.0348s  48.15% 
  Avg. Iteration Time : 0.0723s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0834
Level     2,  Iter     1:    Energy =   0.0875
Level     2,  Iter     2:    Energy =   0.0906
Level     2,  Iter     3:    Energy =   0.0935
Level     2,  Iter     4:    Energy =   0.0962
Level     2,  Iter     5:    Energy =   0.0984
Level     2,  Iter     6:    Energy =   0.1003
Level     2,  Iter     7:    Energy =   0.1017
Level     2,  Iter     8:    Energy =   0.1030
Level     2,  Iter     9:    Energy =   0.1033
Level     2,  Iter    10:    Energy =   0.1043
Level     2,  Iter    11:    Energy =   0.1043
Level     2,  Iter    12:    Energy =   0.1053
Level     2,  Iter    13:    Energy =   0.1053
Level     2,  Iter    14:    Energy =   0.1060
Level     2,  Iter    15:    Energy =   0.1059
Level     2,  Iter    16:    Energy =   0.1067
Level     2,  Iter    17:    Energy =   0.1064
Level     2,  Iter    18:    Energy =   0.1073
Level     2,  Iter    19:    Energy =   0.1070
END OF LEVEL     2    DetJac Range:   0.0699  to   3.2672 
  Avg. Gradient Time  : 0.1156s  33.61% 
  Avg. Gaussian Time  : 0.1795s  52.17% 
  Avg. Iteration Time : 0.3441s 

real	0m14.585s
user	0m20.260s
sys	0m2.762s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.217143 0.221429
+ echo 'CHUNK 0.217143 0.221429 1'
CHUNK 0.217143 0.221429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.217143 0.221429 1
====================================
         PROGRESS: 0.217143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 005
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 005 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=005
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.565
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3549.74   GNORM= 782.077
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3730.688     339.767       0.001
   2    4     -3771.203     148.205       1.000
   3    5     -3784.204      90.739       1.000
   4    6     -3788.959      86.911       1.000
   5    7     -3828.041     121.561       1.000
   6    8     -3842.265      67.820       1.000
   7    9     -3845.625      66.171       1.000
   8   10     -3847.624      39.198       1.000
   9   11     -3850.707      59.814       1.000
  10   12     -3852.329      30.742       1.000
  11   13     -3853.058      30.399       1.000
  12   14     -3853.789      29.349       1.000
  13   15     -3855.072      56.256       1.000
  14   16     -3856.761      35.082       1.000
  15   17     -3857.761      32.893       1.000
  16   18     -3857.834      41.326       1.000
  17   19     -3858.406      24.857       1.000
  18   20     -3858.558      25.505       1.000
  19   21     -3858.802      16.601       1.000
  20   22     -3858.872      28.101       1.000
  21   23     -3859.077      11.269       1.000
  22   24     -3859.123       8.690       1.000
  23   25     -3859.171       7.062       1.000
  24   26     -3859.266       6.125       1.000
  25   28     -3859.454      17.822       0.410
  26   29     -3859.507      16.111       1.000
  27   30     -3859.578      14.516       1.000
  28   31     -3859.614       9.111       1.000
  29   32     -3859.642       9.071       1.000
  30   34     -3859.684       6.072       0.454
  31   35     -3859.704       5.195       1.000
  32   36     -3859.735      10.530       1.000
  33   38     -3859.757       7.185       0.404
  34   39     -3859.765       3.725       1.000
  35   40     -3859.774       3.891       1.000
  36   41     -3859.779      10.390       1.000
  37   42     -3859.790       5.848       1.000
  38   43     -3859.796       4.191       1.000
  39   44     -3859.803       9.419       1.000
  40   45     -3859.810       2.649       1.000
  41   46     -3859.812       5.594       1.000
  42   48     -3859.814       5.105       0.214
  43   49     -3859.823       3.995       1.000
  44   50     -3859.826       3.860       1.000
  45   53     -3859.835       4.690       0.137
Final RAS Transform: 
0.977068 -0.0155576 -0.0197718 -0.882565 
0.04183 0.98497 -0.0157973 1.21214 
-0.0174579 0.0219763 1.02727 0.122036 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2908.25   GNORM= 119.953
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2913.803      73.609       0.001
   2    4     -2916.723      52.860       1.000
   3    5     -2921.392      58.488       1.000
   4    6     -2933.429     112.003       1.000
   5    7     -2951.363     153.004       1.000
   6    8     -2969.455      97.934       1.000
   7    9     -2972.387     119.617       1.000
   8   10     -2976.559      41.509       1.000
   9   11     -2977.850      33.533       1.000
  10   12     -2982.037      41.757       1.000
  11   13     -2987.496      50.074       1.000
  12   14     -2988.674      88.651       1.000
  13   15     -2992.389      28.512       1.000
  14   16     -2993.002      22.569       1.000
  15   17     -2993.367      19.477       1.000
  16   18     -2993.776      22.641       1.000
  17   19     -2994.864      23.691       1.000
  18   20     -2995.912      19.282       1.000
  19   21     -2996.424      20.159       1.000
  20   22     -2996.665       9.695       1.000
  21   23     -2996.761       6.090       1.000
  22   24     -2996.867      13.148       1.000
  23   25     -2996.987      14.746       1.000
  24   26     -2997.278      18.874       1.000
  25   27     -2997.339      25.803       1.000
  26   28     -2997.609       8.397       1.000
  27   29     -2997.687       8.684       1.000
  28   31     -2997.826       9.781       0.244
  29   33     -2997.885       8.627       0.172
  30   34     -2997.956       5.296       1.000
  31   35     -2997.977       4.077       1.000
  32   36     -2998.028       3.486       1.000
  33   38     -2998.092       9.862       0.426
  34   39     -2998.153       7.742       1.000
  35   40     -2998.211       5.566       1.000
  36   41     -2998.243       5.260       1.000
  37   43     -2998.355       9.435       5.000
  38   45     -2998.384       8.310       0.388
  39   46     -2998.439       6.104       1.000
  40   48     -2998.460       5.919       0.256
  41   49     -2998.479       4.247       1.000
  42   50     -2998.504       2.765       1.000
  43   51     -2998.520       4.613       1.000
  44   52     -2998.530       4.841       1.000
  45   53     -2998.546       2.010       1.000
Final RAS Transform: 
0.99852 -0.00575094 0.034163 0.468712 
0.0357723 1.01297 0.00684489 0.832237 
-0.0154717 -0.00220156 1.02707 0.607647 
0 0 0 1 

Final RAS Transform: 
0.99852 -0.00575094 0.034163 0.468712 
0.0357723 1.01297 0.00684489 0.832237 
-0.0154717 -0.00220156 1.02707 0.607647 
0 0 0 1 


real	0m4.878s
user	0m6.317s
sys	0m0.679s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.54438
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1244
Level     0,  Iter     1:    Energy =   0.1335
Level     0,  Iter     2:    Energy =   0.1408
Level     0,  Iter     3:    Energy =   0.1440
Level     0,  Iter     4:    Energy =   0.1462
Level     0,  Iter     5:    Energy =   0.1486
Level     0,  Iter     6:    Energy =   0.1498
Level     0,  Iter     7:    Energy =   0.1511
Level     0,  Iter     8:    Energy =   0.1519
Level     0,  Iter     9:    Energy =   0.1528
Level     0,  Iter    10:    Energy =   0.1534
Level     0,  Iter    11:    Energy =   0.1541
Level     0,  Iter    12:    Energy =   0.1547
Level     0,  Iter    13:    Energy =   0.1554
Level     0,  Iter    14:    Energy =   0.1559
Level     0,  Iter    15:    Energy =   0.1563
Level     0,  Iter    16:    Energy =   0.1568
Level     0,  Iter    17:    Energy =   0.1570
Level     0,  Iter    18:    Energy =   0.1574
Level     0,  Iter    19:    Energy =   0.1577
Level     0,  Iter    20:    Energy =   0.1581
Level     0,  Iter    21:    Energy =   0.1583
Level     0,  Iter    22:    Energy =   0.1586
Level     0,  Iter    23:    Energy =   0.1586
Level     0,  Iter    24:    Energy =   0.1589
Level     0,  Iter    25:    Energy =   0.1588
Level     0,  Iter    26:    Energy =   0.1591
Level     0,  Iter    27:    Energy =   0.1590
Level     0,  Iter    28:    Energy =   0.1593
Level     0,  Iter    29:    Energy =   0.1592
Level     0,  Iter    30:    Energy =   0.1595
Level     0,  Iter    31:    Energy =   0.1593
Level     0,  Iter    32:    Energy =   0.1597
Level     0,  Iter    33:    Energy =   0.1594
Level     0,  Iter    34:    Energy =   0.1595
Level     0,  Iter    35:    Energy =   0.1592
Level     0,  Iter    36:    Energy =   0.1593
Level     0,  Iter    37:    Energy =   0.1591
Level     0,  Iter    38:    Energy =   0.1591
Level     0,  Iter    39:    Energy =   0.1589
Level     0,  Iter    40:    Energy =   0.1590
Level     0,  Iter    41:    Energy =   0.1588
Level     0,  Iter    42:    Energy =   0.1589
Level     0,  Iter    43:    Energy =   0.1587
Level     0,  Iter    44:    Energy =   0.1588
Level     0,  Iter    45:    Energy =   0.1587
Level     0,  Iter    46:    Energy =   0.1589
Level     0,  Iter    47:    Energy =   0.1586
Level     0,  Iter    48:    Energy =   0.1588
Level     0,  Iter    49:    Energy =   0.1585
Level     0,  Iter    50:    Energy =   0.1586
Level     0,  Iter    51:    Energy =   0.1584
Level     0,  Iter    52:    Energy =   0.1585
Level     0,  Iter    53:    Energy =   0.1583
Level     0,  Iter    54:    Energy =   0.1584
Level     0,  Iter    55:    Energy =   0.1582
Level     0,  Iter    56:    Energy =   0.1583
Level     0,  Iter    57:    Energy =   0.1581
Level     0,  Iter    58:    Energy =   0.1582
Level     0,  Iter    59:    Energy =   0.1580
END OF LEVEL     0    DetJac Range:   0.3511  to   1.7340 
  Avg. Gradient Time  : 0.0054s  34.84% 
  Avg. Gaussian Time  : 0.0071s  45.59% 
  Avg. Iteration Time : 0.0155s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1140
Level     1,  Iter     1:    Energy =   0.1206
Level     1,  Iter     2:    Energy =   0.1256
Level     1,  Iter     3:    Energy =   0.1308
Level     1,  Iter     4:    Energy =   0.1338
Level     1,  Iter     5:    Energy =   0.1363
Level     1,  Iter     6:    Energy =   0.1395
Level     1,  Iter     7:    Energy =   0.1419
Level     1,  Iter     8:    Energy =   0.1439
Level     1,  Iter     9:    Energy =   0.1442
Level     1,  Iter    10:    Energy =   0.1442
Level     1,  Iter    11:    Energy =   0.1452
Level     1,  Iter    12:    Energy =   0.1454
Level     1,  Iter    13:    Energy =   0.1454
Level     1,  Iter    14:    Energy =   0.1460
Level     1,  Iter    15:    Energy =   0.1460
Level     1,  Iter    16:    Energy =   0.1464
Level     1,  Iter    17:    Energy =   0.1465
Level     1,  Iter    18:    Energy =   0.1467
Level     1,  Iter    19:    Energy =   0.1469
Level     1,  Iter    20:    Energy =   0.1470
Level     1,  Iter    21:    Energy =   0.1472
Level     1,  Iter    22:    Energy =   0.1473
Level     1,  Iter    23:    Energy =   0.1473
Level     1,  Iter    24:    Energy =   0.1475
Level     1,  Iter    25:    Energy =   0.1475
Level     1,  Iter    26:    Energy =   0.1477
Level     1,  Iter    27:    Energy =   0.1477
Level     1,  Iter    28:    Energy =   0.1478
Level     1,  Iter    29:    Energy =   0.1478
Level     1,  Iter    30:    Energy =   0.1480
Level     1,  Iter    31:    Energy =   0.1480
Level     1,  Iter    32:    Energy =   0.1481
Level     1,  Iter    33:    Energy =   0.1481
Level     1,  Iter    34:    Energy =   0.1482
Level     1,  Iter    35:    Energy =   0.1482
Level     1,  Iter    36:    Energy =   0.1483
Level     1,  Iter    37:    Energy =   0.1482
Level     1,  Iter    38:    Energy =   0.1484
Level     1,  Iter    39:    Energy =   0.1483
Level     1,  Iter    40:    Energy =   0.1485
Level     1,  Iter    41:    Energy =   0.1483
Level     1,  Iter    42:    Energy =   0.1486
Level     1,  Iter    43:    Energy =   0.1484
Level     1,  Iter    44:    Energy =   0.1487
Level     1,  Iter    45:    Energy =   0.1485
Level     1,  Iter    46:    Energy =   0.1488
Level     1,  Iter    47:    Energy =   0.1485
Level     1,  Iter    48:    Energy =   0.1489
Level     1,  Iter    49:    Energy =   0.1487
Level     1,  Iter    50:    Energy =   0.1490
Level     1,  Iter    51:    Energy =   0.1487
Level     1,  Iter    52:    Energy =   0.1490
Level     1,  Iter    53:    Energy =   0.1488
Level     1,  Iter    54:    Energy =   0.1491
Level     1,  Iter    55:    Energy =   0.1488
Level     1,  Iter    56:    Energy =   0.1492
Level     1,  Iter    57:    Energy =   0.1489
Level     1,  Iter    58:    Energy =   0.1493
Level     1,  Iter    59:    Energy =   0.1490
END OF LEVEL     1    DetJac Range:   0.1304  to   2.9708 
  Avg. Gradient Time  : 0.0248s  34.83% 
  Avg. Gaussian Time  : 0.0342s  48.00% 
  Avg. Iteration Time : 0.0712s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0815
Level     2,  Iter     1:    Energy =   0.0850
Level     2,  Iter     2:    Energy =   0.0885
Level     2,  Iter     3:    Energy =   0.0917
Level     2,  Iter     4:    Energy =   0.0938
Level     2,  Iter     5:    Energy =   0.0962
Level     2,  Iter     6:    Energy =   0.0977
Level     2,  Iter     7:    Energy =   0.0982
Level     2,  Iter     8:    Energy =   0.0988
Level     2,  Iter     9:    Energy =   0.0993
Level     2,  Iter    10:    Energy =   0.0996
Level     2,  Iter    11:    Energy =   0.1001
Level     2,  Iter    12:    Energy =   0.1003
Level     2,  Iter    13:    Energy =   0.1008
Level     2,  Iter    14:    Energy =   0.1009
Level     2,  Iter    15:    Energy =   0.1013
Level     2,  Iter    16:    Energy =   0.1014
Level     2,  Iter    17:    Energy =   0.1017
Level     2,  Iter    18:    Energy =   0.1017
Level     2,  Iter    19:    Energy =   0.1021
END OF LEVEL     2    DetJac Range:   0.1232  to   3.4418 
  Avg. Gradient Time  : 0.1162s  33.19% 
  Avg. Gaussian Time  : 0.1817s  51.89% 
  Avg. Iteration Time : 0.3501s 

real	0m14.535s
user	0m20.282s
sys	0m2.655s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.221429 0.225714
+ echo 'CHUNK 0.221429 0.225714 1'
CHUNK 0.221429 0.225714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.221429 0.225714 1
====================================
         PROGRESS: 0.221429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 006
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 006 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=006
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.648
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3603.57   GNORM= 590.252
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3727.535     267.541       0.001
   2    4     -3762.725     184.578       1.000
   3    5     -3808.610     154.684       1.000
   4    6     -3842.003     157.200       1.000
   5    7     -3911.761     188.811       1.000
   6    9     -3931.547     163.251       0.369
   7   10     -3956.755      76.898       1.000
   8   11     -3968.339      75.530       1.000
   9   12     -3976.816      63.889       1.000
  10   14     -3979.151      38.654       0.485
  11   15     -3979.710      25.808       1.000
  12   16     -3980.129      24.640       1.000
  13   17     -3980.822      32.348       1.000
  14   18     -3981.826      31.227       1.000
  15   20     -3982.983      45.468       0.337
  16   21     -3983.991      55.015       1.000
  17   22     -3985.064      31.649       1.000
  18   23     -3985.828      15.593       1.000
  19   24     -3986.288      24.731       1.000
  20   25     -3986.737      29.214       1.000
  21   26     -3988.320      17.188       1.000
  22   27     -3988.705      41.760       1.000
  23   28     -3989.133      10.201       1.000
  24   29     -3989.166       5.616       1.000
  25   30     -3989.176       5.292       1.000
  26   31     -3989.245      11.132       1.000
  27   32     -3989.271      11.617       1.000
  28   33     -3989.317       9.209       1.000
  29   34     -3989.327       2.889       1.000
  30   35     -3989.338       2.249       1.000
  31   36     -3989.339       4.328       1.000
  32   37     -3989.346       3.223       1.000
  33   39     -3989.358       6.557       5.000
  34   40     -3989.361       3.087       1.000
  35   41     -3989.369       3.539       1.000
  36   42     -3989.373       3.105       1.000
  37   43     -3989.379       3.334       1.000
  38   44     -3989.385       1.737       1.000
  39   45     -3989.388       2.930       1.000
Final RAS Transform: 
0.982504 0.00792018 0.00824915 -0.65835 
-0.0329671 1.02383 0.00854596 0.340591 
0.0427285 -0.00253155 1.05935 2.05033 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2928.45   GNORM= 112.488
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2940.629      45.528       0.002
   2    4     -2943.890      46.028       1.000
   3    5     -2953.247      92.623       1.000
   4    6     -2965.267     126.691       1.000
   5    7     -2975.144      67.710       1.000
   6    8     -2977.761      19.257       1.000
   7    9     -2978.124      18.105       1.000
   8   10     -2978.729      22.417       1.000
   9   11     -2980.477      27.511       1.000
  10   13     -2981.612      38.607       0.400
  11   14     -2982.823      31.133       1.000
  12   15     -2984.618      26.989       1.000
  13   17     -2984.955      27.618       0.249
  14   18     -2985.507      27.200       1.000
  15   19     -2987.652      26.972       1.000
  16   21     -2988.016      20.800       0.211
  17   22     -2988.281      10.390       1.000
  18   23     -2988.474       9.672       1.000
  19   24     -2988.664      17.858       1.000
  20   25     -2988.864      11.763       1.000
  21   26     -2989.154       5.070       1.000
  22   27     -2989.315       4.578       1.000
  23   28     -2989.381      15.088       1.000
  24   29     -2989.464       9.276       1.000
  25   30     -2989.502       6.008       1.000
  26   31     -2989.547       5.678       1.000
  27   32     -2989.640       4.918       1.000
  28   33     -2989.732       6.937       1.000
  29   34     -2989.796       7.560       1.000
  30   37     -2989.976       6.016       2.839
  31   39     -2990.050       6.461       0.399
  32   41     -2990.081       6.434       0.371
  33   42     -2990.110       3.934       1.000
  34   43     -2990.139       2.320       1.000
  35   45     -2990.152       4.541       0.193
  36   46     -2990.179       3.527       1.000
  37   47     -2990.198       2.513       1.000
  38   48     -2990.230       2.998       1.000
  39   49     -2990.244       2.130       1.000
  40   50     -2990.253       3.778       1.000
  41   51     -2990.261       3.793       1.000
  42   52     -2990.266       2.466       1.000
Final RAS Transform: 
0.996353 0.00565109 0.0366418 0.283698 
-0.000256946 1.02723 -0.000318898 0.62282 
0.0278003 -0.0119782 1.05905 2.01836 
0 0 0 1 

Final RAS Transform: 
0.996353 0.00565109 0.0366418 0.283698 
-0.000256946 1.02723 -0.000318898 0.62282 
0.0278003 -0.0119782 1.05905 2.01836 
0 0 0 1 


real	0m4.696s
user	0m6.270s
sys	0m0.735s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.619475
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1298
Level     0,  Iter     1:    Energy =   0.1394
Level     0,  Iter     2:    Energy =   0.1469
Level     0,  Iter     3:    Energy =   0.1521
Level     0,  Iter     4:    Energy =   0.1547
Level     0,  Iter     5:    Energy =   0.1560
Level     0,  Iter     6:    Energy =   0.1568
Level     0,  Iter     7:    Energy =   0.1574
Level     0,  Iter     8:    Energy =   0.1579
Level     0,  Iter     9:    Energy =   0.1584
Level     0,  Iter    10:    Energy =   0.1587
Level     0,  Iter    11:    Energy =   0.1590
Level     0,  Iter    12:    Energy =   0.1591
Level     0,  Iter    13:    Energy =   0.1594
Level     0,  Iter    14:    Energy =   0.1594
Level     0,  Iter    15:    Energy =   0.1596
Level     0,  Iter    16:    Energy =   0.1595
Level     0,  Iter    17:    Energy =   0.1597
Level     0,  Iter    18:    Energy =   0.1597
Level     0,  Iter    19:    Energy =   0.1599
Level     0,  Iter    20:    Energy =   0.1598
Level     0,  Iter    21:    Energy =   0.1601
Level     0,  Iter    22:    Energy =   0.1599
Level     0,  Iter    23:    Energy =   0.1602
Level     0,  Iter    24:    Energy =   0.1600
Level     0,  Iter    25:    Energy =   0.1603
Level     0,  Iter    26:    Energy =   0.1602
Level     0,  Iter    27:    Energy =   0.1604
Level     0,  Iter    28:    Energy =   0.1602
Level     0,  Iter    29:    Energy =   0.1605
Level     0,  Iter    30:    Energy =   0.1603
Level     0,  Iter    31:    Energy =   0.1605
Level     0,  Iter    32:    Energy =   0.1603
Level     0,  Iter    33:    Energy =   0.1606
Level     0,  Iter    34:    Energy =   0.1604
Level     0,  Iter    35:    Energy =   0.1606
Level     0,  Iter    36:    Energy =   0.1605
Level     0,  Iter    37:    Energy =   0.1607
Level     0,  Iter    38:    Energy =   0.1605
Level     0,  Iter    39:    Energy =   0.1607
Level     0,  Iter    40:    Energy =   0.1606
Level     0,  Iter    41:    Energy =   0.1608
Level     0,  Iter    42:    Energy =   0.1606
Level     0,  Iter    43:    Energy =   0.1608
Level     0,  Iter    44:    Energy =   0.1607
Level     0,  Iter    45:    Energy =   0.1609
Level     0,  Iter    46:    Energy =   0.1607
Level     0,  Iter    47:    Energy =   0.1609
Level     0,  Iter    48:    Energy =   0.1607
Level     0,  Iter    49:    Energy =   0.1608
Level     0,  Iter    50:    Energy =   0.1607
Level     0,  Iter    51:    Energy =   0.1609
Level     0,  Iter    52:    Energy =   0.1607
Level     0,  Iter    53:    Energy =   0.1609
Level     0,  Iter    54:    Energy =   0.1608
Level     0,  Iter    55:    Energy =   0.1609
Level     0,  Iter    56:    Energy =   0.1607
Level     0,  Iter    57:    Energy =   0.1609
Level     0,  Iter    58:    Energy =   0.1608
Level     0,  Iter    59:    Energy =   0.1609
END OF LEVEL     0    DetJac Range:   0.4672  to   1.6821 
  Avg. Gradient Time  : 0.0056s  34.68% 
  Avg. Gaussian Time  : 0.0073s  45.54% 
  Avg. Iteration Time : 0.0161s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1131
Level     1,  Iter     1:    Energy =   0.1189
Level     1,  Iter     2:    Energy =   0.1246
Level     1,  Iter     3:    Energy =   0.1296
Level     1,  Iter     4:    Energy =   0.1330
Level     1,  Iter     5:    Energy =   0.1351
Level     1,  Iter     6:    Energy =   0.1367
Level     1,  Iter     7:    Energy =   0.1380
Level     1,  Iter     8:    Energy =   0.1393
Level     1,  Iter     9:    Energy =   0.1407
Level     1,  Iter    10:    Energy =   0.1413
Level     1,  Iter    11:    Energy =   0.1419
Level     1,  Iter    12:    Energy =   0.1422
Level     1,  Iter    13:    Energy =   0.1428
Level     1,  Iter    14:    Energy =   0.1429
Level     1,  Iter    15:    Energy =   0.1435
Level     1,  Iter    16:    Energy =   0.1435
Level     1,  Iter    17:    Energy =   0.1440
Level     1,  Iter    18:    Energy =   0.1440
Level     1,  Iter    19:    Energy =   0.1441
Level     1,  Iter    20:    Energy =   0.1448
Level     1,  Iter    21:    Energy =   0.1445
Level     1,  Iter    22:    Energy =   0.1457
Level     1,  Iter    23:    Energy =   0.1454
Level     1,  Iter    24:    Energy =   0.1463
Level     1,  Iter    25:    Energy =   0.1459
Level     1,  Iter    26:    Energy =   0.1469
Level     1,  Iter    27:    Energy =   0.1465
Level     1,  Iter    28:    Energy =   0.1472
Level     1,  Iter    29:    Energy =   0.1467
Level     1,  Iter    30:    Energy =   0.1476
Level     1,  Iter    31:    Energy =   0.1472
Level     1,  Iter    32:    Energy =   0.1477
Level     1,  Iter    33:    Energy =   0.1473
Level     1,  Iter    34:    Energy =   0.1480
Level     1,  Iter    35:    Energy =   0.1476
Level     1,  Iter    36:    Energy =   0.1481
Level     1,  Iter    37:    Energy =   0.1476
Level     1,  Iter    38:    Energy =   0.1485
Level     1,  Iter    39:    Energy =   0.1481
Level     1,  Iter    40:    Energy =   0.1485
Level     1,  Iter    41:    Energy =   0.1479
Level     1,  Iter    42:    Energy =   0.1488
Level     1,  Iter    43:    Energy =   0.1485
Level     1,  Iter    44:    Energy =   0.1489
Level     1,  Iter    45:    Energy =   0.1483
Level     1,  Iter    46:    Energy =   0.1492
Level     1,  Iter    47:    Energy =   0.1490
Level     1,  Iter    48:    Energy =   0.1491
Level     1,  Iter    49:    Energy =   0.1485
Level     1,  Iter    50:    Energy =   0.1495
Level     1,  Iter    51:    Energy =   0.1492
Level     1,  Iter    52:    Energy =   0.1494
Level     1,  Iter    53:    Energy =   0.1488
Level     1,  Iter    54:    Energy =   0.1497
Level     1,  Iter    55:    Energy =   0.1495
Level     1,  Iter    56:    Energy =   0.1496
Level     1,  Iter    57:    Energy =   0.1490
Level     1,  Iter    58:    Energy =   0.1498
Level     1,  Iter    59:    Energy =   0.1497
END OF LEVEL     1    DetJac Range:   0.1586  to   3.2129 
  Avg. Gradient Time  : 0.0243s  33.89% 
  Avg. Gaussian Time  : 0.0353s  49.17% 
  Avg. Iteration Time : 0.0717s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0788
Level     2,  Iter     1:    Energy =   0.0819
Level     2,  Iter     2:    Energy =   0.0847
Level     2,  Iter     3:    Energy =   0.0878
Level     2,  Iter     4:    Energy =   0.0903
Level     2,  Iter     5:    Energy =   0.0920
Level     2,  Iter     6:    Energy =   0.0936
Level     2,  Iter     7:    Energy =   0.0950
Level     2,  Iter     8:    Energy =   0.0962
Level     2,  Iter     9:    Energy =   0.0973
Level     2,  Iter    10:    Energy =   0.0983
Level     2,  Iter    11:    Energy =   0.0993
Level     2,  Iter    12:    Energy =   0.1003
Level     2,  Iter    13:    Energy =   0.1003
Level     2,  Iter    14:    Energy =   0.1009
Level     2,  Iter    15:    Energy =   0.1009
Level     2,  Iter    16:    Energy =   0.1013
Level     2,  Iter    17:    Energy =   0.1013
Level     2,  Iter    18:    Energy =   0.1015
Level     2,  Iter    19:    Energy =   0.1016
END OF LEVEL     2    DetJac Range:   0.1183  to   3.6190 
  Avg. Gradient Time  : 0.1148s  33.26% 
  Avg. Gaussian Time  : 0.1798s  52.08% 
  Avg. Iteration Time : 0.3452s 

real	0m14.524s
user	0m20.122s
sys	0m2.706s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.225714 0.23
+ echo 'CHUNK 0.225714 0.23 1'
CHUNK 0.225714 0.23 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.225714 0.23 1
====================================
         PROGRESS: 0.225714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 007
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 007 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=007
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.485
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3456.64   GNORM= 1207.18
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3819.757     761.373       0.001
   2    3     -3965.756     207.392       1.000
   3    4     -3984.363     113.938       1.000
   4    5     -3995.876     128.152       1.000
   5    6     -4022.818     218.334       1.000
   6    7     -4058.668     185.425       1.000
   7    8     -4068.589     286.749       1.000
   8    9     -4092.328      67.199       1.000
   9   10     -4094.717      40.879       1.000
  10   11     -4097.283      47.285       1.000
  11   12     -4099.608      29.073       1.000
  12   13     -4100.332      16.950       1.000
  13   14     -4100.824      18.651       1.000
  14   15     -4101.561      16.053       1.000
  15   17     -4101.752      20.079       0.221
  16   18     -4101.902      14.498       1.000
  17   19     -4102.019       8.453       1.000
  18   20     -4102.023      16.051       1.000
  19   21     -4102.054      11.886       1.000
  20   23     -4102.074       6.457       0.392
  21   25     -4102.092       8.711       5.000
  22   26     -4102.136       6.427       1.000
  23   28     -4102.140       5.356       0.342
  24   29     -4102.144       4.621       1.000
  25   30     -4102.158       3.768       1.000
  26   33     -4102.161       2.237       0.145
  27   34     -4102.167       4.285       1.000
  28   35     -4102.175       3.827       1.000
  29   37     -4102.177       3.018       0.409
  30   38     -4102.183       2.934       1.000
  31   40     -4102.186       2.025       0.429
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.986431 -0.00426284 -0.0123985 -0.71374 
-0.0123086 0.993475 0.0273502 1.01364 
0.00785644 0.0157625 1.01862 1.06913 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3032.27   GNORM= 94.4075
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3040.165      95.084       0.002
   2    4     -3044.835      64.850       1.000
   3    6     -3057.729      78.376       5.000
   4    7     -3076.471      86.734       1.000
   5    8     -3084.497      57.499       1.000
   6    9     -3088.228      40.137       1.000
   7   10     -3089.571      40.874       1.000
   8   12     -3089.946      12.855       0.321
   9   13     -3090.040      11.957       1.000
  10   14     -3090.312      13.177       1.000
  11   15     -3091.854      50.031       1.000
  12   16     -3093.596      25.362       1.000
  13   17     -3095.380      36.376       1.000
  14   19     -3095.660      13.810       0.432
  15   20     -3095.814       9.067       1.000
  16   21     -3096.045       7.066       1.000
  17   22     -3096.422      16.739       1.000
  18   23     -3096.538      12.576       1.000
  19   24     -3096.655       3.519       1.000
  20   25     -3096.658       5.988       1.000
  21   26     -3096.671       3.542       1.000
  22   27     -3096.679       2.998       1.000
  23   28     -3096.692       3.830       1.000
  24   29     -3096.702       3.480       1.000
  25   30     -3096.709       2.369       1.000
  26   31     -3096.749       1.955       1.000
  27   33     -3096.758       3.716       0.247
  28   34     -3096.764       1.959       1.000
  29   35     -3096.767       2.896       1.000
  30   37     -3096.771       3.808       0.438
  31   38     -3096.773       2.692       1.000
  32   39     -3096.779       2.423       1.000
  33   40     -3096.784       1.792       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.995549 -0.00803255 0.0110034 0.0948882 
0.0126017 1.00501 0.0110608 0.841478 
0.00272975 -0.00056481 1.02522 1.48148 
0 0 0 1 

Final RAS Transform: 
0.995549 -0.00803255 0.0110034 0.0948882 
0.0126017 1.00501 0.0110608 0.841478 
0.00272975 -0.00056481 1.02522 1.48148 
0 0 0 1 


real	0m4.736s
user	0m6.254s
sys	0m0.716s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.467822
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1342
Level     0,  Iter     1:    Energy =   0.1425
Level     0,  Iter     2:    Energy =   0.1502
Level     0,  Iter     3:    Energy =   0.1556
Level     0,  Iter     4:    Energy =   0.1572
Level     0,  Iter     5:    Energy =   0.1591
Level     0,  Iter     6:    Energy =   0.1602
Level     0,  Iter     7:    Energy =   0.1612
Level     0,  Iter     8:    Energy =   0.1616
Level     0,  Iter     9:    Energy =   0.1623
Level     0,  Iter    10:    Energy =   0.1626
Level     0,  Iter    11:    Energy =   0.1631
Level     0,  Iter    12:    Energy =   0.1633
Level     0,  Iter    13:    Energy =   0.1638
Level     0,  Iter    14:    Energy =   0.1638
Level     0,  Iter    15:    Energy =   0.1643
Level     0,  Iter    16:    Energy =   0.1642
Level     0,  Iter    17:    Energy =   0.1647
Level     0,  Iter    18:    Energy =   0.1646
Level     0,  Iter    19:    Energy =   0.1650
Level     0,  Iter    20:    Energy =   0.1648
Level     0,  Iter    21:    Energy =   0.1652
Level     0,  Iter    22:    Energy =   0.1651
Level     0,  Iter    23:    Energy =   0.1654
Level     0,  Iter    24:    Energy =   0.1652
Level     0,  Iter    25:    Energy =   0.1656
Level     0,  Iter    26:    Energy =   0.1654
Level     0,  Iter    27:    Energy =   0.1657
Level     0,  Iter    28:    Energy =   0.1655
Level     0,  Iter    29:    Energy =   0.1658
Level     0,  Iter    30:    Energy =   0.1656
Level     0,  Iter    31:    Energy =   0.1660
Level     0,  Iter    32:    Energy =   0.1658
Level     0,  Iter    33:    Energy =   0.1663
Level     0,  Iter    34:    Energy =   0.1660
Level     0,  Iter    35:    Energy =   0.1665
Level     0,  Iter    36:    Energy =   0.1662
Level     0,  Iter    37:    Energy =   0.1666
Level     0,  Iter    38:    Energy =   0.1663
Level     0,  Iter    39:    Energy =   0.1667
Level     0,  Iter    40:    Energy =   0.1664
Level     0,  Iter    41:    Energy =   0.1668
Level     0,  Iter    42:    Energy =   0.1665
Level     0,  Iter    43:    Energy =   0.1669
Level     0,  Iter    44:    Energy =   0.1666
Level     0,  Iter    45:    Energy =   0.1671
Level     0,  Iter    46:    Energy =   0.1668
Level     0,  Iter    47:    Energy =   0.1672
Level     0,  Iter    48:    Energy =   0.1668
Level     0,  Iter    49:    Energy =   0.1672
Level     0,  Iter    50:    Energy =   0.1668
Level     0,  Iter    51:    Energy =   0.1673
Level     0,  Iter    52:    Energy =   0.1670
Level     0,  Iter    53:    Energy =   0.1674
Level     0,  Iter    54:    Energy =   0.1671
Level     0,  Iter    55:    Energy =   0.1675
Level     0,  Iter    56:    Energy =   0.1672
Level     0,  Iter    57:    Energy =   0.1676
Level     0,  Iter    58:    Energy =   0.1673
Level     0,  Iter    59:    Energy =   0.1677
END OF LEVEL     0    DetJac Range:   0.3533  to   1.8565 
  Avg. Gradient Time  : 0.0055s  34.38% 
  Avg. Gaussian Time  : 0.0072s  45.59% 
  Avg. Iteration Time : 0.0159s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1176
Level     1,  Iter     1:    Energy =   0.1235
Level     1,  Iter     2:    Energy =   0.1289
Level     1,  Iter     3:    Energy =   0.1339
Level     1,  Iter     4:    Energy =   0.1382
Level     1,  Iter     5:    Energy =   0.1425
Level     1,  Iter     6:    Energy =   0.1446
Level     1,  Iter     7:    Energy =   0.1449
Level     1,  Iter     8:    Energy =   0.1463
Level     1,  Iter     9:    Energy =   0.1466
Level     1,  Iter    10:    Energy =   0.1470
Level     1,  Iter    11:    Energy =   0.1471
Level     1,  Iter    12:    Energy =   0.1475
Level     1,  Iter    13:    Energy =   0.1475
Level     1,  Iter    14:    Energy =   0.1482
Level     1,  Iter    15:    Energy =   0.1480
Level     1,  Iter    16:    Energy =   0.1487
Level     1,  Iter    17:    Energy =   0.1484
Level     1,  Iter    18:    Energy =   0.1493
Level     1,  Iter    19:    Energy =   0.1490
Level     1,  Iter    20:    Energy =   0.1496
Level     1,  Iter    21:    Energy =   0.1493
Level     1,  Iter    22:    Energy =   0.1500
Level     1,  Iter    23:    Energy =   0.1496
Level     1,  Iter    24:    Energy =   0.1504
Level     1,  Iter    25:    Energy =   0.1499
Level     1,  Iter    26:    Energy =   0.1505
Level     1,  Iter    27:    Energy =   0.1501
Level     1,  Iter    28:    Energy =   0.1509
Level     1,  Iter    29:    Energy =   0.1504
Level     1,  Iter    30:    Energy =   0.1511
Level     1,  Iter    31:    Energy =   0.1506
Level     1,  Iter    32:    Energy =   0.1513
Level     1,  Iter    33:    Energy =   0.1508
Level     1,  Iter    34:    Energy =   0.1515
Level     1,  Iter    35:    Energy =   0.1510
Level     1,  Iter    36:    Energy =   0.1516
Level     1,  Iter    37:    Energy =   0.1511
Level     1,  Iter    38:    Energy =   0.1518
Level     1,  Iter    39:    Energy =   0.1512
Level     1,  Iter    40:    Energy =   0.1520
Level     1,  Iter    41:    Energy =   0.1514
Level     1,  Iter    42:    Energy =   0.1522
Level     1,  Iter    43:    Energy =   0.1516
Level     1,  Iter    44:    Energy =   0.1523
Level     1,  Iter    45:    Energy =   0.1517
Level     1,  Iter    46:    Energy =   0.1524
Level     1,  Iter    47:    Energy =   0.1518
Level     1,  Iter    48:    Energy =   0.1525
Level     1,  Iter    49:    Energy =   0.1520
Level     1,  Iter    50:    Energy =   0.1525
Level     1,  Iter    51:    Energy =   0.1520
Level     1,  Iter    52:    Energy =   0.1525
Level     1,  Iter    53:    Energy =   0.1519
Level     1,  Iter    54:    Energy =   0.1525
Level     1,  Iter    55:    Energy =   0.1519
Level     1,  Iter    56:    Energy =   0.1526
Level     1,  Iter    57:    Energy =   0.1521
Level     1,  Iter    58:    Energy =   0.1525
Level     1,  Iter    59:    Energy =   0.1520
END OF LEVEL     1    DetJac Range:   0.0906  to   3.3588 
  Avg. Gradient Time  : 0.0248s  34.75% 
  Avg. Gaussian Time  : 0.0343s  48.11% 
  Avg. Iteration Time : 0.0712s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0809
Level     2,  Iter     1:    Energy =   0.0840
Level     2,  Iter     2:    Energy =   0.0870
Level     2,  Iter     3:    Energy =   0.0892
Level     2,  Iter     4:    Energy =   0.0913
Level     2,  Iter     5:    Energy =   0.0936
Level     2,  Iter     6:    Energy =   0.0950
Level     2,  Iter     7:    Energy =   0.0957
Level     2,  Iter     8:    Energy =   0.0976
Level     2,  Iter     9:    Energy =   0.0991
Level     2,  Iter    10:    Energy =   0.1004
Level     2,  Iter    11:    Energy =   0.1016
Level     2,  Iter    12:    Energy =   0.1025
Level     2,  Iter    13:    Energy =   0.1033
Level     2,  Iter    14:    Energy =   0.1034
Level     2,  Iter    15:    Energy =   0.1038
Level     2,  Iter    16:    Energy =   0.1041
Level     2,  Iter    17:    Energy =   0.1043
Level     2,  Iter    18:    Energy =   0.1045
Level     2,  Iter    19:    Energy =   0.1047
END OF LEVEL     2    DetJac Range:   0.0494  to   3.5972 
  Avg. Gradient Time  : 0.1167s  32.98% 
  Avg. Gaussian Time  : 0.1897s  53.61% 
  Avg. Iteration Time : 0.3539s 

real	0m14.716s
user	0m20.143s
sys	0m2.670s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.23 0.234286
+ echo 'CHUNK 0.23 0.234286 1'
CHUNK 0.23 0.234286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.23 0.234286 1
====================================
         PROGRESS: 0.23               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 008
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 008 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=008
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.618
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3664.7   GNORM= 642.514
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3816.630     308.101       0.001
   2    4     -3850.700     116.836       1.000
   3    5     -3861.203      85.414       1.000
   4    6     -3875.970     128.359       1.000
   5    7     -3894.972     158.412       1.000
   6    8     -3927.471     202.292       1.000
   7   10     -3939.089      80.753       0.366
   8   11     -3942.885      48.645       1.000
   9   12     -3946.282      51.877       1.000
  10   13     -3952.416      63.879       1.000
  11   14     -3957.168      41.669       1.000
  12   15     -3958.699      39.494       1.000
  13   16     -3959.910      28.855       1.000
  14   17     -3962.454      36.702       1.000
  15   18     -3964.085      27.621       1.000
  16   20     -3964.658      52.269       0.278
  17   21     -3965.332      21.027       1.000
  18   22     -3965.555      17.938       1.000
  19   23     -3966.184      21.082       1.000
  20   24     -3966.607      31.927       1.000
  21   25     -3966.916       9.284       1.000
  22   26     -3966.975       9.911       1.000
  23   27     -3967.074      23.959       1.000
  24   28     -3967.272      16.756       1.000
  25   29     -3967.443      16.988       1.000
  26   30     -3967.527      10.832       1.000
  27   31     -3967.580       5.429       1.000
  28   32     -3967.600       3.170       1.000
  29   33     -3967.635       7.082       1.000
  30   34     -3967.658       3.838       1.000
  31   35     -3967.669       4.910       1.000
  32   37     -3967.680       2.550       0.439
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00419 -0.00433715 -0.00389907 -0.226523 
0.0522695 1.01578 0.0520624 2.01478 
-0.00141748 0.013179 1.02197 0.53889 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2976.17   GNORM= 127.355
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2982.316      57.960       0.001
   2    4     -2984.692      56.549       1.000
   3    5     -2991.314      73.866       1.000
   4    6     -2997.776      77.530       1.000
   5    7     -3024.638     113.687       1.000
   6    8     -3039.648      52.935       1.000
   7    9     -3043.256      72.229       1.000
   8   10     -3046.772      68.889       1.000
   9   11     -3051.943      37.167       1.000
  10   12     -3053.277      31.611       1.000
  11   13     -3054.166      14.912       1.000
  12   14     -3054.465      10.149       1.000
  13   15     -3054.869      17.578       1.000
  14   16     -3055.425       9.214       1.000
  15   17     -3055.589       8.471       1.000
  16   18     -3055.727      14.807       1.000
  17   19     -3055.792       5.123       1.000
  18   20     -3055.820       8.122       1.000
  19   21     -3055.903       6.235       1.000
  20   22     -3055.919       3.195       1.000
  21   23     -3055.923       2.952       1.000
  22   24     -3055.950      10.601       1.000
  23   25     -3055.971       6.599       1.000
  24   26     -3055.995       3.619       1.000
  25   27     -3055.997       3.127       1.000
  26   28     -3056.010       3.022       1.000
  27   29     -3056.035       3.437       1.000
  28   30     -3056.040       5.152       1.000
  29   31     -3056.067       2.402       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.02517 -0.0040502 0.0215722 0.834491 
0.0561834 1.02456 0.0238506 1.18839 
0.00923986 -0.00675674 1.02682 1.32885 
0 0 0 1 

Final RAS Transform: 
1.02517 -0.0040502 0.0215722 0.834491 
0.0561834 1.02456 0.0238506 1.18839 
0.00923986 -0.00675674 1.02682 1.32885 
0 0 0 1 


real	0m4.126s
user	0m5.533s
sys	0m0.602s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.591742
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1292
Level     0,  Iter     1:    Energy =   0.1390
Level     0,  Iter     2:    Energy =   0.1458
Level     0,  Iter     3:    Energy =   0.1506
Level     0,  Iter     4:    Energy =   0.1537
Level     0,  Iter     5:    Energy =   0.1555
Level     0,  Iter     6:    Energy =   0.1567
Level     0,  Iter     7:    Energy =   0.1580
Level     0,  Iter     8:    Energy =   0.1586
Level     0,  Iter     9:    Energy =   0.1596
Level     0,  Iter    10:    Energy =   0.1601
Level     0,  Iter    11:    Energy =   0.1609
Level     0,  Iter    12:    Energy =   0.1614
Level     0,  Iter    13:    Energy =   0.1622
Level     0,  Iter    14:    Energy =   0.1626
Level     0,  Iter    15:    Energy =   0.1632
Level     0,  Iter    16:    Energy =   0.1634
Level     0,  Iter    17:    Energy =   0.1640
Level     0,  Iter    18:    Energy =   0.1642
Level     0,  Iter    19:    Energy =   0.1646
Level     0,  Iter    20:    Energy =   0.1647
Level     0,  Iter    21:    Energy =   0.1651
Level     0,  Iter    22:    Energy =   0.1651
Level     0,  Iter    23:    Energy =   0.1654
Level     0,  Iter    24:    Energy =   0.1653
Level     0,  Iter    25:    Energy =   0.1656
Level     0,  Iter    26:    Energy =   0.1655
Level     0,  Iter    27:    Energy =   0.1658
Level     0,  Iter    28:    Energy =   0.1657
Level     0,  Iter    29:    Energy =   0.1659
Level     0,  Iter    30:    Energy =   0.1658
Level     0,  Iter    31:    Energy =   0.1661
Level     0,  Iter    32:    Energy =   0.1659
Level     0,  Iter    33:    Energy =   0.1662
Level     0,  Iter    34:    Energy =   0.1661
Level     0,  Iter    35:    Energy =   0.1663
Level     0,  Iter    36:    Energy =   0.1661
Level     0,  Iter    37:    Energy =   0.1664
Level     0,  Iter    38:    Energy =   0.1662
Level     0,  Iter    39:    Energy =   0.1665
Level     0,  Iter    40:    Energy =   0.1662
Level     0,  Iter    41:    Energy =   0.1665
Level     0,  Iter    42:    Energy =   0.1663
Level     0,  Iter    43:    Energy =   0.1666
Level     0,  Iter    44:    Energy =   0.1664
Level     0,  Iter    45:    Energy =   0.1666
Level     0,  Iter    46:    Energy =   0.1666
Level     0,  Iter    47:    Energy =   0.1668
Level     0,  Iter    48:    Energy =   0.1665
Level     0,  Iter    49:    Energy =   0.1668
Level     0,  Iter    50:    Energy =   0.1665
Level     0,  Iter    51:    Energy =   0.1668
Level     0,  Iter    52:    Energy =   0.1665
Level     0,  Iter    53:    Energy =   0.1669
Level     0,  Iter    54:    Energy =   0.1668
Level     0,  Iter    55:    Energy =   0.1670
Level     0,  Iter    56:    Energy =   0.1666
Level     0,  Iter    57:    Energy =   0.1670
Level     0,  Iter    58:    Energy =   0.1667
Level     0,  Iter    59:    Energy =   0.1669
END OF LEVEL     0    DetJac Range:   0.3224  to   1.7541 
  Avg. Gradient Time  : 0.0057s  35.02% 
  Avg. Gaussian Time  : 0.0074s  45.19% 
  Avg. Iteration Time : 0.0163s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1188
Level     1,  Iter     1:    Energy =   0.1238
Level     1,  Iter     2:    Energy =   0.1299
Level     1,  Iter     3:    Energy =   0.1345
Level     1,  Iter     4:    Energy =   0.1375
Level     1,  Iter     5:    Energy =   0.1406
Level     1,  Iter     6:    Energy =   0.1431
Level     1,  Iter     7:    Energy =   0.1449
Level     1,  Iter     8:    Energy =   0.1466
Level     1,  Iter     9:    Energy =   0.1480
Level     1,  Iter    10:    Energy =   0.1481
Level     1,  Iter    11:    Energy =   0.1498
Level     1,  Iter    12:    Energy =   0.1499
Level     1,  Iter    13:    Energy =   0.1504
Level     1,  Iter    14:    Energy =   0.1503
Level     1,  Iter    15:    Energy =   0.1513
Level     1,  Iter    16:    Energy =   0.1511
Level     1,  Iter    17:    Energy =   0.1518
Level     1,  Iter    18:    Energy =   0.1515
Level     1,  Iter    19:    Energy =   0.1527
Level     1,  Iter    20:    Energy =   0.1524
Level     1,  Iter    21:    Energy =   0.1528
Level     1,  Iter    22:    Energy =   0.1525
Level     1,  Iter    23:    Energy =   0.1535
Level     1,  Iter    24:    Energy =   0.1532
Level     1,  Iter    25:    Energy =   0.1538
Level     1,  Iter    26:    Energy =   0.1533
Level     1,  Iter    27:    Energy =   0.1544
Level     1,  Iter    28:    Energy =   0.1540
Level     1,  Iter    29:    Energy =   0.1541
Level     1,  Iter    30:    Energy =   0.1537
Level     1,  Iter    31:    Energy =   0.1547
Level     1,  Iter    32:    Energy =   0.1543
Level     1,  Iter    33:    Energy =   0.1550
Level     1,  Iter    34:    Energy =   0.1545
Level     1,  Iter    35:    Energy =   0.1555
Level     1,  Iter    36:    Energy =   0.1551
Level     1,  Iter    37:    Energy =   0.1550
Level     1,  Iter    38:    Energy =   0.1545
Level     1,  Iter    39:    Energy =   0.1554
Level     1,  Iter    40:    Energy =   0.1548
Level     1,  Iter    41:    Energy =   0.1556
Level     1,  Iter    42:    Energy =   0.1550
Level     1,  Iter    43:    Energy =   0.1557
Level     1,  Iter    44:    Energy =   0.1552
Level     1,  Iter    45:    Energy =   0.1558
Level     1,  Iter    46:    Energy =   0.1552
Level     1,  Iter    47:    Energy =   0.1560
Level     1,  Iter    48:    Energy =   0.1557
Level     1,  Iter    49:    Energy =   0.1553
Level     1,  Iter    50:    Energy =   0.1549
Level     1,  Iter    51:    Energy =   0.1553
Level     1,  Iter    52:    Energy =   0.1548
Level     1,  Iter    53:    Energy =   0.1556
Level     1,  Iter    54:    Energy =   0.1552
Level     1,  Iter    55:    Energy =   0.1553
Level     1,  Iter    56:    Energy =   0.1548
Level     1,  Iter    57:    Energy =   0.1556
Level     1,  Iter    58:    Energy =   0.1552
Level     1,  Iter    59:    Energy =   0.1553
END OF LEVEL     1    DetJac Range:   0.1146  to   2.6666 
  Avg. Gradient Time  : 0.0248s  34.50% 
  Avg. Gaussian Time  : 0.0348s  48.44% 
  Avg. Iteration Time : 0.0718s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0829
Level     2,  Iter     1:    Energy =   0.0864
Level     2,  Iter     2:    Energy =   0.0898
Level     2,  Iter     3:    Energy =   0.0923
Level     2,  Iter     4:    Energy =   0.0951
Level     2,  Iter     5:    Energy =   0.0970
Level     2,  Iter     6:    Energy =   0.0988
Level     2,  Iter     7:    Energy =   0.1008
Level     2,  Iter     8:    Energy =   0.1026
Level     2,  Iter     9:    Energy =   0.1038
Level     2,  Iter    10:    Energy =   0.1041
Level     2,  Iter    11:    Energy =   0.1042
Level     2,  Iter    12:    Energy =   0.1048
Level     2,  Iter    13:    Energy =   0.1047
Level     2,  Iter    14:    Energy =   0.1054
Level     2,  Iter    15:    Energy =   0.1052
Level     2,  Iter    16:    Energy =   0.1060
Level     2,  Iter    17:    Energy =   0.1058
Level     2,  Iter    18:    Energy =   0.1064
Level     2,  Iter    19:    Energy =   0.1062
END OF LEVEL     2    DetJac Range:   0.0885  to   3.3289 
  Avg. Gradient Time  : 0.1143s  33.11% 
  Avg. Gaussian Time  : 0.1799s  52.10% 
  Avg. Iteration Time : 0.3453s 

real	0m14.619s
user	0m20.239s
sys	0m2.735s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.234286 0.238571
+ echo 'CHUNK 0.234286 0.238571 1'
CHUNK 0.234286 0.238571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.234286 0.238571 1
====================================
         PROGRESS: 0.234286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 009
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 009 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=009
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.584
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3985.9   GNORM= 779.592
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4204.934     247.044       0.001
   2    4     -4230.442     175.051       1.000
   3    5     -4252.567     190.396       1.000
   4    6     -4321.069     143.226       1.000
   5    8     -4332.270     128.838       0.406
   6    9     -4344.874     100.998       1.000
   7   11     -4349.429      79.636       0.376
   8   12     -4354.353      64.710       1.000
   9   13     -4362.273     127.790       1.000
  10   14     -4367.465      64.479       1.000
  11   15     -4368.626      23.709       1.000
  12   16     -4368.797      14.451       1.000
  13   17     -4368.971      24.475       1.000
  14   19     -4370.163      33.652       5.000
  15   20     -4370.317      39.752       1.000
  16   21     -4371.226      11.076       1.000
  17   22     -4371.271       8.690       1.000
  18   23     -4371.288       5.916       1.000
  19   25     -4371.312       8.932       0.391
  20   26     -4371.351      16.961       1.000
  21   27     -4371.380       9.574       1.000
  22   28     -4371.407      12.299       1.000
  23   29     -4371.443       4.095       1.000
  24   30     -4371.461       6.048       1.000
  25   31     -4371.479      10.579       1.000
  26   32     -4371.507       8.950       1.000
  27   34     -4371.524       5.660       0.343
  28   35     -4371.537       3.287       1.000
  29   36     -4371.546       2.163       1.000
  30   38     -4371.556       3.947       0.483
  31   39     -4371.557       3.968       1.000
  32   43     -4371.557       3.833       0.215
  33   46     -4371.561       2.941       0.072
Final RAS Transform: 
1.00687 0.00377194 0.0022277 -0.172038 
0.0199498 1.02972 0.0114015 -0.154252 
0.000464117 -0.0136653 1.03896 1.50641 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3267.12   GNORM= 197.505
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3285.518     119.655       0.001
   2    4     -3292.929      65.686       1.000
   3    5     -3298.141      61.061       1.000
   4    6     -3311.547     102.974       1.000
   5    7     -3328.532     179.531       1.000
   6    8     -3344.054     104.657       1.000
   7    9     -3350.572      34.789       1.000
   8   10     -3351.304      46.665       1.000
   9   11     -3351.849      33.526       1.000
  10   12     -3354.320      27.426       1.000
  11   13     -3355.631      27.590       1.000
  12   14     -3356.433      19.671       1.000
  13   15     -3357.559      30.159       1.000
  14   16     -3358.044      12.837       1.000
  15   17     -3358.139       9.093       1.000
  16   18     -3358.214      11.356       1.000
  17   19     -3358.294      10.157       1.000
  18   20     -3358.590      25.878       1.000
  19   21     -3358.861       6.905       1.000
  20   22     -3358.950       6.471       1.000
  21   23     -3358.973       9.381       1.000
  22   24     -3358.999       7.132       1.000
  23   26     -3359.012       3.405       0.402
  24   27     -3359.030       3.896       1.000
  25   28     -3359.073       4.764       1.000
  26   29     -3359.101      14.531       1.000
  27   30     -3359.230       6.223       1.000
  28   31     -3359.289       4.279       1.000
  29   33     -3359.299       2.971       0.251
  30   34     -3359.321      10.136       1.000
  31   36     -3359.328      10.405       0.311
  32   37     -3359.358       3.632       1.000
  33   38     -3359.382       4.926       1.000
  34   39     -3359.385       2.120       1.000
  35   40     -3359.388       1.837       1.000
  36   43     -3359.409       5.894       3.033
  37   44     -3359.409       5.076       1.000
  38   46     -3359.417       3.401       0.366
  39   47     -3359.419       1.356       1.000
  40   48     -3359.422       2.104       1.000
  41   49     -3359.423       1.408       1.000
  42   50     -3359.426       2.257       1.000
Final RAS Transform: 
1.02407 0.00514328 0.0293989 0.867907 
0.02692 1.02664 0.00213176 -0.425334 
-0.00880367 -0.03373 1.02932 1.58483 
0 0 0 1 

Final RAS Transform: 
1.02407 0.00514328 0.0293989 0.867907 
0.02692 1.02664 0.00213176 -0.425334 
-0.00880367 -0.03373 1.02932 1.58483 
0 0 0 1 


real	0m4.794s
user	0m6.206s
sys	0m0.860s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.560921
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1448
Level     0,  Iter     1:    Energy =   0.1543
Level     0,  Iter     2:    Energy =   0.1610
Level     0,  Iter     3:    Energy =   0.1651
Level     0,  Iter     4:    Energy =   0.1667
Level     0,  Iter     5:    Energy =   0.1683
Level     0,  Iter     6:    Energy =   0.1691
Level     0,  Iter     7:    Energy =   0.1702
Level     0,  Iter     8:    Energy =   0.1707
Level     0,  Iter     9:    Energy =   0.1717
Level     0,  Iter    10:    Energy =   0.1718
Level     0,  Iter    11:    Energy =   0.1729
Level     0,  Iter    12:    Energy =   0.1724
Level     0,  Iter    13:    Energy =   0.1733
Level     0,  Iter    14:    Energy =   0.1724
Level     0,  Iter    15:    Energy =   0.1734
Level     0,  Iter    16:    Energy =   0.1727
Level     0,  Iter    17:    Energy =   0.1737
Level     0,  Iter    18:    Energy =   0.1729
Level     0,  Iter    19:    Energy =   0.1738
Level     0,  Iter    20:    Energy =   0.1732
Level     0,  Iter    21:    Energy =   0.1742
Level     0,  Iter    22:    Energy =   0.1733
Level     0,  Iter    23:    Energy =   0.1744
Level     0,  Iter    24:    Energy =   0.1737
Level     0,  Iter    25:    Energy =   0.1748
Level     0,  Iter    26:    Energy =   0.1737
Level     0,  Iter    27:    Energy =   0.1751
Level     0,  Iter    28:    Energy =   0.1744
Level     0,  Iter    29:    Energy =   0.1754
Level     0,  Iter    30:    Energy =   0.1740
Level     0,  Iter    31:    Energy =   0.1754
Level     0,  Iter    32:    Energy =   0.1747
Level     0,  Iter    33:    Energy =   0.1755
Level     0,  Iter    34:    Energy =   0.1742
Level     0,  Iter    35:    Energy =   0.1752
Level     0,  Iter    36:    Energy =   0.1740
Level     0,  Iter    37:    Energy =   0.1754
Level     0,  Iter    38:    Energy =   0.1744
Level     0,  Iter    39:    Energy =   0.1754
Level     0,  Iter    40:    Energy =   0.1744
Level     0,  Iter    41:    Energy =   0.1755
Level     0,  Iter    42:    Energy =   0.1743
Level     0,  Iter    43:    Energy =   0.1752
Level     0,  Iter    44:    Energy =   0.1742
Level     0,  Iter    45:    Energy =   0.1755
Level     0,  Iter    46:    Energy =   0.1744
Level     0,  Iter    47:    Energy =   0.1755
Level     0,  Iter    48:    Energy =   0.1746
Level     0,  Iter    49:    Energy =   0.1756
Level     0,  Iter    50:    Energy =   0.1743
Level     0,  Iter    51:    Energy =   0.1755
Level     0,  Iter    52:    Energy =   0.1744
Level     0,  Iter    53:    Energy =   0.1757
Level     0,  Iter    54:    Energy =   0.1748
Level     0,  Iter    55:    Energy =   0.1758
Level     0,  Iter    56:    Energy =   0.1743
Level     0,  Iter    57:    Energy =   0.1757
Level     0,  Iter    58:    Energy =   0.1749
Level     0,  Iter    59:    Energy =   0.1757
END OF LEVEL     0    DetJac Range:   0.4670  to   2.3527 
  Avg. Gradient Time  : 0.0054s  35.00% 
  Avg. Gaussian Time  : 0.0070s  45.10% 
  Avg. Iteration Time : 0.0154s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1220
Level     1,  Iter     1:    Energy =   0.1279
Level     1,  Iter     2:    Energy =   0.1335
Level     1,  Iter     3:    Energy =   0.1378
Level     1,  Iter     4:    Energy =   0.1415
Level     1,  Iter     5:    Energy =   0.1444
Level     1,  Iter     6:    Energy =   0.1467
Level     1,  Iter     7:    Energy =   0.1493
Level     1,  Iter     8:    Energy =   0.1504
Level     1,  Iter     9:    Energy =   0.1513
Level     1,  Iter    10:    Energy =   0.1519
Level     1,  Iter    11:    Energy =   0.1525
Level     1,  Iter    12:    Energy =   0.1526
Level     1,  Iter    13:    Energy =   0.1531
Level     1,  Iter    14:    Energy =   0.1532
Level     1,  Iter    15:    Energy =   0.1535
Level     1,  Iter    16:    Energy =   0.1535
Level     1,  Iter    17:    Energy =   0.1538
Level     1,  Iter    18:    Energy =   0.1539
Level     1,  Iter    19:    Energy =   0.1542
Level     1,  Iter    20:    Energy =   0.1542
Level     1,  Iter    21:    Energy =   0.1544
Level     1,  Iter    22:    Energy =   0.1544
Level     1,  Iter    23:    Energy =   0.1546
Level     1,  Iter    24:    Energy =   0.1546
Level     1,  Iter    25:    Energy =   0.1549
Level     1,  Iter    26:    Energy =   0.1548
Level     1,  Iter    27:    Energy =   0.1551
Level     1,  Iter    28:    Energy =   0.1550
Level     1,  Iter    29:    Energy =   0.1553
Level     1,  Iter    30:    Energy =   0.1552
Level     1,  Iter    31:    Energy =   0.1554
Level     1,  Iter    32:    Energy =   0.1553
Level     1,  Iter    33:    Energy =   0.1555
Level     1,  Iter    34:    Energy =   0.1555
Level     1,  Iter    35:    Energy =   0.1555
Level     1,  Iter    36:    Energy =   0.1556
Level     1,  Iter    37:    Energy =   0.1556
Level     1,  Iter    38:    Energy =   0.1557
Level     1,  Iter    39:    Energy =   0.1557
Level     1,  Iter    40:    Energy =   0.1557
Level     1,  Iter    41:    Energy =   0.1558
Level     1,  Iter    42:    Energy =   0.1558
Level     1,  Iter    43:    Energy =   0.1559
Level     1,  Iter    44:    Energy =   0.1559
Level     1,  Iter    45:    Energy =   0.1559
Level     1,  Iter    46:    Energy =   0.1560
Level     1,  Iter    47:    Energy =   0.1559
Level     1,  Iter    48:    Energy =   0.1560
Level     1,  Iter    49:    Energy =   0.1560
Level     1,  Iter    50:    Energy =   0.1561
Level     1,  Iter    51:    Energy =   0.1561
Level     1,  Iter    52:    Energy =   0.1562
Level     1,  Iter    53:    Energy =   0.1561
Level     1,  Iter    54:    Energy =   0.1562
Level     1,  Iter    55:    Energy =   0.1562
Level     1,  Iter    56:    Energy =   0.1561
Level     1,  Iter    57:    Energy =   0.1563
Level     1,  Iter    58:    Energy =   0.1562
Level     1,  Iter    59:    Energy =   0.1563
END OF LEVEL     1    DetJac Range:   0.2701  to   3.2822 
  Avg. Gradient Time  : 0.0249s  34.88% 
  Avg. Gaussian Time  : 0.0343s  47.95% 
  Avg. Iteration Time : 0.0715s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0835
Level     2,  Iter     1:    Energy =   0.0867
Level     2,  Iter     2:    Energy =   0.0900
Level     2,  Iter     3:    Energy =   0.0926
Level     2,  Iter     4:    Energy =   0.0952
Level     2,  Iter     5:    Energy =   0.0975
Level     2,  Iter     6:    Energy =   0.0989
Level     2,  Iter     7:    Energy =   0.1000
Level     2,  Iter     8:    Energy =   0.1015
Level     2,  Iter     9:    Energy =   0.1015
Level     2,  Iter    10:    Energy =   0.1032
Level     2,  Iter    11:    Energy =   0.1031
Level     2,  Iter    12:    Energy =   0.1046
Level     2,  Iter    13:    Energy =   0.1044
Level     2,  Iter    14:    Energy =   0.1056
Level     2,  Iter    15:    Energy =   0.1054
Level     2,  Iter    16:    Energy =   0.1061
Level     2,  Iter    17:    Energy =   0.1058
Level     2,  Iter    18:    Energy =   0.1071
Level     2,  Iter    19:    Energy =   0.1067
END OF LEVEL     2    DetJac Range:   0.1660  to   3.6742 
  Avg. Gradient Time  : 0.1148s  32.85% 
  Avg. Gaussian Time  : 0.1838s  52.59% 
  Avg. Iteration Time : 0.3494s 

real	0m14.592s
user	0m20.258s
sys	0m2.629s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.238571 0.242857
+ echo 'CHUNK 0.238571 0.242857 1'
CHUNK 0.238571 0.242857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.238571 0.242857 1
====================================
         PROGRESS: 0.238571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 010
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 010 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=010
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.6
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3516.92   GNORM= 788.493
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3623.473     807.212       0.001
   2    3     -3800.365     136.959       1.000
   3    4     -3808.905     114.434       1.000
   4    5     -3831.172     149.056       1.000
   5    6     -3865.405     265.733       1.000
   6    7     -3895.174     214.685       1.000
   7    8     -3909.963     195.020       1.000
   8    9     -3918.233      54.184       1.000
   9   10     -3920.347      53.018       1.000
  10   11     -3923.735     114.093       1.000
  11   12     -3927.600      45.948       1.000
  12   13     -3929.549      35.094       1.000
  13   14     -3930.399      36.660       1.000
  14   15     -3931.086      26.681       1.000
  15   16     -3931.691      38.418       1.000
  16   17     -3932.162      13.589       1.000
  17   18     -3932.367      31.170       1.000
  18   19     -3932.621      16.030       1.000
  19   20     -3932.936      19.874       1.000
  20   21     -3933.216      16.990       1.000
  21   22     -3933.322       7.897       1.000
  22   23     -3933.366       6.118       1.000
  23   25     -3933.411       8.647       0.363
  24   26     -3933.431       5.837       1.000
  25   27     -3933.460       4.658       1.000
  26   29     -3933.493       9.777       0.286
  27   30     -3933.493      10.343       1.000
  28   31     -3933.523       6.136       1.000
  29   32     -3933.533       4.331       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.982458 -0.0103032 -0.00492484 -0.455113 
0.0115765 0.987579 0.0289531 1.37033 
-0.00478745 0.0125767 1.03768 0.85268 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2852.36   GNORM= 166.129
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2861.081      53.931       0.001
   2    4     -2863.066      53.354       1.000
   3    5     -2870.153     110.542       1.000
   4    6     -2880.890     119.299       1.000
   5    7     -2909.172     301.214       1.000
   6    8     -2927.302     139.025       1.000
   7    9     -2934.783      33.262       1.000
   8   10     -2935.501      28.217       1.000
   9   11     -2935.615      58.900       1.000
  10   12     -2936.860      26.489       1.000
  11   13     -2938.004      17.671       1.000
  12   14     -2940.188      52.588       1.000
  13   15     -2941.693      63.141       1.000
  14   16     -2943.680      33.731       1.000
  15   17     -2944.777      16.288       1.000
  16   18     -2945.301      18.365       1.000
  17   19     -2946.352      18.897       1.000
  18   21     -2947.092      22.865       0.423
  19   22     -2947.419      15.387       1.000
  20   23     -2947.580       8.624       1.000
  21   24     -2947.739       8.789       1.000
  22   25     -2947.902      11.940       1.000
  23   26     -2948.051       7.475       1.000
  24   27     -2948.211      10.541       1.000
  25   29     -2948.363       6.843       0.378
  26   30     -2948.498      10.399       1.000
  27   31     -2948.674       8.636       1.000
  28   32     -2948.743      11.944       1.000
  29   33     -2948.887       6.599       1.000
  30   34     -2948.996       7.510       1.000
  31   35     -2949.083       5.559       1.000
  32   36     -2949.161       9.165       1.000
  33   37     -2949.193       7.829       1.000
  34   39     -2949.245       7.675       0.416
  35   40     -2949.287       4.807       1.000
  36   41     -2949.322       7.472       1.000
  37   42     -2949.354       6.745       1.000
  38   43     -2949.402       5.766       1.000
  39   44     -2949.458       4.741       1.000
  40   45     -2949.560       7.802       1.000
  41   47     -2949.585       5.631       0.228
  42   48     -2949.600       4.298       1.000
  43   49     -2949.618       4.690       1.000
  44   50     -2949.633       4.928       1.000
  45   51     -2949.655       4.465       1.000
  46   52     -2949.709      10.282       1.000
  47   53     -2949.750       3.958       1.000
  48   54     -2949.770       5.021       1.000
  49   55     -2949.785       3.819       1.000
  50   56     -2949.793       1.557       1.000
  51   57     -2949.795       1.955       1.000
Final RAS Transform: 
0.996806 -0.00581856 0.0225027 0.486249 
0.0107872 1.02144 0.0253063 0.634177 
0.00951694 -0.0209025 1.0183 1.36376 
0 0 0 1 

Final RAS Transform: 
0.996806 -0.00581856 0.0225027 0.486249 
0.0107872 1.02144 0.0253063 0.634177 
0.00951694 -0.0209025 1.0183 1.36376 
0 0 0 1 


real	0m4.738s
user	0m6.219s
sys	0m0.886s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.583374
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1260
Level     0,  Iter     1:    Energy =   0.1341
Level     0,  Iter     2:    Energy =   0.1404
Level     0,  Iter     3:    Energy =   0.1438
Level     0,  Iter     4:    Energy =   0.1458
Level     0,  Iter     5:    Energy =   0.1475
Level     0,  Iter     6:    Energy =   0.1487
Level     0,  Iter     7:    Energy =   0.1497
Level     0,  Iter     8:    Energy =   0.1504
Level     0,  Iter     9:    Energy =   0.1514
Level     0,  Iter    10:    Energy =   0.1520
Level     0,  Iter    11:    Energy =   0.1531
Level     0,  Iter    12:    Energy =   0.1537
Level     0,  Iter    13:    Energy =   0.1548
Level     0,  Iter    14:    Energy =   0.1555
Level     0,  Iter    15:    Energy =   0.1564
Level     0,  Iter    16:    Energy =   0.1566
Level     0,  Iter    17:    Energy =   0.1575
Level     0,  Iter    18:    Energy =   0.1576
Level     0,  Iter    19:    Energy =   0.1583
Level     0,  Iter    20:    Energy =   0.1581
Level     0,  Iter    21:    Energy =   0.1589
Level     0,  Iter    22:    Energy =   0.1586
Level     0,  Iter    23:    Energy =   0.1593
Level     0,  Iter    24:    Energy =   0.1590
Level     0,  Iter    25:    Energy =   0.1598
Level     0,  Iter    26:    Energy =   0.1596
Level     0,  Iter    27:    Energy =   0.1602
Level     0,  Iter    28:    Energy =   0.1598
Level     0,  Iter    29:    Energy =   0.1604
Level     0,  Iter    30:    Energy =   0.1601
Level     0,  Iter    31:    Energy =   0.1606
Level     0,  Iter    32:    Energy =   0.1602
Level     0,  Iter    33:    Energy =   0.1607
Level     0,  Iter    34:    Energy =   0.1604
Level     0,  Iter    35:    Energy =   0.1608
Level     0,  Iter    36:    Energy =   0.1604
Level     0,  Iter    37:    Energy =   0.1608
Level     0,  Iter    38:    Energy =   0.1603
Level     0,  Iter    39:    Energy =   0.1609
Level     0,  Iter    40:    Energy =   0.1605
Level     0,  Iter    41:    Energy =   0.1610
Level     0,  Iter    42:    Energy =   0.1606
Level     0,  Iter    43:    Energy =   0.1610
Level     0,  Iter    44:    Energy =   0.1605
Level     0,  Iter    45:    Energy =   0.1610
Level     0,  Iter    46:    Energy =   0.1606
Level     0,  Iter    47:    Energy =   0.1610
Level     0,  Iter    48:    Energy =   0.1607
Level     0,  Iter    49:    Energy =   0.1611
Level     0,  Iter    50:    Energy =   0.1605
Level     0,  Iter    51:    Energy =   0.1611
Level     0,  Iter    52:    Energy =   0.1605
Level     0,  Iter    53:    Energy =   0.1611
Level     0,  Iter    54:    Energy =   0.1608
Level     0,  Iter    55:    Energy =   0.1612
Level     0,  Iter    56:    Energy =   0.1608
Level     0,  Iter    57:    Energy =   0.1611
Level     0,  Iter    58:    Energy =   0.1607
Level     0,  Iter    59:    Energy =   0.1611
END OF LEVEL     0    DetJac Range:   0.2207  to   1.8984 
  Avg. Gradient Time  : 0.0057s  35.16% 
  Avg. Gaussian Time  : 0.0074s  45.16% 
  Avg. Iteration Time : 0.0163s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1115
Level     1,  Iter     1:    Energy =   0.1180
Level     1,  Iter     2:    Energy =   0.1229
Level     1,  Iter     3:    Energy =   0.1281
Level     1,  Iter     4:    Energy =   0.1317
Level     1,  Iter     5:    Energy =   0.1343
Level     1,  Iter     6:    Energy =   0.1363
Level     1,  Iter     7:    Energy =   0.1379
Level     1,  Iter     8:    Energy =   0.1392
Level     1,  Iter     9:    Energy =   0.1405
Level     1,  Iter    10:    Energy =   0.1416
Level     1,  Iter    11:    Energy =   0.1427
Level     1,  Iter    12:    Energy =   0.1438
Level     1,  Iter    13:    Energy =   0.1435
Level     1,  Iter    14:    Energy =   0.1447
Level     1,  Iter    15:    Energy =   0.1445
Level     1,  Iter    16:    Energy =   0.1453
Level     1,  Iter    17:    Energy =   0.1449
Level     1,  Iter    18:    Energy =   0.1458
Level     1,  Iter    19:    Energy =   0.1457
Level     1,  Iter    20:    Energy =   0.1458
Level     1,  Iter    21:    Energy =   0.1454
Level     1,  Iter    22:    Energy =   0.1463
Level     1,  Iter    23:    Energy =   0.1460
Level     1,  Iter    24:    Energy =   0.1463
Level     1,  Iter    25:    Energy =   0.1458
Level     1,  Iter    26:    Energy =   0.1468
Level     1,  Iter    27:    Energy =   0.1465
Level     1,  Iter    28:    Energy =   0.1464
Level     1,  Iter    29:    Energy =   0.1461
Level     1,  Iter    30:    Energy =   0.1466
Level     1,  Iter    31:    Energy =   0.1462
Level     1,  Iter    32:    Energy =   0.1471
Level     1,  Iter    33:    Energy =   0.1469
Level     1,  Iter    34:    Energy =   0.1466
Level     1,  Iter    35:    Energy =   0.1465
Level     1,  Iter    36:    Energy =   0.1468
Level     1,  Iter    37:    Energy =   0.1464
Level     1,  Iter    38:    Energy =   0.1472
Level     1,  Iter    39:    Energy =   0.1471
Level     1,  Iter    40:    Energy =   0.1469
Level     1,  Iter    41:    Energy =   0.1466
Level     1,  Iter    42:    Energy =   0.1472
Level     1,  Iter    43:    Energy =   0.1467
Level     1,  Iter    44:    Energy =   0.1475
Level     1,  Iter    45:    Energy =   0.1475
Level     1,  Iter    46:    Energy =   0.1472
Level     1,  Iter    47:    Energy =   0.1469
Level     1,  Iter    48:    Energy =   0.1475
Level     1,  Iter    49:    Energy =   0.1471
Level     1,  Iter    50:    Energy =   0.1477
Level     1,  Iter    51:    Energy =   0.1472
Level     1,  Iter    52:    Energy =   0.1477
Level     1,  Iter    53:    Energy =   0.1473
Level     1,  Iter    54:    Energy =   0.1478
Level     1,  Iter    55:    Energy =   0.1475
Level     1,  Iter    56:    Energy =   0.1476
Level     1,  Iter    57:    Energy =   0.1472
Level     1,  Iter    58:    Energy =   0.1478
Level     1,  Iter    59:    Energy =   0.1477
END OF LEVEL     1    DetJac Range:   0.0748  to   2.8997 
  Avg. Gradient Time  : 0.0245s  34.39% 
  Avg. Gaussian Time  : 0.0344s  48.30% 
  Avg. Iteration Time : 0.0712s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0801
Level     2,  Iter     1:    Energy =   0.0835
Level     2,  Iter     2:    Energy =   0.0865
Level     2,  Iter     3:    Energy =   0.0898
Level     2,  Iter     4:    Energy =   0.0927
Level     2,  Iter     5:    Energy =   0.0952
Level     2,  Iter     6:    Energy =   0.0963
Level     2,  Iter     7:    Energy =   0.0971
Level     2,  Iter     8:    Energy =   0.0977
Level     2,  Iter     9:    Energy =   0.0986
Level     2,  Iter    10:    Energy =   0.0990
Level     2,  Iter    11:    Energy =   0.0996
Level     2,  Iter    12:    Energy =   0.0999
Level     2,  Iter    13:    Energy =   0.1005
Level     2,  Iter    14:    Energy =   0.1007
Level     2,  Iter    15:    Energy =   0.1011
Level     2,  Iter    16:    Energy =   0.1014
Level     2,  Iter    17:    Energy =   0.1016
Level     2,  Iter    18:    Energy =   0.1018
Level     2,  Iter    19:    Energy =   0.1021
END OF LEVEL     2    DetJac Range:   0.0755  to   3.3883 
  Avg. Gradient Time  : 0.1135s  32.78% 
  Avg. Gaussian Time  : 0.1809s  52.26% 
  Avg. Iteration Time : 0.3461s 

real	0m14.552s
user	0m20.235s
sys	0m2.733s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.242857 0.247143
+ echo 'CHUNK 0.242857 0.247143 1'
CHUNK 0.242857 0.247143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.242857 0.247143 1
====================================
         PROGRESS: 0.242857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 011
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 011 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=011
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.612
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3982.03   GNORM= 573
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4064.877     147.278       0.001
   2    4     -4073.166      94.920       1.000
   3    5     -4081.797     128.056       1.000
   4    6     -4097.768     154.891       1.000
   5    7     -4129.590     231.234       1.000
   6    8     -4135.447     153.540       1.000
   7    9     -4143.877      45.786       1.000
   8   10     -4144.769      22.534       1.000
   9   11     -4145.490      25.729       1.000
  10   12     -4146.302      47.189       1.000
  11   13     -4147.282      36.956       1.000
  12   15     -4147.915      12.780       0.404
  13   16     -4147.974       8.490       1.000
  14   17     -4148.042       8.993       1.000
  15   18     -4148.121      10.403       1.000
  16   19     -4148.202       7.156       1.000
  17   20     -4148.255       7.607       1.000
  18   22     -4148.280       6.890       0.383
  19   23     -4148.305       6.854       1.000
  20   25     -4148.318       6.227       0.110
  21   26     -4148.335       4.395       1.000
  22   27     -4148.353       6.299       1.000
  23   28     -4148.363       1.708       1.000
  24   29     -4148.367       2.086       1.000
  25   30     -4148.370       1.687       1.000
  26   31     -4148.380       2.510       1.000
  27   33     -4148.382       2.196       0.224
  28   34     -4148.384       3.310       1.000
  29   35     -4148.385       4.536       1.000
  30   36     -4148.392       2.337       1.000
  31   38     -4148.395       1.525       0.293
  32   39     -4148.398       2.670       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.989283 -0.00994849 -0.0156642 -0.658028 
0.0112067 1.00723 -0.00131157 0.725519 
0.00282178 0.0128487 1.02977 0.451124 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3018.39   GNORM= 111.74
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3029.000      57.331       0.002
   2    4     -3033.366      55.436       1.000
   3    5     -3044.620     107.971       1.000
   4    6     -3056.330     118.110       1.000
   5    7     -3067.100      71.242       1.000
   6    8     -3072.030      38.325       1.000
   7    9     -3080.392     102.594       1.000
   8   10     -3085.964      85.464       1.000
   9   11     -3090.730      49.865       1.000
  10   12     -3094.304      52.882       1.000
  11   13     -3095.379      18.560       1.000
  12   14     -3095.790      15.032       1.000
  13   15     -3097.953      38.974       1.000
  14   16     -3099.992      51.003       1.000
  15   17     -3100.682      57.568       1.000
  16   18     -3101.509      16.988       1.000
  17   19     -3101.641       7.697       1.000
  18   20     -3101.680      12.957       1.000
  19   21     -3101.771      10.017       1.000
  20   22     -3101.912      10.916       1.000
  21   23     -3102.049       7.093       1.000
  22   24     -3102.122       6.648       1.000
  23   25     -3102.131      12.695       1.000
  24   26     -3102.202       4.711       1.000
  25   27     -3102.203       3.419       1.000
  26   28     -3102.218       4.920       1.000
  27   29     -3102.227       2.519       1.000
  28   30     -3102.231       2.855       1.000
  29   31     -3102.232       1.529       1.000
  30   32     -3102.240       1.318       1.000
  31   34     -3102.246       3.721       0.362
  32   35     -3102.253       2.704       1.000
  33   36     -3102.260       2.221       1.000
  34   39     -3102.267       1.993       1.792
  35   40     -3102.270       1.117       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01597 0.00662853 0.0265662 0.543027 
0.00889063 1.02102 0.0199005 0.586199 
0.000751108 -0.00656867 1.0332 0.871064 
0 0 0 1 

Final RAS Transform: 
1.01597 0.00662853 0.0265662 0.543027 
0.00889063 1.02102 0.0199005 0.586199 
0.000751108 -0.00656867 1.0332 0.871064 
0 0 0 1 


real	0m4.551s
user	0m6.135s
sys	0m0.712s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.592203
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1346
Level     0,  Iter     1:    Energy =   0.1450
Level     0,  Iter     2:    Energy =   0.1531
Level     0,  Iter     3:    Energy =   0.1581
Level     0,  Iter     4:    Energy =   0.1602
Level     0,  Iter     5:    Energy =   0.1619
Level     0,  Iter     6:    Energy =   0.1632
Level     0,  Iter     7:    Energy =   0.1640
Level     0,  Iter     8:    Energy =   0.1654
Level     0,  Iter     9:    Energy =   0.1658
Level     0,  Iter    10:    Energy =   0.1663
Level     0,  Iter    11:    Energy =   0.1668
Level     0,  Iter    12:    Energy =   0.1676
Level     0,  Iter    13:    Energy =   0.1679
Level     0,  Iter    14:    Energy =   0.1678
Level     0,  Iter    15:    Energy =   0.1682
Level     0,  Iter    16:    Energy =   0.1688
Level     0,  Iter    17:    Energy =   0.1685
Level     0,  Iter    18:    Energy =   0.1680
Level     0,  Iter    19:    Energy =   0.1679
Level     0,  Iter    20:    Energy =   0.1675
Level     0,  Iter    21:    Energy =   0.1678
Level     0,  Iter    22:    Energy =   0.1677
Level     0,  Iter    23:    Energy =   0.1682
Level     0,  Iter    24:    Energy =   0.1678
Level     0,  Iter    25:    Energy =   0.1686
Level     0,  Iter    26:    Energy =   0.1689
Level     0,  Iter    27:    Energy =   0.1687
Level     0,  Iter    28:    Energy =   0.1681
Level     0,  Iter    29:    Energy =   0.1680
Level     0,  Iter    30:    Energy =   0.1677
Level     0,  Iter    31:    Energy =   0.1680
Level     0,  Iter    32:    Energy =   0.1680
Level     0,  Iter    33:    Energy =   0.1685
Level     0,  Iter    34:    Energy =   0.1680
Level     0,  Iter    35:    Energy =   0.1686
Level     0,  Iter    36:    Energy =   0.1689
Level     0,  Iter    37:    Energy =   0.1685
Level     0,  Iter    38:    Energy =   0.1681
Level     0,  Iter    39:    Energy =   0.1680
Level     0,  Iter    40:    Energy =   0.1676
Level     0,  Iter    41:    Energy =   0.1678
Level     0,  Iter    42:    Energy =   0.1677
Level     0,  Iter    43:    Energy =   0.1680
Level     0,  Iter    44:    Energy =   0.1678
Level     0,  Iter    45:    Energy =   0.1684
Level     0,  Iter    46:    Energy =   0.1684
Level     0,  Iter    47:    Energy =   0.1686
Level     0,  Iter    48:    Energy =   0.1679
Level     0,  Iter    49:    Energy =   0.1681
Level     0,  Iter    50:    Energy =   0.1677
Level     0,  Iter    51:    Energy =   0.1681
Level     0,  Iter    52:    Energy =   0.1682
Level     0,  Iter    53:    Energy =   0.1686
Level     0,  Iter    54:    Energy =   0.1677
Level     0,  Iter    55:    Energy =   0.1683
Level     0,  Iter    56:    Energy =   0.1682
Level     0,  Iter    57:    Energy =   0.1687
Level     0,  Iter    58:    Energy =   0.1679
Level     0,  Iter    59:    Energy =   0.1686
END OF LEVEL     0    DetJac Range:   0.4424  to   1.9322 
  Avg. Gradient Time  : 0.0054s  34.81% 
  Avg. Gaussian Time  : 0.0071s  45.51% 
  Avg. Iteration Time : 0.0156s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1176
Level     1,  Iter     1:    Energy =   0.1231
Level     1,  Iter     2:    Energy =   0.1278
Level     1,  Iter     3:    Energy =   0.1322
Level     1,  Iter     4:    Energy =   0.1363
Level     1,  Iter     5:    Energy =   0.1399
Level     1,  Iter     6:    Energy =   0.1423
Level     1,  Iter     7:    Energy =   0.1443
Level     1,  Iter     8:    Energy =   0.1445
Level     1,  Iter     9:    Energy =   0.1460
Level     1,  Iter    10:    Energy =   0.1460
Level     1,  Iter    11:    Energy =   0.1469
Level     1,  Iter    12:    Energy =   0.1470
Level     1,  Iter    13:    Energy =   0.1470
Level     1,  Iter    14:    Energy =   0.1480
Level     1,  Iter    15:    Energy =   0.1477
Level     1,  Iter    16:    Energy =   0.1490
Level     1,  Iter    17:    Energy =   0.1491
Level     1,  Iter    18:    Energy =   0.1493
Level     1,  Iter    19:    Energy =   0.1490
Level     1,  Iter    20:    Energy =   0.1501
Level     1,  Iter    21:    Energy =   0.1498
Level     1,  Iter    22:    Energy =   0.1505
Level     1,  Iter    23:    Energy =   0.1500
Level     1,  Iter    24:    Energy =   0.1510
Level     1,  Iter    25:    Energy =   0.1508
Level     1,  Iter    26:    Energy =   0.1509
Level     1,  Iter    27:    Energy =   0.1504
Level     1,  Iter    28:    Energy =   0.1513
Level     1,  Iter    29:    Energy =   0.1510
Level     1,  Iter    30:    Energy =   0.1512
Level     1,  Iter    31:    Energy =   0.1507
Level     1,  Iter    32:    Energy =   0.1517
Level     1,  Iter    33:    Energy =   0.1514
Level     1,  Iter    34:    Energy =   0.1514
Level     1,  Iter    35:    Energy =   0.1508
Level     1,  Iter    36:    Energy =   0.1518
Level     1,  Iter    37:    Energy =   0.1514
Level     1,  Iter    38:    Energy =   0.1516
Level     1,  Iter    39:    Energy =   0.1511
Level     1,  Iter    40:    Energy =   0.1521
Level     1,  Iter    41:    Energy =   0.1519
Level     1,  Iter    42:    Energy =   0.1517
Level     1,  Iter    43:    Energy =   0.1511
Level     1,  Iter    44:    Energy =   0.1521
Level     1,  Iter    45:    Energy =   0.1516
Level     1,  Iter    46:    Energy =   0.1523
Level     1,  Iter    47:    Energy =   0.1517
Level     1,  Iter    48:    Energy =   0.1528
Level     1,  Iter    49:    Energy =   0.1533
Level     1,  Iter    50:    Energy =   0.1528
Level     1,  Iter    51:    Energy =   0.1523
Level     1,  Iter    52:    Energy =   0.1527
Level     1,  Iter    53:    Energy =   0.1520
Level     1,  Iter    54:    Energy =   0.1531
Level     1,  Iter    55:    Energy =   0.1530
Level     1,  Iter    56:    Energy =   0.1526
Level     1,  Iter    57:    Energy =   0.1520
Level     1,  Iter    58:    Energy =   0.1530
Level     1,  Iter    59:    Energy =   0.1523
END OF LEVEL     1    DetJac Range:   0.1355  to   3.0604 
  Avg. Gradient Time  : 0.0247s  34.97% 
  Avg. Gaussian Time  : 0.0340s  48.16% 
  Avg. Iteration Time : 0.0706s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0821
Level     2,  Iter     1:    Energy =   0.0853
Level     2,  Iter     2:    Energy =   0.0887
Level     2,  Iter     3:    Energy =   0.0919
Level     2,  Iter     4:    Energy =   0.0942
Level     2,  Iter     5:    Energy =   0.0955
Level     2,  Iter     6:    Energy =   0.0966
Level     2,  Iter     7:    Energy =   0.0970
Level     2,  Iter     8:    Energy =   0.0983
Level     2,  Iter     9:    Energy =   0.0984
Level     2,  Iter    10:    Energy =   0.0997
Level     2,  Iter    11:    Energy =   0.0996
Level     2,  Iter    12:    Energy =   0.1005
Level     2,  Iter    13:    Energy =   0.1005
Level     2,  Iter    14:    Energy =   0.1011
Level     2,  Iter    15:    Energy =   0.1009
Level     2,  Iter    16:    Energy =   0.1017
Level     2,  Iter    17:    Energy =   0.1014
Level     2,  Iter    18:    Energy =   0.1023
Level     2,  Iter    19:    Energy =   0.1019
END OF LEVEL     2    DetJac Range:   0.1150  to   3.2148 
  Avg. Gradient Time  : 0.1128s  32.16% 
  Avg. Gaussian Time  : 0.1857s  52.95% 
  Avg. Iteration Time : 0.3507s 

real	0m14.605s
user	0m20.234s
sys	0m2.634s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.247143 0.251429
+ echo 'CHUNK 0.247143 0.251429 1'
CHUNK 0.247143 0.251429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.247143 0.251429 1
====================================
         PROGRESS: 0.247143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 012
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 012 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=012
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.592
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3547.42   GNORM= 796.933
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3729.829     313.689       0.001
   2    4     -3764.752     168.395       1.000
   3    5     -3787.414     107.164       1.000
   4    6     -3798.543      89.528       1.000
   5    7     -3827.148     141.218       1.000
   6    8     -3848.595     135.896       1.000
   7    9     -3859.674      99.424       1.000
   8   10     -3864.640      71.764       1.000
   9   11     -3873.581      58.074       1.000
  10   12     -3881.176      51.007       1.000
  11   14     -3884.082      65.911       0.352
  12   15     -3885.881      25.728       1.000
  13   16     -3886.556      27.647       1.000
  14   18     -3889.588      35.640       0.456
  15   19     -3893.054      28.943       1.000
  16   20     -3894.643      66.138       1.000
  17   21     -3895.927      20.254       1.000
  18   22     -3896.345      33.110       1.000
  19   23     -3896.720      20.206       1.000
  20   24     -3897.097      15.254       1.000
  21   25     -3897.407      14.436       1.000
  22   27     -3897.619      13.043       0.477
  23   28     -3897.743       6.278       1.000
  24   29     -3897.875       6.404       1.000
  25   31     -3898.008      12.064       0.512
  26   32     -3898.044       6.803       1.000
  27   33     -3898.106       5.728       1.000
  28   35     -3898.132       7.934       0.100
  29   36     -3898.140       2.248       1.000
  30   37     -3898.151       3.281       1.000
  31   39     -3898.156       2.836       0.385
  32   40     -3898.156       2.377       1.000
  33   41     -3898.172       4.422       1.000
  34   43     -3898.182       5.356       0.105
  35   44     -3898.198       3.233       1.000
  36   45     -3898.213       2.240       1.000
  37   47     -3898.213       1.765       0.136
  38   48     -3898.219       2.108       1.000
Final RAS Transform: 
0.984876 0.0122909 -0.000564233 -0.977527 
0.0735813 0.9708 -0.0196131 2.12429 
-0.0177301 0.0178324 1.01427 0.114751 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2717.23   GNORM= 78.9105
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2720.133      52.525       0.001
   2    4     -2721.964      40.177       1.000
   3    5     -2725.448      53.841       1.000
   4    6     -2731.368      69.103       1.000
   5    7     -2745.078      89.518       1.000
   6    8     -2758.979      60.109       1.000
   7   10     -2760.097      71.379       0.128
   8   11     -2763.825      45.696       1.000
   9   12     -2765.698      15.953       1.000
  10   13     -2766.727      25.536       1.000
  11   14     -2767.552      24.563       1.000
  12   15     -2768.346      14.702       1.000
  13   16     -2768.458      38.108       1.000
  14   17     -2769.005      22.178       1.000
  15   18     -2769.639      11.933       1.000
  16   19     -2770.474      36.140       1.000
  17   20     -2771.299      21.837       1.000
  18   21     -2772.167      17.475       1.000
  19   23     -2772.466      11.941       0.493
  20   24     -2772.596       9.236       1.000
  21   25     -2773.064      16.565       1.000
  22   26     -2774.195      44.757       1.000
  23   27     -2775.016      19.696       1.000
  24   28     -2775.553      18.669       1.000
  25   29     -2775.914      22.411       1.000
  26   30     -2776.227      13.503       1.000
  27   31     -2776.375      12.517       1.000
  28   32     -2776.539      12.681       1.000
  29   33     -2776.656      35.534       1.000
  30   34     -2777.399      10.884       1.000
  31   35     -2777.826      12.815       1.000
  32   36     -2778.081       9.318       1.000
  33   38     -2778.244       7.921       0.407
  34   39     -2778.275       5.300       1.000
  35   40     -2778.329       7.819       1.000
  36   41     -2778.346       5.097       1.000
  37   42     -2778.373       2.748       1.000
  38   43     -2778.410       8.080       1.000
  39   44     -2778.423       3.966       1.000
  40   45     -2778.436       2.250       1.000
  41   46     -2778.441       2.573       1.000
  42   48     -2778.443       2.036       0.097
Final RAS Transform: 
0.998162 -0.00342382 0.0146489 0.0898207 
0.0356007 0.998882 -0.0128105 0.869015 
-0.000398828 -0.00297249 1.02751 1.09996 
0 0 0 1 

Final RAS Transform: 
0.998162 -0.00342382 0.0146489 0.0898207 
0.0356007 0.998882 -0.0128105 0.869015 
-0.000398828 -0.00297249 1.02751 1.09996 
0 0 0 1 


real	0m4.753s
user	0m6.340s
sys	0m0.727s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.57275
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1247
Level     0,  Iter     1:    Energy =   0.1337
Level     0,  Iter     2:    Energy =   0.1411
Level     0,  Iter     3:    Energy =   0.1469
Level     0,  Iter     4:    Energy =   0.1506
Level     0,  Iter     5:    Energy =   0.1520
Level     0,  Iter     6:    Energy =   0.1534
Level     0,  Iter     7:    Energy =   0.1542
Level     0,  Iter     8:    Energy =   0.1552
Level     0,  Iter     9:    Energy =   0.1560
Level     0,  Iter    10:    Energy =   0.1568
Level     0,  Iter    11:    Energy =   0.1575
Level     0,  Iter    12:    Energy =   0.1579
Level     0,  Iter    13:    Energy =   0.1585
Level     0,  Iter    14:    Energy =   0.1586
Level     0,  Iter    15:    Energy =   0.1592
Level     0,  Iter    16:    Energy =   0.1593
Level     0,  Iter    17:    Energy =   0.1598
Level     0,  Iter    18:    Energy =   0.1598
Level     0,  Iter    19:    Energy =   0.1602
Level     0,  Iter    20:    Energy =   0.1602
Level     0,  Iter    21:    Energy =   0.1606
Level     0,  Iter    22:    Energy =   0.1604
Level     0,  Iter    23:    Energy =   0.1608
Level     0,  Iter    24:    Energy =   0.1606
Level     0,  Iter    25:    Energy =   0.1610
Level     0,  Iter    26:    Energy =   0.1607
Level     0,  Iter    27:    Energy =   0.1611
Level     0,  Iter    28:    Energy =   0.1608
Level     0,  Iter    29:    Energy =   0.1611
Level     0,  Iter    30:    Energy =   0.1608
Level     0,  Iter    31:    Energy =   0.1612
Level     0,  Iter    32:    Energy =   0.1609
Level     0,  Iter    33:    Energy =   0.1612
Level     0,  Iter    34:    Energy =   0.1609
Level     0,  Iter    35:    Energy =   0.1613
Level     0,  Iter    36:    Energy =   0.1610
Level     0,  Iter    37:    Energy =   0.1613
Level     0,  Iter    38:    Energy =   0.1610
Level     0,  Iter    39:    Energy =   0.1613
Level     0,  Iter    40:    Energy =   0.1610
Level     0,  Iter    41:    Energy =   0.1614
Level     0,  Iter    42:    Energy =   0.1611
Level     0,  Iter    43:    Energy =   0.1614
Level     0,  Iter    44:    Energy =   0.1611
Level     0,  Iter    45:    Energy =   0.1614
Level     0,  Iter    46:    Energy =   0.1611
Level     0,  Iter    47:    Energy =   0.1615
Level     0,  Iter    48:    Energy =   0.1612
Level     0,  Iter    49:    Energy =   0.1615
Level     0,  Iter    50:    Energy =   0.1612
Level     0,  Iter    51:    Energy =   0.1615
Level     0,  Iter    52:    Energy =   0.1613
Level     0,  Iter    53:    Energy =   0.1616
Level     0,  Iter    54:    Energy =   0.1613
Level     0,  Iter    55:    Energy =   0.1616
Level     0,  Iter    56:    Energy =   0.1613
Level     0,  Iter    57:    Energy =   0.1616
Level     0,  Iter    58:    Energy =   0.1613
Level     0,  Iter    59:    Energy =   0.1616
END OF LEVEL     0    DetJac Range:   0.2387  to   1.6428 
  Avg. Gradient Time  : 0.0054s  34.78% 
  Avg. Gaussian Time  : 0.0071s  45.50% 
  Avg. Iteration Time : 0.0157s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1115
Level     1,  Iter     1:    Energy =   0.1182
Level     1,  Iter     2:    Energy =   0.1240
Level     1,  Iter     3:    Energy =   0.1287
Level     1,  Iter     4:    Energy =   0.1331
Level     1,  Iter     5:    Energy =   0.1362
Level     1,  Iter     6:    Energy =   0.1379
Level     1,  Iter     7:    Energy =   0.1393
Level     1,  Iter     8:    Energy =   0.1404
Level     1,  Iter     9:    Energy =   0.1420
Level     1,  Iter    10:    Energy =   0.1432
Level     1,  Iter    11:    Energy =   0.1431
Level     1,  Iter    12:    Energy =   0.1437
Level     1,  Iter    13:    Energy =   0.1437
Level     1,  Iter    14:    Energy =   0.1443
Level     1,  Iter    15:    Energy =   0.1443
Level     1,  Iter    16:    Energy =   0.1447
Level     1,  Iter    17:    Energy =   0.1447
Level     1,  Iter    18:    Energy =   0.1451
Level     1,  Iter    19:    Energy =   0.1451
Level     1,  Iter    20:    Energy =   0.1455
Level     1,  Iter    21:    Energy =   0.1454
Level     1,  Iter    22:    Energy =   0.1458
Level     1,  Iter    23:    Energy =   0.1457
Level     1,  Iter    24:    Energy =   0.1460
Level     1,  Iter    25:    Energy =   0.1459
Level     1,  Iter    26:    Energy =   0.1462
Level     1,  Iter    27:    Energy =   0.1461
Level     1,  Iter    28:    Energy =   0.1464
Level     1,  Iter    29:    Energy =   0.1463
Level     1,  Iter    30:    Energy =   0.1465
Level     1,  Iter    31:    Energy =   0.1464
Level     1,  Iter    32:    Energy =   0.1465
Level     1,  Iter    33:    Energy =   0.1466
Level     1,  Iter    34:    Energy =   0.1465
Level     1,  Iter    35:    Energy =   0.1467
Level     1,  Iter    36:    Energy =   0.1466
Level     1,  Iter    37:    Energy =   0.1468
Level     1,  Iter    38:    Energy =   0.1467
Level     1,  Iter    39:    Energy =   0.1469
Level     1,  Iter    40:    Energy =   0.1468
Level     1,  Iter    41:    Energy =   0.1469
Level     1,  Iter    42:    Energy =   0.1468
Level     1,  Iter    43:    Energy =   0.1470
Level     1,  Iter    44:    Energy =   0.1469
Level     1,  Iter    45:    Energy =   0.1470
Level     1,  Iter    46:    Energy =   0.1469
Level     1,  Iter    47:    Energy =   0.1471
Level     1,  Iter    48:    Energy =   0.1470
Level     1,  Iter    49:    Energy =   0.1471
Level     1,  Iter    50:    Energy =   0.1470
Level     1,  Iter    51:    Energy =   0.1471
Level     1,  Iter    52:    Energy =   0.1470
Level     1,  Iter    53:    Energy =   0.1471
Level     1,  Iter    54:    Energy =   0.1471
Level     1,  Iter    55:    Energy =   0.1471
Level     1,  Iter    56:    Energy =   0.1471
Level     1,  Iter    57:    Energy =   0.1471
Level     1,  Iter    58:    Energy =   0.1471
Level     1,  Iter    59:    Energy =   0.1471
END OF LEVEL     1    DetJac Range:   0.1369  to   2.7766 
  Avg. Gradient Time  : 0.0246s  34.48% 
  Avg. Gaussian Time  : 0.0346s  48.54% 
  Avg. Iteration Time : 0.0713s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0780
Level     2,  Iter     1:    Energy =   0.0810
Level     2,  Iter     2:    Energy =   0.0835
Level     2,  Iter     3:    Energy =   0.0864
Level     2,  Iter     4:    Energy =   0.0890
Level     2,  Iter     5:    Energy =   0.0911
Level     2,  Iter     6:    Energy =   0.0924
Level     2,  Iter     7:    Energy =   0.0930
Level     2,  Iter     8:    Energy =   0.0939
Level     2,  Iter     9:    Energy =   0.0943
Level     2,  Iter    10:    Energy =   0.0950
Level     2,  Iter    11:    Energy =   0.0953
Level     2,  Iter    12:    Energy =   0.0959
Level     2,  Iter    13:    Energy =   0.0961
Level     2,  Iter    14:    Energy =   0.0966
Level     2,  Iter    15:    Energy =   0.0967
Level     2,  Iter    16:    Energy =   0.0972
Level     2,  Iter    17:    Energy =   0.0972
Level     2,  Iter    18:    Energy =   0.0977
Level     2,  Iter    19:    Energy =   0.0976
END OF LEVEL     2    DetJac Range:   0.1143  to   3.4711 
  Avg. Gradient Time  : 0.1167s  33.48% 
  Avg. Gaussian Time  : 0.1821s  52.25% 
  Avg. Iteration Time : 0.3485s 

real	0m14.677s
user	0m20.194s
sys	0m2.658s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.251429 0.255714
+ echo 'CHUNK 0.251429 0.255714 1'
CHUNK 0.251429 0.255714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.251429 0.255714 1
====================================
         PROGRESS: 0.251429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 013
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 013 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=013
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.451
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3255.34   GNORM= 1112.64
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3776.627     499.413       0.001
   2    3     -3861.091     154.741       1.000
   3    4     -3880.115     125.249       1.000
   4    5     -3911.892     186.021       1.000
   5    6     -3943.489     196.101       1.000
   6    7     -3973.212     110.669       1.000
   7    8     -3984.959      49.202       1.000
   8    9     -3991.721      61.016       1.000
   9   10     -3998.334     110.070       1.000
  10   11     -4005.617      85.647       1.000
  11   12     -4008.815      64.906       1.000
  12   13     -4009.882      24.464       1.000
  13   14     -4010.018      22.883       1.000
  14   15     -4010.254      13.669       1.000
  15   16     -4010.515      20.338       1.000
  16   17     -4010.915      19.649       1.000
  17   19     -4011.368      25.068       0.287
  18   20     -4011.622      26.546       1.000
  19   21     -4011.844      11.631       1.000
  20   22     -4011.912       9.146       1.000
  21   23     -4012.005      14.570       1.000
  22   24     -4012.119      13.113       1.000
  23   26     -4012.158       8.184       0.194
  24   27     -4012.203       9.083       1.000
  25   28     -4012.233      16.853       1.000
  26   29     -4012.316      10.382       1.000
  27   30     -4012.372      15.147       1.000
  28   31     -4012.425      12.778       1.000
  29   32     -4012.470       8.049       1.000
  30   33     -4012.473      14.932       1.000
  31   34     -4012.503       7.417       1.000
  32   35     -4012.514       8.947       1.000
  33   36     -4012.533       7.385       1.000
  34   38     -4012.538       6.464       0.352
  35   39     -4012.548       4.262       1.000
  36   40     -4012.556       7.790       1.000
  37   41     -4012.567       4.041       1.000
  38   43     -4012.571       2.525       0.460
Final RAS Transform: 
0.986199 -0.0102715 -0.0203286 -0.800552 
-0.0221258 0.98759 0.0106592 -0.138627 
-0.00717447 0.00460316 1.03256 1.54066 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2862.86   GNORM= 165.453
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2871.246      69.316       0.001
   2    4     -2874.026      65.051       1.000
   3    5     -2880.283      67.558       1.000
   4    6     -2885.554      57.467       1.000
   5    7     -2894.093      96.491       1.000
   6    8     -2899.533      52.096       1.000
   7    9     -2901.472      32.394       1.000
   8   10     -2902.202      25.227       1.000
   9   11     -2903.392      29.750       1.000
  10   12     -2909.948      22.927       1.000
  11   14     -2910.693      32.056       0.291
  12   15     -2911.036      12.821       1.000
  13   16     -2911.173      10.201       1.000
  14   17     -2911.396      16.933       1.000
  15   18     -2911.739      18.380       1.000
  16   19     -2912.161      42.472       1.000
  17   20     -2913.184      16.412       1.000
  18   21     -2913.446      17.294       1.000
  19   22     -2913.635      13.781       1.000
  20   23     -2913.911      14.701       1.000
  21   24     -2914.048       8.305       1.000
  22   25     -2914.087       5.211       1.000
  23   26     -2914.094      10.603       1.000
  24   27     -2914.191       7.063       1.000
  25   29     -2914.211       9.102       0.360
  26   30     -2914.241       7.433       1.000
  27   31     -2914.334       4.648       1.000
  28   32     -2914.390       4.100       1.000
  29   34     -2914.426       5.671       0.426
  30   35     -2914.450       3.053       1.000
  31   36     -2914.458       1.910       1.000
  32   37     -2914.462       2.326       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00252 -0.0059741 -0.00126676 -0.087859 
-0.00640435 1.00525 0.00661844 -0.0227115 
-0.00369641 -0.00654957 1.01302 1.53525 
0 0 0 1 

Final RAS Transform: 
1.00252 -0.0059741 -0.00126676 -0.087859 
-0.00640435 1.00525 0.00661844 -0.0227115 
-0.00369641 -0.00654957 1.01302 1.53525 
0 0 0 1 


real	0m4.591s
user	0m5.974s
sys	0m0.709s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.437154
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1293
Level     0,  Iter     1:    Energy =   0.1390
Level     0,  Iter     2:    Energy =   0.1462
Level     0,  Iter     3:    Energy =   0.1515
Level     0,  Iter     4:    Energy =   0.1541
Level     0,  Iter     5:    Energy =   0.1561
Level     0,  Iter     6:    Energy =   0.1577
Level     0,  Iter     7:    Energy =   0.1591
Level     0,  Iter     8:    Energy =   0.1603
Level     0,  Iter     9:    Energy =   0.1616
Level     0,  Iter    10:    Energy =   0.1625
Level     0,  Iter    11:    Energy =   0.1636
Level     0,  Iter    12:    Energy =   0.1644
Level     0,  Iter    13:    Energy =   0.1651
Level     0,  Iter    14:    Energy =   0.1658
Level     0,  Iter    15:    Energy =   0.1659
Level     0,  Iter    16:    Energy =   0.1667
Level     0,  Iter    17:    Energy =   0.1674
Level     0,  Iter    18:    Energy =   0.1676
Level     0,  Iter    19:    Energy =   0.1667
Level     0,  Iter    20:    Energy =   0.1671
Level     0,  Iter    21:    Energy =   0.1671
Level     0,  Iter    22:    Energy =   0.1675
Level     0,  Iter    23:    Energy =   0.1673
Level     0,  Iter    24:    Energy =   0.1680
Level     0,  Iter    25:    Energy =   0.1687
Level     0,  Iter    26:    Energy =   0.1686
Level     0,  Iter    27:    Energy =   0.1674
Level     0,  Iter    28:    Energy =   0.1675
Level     0,  Iter    29:    Energy =   0.1671
Level     0,  Iter    30:    Energy =   0.1675
Level     0,  Iter    31:    Energy =   0.1674
Level     0,  Iter    32:    Energy =   0.1678
Level     0,  Iter    33:    Energy =   0.1675
Level     0,  Iter    34:    Energy =   0.1682
Level     0,  Iter    35:    Energy =   0.1689
Level     0,  Iter    36:    Energy =   0.1689
Level     0,  Iter    37:    Energy =   0.1678
Level     0,  Iter    38:    Energy =   0.1680
Level     0,  Iter    39:    Energy =   0.1678
Level     0,  Iter    40:    Energy =   0.1681
Level     0,  Iter    41:    Energy =   0.1679
Level     0,  Iter    42:    Energy =   0.1684
Level     0,  Iter    43:    Energy =   0.1685
Level     0,  Iter    44:    Energy =   0.1689
Level     0,  Iter    45:    Energy =   0.1686
Level     0,  Iter    46:    Energy =   0.1689
Level     0,  Iter    47:    Energy =   0.1683
Level     0,  Iter    48:    Energy =   0.1692
Level     0,  Iter    49:    Energy =   0.1703
Level     0,  Iter    50:    Energy =   0.1696
Level     0,  Iter    51:    Energy =   0.1683
Level     0,  Iter    52:    Energy =   0.1682
Level     0,  Iter    53:    Energy =   0.1675
Level     0,  Iter    54:    Energy =   0.1677
Level     0,  Iter    55:    Energy =   0.1677
Level     0,  Iter    56:    Energy =   0.1680
Level     0,  Iter    57:    Energy =   0.1681
Level     0,  Iter    58:    Energy =   0.1684
Level     0,  Iter    59:    Energy =   0.1681
END OF LEVEL     0    DetJac Range:   0.3579  to   1.9860 
  Avg. Gradient Time  : 0.0063s  32.39% 
  Avg. Gaussian Time  : 0.0084s  43.11% 
  Avg. Iteration Time : 0.0196s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1138
Level     1,  Iter     1:    Energy =   0.1207
Level     1,  Iter     2:    Energy =   0.1249
Level     1,  Iter     3:    Energy =   0.1298
Level     1,  Iter     4:    Energy =   0.1336
Level     1,  Iter     5:    Energy =   0.1369
Level     1,  Iter     6:    Energy =   0.1393
Level     1,  Iter     7:    Energy =   0.1413
Level     1,  Iter     8:    Energy =   0.1433
Level     1,  Iter     9:    Energy =   0.1449
Level     1,  Iter    10:    Energy =   0.1459
Level     1,  Iter    11:    Energy =   0.1461
Level     1,  Iter    12:    Energy =   0.1464
Level     1,  Iter    13:    Energy =   0.1471
Level     1,  Iter    14:    Energy =   0.1469
Level     1,  Iter    15:    Energy =   0.1479
Level     1,  Iter    16:    Energy =   0.1477
Level     1,  Iter    17:    Energy =   0.1484
Level     1,  Iter    18:    Energy =   0.1482
Level     1,  Iter    19:    Energy =   0.1488
Level     1,  Iter    20:    Energy =   0.1486
Level     1,  Iter    21:    Energy =   0.1489
Level     1,  Iter    22:    Energy =   0.1488
Level     1,  Iter    23:    Energy =   0.1491
Level     1,  Iter    24:    Energy =   0.1490
Level     1,  Iter    25:    Energy =   0.1493
Level     1,  Iter    26:    Energy =   0.1493
Level     1,  Iter    27:    Energy =   0.1496
Level     1,  Iter    28:    Energy =   0.1495
Level     1,  Iter    29:    Energy =   0.1499
Level     1,  Iter    30:    Energy =   0.1497
Level     1,  Iter    31:    Energy =   0.1499
Level     1,  Iter    32:    Energy =   0.1499
Level     1,  Iter    33:    Energy =   0.1500
Level     1,  Iter    34:    Energy =   0.1500
Level     1,  Iter    35:    Energy =   0.1501
Level     1,  Iter    36:    Energy =   0.1501
Level     1,  Iter    37:    Energy =   0.1502
Level     1,  Iter    38:    Energy =   0.1502
Level     1,  Iter    39:    Energy =   0.1503
Level     1,  Iter    40:    Energy =   0.1503
Level     1,  Iter    41:    Energy =   0.1504
Level     1,  Iter    42:    Energy =   0.1504
Level     1,  Iter    43:    Energy =   0.1505
Level     1,  Iter    44:    Energy =   0.1504
Level     1,  Iter    45:    Energy =   0.1507
Level     1,  Iter    46:    Energy =   0.1505
Level     1,  Iter    47:    Energy =   0.1507
Level     1,  Iter    48:    Energy =   0.1506
Level     1,  Iter    49:    Energy =   0.1507
Level     1,  Iter    50:    Energy =   0.1506
Level     1,  Iter    51:    Energy =   0.1507
Level     1,  Iter    52:    Energy =   0.1507
Level     1,  Iter    53:    Energy =   0.1507
Level     1,  Iter    54:    Energy =   0.1507
Level     1,  Iter    55:    Energy =   0.1507
Level     1,  Iter    56:    Energy =   0.1507
Level     1,  Iter    57:    Energy =   0.1508
Level     1,  Iter    58:    Energy =   0.1507
Level     1,  Iter    59:    Energy =   0.1509
END OF LEVEL     1    DetJac Range:   0.1014  to   3.1169 
  Avg. Gradient Time  : 0.0255s  34.03% 
  Avg. Gaussian Time  : 0.0367s  48.90% 
  Avg. Iteration Time : 0.0750s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0795
Level     2,  Iter     1:    Energy =   0.0823
Level     2,  Iter     2:    Energy =   0.0859
Level     2,  Iter     3:    Energy =   0.0887
Level     2,  Iter     4:    Energy =   0.0912
Level     2,  Iter     5:    Energy =   0.0935
Level     2,  Iter     6:    Energy =   0.0941
Level     2,  Iter     7:    Energy =   0.0948
Level     2,  Iter     8:    Energy =   0.0952
Level     2,  Iter     9:    Energy =   0.0956
Level     2,  Iter    10:    Energy =   0.0962
Level     2,  Iter    11:    Energy =   0.0963
Level     2,  Iter    12:    Energy =   0.0969
Level     2,  Iter    13:    Energy =   0.0970
Level     2,  Iter    14:    Energy =   0.0975
Level     2,  Iter    15:    Energy =   0.0975
Level     2,  Iter    16:    Energy =   0.0979
Level     2,  Iter    17:    Energy =   0.0979
Level     2,  Iter    18:    Energy =   0.0983
Level     2,  Iter    19:    Energy =   0.0982
END OF LEVEL     2    DetJac Range:   0.0946  to   3.2891 
  Avg. Gradient Time  : 0.1185s  33.44% 
  Avg. Gaussian Time  : 0.1841s  51.93% 
  Avg. Iteration Time : 0.3544s 

real	0m15.151s
user	0m20.212s
sys	0m3.450s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.255714 0.26
+ echo 'CHUNK 0.255714 0.26 1'
CHUNK 0.255714 0.26 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.255714 0.26 1
====================================
         PROGRESS: 0.255714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 014
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 014 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=014
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.596
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3472.45   GNORM= 1160.92
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3720.366     830.060       0.001
   2    3     -3895.801     206.318       1.000
   3    4     -3912.282     129.204       1.000
   4    5     -3921.787     156.574       1.000
   5    6     -3933.018     114.314       1.000
   6    7     -3961.908     104.898       1.000
   7    8     -3969.640      78.437       1.000
   8    9     -3973.398      53.721       1.000
   9   10     -3975.781      55.566       1.000
  10   11     -3982.246      84.762       1.000
  11   13     -3984.421      25.336       0.335
  12   14     -3984.789      19.619       1.000
  13   15     -3984.983      16.987       1.000
  14   16     -3985.367      19.507       1.000
  15   18     -3985.985      28.887       0.383
  16   19     -3985.994      25.995       1.000
  17   21     -3986.313      19.454       0.507
  18   22     -3986.776      18.377       1.000
  19   24     -3986.945      12.758       0.175
  20   25     -3987.057       9.284       1.000
  21   26     -3987.249      11.345       1.000
  22   28     -3987.333      13.444       0.279
  23   29     -3987.501      10.496       1.000
  24   30     -3987.609       5.694       1.000
  25   31     -3987.659       7.122       1.000
  26   32     -3987.695       9.003       1.000
  27   33     -3987.730       9.269       1.000
  28   34     -3987.751       6.575       1.000
  29   35     -3987.768       2.991       1.000
  30   36     -3987.774       7.788       1.000
  31   38     -3987.781       7.860       0.294
  32   39     -3987.798       5.322       1.000
  33   40     -3987.810       3.168       1.000
  34   41     -3987.825       8.035       1.000
  35   42     -3987.837       7.184       1.000
  36   44     -3987.868       6.579       0.159
  37   47     -3987.875       5.888       0.070
Final RAS Transform: 
0.98446 -0.0127147 -0.028781 -0.937008 
0.0272351 0.992121 0.00495426 1.316 
-0.013431 -0.00984142 0.988378 0.408693 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2832.68   GNORM= 58.8424
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2837.952      95.740       0.003
   2    4     -2843.094      75.921       1.000
   3    5     -2849.487      74.487       1.000
   4    6     -2882.798     131.817       1.000
   5    7     -2900.426     128.786       1.000
   6    8     -2905.873      46.956       1.000
   7    9     -2907.990      28.821       1.000
   8   10     -2909.782      29.538       1.000
   9   11     -2912.060      32.033       1.000
  10   12     -2915.327      38.639       1.000
  11   13     -2917.145      29.759       1.000
  12   15     -2918.169      37.155       0.517
  13   16     -2919.232      31.405       1.000
  14   17     -2920.303       6.621       1.000
  15   18     -2920.492       5.216       1.000
  16   19     -2920.574       7.462       1.000
  17   20     -2920.625       4.071       1.000
  18   22     -2920.651       5.436       0.373
  19   23     -2920.661       2.699       1.000
  20   24     -2920.673       2.917       1.000
  21   26     -2920.704      11.726       0.350
  22   27     -2920.725       6.273       1.000
  23   28     -2920.742       2.616       1.000
  24   29     -2920.748       5.166       1.000
  25   30     -2920.759       4.299       1.000
  26   32     -2920.762       3.017       0.358
  27   33     -2920.767       1.862       1.000
  28   34     -2920.769       3.212       1.000
  29   35     -2920.774       2.663       1.000
  30   36     -2920.787       2.496       1.000
  31   37     -2920.788       3.390       1.000
  32   38     -2920.797       4.003       1.000
  33   39     -2920.816       3.178       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999786 -0.00837079 0.0162032 0.284653 
0.0327103 1.01664 -0.00706147 0.82995 
-0.00841283 -0.0179913 1.01962 1.23049 
0 0 0 1 

Final RAS Transform: 
0.999786 -0.00837079 0.0162032 0.284653 
0.0327103 1.01664 -0.00706147 0.82995 
-0.00841283 -0.0179913 1.01962 1.23049 
0 0 0 1 


real	0m4.620s
user	0m6.102s
sys	0m0.787s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.572428
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1283
Level     0,  Iter     1:    Energy =   0.1362
Level     0,  Iter     2:    Energy =   0.1446
Level     0,  Iter     3:    Energy =   0.1492
Level     0,  Iter     4:    Energy =   0.1508
Level     0,  Iter     5:    Energy =   0.1521
Level     0,  Iter     6:    Energy =   0.1531
Level     0,  Iter     7:    Energy =   0.1541
Level     0,  Iter     8:    Energy =   0.1552
Level     0,  Iter     9:    Energy =   0.1562
Level     0,  Iter    10:    Energy =   0.1573
Level     0,  Iter    11:    Energy =   0.1584
Level     0,  Iter    12:    Energy =   0.1594
Level     0,  Iter    13:    Energy =   0.1600
Level     0,  Iter    14:    Energy =   0.1602
Level     0,  Iter    15:    Energy =   0.1609
Level     0,  Iter    16:    Energy =   0.1612
Level     0,  Iter    17:    Energy =   0.1619
Level     0,  Iter    18:    Energy =   0.1621
Level     0,  Iter    19:    Energy =   0.1627
Level     0,  Iter    20:    Energy =   0.1625
Level     0,  Iter    21:    Energy =   0.1632
Level     0,  Iter    22:    Energy =   0.1633
Level     0,  Iter    23:    Energy =   0.1636
Level     0,  Iter    24:    Energy =   0.1632
Level     0,  Iter    25:    Energy =   0.1636
Level     0,  Iter    26:    Energy =   0.1636
Level     0,  Iter    27:    Energy =   0.1640
Level     0,  Iter    28:    Energy =   0.1635
Level     0,  Iter    29:    Energy =   0.1640
Level     0,  Iter    30:    Energy =   0.1640
Level     0,  Iter    31:    Energy =   0.1643
Level     0,  Iter    32:    Energy =   0.1638
Level     0,  Iter    33:    Energy =   0.1643
Level     0,  Iter    34:    Energy =   0.1641
Level     0,  Iter    35:    Energy =   0.1645
Level     0,  Iter    36:    Energy =   0.1642
Level     0,  Iter    37:    Energy =   0.1647
Level     0,  Iter    38:    Energy =   0.1645
Level     0,  Iter    39:    Energy =   0.1649
Level     0,  Iter    40:    Energy =   0.1645
Level     0,  Iter    41:    Energy =   0.1649
Level     0,  Iter    42:    Energy =   0.1647
Level     0,  Iter    43:    Energy =   0.1651
Level     0,  Iter    44:    Energy =   0.1647
Level     0,  Iter    45:    Energy =   0.1650
Level     0,  Iter    46:    Energy =   0.1647
Level     0,  Iter    47:    Energy =   0.1650
Level     0,  Iter    48:    Energy =   0.1646
Level     0,  Iter    49:    Energy =   0.1650
Level     0,  Iter    50:    Energy =   0.1649
Level     0,  Iter    51:    Energy =   0.1652
Level     0,  Iter    52:    Energy =   0.1648
Level     0,  Iter    53:    Energy =   0.1652
Level     0,  Iter    54:    Energy =   0.1650
Level     0,  Iter    55:    Energy =   0.1653
Level     0,  Iter    56:    Energy =   0.1649
Level     0,  Iter    57:    Energy =   0.1653
Level     0,  Iter    58:    Energy =   0.1650
Level     0,  Iter    59:    Energy =   0.1654
END OF LEVEL     0    DetJac Range:   0.1888  to   1.7487 
  Avg. Gradient Time  : 0.0055s  34.86% 
  Avg. Gaussian Time  : 0.0072s  45.42% 
  Avg. Iteration Time : 0.0159s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1153
Level     1,  Iter     1:    Energy =   0.1219
Level     1,  Iter     2:    Energy =   0.1279
Level     1,  Iter     3:    Energy =   0.1329
Level     1,  Iter     4:    Energy =   0.1370
Level     1,  Iter     5:    Energy =   0.1404
Level     1,  Iter     6:    Energy =   0.1429
Level     1,  Iter     7:    Energy =   0.1439
Level     1,  Iter     8:    Energy =   0.1448
Level     1,  Iter     9:    Energy =   0.1454
Level     1,  Iter    10:    Energy =   0.1461
Level     1,  Iter    11:    Energy =   0.1465
Level     1,  Iter    12:    Energy =   0.1470
Level     1,  Iter    13:    Energy =   0.1473
Level     1,  Iter    14:    Energy =   0.1477
Level     1,  Iter    15:    Energy =   0.1478
Level     1,  Iter    16:    Energy =   0.1482
Level     1,  Iter    17:    Energy =   0.1483
Level     1,  Iter    18:    Energy =   0.1487
Level     1,  Iter    19:    Energy =   0.1487
Level     1,  Iter    20:    Energy =   0.1490
Level     1,  Iter    21:    Energy =   0.1490
Level     1,  Iter    22:    Energy =   0.1493
Level     1,  Iter    23:    Energy =   0.1493
Level     1,  Iter    24:    Energy =   0.1495
Level     1,  Iter    25:    Energy =   0.1495
Level     1,  Iter    26:    Energy =   0.1497
Level     1,  Iter    27:    Energy =   0.1496
Level     1,  Iter    28:    Energy =   0.1498
Level     1,  Iter    29:    Energy =   0.1497
Level     1,  Iter    30:    Energy =   0.1499
Level     1,  Iter    31:    Energy =   0.1499
Level     1,  Iter    32:    Energy =   0.1499
Level     1,  Iter    33:    Energy =   0.1499
Level     1,  Iter    34:    Energy =   0.1500
Level     1,  Iter    35:    Energy =   0.1500
Level     1,  Iter    36:    Energy =   0.1500
Level     1,  Iter    37:    Energy =   0.1500
Level     1,  Iter    38:    Energy =   0.1501
Level     1,  Iter    39:    Energy =   0.1501
Level     1,  Iter    40:    Energy =   0.1501
Level     1,  Iter    41:    Energy =   0.1501
Level     1,  Iter    42:    Energy =   0.1502
Level     1,  Iter    43:    Energy =   0.1502
Level     1,  Iter    44:    Energy =   0.1502
Level     1,  Iter    45:    Energy =   0.1502
Level     1,  Iter    46:    Energy =   0.1503
Level     1,  Iter    47:    Energy =   0.1503
Level     1,  Iter    48:    Energy =   0.1503
Level     1,  Iter    49:    Energy =   0.1502
Level     1,  Iter    50:    Energy =   0.1504
Level     1,  Iter    51:    Energy =   0.1503
Level     1,  Iter    52:    Energy =   0.1504
Level     1,  Iter    53:    Energy =   0.1503
Level     1,  Iter    54:    Energy =   0.1504
Level     1,  Iter    55:    Energy =   0.1504
Level     1,  Iter    56:    Energy =   0.1505
Level     1,  Iter    57:    Energy =   0.1504
Level     1,  Iter    58:    Energy =   0.1505
Level     1,  Iter    59:    Energy =   0.1504
END OF LEVEL     1    DetJac Range:   0.1147  to   2.6463 
  Avg. Gradient Time  : 0.0247s  34.65% 
  Avg. Gaussian Time  : 0.0345s  48.46% 
  Avg. Iteration Time : 0.0712s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0787
Level     2,  Iter     1:    Energy =   0.0825
Level     2,  Iter     2:    Energy =   0.0860
Level     2,  Iter     3:    Energy =   0.0888
Level     2,  Iter     4:    Energy =   0.0906
Level     2,  Iter     5:    Energy =   0.0925
Level     2,  Iter     6:    Energy =   0.0947
Level     2,  Iter     7:    Energy =   0.0959
Level     2,  Iter     8:    Energy =   0.0961
Level     2,  Iter     9:    Energy =   0.0976
Level     2,  Iter    10:    Energy =   0.0981
Level     2,  Iter    11:    Energy =   0.0989
Level     2,  Iter    12:    Energy =   0.0987
Level     2,  Iter    13:    Energy =   0.1003
Level     2,  Iter    14:    Energy =   0.1005
Level     2,  Iter    15:    Energy =   0.1009
Level     2,  Iter    16:    Energy =   0.1006
Level     2,  Iter    17:    Energy =   0.1019
Level     2,  Iter    18:    Energy =   0.1019
Level     2,  Iter    19:    Energy =   0.1022
END OF LEVEL     2    DetJac Range:   0.0807  to   3.5975 
  Avg. Gradient Time  : 0.1149s  32.64% 
  Avg. Gaussian Time  : 0.1855s  52.68% 
  Avg. Iteration Time : 0.3521s 

real	0m14.644s
user	0m20.414s
sys	0m2.668s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.26 0.264286
+ echo 'CHUNK 0.26 0.264286 1'
CHUNK 0.26 0.264286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.26 0.264286 1
====================================
         PROGRESS: 0.26               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 015
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 015 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=015
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.524
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3686.22   GNORM= 613.116
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3829.537     488.101       0.002
   2    3     -3908.368     181.369       1.000
   3    4     -3917.337     107.045       1.000
   4    5     -3925.434     118.298       1.000
   5    6     -3956.918     190.085       1.000
   6    7     -3974.730     138.885       1.000
   7    8     -3984.712      69.638       1.000
   8    9     -3988.329      78.136       1.000
   9   10     -3993.990      69.830       1.000
  10   11     -3999.846      29.657       1.000
  11   12     -4000.603      47.778       1.000
  12   13     -4001.693      32.649       1.000
  13   14     -4002.836      28.274       1.000
  14   15     -4004.268      16.620       1.000
  15   17     -4005.507      39.179       0.373
  16   18     -4005.892      16.683       1.000
  17   19     -4006.122      13.012       1.000
  18   20     -4006.358      28.020       1.000
  19   21     -4006.675      13.057       1.000
  20   22     -4007.040      20.731       1.000
  21   23     -4007.406      32.408       1.000
  22   24     -4007.602      20.822       1.000
  23   25     -4007.733      17.601       1.000
  24   26     -4007.891       9.562       1.000
  25   27     -4008.006      11.124       1.000
  26   28     -4008.203      25.174       1.000
  27   29     -4008.269      20.817       1.000
  28   30     -4008.389      11.895       1.000
  29   31     -4008.402       5.586       1.000
  30   32     -4008.429       8.944       1.000
  31   33     -4008.456      10.038       1.000
  32   34     -4008.471       6.280       1.000
  33   35     -4008.486      14.194       1.000
  34   36     -4008.522      14.981       1.000
  35   38     -4008.550      10.830       0.253
  36   39     -4008.570       5.604       1.000
  37   40     -4008.576       4.734       1.000
  38   41     -4008.588       2.455       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.983065 -0.00409475 -0.0377666 -1.22227 
0.0345791 0.979852 0.00391509 1.3177 
-0.0204059 0.0188475 1.01669 -0.31303 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2828.96   GNORM= 90.5037
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2832.400      50.840       0.001
   2    4     -2834.465      55.560       1.000
   3    5     -2850.816     155.908       1.000
   4    6     -2867.367     161.078       1.000
   5    7     -2908.455      81.739       1.000
   6    8     -2913.257      52.677       1.000
   7    9     -2916.682      59.536       1.000
   8   10     -2918.967      30.276       1.000
   9   11     -2922.861      32.308       1.000
  10   12     -2926.393      33.803       1.000
  11   13     -2927.986      83.391       1.000
  12   14     -2932.440      36.363       1.000
  13   15     -2936.229      13.351       1.000
  14   16     -2937.362      32.529       1.000
  15   18     -2938.011      23.631       0.502
  16   19     -2938.659      13.728       1.000
  17   20     -2939.389      15.533       1.000
  18   21     -2939.900      21.532       1.000
  19   22     -2940.328      10.232       1.000
  20   23     -2940.537      11.588       1.000
  21   25     -2940.776      28.532       0.428
  22   26     -2941.181      12.655       1.000
  23   27     -2941.323       7.857       1.000
  24   28     -2941.487      12.215       1.000
  25   29     -2941.749      19.731       1.000
  26   30     -2941.927      20.761       1.000
  27   31     -2942.217       7.916       1.000
  28   32     -2942.342      13.057       1.000
  29   33     -2942.427      13.409       1.000
  30   35     -2942.497       8.842       0.359
  31   36     -2942.579       7.603       1.000
  32   37     -2942.704       9.966       1.000
  33   38     -2942.782       6.468       1.000
  34   39     -2942.857       7.192       1.000
  35   40     -2942.921      10.424       1.000
  36   41     -2943.005       8.804       1.000
  37   42     -2943.072       4.571       1.000
  38   43     -2943.098       2.894       1.000
  39   44     -2943.111       4.050       1.000
Final RAS Transform: 
1.00063 -0.0222122 -0.00432972 0.290637 
0.040398 1.02569 0.0302448 0.849498 
-0.0184357 -0.0179113 1.00535 0.405824 
0 0 0 1 

Final RAS Transform: 
1.00063 -0.0222122 -0.00432972 0.290637 
0.040398 1.02569 0.0302448 0.849498 
-0.0184357 -0.0179113 1.00535 0.405824 
0 0 0 1 


real	0m4.615s
user	0m6.311s
sys	0m0.700s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.504117
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1299
Level     0,  Iter     1:    Energy =   0.1377
Level     0,  Iter     2:    Energy =   0.1452
Level     0,  Iter     3:    Energy =   0.1507
Level     0,  Iter     4:    Energy =   0.1527
Level     0,  Iter     5:    Energy =   0.1537
Level     0,  Iter     6:    Energy =   0.1548
Level     0,  Iter     7:    Energy =   0.1556
Level     0,  Iter     8:    Energy =   0.1563
Level     0,  Iter     9:    Energy =   0.1569
Level     0,  Iter    10:    Energy =   0.1575
Level     0,  Iter    11:    Energy =   0.1580
Level     0,  Iter    12:    Energy =   0.1585
Level     0,  Iter    13:    Energy =   0.1589
Level     0,  Iter    14:    Energy =   0.1593
Level     0,  Iter    15:    Energy =   0.1598
Level     0,  Iter    16:    Energy =   0.1601
Level     0,  Iter    17:    Energy =   0.1605
Level     0,  Iter    18:    Energy =   0.1608
Level     0,  Iter    19:    Energy =   0.1611
Level     0,  Iter    20:    Energy =   0.1613
Level     0,  Iter    21:    Energy =   0.1615
Level     0,  Iter    22:    Energy =   0.1618
Level     0,  Iter    23:    Energy =   0.1619
Level     0,  Iter    24:    Energy =   0.1621
Level     0,  Iter    25:    Energy =   0.1621
Level     0,  Iter    26:    Energy =   0.1623
Level     0,  Iter    27:    Energy =   0.1622
Level     0,  Iter    28:    Energy =   0.1625
Level     0,  Iter    29:    Energy =   0.1624
Level     0,  Iter    30:    Energy =   0.1627
Level     0,  Iter    31:    Energy =   0.1626
Level     0,  Iter    32:    Energy =   0.1628
Level     0,  Iter    33:    Energy =   0.1627
Level     0,  Iter    34:    Energy =   0.1629
Level     0,  Iter    35:    Energy =   0.1629
Level     0,  Iter    36:    Energy =   0.1630
Level     0,  Iter    37:    Energy =   0.1628
Level     0,  Iter    38:    Energy =   0.1630
Level     0,  Iter    39:    Energy =   0.1630
Level     0,  Iter    40:    Energy =   0.1631
Level     0,  Iter    41:    Energy =   0.1629
Level     0,  Iter    42:    Energy =   0.1631
Level     0,  Iter    43:    Energy =   0.1631
Level     0,  Iter    44:    Energy =   0.1632
Level     0,  Iter    45:    Energy =   0.1630
Level     0,  Iter    46:    Energy =   0.1632
Level     0,  Iter    47:    Energy =   0.1632
Level     0,  Iter    48:    Energy =   0.1633
Level     0,  Iter    49:    Energy =   0.1631
Level     0,  Iter    50:    Energy =   0.1633
Level     0,  Iter    51:    Energy =   0.1632
Level     0,  Iter    52:    Energy =   0.1634
Level     0,  Iter    53:    Energy =   0.1631
Level     0,  Iter    54:    Energy =   0.1633
Level     0,  Iter    55:    Energy =   0.1633
Level     0,  Iter    56:    Energy =   0.1634
Level     0,  Iter    57:    Energy =   0.1632
Level     0,  Iter    58:    Energy =   0.1634
Level     0,  Iter    59:    Energy =   0.1633
END OF LEVEL     0    DetJac Range:   0.3066  to   1.7257 
  Avg. Gradient Time  : 0.0056s  34.73% 
  Avg. Gaussian Time  : 0.0074s  45.63% 
  Avg. Iteration Time : 0.0162s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1106
Level     1,  Iter     1:    Energy =   0.1168
Level     1,  Iter     2:    Energy =   0.1226
Level     1,  Iter     3:    Energy =   0.1274
Level     1,  Iter     4:    Energy =   0.1304
Level     1,  Iter     5:    Energy =   0.1327
Level     1,  Iter     6:    Energy =   0.1350
Level     1,  Iter     7:    Energy =   0.1370
Level     1,  Iter     8:    Energy =   0.1386
Level     1,  Iter     9:    Energy =   0.1399
Level     1,  Iter    10:    Energy =   0.1399
Level     1,  Iter    11:    Energy =   0.1416
Level     1,  Iter    12:    Energy =   0.1422
Level     1,  Iter    13:    Energy =   0.1425
Level     1,  Iter    14:    Energy =   0.1422
Level     1,  Iter    15:    Energy =   0.1438
Level     1,  Iter    16:    Energy =   0.1440
Level     1,  Iter    17:    Energy =   0.1442
Level     1,  Iter    18:    Energy =   0.1438
Level     1,  Iter    19:    Energy =   0.1452
Level     1,  Iter    20:    Energy =   0.1454
Level     1,  Iter    21:    Energy =   0.1451
Level     1,  Iter    22:    Energy =   0.1451
Level     1,  Iter    23:    Energy =   0.1455
Level     1,  Iter    24:    Energy =   0.1451
Level     1,  Iter    25:    Energy =   0.1459
Level     1,  Iter    26:    Energy =   0.1457
Level     1,  Iter    27:    Energy =   0.1457
Level     1,  Iter    28:    Energy =   0.1457
Level     1,  Iter    29:    Energy =   0.1458
Level     1,  Iter    30:    Energy =   0.1456
Level     1,  Iter    31:    Energy =   0.1460
Level     1,  Iter    32:    Energy =   0.1459
Level     1,  Iter    33:    Energy =   0.1461
Level     1,  Iter    34:    Energy =   0.1460
Level     1,  Iter    35:    Energy =   0.1462
Level     1,  Iter    36:    Energy =   0.1461
Level     1,  Iter    37:    Energy =   0.1463
Level     1,  Iter    38:    Energy =   0.1461
Level     1,  Iter    39:    Energy =   0.1464
Level     1,  Iter    40:    Energy =   0.1463
Level     1,  Iter    41:    Energy =   0.1464
Level     1,  Iter    42:    Energy =   0.1463
Level     1,  Iter    43:    Energy =   0.1466
Level     1,  Iter    44:    Energy =   0.1464
Level     1,  Iter    45:    Energy =   0.1466
Level     1,  Iter    46:    Energy =   0.1464
Level     1,  Iter    47:    Energy =   0.1467
Level     1,  Iter    48:    Energy =   0.1466
Level     1,  Iter    49:    Energy =   0.1467
Level     1,  Iter    50:    Energy =   0.1465
Level     1,  Iter    51:    Energy =   0.1468
Level     1,  Iter    52:    Energy =   0.1467
Level     1,  Iter    53:    Energy =   0.1468
Level     1,  Iter    54:    Energy =   0.1467
Level     1,  Iter    55:    Energy =   0.1469
Level     1,  Iter    56:    Energy =   0.1468
Level     1,  Iter    57:    Energy =   0.1469
Level     1,  Iter    58:    Energy =   0.1468
Level     1,  Iter    59:    Energy =   0.1470
END OF LEVEL     1    DetJac Range:   0.1348  to   2.7915 
  Avg. Gradient Time  : 0.0248s  34.33% 
  Avg. Gaussian Time  : 0.0350s  48.42% 
  Avg. Iteration Time : 0.0724s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0773
Level     2,  Iter     1:    Energy =   0.0809
Level     2,  Iter     2:    Energy =   0.0834
Level     2,  Iter     3:    Energy =   0.0855
Level     2,  Iter     4:    Energy =   0.0880
Level     2,  Iter     5:    Energy =   0.0897
Level     2,  Iter     6:    Energy =   0.0915
Level     2,  Iter     7:    Energy =   0.0935
Level     2,  Iter     8:    Energy =   0.0952
Level     2,  Iter     9:    Energy =   0.0967
Level     2,  Iter    10:    Energy =   0.0977
Level     2,  Iter    11:    Energy =   0.0985
Level     2,  Iter    12:    Energy =   0.0993
Level     2,  Iter    13:    Energy =   0.1001
Level     2,  Iter    14:    Energy =   0.1002
Level     2,  Iter    15:    Energy =   0.1005
Level     2,  Iter    16:    Energy =   0.1004
Level     2,  Iter    17:    Energy =   0.1009
Level     2,  Iter    18:    Energy =   0.1007
Level     2,  Iter    19:    Energy =   0.1015
END OF LEVEL     2    DetJac Range:   0.0774  to   3.4610 
  Avg. Gradient Time  : 0.1161s  33.04% 
  Avg. Gaussian Time  : 0.1846s  52.50% 
  Avg. Iteration Time : 0.3515s 

real	0m14.834s
user	0m20.158s
sys	0m2.775s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.264286 0.268571
+ echo 'CHUNK 0.264286 0.268571 1'
CHUNK 0.264286 0.268571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.264286 0.268571 1
====================================
         PROGRESS: 0.264286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 016
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 016 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=016
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.599
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3779.8   GNORM= 446.015
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3880.074     143.038       0.001
   2    4     -3888.919     134.451       1.000
   3    6     -3929.682     145.235       5.000
   4    7     -3968.279     138.806       1.000
   5    8     -3970.112     142.013       1.000
   6    9     -3979.455      39.130       1.000
   7   10     -3981.339      30.863       1.000
   8   11     -3982.939      87.995       1.000
   9   12     -3985.365      30.723       1.000
  10   13     -3985.837      20.711       1.000
  11   14     -3986.253      18.522       1.000
  12   15     -3986.741      41.354       1.000
  13   16     -3987.395      31.291       1.000
  14   17     -3987.785      24.412       1.000
  15   18     -3988.021      18.475       1.000
  16   19     -3988.212      20.215       1.000
  17   20     -3988.351       7.280       1.000
  18   21     -3988.399       6.211       1.000
  19   22     -3988.437       8.705       1.000
  20   23     -3988.547      10.467       1.000
  21   25     -3988.751      12.197       0.257
  22   26     -3988.954      11.553       1.000
  23   28     -3989.011       9.131       0.307
  24   29     -3989.081       9.105       1.000
  25   30     -3989.119       3.669       1.000
  26   31     -3989.128       5.359       1.000
  27   32     -3989.160       6.942       1.000
  28   34     -3989.175       5.673       0.075
  29   35     -3989.187       3.104       1.000
  30   36     -3989.192       6.528       1.000
  31   37     -3989.202       3.274       1.000
  32   38     -3989.202       7.224       1.000
  33   39     -3989.213       3.898       1.000
  34   40     -3989.215       3.369       1.000
  35   41     -3989.218       3.099       1.000
  36   43     -3989.222       2.586       0.507
Final RAS Transform: 
0.99487 -0.00992168 0.00726348 -0.0621954 
0.034183 1.00102 0.0100064 1.13194 
0.00260926 0.011349 1.05223 0.80649 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2890.87   GNORM= 191.457
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2903.097      76.204       0.001
   2    4     -2906.609      66.572       1.000
   3    5     -2917.306      82.360       1.000
   4    6     -2928.871      99.171       1.000
   5    7     -2948.161      78.851       1.000
   6    9     -2950.247      81.251       0.202
   7   10     -2954.830      32.597       1.000
   8   11     -2956.944      30.323       1.000
   9   12     -2958.736      60.959       1.000
  10   13     -2960.810      33.072       1.000
  11   14     -2961.636      13.897       1.000
  12   15     -2961.907       7.825       1.000
  13   16     -2962.002      11.114       1.000
  14   17     -2962.164      14.973       1.000
  15   18     -2962.625      14.495       1.000
  16   20     -2962.745      12.881       0.387
  17   21     -2962.853       5.345       1.000
  18   22     -2962.905       3.893       1.000
  19   24     -2962.938       6.203       0.227
  20   25     -2962.981       3.569       1.000
  21   26     -2963.025       3.388       1.000
  22   28     -2963.048       6.159       0.432
  23   29     -2963.082       1.816       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01426 -0.00022635 0.0145735 0.438627 
0.0323874 1.0002 -0.0124333 0.569688 
-0.00223795 -0.00550548 1.05329 0.920302 
0 0 0 1 

Final RAS Transform: 
1.01426 -0.00022635 0.0145735 0.438627 
0.0323874 1.0002 -0.0124333 0.569688 
-0.00223795 -0.00550548 1.05329 0.920302 
0 0 0 1 


real	0m4.157s
user	0m5.486s
sys	0m0.617s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.568684
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1291
Level     0,  Iter     1:    Energy =   0.1378
Level     0,  Iter     2:    Energy =   0.1456
Level     0,  Iter     3:    Energy =   0.1519
Level     0,  Iter     4:    Energy =   0.1545
Level     0,  Iter     5:    Energy =   0.1567
Level     0,  Iter     6:    Energy =   0.1580
Level     0,  Iter     7:    Energy =   0.1594
Level     0,  Iter     8:    Energy =   0.1602
Level     0,  Iter     9:    Energy =   0.1612
Level     0,  Iter    10:    Energy =   0.1617
Level     0,  Iter    11:    Energy =   0.1624
Level     0,  Iter    12:    Energy =   0.1628
Level     0,  Iter    13:    Energy =   0.1635
Level     0,  Iter    14:    Energy =   0.1636
Level     0,  Iter    15:    Energy =   0.1642
Level     0,  Iter    16:    Energy =   0.1641
Level     0,  Iter    17:    Energy =   0.1649
Level     0,  Iter    18:    Energy =   0.1648
Level     0,  Iter    19:    Energy =   0.1656
Level     0,  Iter    20:    Energy =   0.1655
Level     0,  Iter    21:    Energy =   0.1663
Level     0,  Iter    22:    Energy =   0.1656
Level     0,  Iter    23:    Energy =   0.1661
Level     0,  Iter    24:    Energy =   0.1653
Level     0,  Iter    25:    Energy =   0.1664
Level     0,  Iter    26:    Energy =   0.1660
Level     0,  Iter    27:    Energy =   0.1669
Level     0,  Iter    28:    Energy =   0.1666
Level     0,  Iter    29:    Energy =   0.1671
Level     0,  Iter    30:    Energy =   0.1663
Level     0,  Iter    31:    Energy =   0.1668
Level     0,  Iter    32:    Energy =   0.1662
Level     0,  Iter    33:    Energy =   0.1669
Level     0,  Iter    34:    Energy =   0.1665
Level     0,  Iter    35:    Energy =   0.1671
Level     0,  Iter    36:    Energy =   0.1666
Level     0,  Iter    37:    Energy =   0.1670
Level     0,  Iter    38:    Energy =   0.1666
Level     0,  Iter    39:    Energy =   0.1670
Level     0,  Iter    40:    Energy =   0.1663
Level     0,  Iter    41:    Energy =   0.1667
Level     0,  Iter    42:    Energy =   0.1660
Level     0,  Iter    43:    Energy =   0.1666
Level     0,  Iter    44:    Energy =   0.1659
Level     0,  Iter    45:    Energy =   0.1665
Level     0,  Iter    46:    Energy =   0.1661
Level     0,  Iter    47:    Energy =   0.1666
Level     0,  Iter    48:    Energy =   0.1661
Level     0,  Iter    49:    Energy =   0.1666
Level     0,  Iter    50:    Energy =   0.1661
Level     0,  Iter    51:    Energy =   0.1666
Level     0,  Iter    52:    Energy =   0.1663
Level     0,  Iter    53:    Energy =   0.1667
Level     0,  Iter    54:    Energy =   0.1662
Level     0,  Iter    55:    Energy =   0.1666
Level     0,  Iter    56:    Energy =   0.1663
Level     0,  Iter    57:    Energy =   0.1667
Level     0,  Iter    58:    Energy =   0.1663
Level     0,  Iter    59:    Energy =   0.1667
END OF LEVEL     0    DetJac Range:   0.3468  to   1.7651 
  Avg. Gradient Time  : 0.0054s  34.59% 
  Avg. Gaussian Time  : 0.0072s  45.46% 
  Avg. Iteration Time : 0.0157s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1133
Level     1,  Iter     1:    Energy =   0.1192
Level     1,  Iter     2:    Energy =   0.1249
Level     1,  Iter     3:    Energy =   0.1299
Level     1,  Iter     4:    Energy =   0.1333
Level     1,  Iter     5:    Energy =   0.1362
Level     1,  Iter     6:    Energy =   0.1386
Level     1,  Iter     7:    Energy =   0.1408
Level     1,  Iter     8:    Energy =   0.1425
Level     1,  Iter     9:    Energy =   0.1436
Level     1,  Iter    10:    Energy =   0.1443
Level     1,  Iter    11:    Energy =   0.1448
Level     1,  Iter    12:    Energy =   0.1449
Level     1,  Iter    13:    Energy =   0.1458
Level     1,  Iter    14:    Energy =   0.1456
Level     1,  Iter    15:    Energy =   0.1464
Level     1,  Iter    16:    Energy =   0.1462
Level     1,  Iter    17:    Energy =   0.1468
Level     1,  Iter    18:    Energy =   0.1465
Level     1,  Iter    19:    Energy =   0.1471
Level     1,  Iter    20:    Energy =   0.1470
Level     1,  Iter    21:    Energy =   0.1473
Level     1,  Iter    22:    Energy =   0.1470
Level     1,  Iter    23:    Energy =   0.1475
Level     1,  Iter    24:    Energy =   0.1475
Level     1,  Iter    25:    Energy =   0.1476
Level     1,  Iter    26:    Energy =   0.1472
Level     1,  Iter    27:    Energy =   0.1476
Level     1,  Iter    28:    Energy =   0.1477
Level     1,  Iter    29:    Energy =   0.1478
Level     1,  Iter    30:    Energy =   0.1474
Level     1,  Iter    31:    Energy =   0.1478
Level     1,  Iter    32:    Energy =   0.1480
Level     1,  Iter    33:    Energy =   0.1480
Level     1,  Iter    34:    Energy =   0.1476
Level     1,  Iter    35:    Energy =   0.1479
Level     1,  Iter    36:    Energy =   0.1481
Level     1,  Iter    37:    Energy =   0.1481
Level     1,  Iter    38:    Energy =   0.1477
Level     1,  Iter    39:    Energy =   0.1480
Level     1,  Iter    40:    Energy =   0.1483
Level     1,  Iter    41:    Energy =   0.1483
Level     1,  Iter    42:    Energy =   0.1479
Level     1,  Iter    43:    Energy =   0.1482
Level     1,  Iter    44:    Energy =   0.1484
Level     1,  Iter    45:    Energy =   0.1484
Level     1,  Iter    46:    Energy =   0.1480
Level     1,  Iter    47:    Energy =   0.1483
Level     1,  Iter    48:    Energy =   0.1485
Level     1,  Iter    49:    Energy =   0.1485
Level     1,  Iter    50:    Energy =   0.1481
Level     1,  Iter    51:    Energy =   0.1484
Level     1,  Iter    52:    Energy =   0.1485
Level     1,  Iter    53:    Energy =   0.1485
Level     1,  Iter    54:    Energy =   0.1481
Level     1,  Iter    55:    Energy =   0.1485
Level     1,  Iter    56:    Energy =   0.1487
Level     1,  Iter    57:    Energy =   0.1486
Level     1,  Iter    58:    Energy =   0.1482
Level     1,  Iter    59:    Energy =   0.1485
END OF LEVEL     1    DetJac Range:   0.1291  to   3.6264 
  Avg. Gradient Time  : 0.0244s  34.30% 
  Avg. Gaussian Time  : 0.0345s  48.36% 
  Avg. Iteration Time : 0.0713s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0783
Level     2,  Iter     1:    Energy =   0.0826
Level     2,  Iter     2:    Energy =   0.0856
Level     2,  Iter     3:    Energy =   0.0880
Level     2,  Iter     4:    Energy =   0.0894
Level     2,  Iter     5:    Energy =   0.0912
Level     2,  Iter     6:    Energy =   0.0923
Level     2,  Iter     7:    Energy =   0.0939
Level     2,  Iter     8:    Energy =   0.0957
Level     2,  Iter     9:    Energy =   0.0971
Level     2,  Iter    10:    Energy =   0.0984
Level     2,  Iter    11:    Energy =   0.0996
Level     2,  Iter    12:    Energy =   0.1004
Level     2,  Iter    13:    Energy =   0.1010
Level     2,  Iter    14:    Energy =   0.1014
Level     2,  Iter    15:    Energy =   0.1019
Level     2,  Iter    16:    Energy =   0.1021
Level     2,  Iter    17:    Energy =   0.1026
Level     2,  Iter    18:    Energy =   0.1027
Level     2,  Iter    19:    Energy =   0.1029
END OF LEVEL     2    DetJac Range:   0.1328  to   4.4066 
  Avg. Gradient Time  : 0.1217s  34.04% 
  Avg. Gaussian Time  : 0.1872s  52.33% 
  Avg. Iteration Time : 0.3577s 

real	0m14.784s
user	0m20.228s
sys	0m2.716s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.268571 0.272857
+ echo 'CHUNK 0.268571 0.272857 1'
CHUNK 0.268571 0.272857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.268571 0.272857 1
====================================
         PROGRESS: 0.268571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 017
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 017 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=017
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.686
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3877.65   GNORM= 577.269
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3993.781     210.369       0.001
   2    4     -4006.923      93.244       1.000
   3    5     -4011.427      86.531       1.000
   4    6     -4032.258     120.130       1.000
   5    7     -4046.439     104.560       1.000
   6    8     -4054.495     106.493       1.000
   7    9     -4057.453      22.863       1.000
   8   10     -4057.978      21.062       1.000
   9   11     -4060.271      30.414       1.000
  10   13     -4060.430      18.825       0.347
  11   14     -4060.547      14.109       1.000
  12   16     -4060.735      19.918       0.501
  13   17     -4060.875      23.650       1.000
  14   18     -4061.150      20.520       1.000
  15   20     -4061.284      27.307       0.275
  16   22     -4061.421       9.026       0.405
  17   23     -4061.480       9.492       1.000
  18   24     -4061.558      11.194       1.000
  19   25     -4061.637      10.679       1.000
  20   26     -4061.791       5.837       1.000
  21   27     -4061.816       7.350       1.000
  22   28     -4061.834       6.623       1.000
  23   29     -4061.841       4.313       1.000
  24   30     -4061.861       5.002       1.000
  25   32     -4061.863       8.682       0.178
  26   34     -4061.866       4.031       0.425
  27   35     -4061.867       2.940       1.000
  28   37     -4061.872       1.760       0.197
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.998579 -0.000252797 -0.00988351 -0.365835 
0.0152737 0.989121 -0.014012 0.676496 
0.0025847 0.0132008 1.02894 0.493832 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2965.77   GNORM= 67.0278
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2970.783      84.372       0.002
   2    4     -2975.963      72.827       1.000
   3    5     -2999.857     107.216       1.000
   4    6     -3012.353      44.706       1.000
   5    7     -3015.132      35.851       1.000
   6    8     -3017.753      70.242       1.000
   7    9     -3020.700      66.110       1.000
   8   10     -3021.373      75.802       1.000
   9   11     -3024.197      23.864       1.000
  10   12     -3024.787      23.528       1.000
  11   13     -3026.774      47.970       1.000
  12   14     -3028.933      44.290       1.000
  13   15     -3031.421      40.410       1.000
  14   16     -3032.157      30.956       1.000
  15   17     -3032.412      16.433       1.000
  16   18     -3032.662      10.914       1.000
  17   19     -3032.928      23.073       1.000
  18   20     -3033.363      11.946       1.000
  19   21     -3033.765       9.582       1.000
  20   23     -3033.859      10.167       0.265
  21   24     -3033.936       6.232       1.000
  22   25     -3033.979       5.529       1.000
  23   26     -3034.032       6.442       1.000
  24   27     -3034.070       5.028       1.000
  25   28     -3034.078       9.444       1.000
  26   29     -3034.110       4.845       1.000
  27   30     -3034.147       6.172       1.000
  28   31     -3034.177       8.382       1.000
  29   32     -3034.183       7.254       1.000
  30   33     -3034.209       4.431       1.000
  31   34     -3034.214       2.455       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01769 0.0021977 0.0195438 0.666795 
0.0256749 1.01218 -0.0114089 0.503633 
0.00198486 -0.00932232 1.01652 0.668032 
0 0 0 1 

Final RAS Transform: 
1.01769 0.0021977 0.0195438 0.666795 
0.0256749 1.01218 -0.0114089 0.503633 
0.00198486 -0.00932232 1.01652 0.668032 
0 0 0 1 


real	0m4.376s
user	0m5.855s
sys	0m0.694s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.661602
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1327
Level     0,  Iter     1:    Energy =   0.1412
Level     0,  Iter     2:    Energy =   0.1476
Level     0,  Iter     3:    Energy =   0.1514
Level     0,  Iter     4:    Energy =   0.1532
Level     0,  Iter     5:    Energy =   0.1549
Level     0,  Iter     6:    Energy =   0.1559
Level     0,  Iter     7:    Energy =   0.1570
Level     0,  Iter     8:    Energy =   0.1576
Level     0,  Iter     9:    Energy =   0.1584
Level     0,  Iter    10:    Energy =   0.1586
Level     0,  Iter    11:    Energy =   0.1593
Level     0,  Iter    12:    Energy =   0.1595
Level     0,  Iter    13:    Energy =   0.1602
Level     0,  Iter    14:    Energy =   0.1601
Level     0,  Iter    15:    Energy =   0.1609
Level     0,  Iter    16:    Energy =   0.1608
Level     0,  Iter    17:    Energy =   0.1616
Level     0,  Iter    18:    Energy =   0.1612
Level     0,  Iter    19:    Energy =   0.1621
Level     0,  Iter    20:    Energy =   0.1618
Level     0,  Iter    21:    Energy =   0.1625
Level     0,  Iter    22:    Energy =   0.1620
Level     0,  Iter    23:    Energy =   0.1629
Level     0,  Iter    24:    Energy =   0.1624
Level     0,  Iter    25:    Energy =   0.1631
Level     0,  Iter    26:    Energy =   0.1625
Level     0,  Iter    27:    Energy =   0.1633
Level     0,  Iter    28:    Energy =   0.1629
Level     0,  Iter    29:    Energy =   0.1635
Level     0,  Iter    30:    Energy =   0.1629
Level     0,  Iter    31:    Energy =   0.1636
Level     0,  Iter    32:    Energy =   0.1632
Level     0,  Iter    33:    Energy =   0.1639
Level     0,  Iter    34:    Energy =   0.1633
Level     0,  Iter    35:    Energy =   0.1640
Level     0,  Iter    36:    Energy =   0.1635
Level     0,  Iter    37:    Energy =   0.1642
Level     0,  Iter    38:    Energy =   0.1636
Level     0,  Iter    39:    Energy =   0.1643
Level     0,  Iter    40:    Energy =   0.1638
Level     0,  Iter    41:    Energy =   0.1645
Level     0,  Iter    42:    Energy =   0.1640
Level     0,  Iter    43:    Energy =   0.1647
Level     0,  Iter    44:    Energy =   0.1643
Level     0,  Iter    45:    Energy =   0.1649
Level     0,  Iter    46:    Energy =   0.1644
Level     0,  Iter    47:    Energy =   0.1650
Level     0,  Iter    48:    Energy =   0.1646
Level     0,  Iter    49:    Energy =   0.1652
Level     0,  Iter    50:    Energy =   0.1647
Level     0,  Iter    51:    Energy =   0.1653
Level     0,  Iter    52:    Energy =   0.1650
Level     0,  Iter    53:    Energy =   0.1655
Level     0,  Iter    54:    Energy =   0.1650
Level     0,  Iter    55:    Energy =   0.1656
Level     0,  Iter    56:    Energy =   0.1652
Level     0,  Iter    57:    Energy =   0.1658
Level     0,  Iter    58:    Energy =   0.1653
Level     0,  Iter    59:    Energy =   0.1658
END OF LEVEL     0    DetJac Range:   0.4189  to   2.0855 
  Avg. Gradient Time  : 0.0057s  34.68% 
  Avg. Gaussian Time  : 0.0074s  45.61% 
  Avg. Iteration Time : 0.0163s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1141
Level     1,  Iter     1:    Energy =   0.1202
Level     1,  Iter     2:    Energy =   0.1259
Level     1,  Iter     3:    Energy =   0.1310
Level     1,  Iter     4:    Energy =   0.1353
Level     1,  Iter     5:    Energy =   0.1388
Level     1,  Iter     6:    Energy =   0.1414
Level     1,  Iter     7:    Energy =   0.1432
Level     1,  Iter     8:    Energy =   0.1441
Level     1,  Iter     9:    Energy =   0.1453
Level     1,  Iter    10:    Energy =   0.1456
Level     1,  Iter    11:    Energy =   0.1469
Level     1,  Iter    12:    Energy =   0.1470
Level     1,  Iter    13:    Energy =   0.1479
Level     1,  Iter    14:    Energy =   0.1479
Level     1,  Iter    15:    Energy =   0.1479
Level     1,  Iter    16:    Energy =   0.1484
Level     1,  Iter    17:    Energy =   0.1483
Level     1,  Iter    18:    Energy =   0.1489
Level     1,  Iter    19:    Energy =   0.1490
Level     1,  Iter    20:    Energy =   0.1492
Level     1,  Iter    21:    Energy =   0.1493
Level     1,  Iter    22:    Energy =   0.1494
Level     1,  Iter    23:    Energy =   0.1495
Level     1,  Iter    24:    Energy =   0.1498
Level     1,  Iter    25:    Energy =   0.1498
Level     1,  Iter    26:    Energy =   0.1501
Level     1,  Iter    27:    Energy =   0.1501
Level     1,  Iter    28:    Energy =   0.1504
Level     1,  Iter    29:    Energy =   0.1504
Level     1,  Iter    30:    Energy =   0.1506
Level     1,  Iter    31:    Energy =   0.1506
Level     1,  Iter    32:    Energy =   0.1508
Level     1,  Iter    33:    Energy =   0.1509
Level     1,  Iter    34:    Energy =   0.1510
Level     1,  Iter    35:    Energy =   0.1511
Level     1,  Iter    36:    Energy =   0.1512
Level     1,  Iter    37:    Energy =   0.1513
Level     1,  Iter    38:    Energy =   0.1514
Level     1,  Iter    39:    Energy =   0.1514
Level     1,  Iter    40:    Energy =   0.1515
Level     1,  Iter    41:    Energy =   0.1515
Level     1,  Iter    42:    Energy =   0.1516
Level     1,  Iter    43:    Energy =   0.1517
Level     1,  Iter    44:    Energy =   0.1517
Level     1,  Iter    45:    Energy =   0.1518
Level     1,  Iter    46:    Energy =   0.1519
Level     1,  Iter    47:    Energy =   0.1518
Level     1,  Iter    48:    Energy =   0.1520
Level     1,  Iter    49:    Energy =   0.1520
Level     1,  Iter    50:    Energy =   0.1521
Level     1,  Iter    51:    Energy =   0.1520
Level     1,  Iter    52:    Energy =   0.1521
Level     1,  Iter    53:    Energy =   0.1522
Level     1,  Iter    54:    Energy =   0.1522
Level     1,  Iter    55:    Energy =   0.1521
Level     1,  Iter    56:    Energy =   0.1523
Level     1,  Iter    57:    Energy =   0.1523
Level     1,  Iter    58:    Energy =   0.1524
Level     1,  Iter    59:    Energy =   0.1522
END OF LEVEL     1    DetJac Range:   0.0984  to   3.0120 
  Avg. Gradient Time  : 0.0250s  34.72% 
  Avg. Gaussian Time  : 0.0348s  48.20% 
  Avg. Iteration Time : 0.0721s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0819
Level     2,  Iter     1:    Energy =   0.0857
Level     2,  Iter     2:    Energy =   0.0888
Level     2,  Iter     3:    Energy =   0.0912
Level     2,  Iter     4:    Energy =   0.0925
Level     2,  Iter     5:    Energy =   0.0937
Level     2,  Iter     6:    Energy =   0.0946
Level     2,  Iter     7:    Energy =   0.0954
Level     2,  Iter     8:    Energy =   0.0960
Level     2,  Iter     9:    Energy =   0.0967
Level     2,  Iter    10:    Energy =   0.0970
Level     2,  Iter    11:    Energy =   0.0976
Level     2,  Iter    12:    Energy =   0.0978
Level     2,  Iter    13:    Energy =   0.0983
Level     2,  Iter    14:    Energy =   0.0984
Level     2,  Iter    15:    Energy =   0.0989
Level     2,  Iter    16:    Energy =   0.0990
Level     2,  Iter    17:    Energy =   0.0994
Level     2,  Iter    18:    Energy =   0.0995
Level     2,  Iter    19:    Energy =   0.0998
END OF LEVEL     2    DetJac Range:   0.0915  to   2.9068 
  Avg. Gradient Time  : 0.1103s  32.37% 
  Avg. Gaussian Time  : 0.1790s  52.54% 
  Avg. Iteration Time : 0.3406s 

real	0m14.378s
user	0m20.165s
sys	0m2.657s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.272857 0.277143
+ echo 'CHUNK 0.272857 0.277143 1'
CHUNK 0.272857 0.277143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.272857 0.277143 1
====================================
         PROGRESS: 0.272857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 018
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 018 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=018
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.592
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3441.19   GNORM= 690.109
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3590.882     276.961       0.001
   2    4     -3622.615     142.824       1.000
   3    5     -3638.755      76.744       1.000
   4    6     -3648.713     101.573       1.000
   5    7     -3668.836     112.308       1.000
   6    8     -3687.065      67.183       1.000
   7    9     -3695.008     105.445       1.000
   8   10     -3698.825      61.403       1.000
   9   11     -3700.057      40.963       1.000
  10   12     -3702.018      25.866       1.000
  11   13     -3702.677      25.115       1.000
  12   14     -3703.452      21.821       1.000
  13   15     -3704.472      42.534       1.000
  14   16     -3706.175      53.382       1.000
  15   17     -3706.201      66.354       1.000
  16   18     -3708.500      24.529       1.000
  17   19     -3708.985      17.441       1.000
  18   20     -3709.478      12.189       1.000
  19   21     -3710.008      12.506       1.000
  20   22     -3710.516      59.381       1.000
  21   23     -3711.552      21.389       1.000
  22   25     -3711.694      12.602       0.441
  23   26     -3711.853      13.952       1.000
  24   27     -3711.961      20.539       1.000
  25   28     -3712.169      12.426       1.000
  26   29     -3712.332       6.831       1.000
  27   30     -3712.433      14.821       1.000
  28   31     -3712.456      10.920       1.000
  29   32     -3712.480       5.603       1.000
  30   33     -3712.510       5.146       1.000
  31   34     -3712.520       8.856       1.000
  32   35     -3712.535       5.200       1.000
  33   38     -3712.540       8.742       0.758
  34   39     -3712.546       3.683       1.000
  35   40     -3712.549       3.585       1.000
  36   41     -3712.566       7.685       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00907 0.00401073 -0.0268277 -0.580903 
0.0590791 0.976093 -0.0212628 1.64097 
-0.0141594 0.0149005 1.01154 0.0394995 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2636.19   GNORM= 160.051
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2645.023      82.420       0.001
   2    4     -2649.201      74.578       1.000
   3    5     -2664.206      75.242       1.000
   4    6     -2676.488      88.079       1.000
   5    7     -2715.948     113.887       1.000
   6    9     -2721.025      82.766       0.332
   7   10     -2725.929      51.903       1.000
   8   11     -2726.577      41.700       1.000
   9   12     -2727.243      14.902       1.000
  10   13     -2727.441      13.887       1.000
  11   14     -2728.027      30.780       1.000
  12   15     -2728.718      34.698       1.000
  13   17     -2729.354      58.190       0.432
  14   18     -2730.901      32.428       1.000
  15   19     -2732.108      14.671       1.000
  16   20     -2732.740      20.399       1.000
  17   21     -2733.255      21.909       1.000
  18   22     -2733.766      54.221       1.000
  19   23     -2734.787      13.363       1.000
  20   24     -2735.048      12.080       1.000
  21   26     -2735.915      28.803       0.302
  22   27     -2736.624      21.267       1.000
  23   28     -2737.144      39.458       1.000
  24   29     -2738.680      28.722       1.000
  25   30     -2739.454      16.873       1.000
  26   31     -2739.695       9.212       1.000
  27   32     -2739.766       5.115       1.000
  28   33     -2739.819      12.562       1.000
  29   34     -2739.882       7.355       1.000
  30   35     -2739.995      11.273       1.000
  31   36     -2740.075       7.112       1.000
  32   37     -2740.123       6.041       1.000
  33   39     -2740.149       3.187       0.237
  34   40     -2740.161       4.042       1.000
  35   41     -2740.236       9.802       1.000
  36   42     -2740.293       5.438       1.000
  37   43     -2740.322       6.790       1.000
  38   44     -2740.342       8.178       1.000
  39   46     -2740.383       2.922       0.374
  40   47     -2740.391       1.931       1.000
  41   48     -2740.394       1.417       1.000
  42   50     -2740.396       2.808       0.038
  43   52     -2740.406       2.055       0.476
Final RAS Transform: 
1.0028 -0.0141389 -0.00634066 0.0613597 
0.0188292 1.00967 -0.0156792 0.414148 
0.000417973 -0.0127339 1.01877 0.992764 
0 0 0 1 

Final RAS Transform: 
1.0028 -0.0141389 -0.00634066 0.0613597 
0.0188292 1.00967 -0.0156792 0.414148 
0.000417973 -0.0127339 1.01877 0.992764 
0 0 0 1 


real	0m4.630s
user	0m6.249s
sys	0m0.693s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.570294
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1178
Level     0,  Iter     1:    Energy =   0.1278
Level     0,  Iter     2:    Energy =   0.1347
Level     0,  Iter     3:    Energy =   0.1382
Level     0,  Iter     4:    Energy =   0.1407
Level     0,  Iter     5:    Energy =   0.1431
Level     0,  Iter     6:    Energy =   0.1448
Level     0,  Iter     7:    Energy =   0.1465
Level     0,  Iter     8:    Energy =   0.1476
Level     0,  Iter     9:    Energy =   0.1487
Level     0,  Iter    10:    Energy =   0.1496
Level     0,  Iter    11:    Energy =   0.1504
Level     0,  Iter    12:    Energy =   0.1511
Level     0,  Iter    13:    Energy =   0.1518
Level     0,  Iter    14:    Energy =   0.1525
Level     0,  Iter    15:    Energy =   0.1531
Level     0,  Iter    16:    Energy =   0.1536
Level     0,  Iter    17:    Energy =   0.1542
Level     0,  Iter    18:    Energy =   0.1546
Level     0,  Iter    19:    Energy =   0.1550
Level     0,  Iter    20:    Energy =   0.1554
Level     0,  Iter    21:    Energy =   0.1555
Level     0,  Iter    22:    Energy =   0.1558
Level     0,  Iter    23:    Energy =   0.1559
Level     0,  Iter    24:    Energy =   0.1562
Level     0,  Iter    25:    Energy =   0.1562
Level     0,  Iter    26:    Energy =   0.1564
Level     0,  Iter    27:    Energy =   0.1564
Level     0,  Iter    28:    Energy =   0.1566
Level     0,  Iter    29:    Energy =   0.1566
Level     0,  Iter    30:    Energy =   0.1568
Level     0,  Iter    31:    Energy =   0.1568
Level     0,  Iter    32:    Energy =   0.1569
Level     0,  Iter    33:    Energy =   0.1569
Level     0,  Iter    34:    Energy =   0.1571
Level     0,  Iter    35:    Energy =   0.1571
Level     0,  Iter    36:    Energy =   0.1572
Level     0,  Iter    37:    Energy =   0.1572
Level     0,  Iter    38:    Energy =   0.1573
Level     0,  Iter    39:    Energy =   0.1573
Level     0,  Iter    40:    Energy =   0.1574
Level     0,  Iter    41:    Energy =   0.1574
Level     0,  Iter    42:    Energy =   0.1575
Level     0,  Iter    43:    Energy =   0.1575
Level     0,  Iter    44:    Energy =   0.1576
Level     0,  Iter    45:    Energy =   0.1575
Level     0,  Iter    46:    Energy =   0.1576
Level     0,  Iter    47:    Energy =   0.1575
Level     0,  Iter    48:    Energy =   0.1577
Level     0,  Iter    49:    Energy =   0.1576
Level     0,  Iter    50:    Energy =   0.1577
Level     0,  Iter    51:    Energy =   0.1577
Level     0,  Iter    52:    Energy =   0.1578
Level     0,  Iter    53:    Energy =   0.1577
Level     0,  Iter    54:    Energy =   0.1579
Level     0,  Iter    55:    Energy =   0.1578
Level     0,  Iter    56:    Energy =   0.1579
Level     0,  Iter    57:    Energy =   0.1578
Level     0,  Iter    58:    Energy =   0.1580
Level     0,  Iter    59:    Energy =   0.1579
END OF LEVEL     0    DetJac Range:   0.2832  to   1.8585 
  Avg. Gradient Time  : 0.0055s  34.52% 
  Avg. Gaussian Time  : 0.0073s  45.65% 
  Avg. Iteration Time : 0.0160s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1083
Level     1,  Iter     1:    Energy =   0.1154
Level     1,  Iter     2:    Energy =   0.1221
Level     1,  Iter     3:    Energy =   0.1255
Level     1,  Iter     4:    Energy =   0.1283
Level     1,  Iter     5:    Energy =   0.1310
Level     1,  Iter     6:    Energy =   0.1341
Level     1,  Iter     7:    Energy =   0.1368
Level     1,  Iter     8:    Energy =   0.1390
Level     1,  Iter     9:    Energy =   0.1404
Level     1,  Iter    10:    Energy =   0.1417
Level     1,  Iter    11:    Energy =   0.1424
Level     1,  Iter    12:    Energy =   0.1423
Level     1,  Iter    13:    Energy =   0.1427
Level     1,  Iter    14:    Energy =   0.1427
Level     1,  Iter    15:    Energy =   0.1428
Level     1,  Iter    16:    Energy =   0.1433
Level     1,  Iter    17:    Energy =   0.1431
Level     1,  Iter    18:    Energy =   0.1440
Level     1,  Iter    19:    Energy =   0.1436
Level     1,  Iter    20:    Energy =   0.1446
Level     1,  Iter    21:    Energy =   0.1442
Level     1,  Iter    22:    Energy =   0.1449
Level     1,  Iter    23:    Energy =   0.1445
Level     1,  Iter    24:    Energy =   0.1453
Level     1,  Iter    25:    Energy =   0.1448
Level     1,  Iter    26:    Energy =   0.1455
Level     1,  Iter    27:    Energy =   0.1451
Level     1,  Iter    28:    Energy =   0.1456
Level     1,  Iter    29:    Energy =   0.1452
Level     1,  Iter    30:    Energy =   0.1458
Level     1,  Iter    31:    Energy =   0.1454
Level     1,  Iter    32:    Energy =   0.1458
Level     1,  Iter    33:    Energy =   0.1454
Level     1,  Iter    34:    Energy =   0.1458
Level     1,  Iter    35:    Energy =   0.1456
Level     1,  Iter    36:    Energy =   0.1457
Level     1,  Iter    37:    Energy =   0.1456
Level     1,  Iter    38:    Energy =   0.1456
Level     1,  Iter    39:    Energy =   0.1455
Level     1,  Iter    40:    Energy =   0.1456
Level     1,  Iter    41:    Energy =   0.1454
Level     1,  Iter    42:    Energy =   0.1457
Level     1,  Iter    43:    Energy =   0.1455
Level     1,  Iter    44:    Energy =   0.1457
Level     1,  Iter    45:    Energy =   0.1456
Level     1,  Iter    46:    Energy =   0.1457
Level     1,  Iter    47:    Energy =   0.1456
Level     1,  Iter    48:    Energy =   0.1457
Level     1,  Iter    49:    Energy =   0.1456
Level     1,  Iter    50:    Energy =   0.1457
Level     1,  Iter    51:    Energy =   0.1456
Level     1,  Iter    52:    Energy =   0.1456
Level     1,  Iter    53:    Energy =   0.1457
Level     1,  Iter    54:    Energy =   0.1456
Level     1,  Iter    55:    Energy =   0.1457
Level     1,  Iter    56:    Energy =   0.1456
Level     1,  Iter    57:    Energy =   0.1457
Level     1,  Iter    58:    Energy =   0.1456
Level     1,  Iter    59:    Energy =   0.1458
END OF LEVEL     1    DetJac Range:   0.0947  to   4.1665 
  Avg. Gradient Time  : 0.0247s  34.49% 
  Avg. Gaussian Time  : 0.0348s  48.62% 
  Avg. Iteration Time : 0.0717s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0777
Level     2,  Iter     1:    Energy =   0.0807
Level     2,  Iter     2:    Energy =   0.0841
Level     2,  Iter     3:    Energy =   0.0869
Level     2,  Iter     4:    Energy =   0.0893
Level     2,  Iter     5:    Energy =   0.0906
Level     2,  Iter     6:    Energy =   0.0912
Level     2,  Iter     7:    Energy =   0.0924
Level     2,  Iter     8:    Energy =   0.0926
Level     2,  Iter     9:    Energy =   0.0939
Level     2,  Iter    10:    Energy =   0.0938
Level     2,  Iter    11:    Energy =   0.0950
Level     2,  Iter    12:    Energy =   0.0948
Level     2,  Iter    13:    Energy =   0.0958
Level     2,  Iter    14:    Energy =   0.0956
Level     2,  Iter    15:    Energy =   0.0965
Level     2,  Iter    16:    Energy =   0.0962
Level     2,  Iter    17:    Energy =   0.0971
Level     2,  Iter    18:    Energy =   0.0967
Level     2,  Iter    19:    Energy =   0.0978
END OF LEVEL     2    DetJac Range:   0.0916  to   3.5100 
  Avg. Gradient Time  : 0.1141s  33.15% 
  Avg. Gaussian Time  : 0.1789s  51.98% 
  Avg. Iteration Time : 0.3441s 

real	0m14.511s
user	0m20.225s
sys	0m2.737s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.277143 0.281429
+ echo 'CHUNK 0.277143 0.281429 1'
CHUNK 0.277143 0.281429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.277143 0.281429 1
====================================
         PROGRESS: 0.277143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 019
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 019 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=019
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.687
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3517.27   GNORM= 960.631
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3696.241     746.736       0.001
   2    3     -3862.313     165.159       1.000
   3    4     -3876.068     129.723       1.000
   4    5     -3903.290     191.531       1.000
   5    6     -3946.768     222.503       1.000
   6    7     -3986.854     168.722       1.000
   7    8     -3999.227      83.712       1.000
   8    9     -4005.507      81.247       1.000
   9   10     -4016.839     104.466       1.000
  10   11     -4019.573      23.964       1.000
  11   12     -4020.026      18.996       1.000
  12   13     -4020.889      30.945       1.000
  13   14     -4021.948      51.908       1.000
  14   15     -4023.418      42.761       1.000
  15   16     -4024.647      26.794       1.000
  16   17     -4025.177      18.607       1.000
  17   18     -4026.596      40.900       1.000
  18   19     -4027.117      61.898       1.000
  19   20     -4027.896      10.267       1.000
  20   21     -4028.025      10.721       1.000
  21   23     -4028.247      20.229       0.432
  22   24     -4028.425      10.099       1.000
  23   25     -4028.610       6.367       1.000
  24   26     -4028.688      16.143       1.000
  25   27     -4028.806      10.024       1.000
  26   29     -4028.931       7.145       0.469
  27   30     -4028.993       3.989       1.000
  28   31     -4029.009       8.419       1.000
  29   32     -4029.031       7.123       1.000
  30   33     -4029.061       7.509       1.000
  31   34     -4029.077       4.111       1.000
  32   35     -4029.082       1.995       1.000
  33   36     -4029.082       3.188       1.000
  34   37     -4029.090       2.865       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.979114 0.0114941 -0.000607636 -0.755148 
0.0432542 0.999221 0.0189342 2.21597 
-0.0200827 -0.000568345 1.0382 0.770902 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2780.14   GNORM= 118.41
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2788.410      73.665       0.001
   2    4     -2792.536      51.687       1.000
   3    5     -2798.929      61.944       1.000
   4    6     -2808.857      81.024       1.000
   5    7     -2822.366      61.004       1.000
   6    8     -2823.653      92.040       1.000
   7    9     -2827.804      34.623       1.000
   8   10     -2829.367      20.218       1.000
   9   11     -2831.321      42.115       1.000
  10   12     -2833.335      24.680       1.000
  11   13     -2833.669      22.545       1.000
  12   14     -2833.859       9.348       1.000
  13   15     -2833.984       8.333       1.000
  14   16     -2834.184      10.639       1.000
  15   17     -2834.674      14.944       1.000
  16   18     -2834.844      32.403       1.000
  17   19     -2835.474      14.824       1.000
  18   20     -2836.068      19.397       1.000
  19   21     -2836.762      14.935       1.000
  20   23     -2837.255      30.313       0.490
  21   24     -2837.823      12.826       1.000
  22   25     -2838.127       5.584       1.000
  23   26     -2838.160      10.253       1.000
  24   27     -2838.258       9.650       1.000
  25   28     -2838.344       6.353       1.000
  26   29     -2838.443       5.204       1.000
  27   30     -2838.710      10.510       1.000
  28   31     -2838.772       9.045       1.000
  29   32     -2838.810       3.450       1.000
  30   33     -2838.834       3.363       1.000
  31   35     -2838.878       7.209       0.342
  32   36     -2838.894       3.411       1.000
  33   37     -2838.896       3.116       1.000
  34   38     -2838.931       3.754       1.000
  35   40     -2838.938       3.212       0.428
  36   41     -2838.947       3.355       1.000
  37   42     -2838.954       2.996       1.000
  38   43     -2838.971       2.117       1.000
  39   44     -2838.983       3.924       1.000
  40   45     -2839.000       1.832       1.000
  41   46     -2839.019       5.498       1.000
  42   47     -2839.023       2.868       1.000
  43   48     -2839.031       1.081       1.000
Final RAS Transform: 
0.988621 0.00181618 0.00888854 -0.209612 
0.0207134 1.02231 0.0161547 0.934129 
-0.00740143 -0.0174263 1.0111 0.957803 
0 0 0 1 

Final RAS Transform: 
0.988621 0.00181618 0.00888854 -0.209612 
0.0207134 1.02231 0.0161547 0.934129 
-0.00740143 -0.0174263 1.0111 0.957803 
0 0 0 1 


real	0m4.742s
user	0m6.327s
sys	0m0.685s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.670232
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1265
Level     0,  Iter     1:    Energy =   0.1353
Level     0,  Iter     2:    Energy =   0.1437
Level     0,  Iter     3:    Energy =   0.1486
Level     0,  Iter     4:    Energy =   0.1516
Level     0,  Iter     5:    Energy =   0.1534
Level     0,  Iter     6:    Energy =   0.1549
Level     0,  Iter     7:    Energy =   0.1563
Level     0,  Iter     8:    Energy =   0.1572
Level     0,  Iter     9:    Energy =   0.1580
Level     0,  Iter    10:    Energy =   0.1586
Level     0,  Iter    11:    Energy =   0.1592
Level     0,  Iter    12:    Energy =   0.1596
Level     0,  Iter    13:    Energy =   0.1602
Level     0,  Iter    14:    Energy =   0.1605
Level     0,  Iter    15:    Energy =   0.1610
Level     0,  Iter    16:    Energy =   0.1613
Level     0,  Iter    17:    Energy =   0.1616
Level     0,  Iter    18:    Energy =   0.1618
Level     0,  Iter    19:    Energy =   0.1622
Level     0,  Iter    20:    Energy =   0.1624
Level     0,  Iter    21:    Energy =   0.1625
Level     0,  Iter    22:    Energy =   0.1627
Level     0,  Iter    23:    Energy =   0.1630
Level     0,  Iter    24:    Energy =   0.1632
Level     0,  Iter    25:    Energy =   0.1632
Level     0,  Iter    26:    Energy =   0.1635
Level     0,  Iter    27:    Energy =   0.1637
Level     0,  Iter    28:    Energy =   0.1639
Level     0,  Iter    29:    Energy =   0.1644
Level     0,  Iter    30:    Energy =   0.1645
Level     0,  Iter    31:    Energy =   0.1644
Level     0,  Iter    32:    Energy =   0.1646
Level     0,  Iter    33:    Energy =   0.1648
Level     0,  Iter    34:    Energy =   0.1649
Level     0,  Iter    35:    Energy =   0.1651
Level     0,  Iter    36:    Energy =   0.1651
Level     0,  Iter    37:    Energy =   0.1651
Level     0,  Iter    38:    Energy =   0.1652
Level     0,  Iter    39:    Energy =   0.1653
Level     0,  Iter    40:    Energy =   0.1653
Level     0,  Iter    41:    Energy =   0.1653
Level     0,  Iter    42:    Energy =   0.1653
Level     0,  Iter    43:    Energy =   0.1652
Level     0,  Iter    44:    Energy =   0.1653
Level     0,  Iter    45:    Energy =   0.1653
Level     0,  Iter    46:    Energy =   0.1654
Level     0,  Iter    47:    Energy =   0.1654
Level     0,  Iter    48:    Energy =   0.1654
Level     0,  Iter    49:    Energy =   0.1653
Level     0,  Iter    50:    Energy =   0.1654
Level     0,  Iter    51:    Energy =   0.1654
Level     0,  Iter    52:    Energy =   0.1655
Level     0,  Iter    53:    Energy =   0.1654
Level     0,  Iter    54:    Energy =   0.1654
Level     0,  Iter    55:    Energy =   0.1653
Level     0,  Iter    56:    Energy =   0.1654
Level     0,  Iter    57:    Energy =   0.1654
Level     0,  Iter    58:    Energy =   0.1654
Level     0,  Iter    59:    Energy =   0.1655
END OF LEVEL     0    DetJac Range:   0.3041  to   1.7127 
  Avg. Gradient Time  : 0.0057s  35.04% 
  Avg. Gaussian Time  : 0.0074s  45.12% 
  Avg. Iteration Time : 0.0164s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1113
Level     1,  Iter     1:    Energy =   0.1181
Level     1,  Iter     2:    Energy =   0.1249
Level     1,  Iter     3:    Energy =   0.1295
Level     1,  Iter     4:    Energy =   0.1337
Level     1,  Iter     5:    Energy =   0.1367
Level     1,  Iter     6:    Energy =   0.1393
Level     1,  Iter     7:    Energy =   0.1415
Level     1,  Iter     8:    Energy =   0.1434
Level     1,  Iter     9:    Energy =   0.1454
Level     1,  Iter    10:    Energy =   0.1467
Level     1,  Iter    11:    Energy =   0.1481
Level     1,  Iter    12:    Energy =   0.1481
Level     1,  Iter    13:    Energy =   0.1487
Level     1,  Iter    14:    Energy =   0.1488
Level     1,  Iter    15:    Energy =   0.1492
Level     1,  Iter    16:    Energy =   0.1494
Level     1,  Iter    17:    Energy =   0.1496
Level     1,  Iter    18:    Energy =   0.1500
Level     1,  Iter    19:    Energy =   0.1499
Level     1,  Iter    20:    Energy =   0.1507
Level     1,  Iter    21:    Energy =   0.1504
Level     1,  Iter    22:    Energy =   0.1509
Level     1,  Iter    23:    Energy =   0.1508
Level     1,  Iter    24:    Energy =   0.1508
Level     1,  Iter    25:    Energy =   0.1506
Level     1,  Iter    26:    Energy =   0.1508
Level     1,  Iter    27:    Energy =   0.1507
Level     1,  Iter    28:    Energy =   0.1508
Level     1,  Iter    29:    Energy =   0.1506
Level     1,  Iter    30:    Energy =   0.1510
Level     1,  Iter    31:    Energy =   0.1509
Level     1,  Iter    32:    Energy =   0.1511
Level     1,  Iter    33:    Energy =   0.1508
Level     1,  Iter    34:    Energy =   0.1512
Level     1,  Iter    35:    Energy =   0.1510
Level     1,  Iter    36:    Energy =   0.1513
Level     1,  Iter    37:    Energy =   0.1509
Level     1,  Iter    38:    Energy =   0.1516
Level     1,  Iter    39:    Energy =   0.1513
Level     1,  Iter    40:    Energy =   0.1517
Level     1,  Iter    41:    Energy =   0.1512
Level     1,  Iter    42:    Energy =   0.1519
Level     1,  Iter    43:    Energy =   0.1516
Level     1,  Iter    44:    Energy =   0.1520
Level     1,  Iter    45:    Energy =   0.1514
Level     1,  Iter    46:    Energy =   0.1522
Level     1,  Iter    47:    Energy =   0.1518
Level     1,  Iter    48:    Energy =   0.1522
Level     1,  Iter    49:    Energy =   0.1516
Level     1,  Iter    50:    Energy =   0.1524
Level     1,  Iter    51:    Energy =   0.1521
Level     1,  Iter    52:    Energy =   0.1523
Level     1,  Iter    53:    Energy =   0.1518
Level     1,  Iter    54:    Energy =   0.1525
Level     1,  Iter    55:    Energy =   0.1521
Level     1,  Iter    56:    Energy =   0.1525
Level     1,  Iter    57:    Energy =   0.1519
Level     1,  Iter    58:    Energy =   0.1526
Level     1,  Iter    59:    Energy =   0.1523
END OF LEVEL     1    DetJac Range:   0.0706  to   2.7751 
  Avg. Gradient Time  : 0.0246s  34.46% 
  Avg. Gaussian Time  : 0.0343s  48.00% 
  Avg. Iteration Time : 0.0714s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0781
Level     2,  Iter     1:    Energy =   0.0823
Level     2,  Iter     2:    Energy =   0.0858
Level     2,  Iter     3:    Energy =   0.0887
Level     2,  Iter     4:    Energy =   0.0914
Level     2,  Iter     5:    Energy =   0.0935
Level     2,  Iter     6:    Energy =   0.0952
Level     2,  Iter     7:    Energy =   0.0964
Level     2,  Iter     8:    Energy =   0.0976
Level     2,  Iter     9:    Energy =   0.0991
Level     2,  Iter    10:    Energy =   0.0993
Level     2,  Iter    11:    Energy =   0.1003
Level     2,  Iter    12:    Energy =   0.1003
Level     2,  Iter    13:    Energy =   0.1010
Level     2,  Iter    14:    Energy =   0.1011
Level     2,  Iter    15:    Energy =   0.1016
Level     2,  Iter    16:    Energy =   0.1015
Level     2,  Iter    17:    Energy =   0.1020
Level     2,  Iter    18:    Energy =   0.1020
Level     2,  Iter    19:    Energy =   0.1024
END OF LEVEL     2    DetJac Range:   0.0462  to   3.9636 
  Avg. Gradient Time  : 0.1154s  33.17% 
  Avg. Gaussian Time  : 0.1809s  51.96% 
  Avg. Iteration Time : 0.3481s 

real	0m14.618s
user	0m20.330s
sys	0m2.736s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.281429 0.285714
+ echo 'CHUNK 0.281429 0.285714 1'
CHUNK 0.281429 0.285714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.281429 0.285714 1
====================================
         PROGRESS: 0.281429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 020
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 020 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=020
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.49
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3501.42   GNORM= 845.162
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3591.539     818.603       0.001
   2    3     -3782.712     115.898       1.000
   3    4     -3788.894      82.196       1.000
   4    5     -3800.213     120.432       1.000
   5    6     -3824.673     181.954       1.000
   6    7     -3857.495     178.337       1.000
   7    8     -3881.883     126.141       1.000
   8    9     -3884.563     155.449       1.000
   9   10     -3891.744      23.097       1.000
  10   12     -3892.787      31.011       5.000
  11   13     -3894.308      47.114       1.000
  12   14     -3896.954      29.733       1.000
  13   15     -3899.032      26.255       1.000
  14   16     -3899.728      32.456       1.000
  15   18     -3900.644      40.257       0.453
  16   19     -3901.308      28.661       1.000
  17   20     -3901.942      25.066       1.000
  18   21     -3902.105      25.609       1.000
  19   22     -3902.200      13.164       1.000
  20   23     -3902.367       9.531       1.000
  21   24     -3902.594      19.845       1.000
  22   25     -3902.733      16.074       1.000
  23   26     -3902.844       8.585       1.000
  24   27     -3902.986       9.883       1.000
  25   29     -3903.076       8.999       0.435
  26   30     -3903.130       5.188       1.000
  27   31     -3903.178       5.301       1.000
  28   32     -3903.198       6.557       1.000
  29   33     -3903.224       6.096       1.000
  30   34     -3903.232       5.756       1.000
  31   35     -3903.240       2.792       1.000
  32   36     -3903.248       2.559       1.000
  33   37     -3903.255       2.808       1.000
  34   38     -3903.255       7.666       1.000
  35   39     -3903.268       5.812       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.978378 -0.0162933 -0.0472073 -1.23841 
-0.0444065 0.980365 0.0159344 0.828665 
0.0302719 0.00711992 0.99843 0.779063 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2708.87   GNORM= 117.661
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2716.453      82.975       0.001
   2    4     -2720.468      50.007       1.000
   3    5     -2724.760      56.105       1.000
   4    6     -2733.437      89.590       1.000
   5    7     -2755.769     191.050       1.000
   6    8     -2773.614     161.910       1.000
   7    9     -2787.655     146.424       1.000
   8   10     -2795.259      32.216       1.000
   9   11     -2795.971      22.669       1.000
  10   12     -2797.203      22.079       1.000
  11   13     -2803.310      42.737       1.000
  12   14     -2806.186      39.776       1.000
  13   16     -2808.716      47.957       0.488
  14   17     -2810.380      22.727       1.000
  15   18     -2810.870      11.638       1.000
  16   19     -2811.172      18.279       1.000
  17   20     -2811.561      17.109       1.000
  18   21     -2812.147      14.548       1.000
  19   23     -2812.220      12.830       0.174
  20   24     -2812.349       8.012       1.000
  21   25     -2812.379       7.113       1.000
  22   26     -2812.400       3.645       1.000
  23   27     -2812.411       2.871       1.000
  24   29     -2812.458       6.024       0.437
  25   30     -2812.515       6.585       1.000
  26   31     -2812.519      11.682       1.000
  27   32     -2812.584       6.081       1.000
  28   33     -2812.627       8.470       1.000
  29   34     -2812.666       8.522       1.000
  30   35     -2812.747       8.264       1.000
  31   36     -2812.839       5.856       1.000
  32   37     -2812.892      10.190       1.000
  33   38     -2812.928       3.705       1.000
  34   39     -2812.942       2.659       1.000
  35   40     -2812.964       3.109       1.000
  36   41     -2812.995       4.710       1.000
  37   43     -2813.002       1.334       0.504
  38   44     -2813.006       1.980       1.000
  39   47     -2813.009       1.870       0.034
  40   48     -2813.012       3.730       1.000
  41   49     -2813.025       3.375       1.000
  42   50     -2813.028       4.685       1.000
  43   51     -2813.045       1.349       1.000
Final RAS Transform: 
1.00292 -0.0161318 -0.00674272 0.366621 
-0.0056369 1.00092 0.00187851 0.727342 
0.0341593 -0.0173756 0.989474 1.51642 
0 0 0 1 

Final RAS Transform: 
1.00292 -0.0161318 -0.00674272 0.366621 
-0.0056369 1.00092 0.00187851 0.727342 
0.0341593 -0.0173756 0.989474 1.51642 
0 0 0 1 


real	0m4.737s
user	0m6.220s
sys	0m0.685s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.477146
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1250
Level     0,  Iter     1:    Energy =   0.1334
Level     0,  Iter     2:    Energy =   0.1417
Level     0,  Iter     3:    Energy =   0.1475
Level     0,  Iter     4:    Energy =   0.1503
Level     0,  Iter     5:    Energy =   0.1520
Level     0,  Iter     6:    Energy =   0.1531
Level     0,  Iter     7:    Energy =   0.1538
Level     0,  Iter     8:    Energy =   0.1543
Level     0,  Iter     9:    Energy =   0.1549
Level     0,  Iter    10:    Energy =   0.1554
Level     0,  Iter    11:    Energy =   0.1559
Level     0,  Iter    12:    Energy =   0.1563
Level     0,  Iter    13:    Energy =   0.1566
Level     0,  Iter    14:    Energy =   0.1568
Level     0,  Iter    15:    Energy =   0.1570
Level     0,  Iter    16:    Energy =   0.1572
Level     0,  Iter    17:    Energy =   0.1574
Level     0,  Iter    18:    Energy =   0.1575
Level     0,  Iter    19:    Energy =   0.1576
Level     0,  Iter    20:    Energy =   0.1577
Level     0,  Iter    21:    Energy =   0.1578
Level     0,  Iter    22:    Energy =   0.1578
Level     0,  Iter    23:    Energy =   0.1578
Level     0,  Iter    24:    Energy =   0.1579
Level     0,  Iter    25:    Energy =   0.1580
Level     0,  Iter    26:    Energy =   0.1580
Level     0,  Iter    27:    Energy =   0.1580
Level     0,  Iter    28:    Energy =   0.1580
Level     0,  Iter    29:    Energy =   0.1581
Level     0,  Iter    30:    Energy =   0.1581
Level     0,  Iter    31:    Energy =   0.1582
Level     0,  Iter    32:    Energy =   0.1581
Level     0,  Iter    33:    Energy =   0.1581
Level     0,  Iter    34:    Energy =   0.1581
Level     0,  Iter    35:    Energy =   0.1582
Level     0,  Iter    36:    Energy =   0.1582
Level     0,  Iter    37:    Energy =   0.1582
Level     0,  Iter    38:    Energy =   0.1582
Level     0,  Iter    39:    Energy =   0.1581
Level     0,  Iter    40:    Energy =   0.1582
Level     0,  Iter    41:    Energy =   0.1582
Level     0,  Iter    42:    Energy =   0.1582
Level     0,  Iter    43:    Energy =   0.1582
Level     0,  Iter    44:    Energy =   0.1582
Level     0,  Iter    45:    Energy =   0.1582
Level     0,  Iter    46:    Energy =   0.1582
Level     0,  Iter    47:    Energy =   0.1582
Level     0,  Iter    48:    Energy =   0.1582
Level     0,  Iter    49:    Energy =   0.1582
Level     0,  Iter    50:    Energy =   0.1582
Level     0,  Iter    51:    Energy =   0.1582
Level     0,  Iter    52:    Energy =   0.1582
Level     0,  Iter    53:    Energy =   0.1583
Level     0,  Iter    54:    Energy =   0.1582
Level     0,  Iter    55:    Energy =   0.1583
Level     0,  Iter    56:    Energy =   0.1583
Level     0,  Iter    57:    Energy =   0.1583
Level     0,  Iter    58:    Energy =   0.1582
Level     0,  Iter    59:    Energy =   0.1582
END OF LEVEL     0    DetJac Range:   0.3822  to   1.9179 
  Avg. Gradient Time  : 0.0053s  34.97% 
  Avg. Gaussian Time  : 0.0069s  45.43% 
  Avg. Iteration Time : 0.0153s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1095
Level     1,  Iter     1:    Energy =   0.1153
Level     1,  Iter     2:    Energy =   0.1209
Level     1,  Iter     3:    Energy =   0.1250
Level     1,  Iter     4:    Energy =   0.1290
Level     1,  Iter     5:    Energy =   0.1320
Level     1,  Iter     6:    Energy =   0.1341
Level     1,  Iter     7:    Energy =   0.1360
Level     1,  Iter     8:    Energy =   0.1376
Level     1,  Iter     9:    Energy =   0.1383
Level     1,  Iter    10:    Energy =   0.1389
Level     1,  Iter    11:    Energy =   0.1398
Level     1,  Iter    12:    Energy =   0.1402
Level     1,  Iter    13:    Energy =   0.1407
Level     1,  Iter    14:    Energy =   0.1406
Level     1,  Iter    15:    Energy =   0.1415
Level     1,  Iter    16:    Energy =   0.1413
Level     1,  Iter    17:    Energy =   0.1422
Level     1,  Iter    18:    Energy =   0.1418
Level     1,  Iter    19:    Energy =   0.1428
Level     1,  Iter    20:    Energy =   0.1425
Level     1,  Iter    21:    Energy =   0.1429
Level     1,  Iter    22:    Energy =   0.1424
Level     1,  Iter    23:    Energy =   0.1431
Level     1,  Iter    24:    Energy =   0.1429
Level     1,  Iter    25:    Energy =   0.1430
Level     1,  Iter    26:    Energy =   0.1427
Level     1,  Iter    27:    Energy =   0.1432
Level     1,  Iter    28:    Energy =   0.1430
Level     1,  Iter    29:    Energy =   0.1432
Level     1,  Iter    30:    Energy =   0.1430
Level     1,  Iter    31:    Energy =   0.1433
Level     1,  Iter    32:    Energy =   0.1432
Level     1,  Iter    33:    Energy =   0.1432
Level     1,  Iter    34:    Energy =   0.1430
Level     1,  Iter    35:    Energy =   0.1434
Level     1,  Iter    36:    Energy =   0.1431
Level     1,  Iter    37:    Energy =   0.1435
Level     1,  Iter    38:    Energy =   0.1433
Level     1,  Iter    39:    Energy =   0.1435
Level     1,  Iter    40:    Energy =   0.1434
Level     1,  Iter    41:    Energy =   0.1436
Level     1,  Iter    42:    Energy =   0.1433
Level     1,  Iter    43:    Energy =   0.1436
Level     1,  Iter    44:    Energy =   0.1435
Level     1,  Iter    45:    Energy =   0.1435
Level     1,  Iter    46:    Energy =   0.1434
Level     1,  Iter    47:    Energy =   0.1435
Level     1,  Iter    48:    Energy =   0.1434
Level     1,  Iter    49:    Energy =   0.1435
Level     1,  Iter    50:    Energy =   0.1434
Level     1,  Iter    51:    Energy =   0.1435
Level     1,  Iter    52:    Energy =   0.1433
Level     1,  Iter    53:    Energy =   0.1436
Level     1,  Iter    54:    Energy =   0.1434
Level     1,  Iter    55:    Energy =   0.1437
Level     1,  Iter    56:    Energy =   0.1435
Level     1,  Iter    57:    Energy =   0.1437
Level     1,  Iter    58:    Energy =   0.1436
Level     1,  Iter    59:    Energy =   0.1437
END OF LEVEL     1    DetJac Range:   0.1157  to   3.0620 
  Avg. Gradient Time  : 0.0248s  34.48% 
  Avg. Gaussian Time  : 0.0351s  48.76% 
  Avg. Iteration Time : 0.0721s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0749
Level     2,  Iter     1:    Energy =   0.0776
Level     2,  Iter     2:    Energy =   0.0809
Level     2,  Iter     3:    Energy =   0.0838
Level     2,  Iter     4:    Energy =   0.0863
Level     2,  Iter     5:    Energy =   0.0879
Level     2,  Iter     6:    Energy =   0.0895
Level     2,  Iter     7:    Energy =   0.0903
Level     2,  Iter     8:    Energy =   0.0916
Level     2,  Iter     9:    Energy =   0.0931
Level     2,  Iter    10:    Energy =   0.0943
Level     2,  Iter    11:    Energy =   0.0953
Level     2,  Iter    12:    Energy =   0.0950
Level     2,  Iter    13:    Energy =   0.0961
Level     2,  Iter    14:    Energy =   0.0961
Level     2,  Iter    15:    Energy =   0.0964
Level     2,  Iter    16:    Energy =   0.0962
Level     2,  Iter    17:    Energy =   0.0973
Level     2,  Iter    18:    Energy =   0.0968
Level     2,  Iter    19:    Energy =   0.0978
END OF LEVEL     2    DetJac Range:   0.0643  to   3.8154 
  Avg. Gradient Time  : 0.1138s  32.80% 
  Avg. Gaussian Time  : 0.1819s  52.44% 
  Avg. Iteration Time : 0.3470s 

real	0m14.582s
user	0m20.116s
sys	0m2.728s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.285714 0.29
+ echo 'CHUNK 0.285714 0.29 1'
CHUNK 0.285714 0.29 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.285714 0.29 1
====================================
         PROGRESS: 0.285714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 021
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 021 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=021
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.598
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3842.7   GNORM= 674.531
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3983.016     268.279       0.001
   2    4     -4009.439     160.818       1.000
   3    5     -4032.737     151.245       1.000
   4    6     -4078.142     330.107       1.000
   5    7     -4118.905     213.125       1.000
   6    8     -4152.749      85.371       1.000
   7    9     -4159.898     101.088       1.000
   8   10     -4167.120      87.097       1.000
   9   11     -4173.945      72.740       1.000
  10   12     -4175.308      66.468       1.000
  11   13     -4176.308      18.644       1.000
  12   14     -4176.492      16.658       1.000
  13   15     -4178.156      46.555       1.000
  14   16     -4179.204      38.980       1.000
  15   17     -4179.518      30.848       1.000
  16   18     -4179.946      12.852       1.000
  17   19     -4180.011      20.040       1.000
  18   20     -4180.316      10.497       1.000
  19   21     -4180.486      18.653       1.000
  20   22     -4180.613      10.655       1.000
  21   23     -4180.676      13.218       1.000
  22   25     -4180.853       8.577       0.497
  23   26     -4180.877      10.785       1.000
  24   28     -4181.070      16.064       5.000
  25   29     -4181.187       5.364       1.000
  26   30     -4181.207       9.512       1.000
  27   31     -4181.246      11.879       1.000
  28   32     -4181.268       6.438       1.000
  29   33     -4181.277       2.743       1.000
  30   34     -4181.286       3.348       1.000
  31   35     -4181.299       3.089       1.000
  32   36     -4181.304       5.711       1.000
  33   37     -4181.311       2.564       1.000
  34   38     -4181.316       1.428       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.995166 -0.00490828 -0.00803899 -0.315698 
-0.00923705 1.0153 0.0325149 0.640561 
0.0197044 0.00937315 1.04508 1.44653 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3109.82   GNORM= 256.939
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3126.837      70.348       0.000
   2    4     -3129.298      57.785       1.000
   3    5     -3134.409      51.733       1.000
   4    6     -3139.327      73.411       1.000
   5    7     -3152.322      99.122       1.000
   6    9     -3158.022      89.775       0.453
   7   10     -3162.710      49.568       1.000
   8   11     -3164.543      17.979       1.000
   9   12     -3164.724      14.585       1.000
  10   13     -3164.876      15.938       1.000
  11   14     -3165.938      20.964       1.000
  12   15     -3166.635      43.430       1.000
  13   16     -3167.196       8.058       1.000
  14   17     -3167.284      10.815       1.000
  15   18     -3167.381      11.165       1.000
  16   19     -3167.540       6.937       1.000
  17   20     -3167.692       8.136       1.000
  18   21     -3167.772       9.941       1.000
  19   22     -3167.889       6.652       1.000
  20   23     -3167.978       6.096       1.000
  21   25     -3167.998       4.058       0.180
  22   26     -3168.004       3.267       1.000
  23   28     -3168.015       4.077       0.508
  24   29     -3168.054       3.792       1.000
  25   31     -3168.090       2.909       0.451
  26   32     -3168.105       3.967       1.000
  27   33     -3168.118       3.643       1.000
  28   34     -3168.125       4.241       1.000
  29   36     -3168.164       5.990       0.479
  30   37     -3168.176       2.402       1.000
  31   38     -3168.197       2.728       1.000
  32   40     -3168.204       3.082       0.118
  33   41     -3168.208       3.134       1.000
  34   42     -3168.223       3.402       1.000
  35   43     -3168.231       4.141       1.000
  36   44     -3168.240       2.558       1.000
  37   45     -3168.245       1.243       1.000
  38   46     -3168.246       2.323       1.000
  39   47     -3168.249       2.506       1.000
  40   49     -3168.255       2.706       0.201
  41   50     -3168.255       0.568       1.000
Final RAS Transform: 
1.00578 -0.00491038 0.0149553 0.424395 
0.00152181 1.01073 0.0218064 0.542109 
0.0175092 -0.00220625 1.03983 1.50056 
0 0 0 1 

Final RAS Transform: 
1.00578 -0.00491038 0.0149553 0.424395 
0.00152181 1.01073 0.0218064 0.542109 
0.0175092 -0.00220625 1.03983 1.50056 
0 0 0 1 


real	0m4.608s
user	0m6.209s
sys	0m0.683s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.574999
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1354
Level     0,  Iter     1:    Energy =   0.1443
Level     0,  Iter     2:    Energy =   0.1514
Level     0,  Iter     3:    Energy =   0.1570
Level     0,  Iter     4:    Energy =   0.1587
Level     0,  Iter     5:    Energy =   0.1598
Level     0,  Iter     6:    Energy =   0.1605
Level     0,  Iter     7:    Energy =   0.1612
Level     0,  Iter     8:    Energy =   0.1617
Level     0,  Iter     9:    Energy =   0.1622
Level     0,  Iter    10:    Energy =   0.1624
Level     0,  Iter    11:    Energy =   0.1628
Level     0,  Iter    12:    Energy =   0.1629
Level     0,  Iter    13:    Energy =   0.1633
Level     0,  Iter    14:    Energy =   0.1632
Level     0,  Iter    15:    Energy =   0.1637
Level     0,  Iter    16:    Energy =   0.1636
Level     0,  Iter    17:    Energy =   0.1639
Level     0,  Iter    18:    Energy =   0.1638
Level     0,  Iter    19:    Energy =   0.1641
Level     0,  Iter    20:    Energy =   0.1639
Level     0,  Iter    21:    Energy =   0.1642
Level     0,  Iter    22:    Energy =   0.1639
Level     0,  Iter    23:    Energy =   0.1642
Level     0,  Iter    24:    Energy =   0.1640
Level     0,  Iter    25:    Energy =   0.1643
Level     0,  Iter    26:    Energy =   0.1641
Level     0,  Iter    27:    Energy =   0.1644
Level     0,  Iter    28:    Energy =   0.1641
Level     0,  Iter    29:    Energy =   0.1644
Level     0,  Iter    30:    Energy =   0.1642
Level     0,  Iter    31:    Energy =   0.1645
Level     0,  Iter    32:    Energy =   0.1643
Level     0,  Iter    33:    Energy =   0.1645
Level     0,  Iter    34:    Energy =   0.1642
Level     0,  Iter    35:    Energy =   0.1645
Level     0,  Iter    36:    Energy =   0.1643
Level     0,  Iter    37:    Energy =   0.1645
Level     0,  Iter    38:    Energy =   0.1643
Level     0,  Iter    39:    Energy =   0.1645
Level     0,  Iter    40:    Energy =   0.1643
Level     0,  Iter    41:    Energy =   0.1645
Level     0,  Iter    42:    Energy =   0.1643
Level     0,  Iter    43:    Energy =   0.1645
Level     0,  Iter    44:    Energy =   0.1643
Level     0,  Iter    45:    Energy =   0.1645
Level     0,  Iter    46:    Energy =   0.1643
Level     0,  Iter    47:    Energy =   0.1645
Level     0,  Iter    48:    Energy =   0.1643
Level     0,  Iter    49:    Energy =   0.1645
Level     0,  Iter    50:    Energy =   0.1643
Level     0,  Iter    51:    Energy =   0.1646
Level     0,  Iter    52:    Energy =   0.1643
Level     0,  Iter    53:    Energy =   0.1645
Level     0,  Iter    54:    Energy =   0.1643
Level     0,  Iter    55:    Energy =   0.1646
Level     0,  Iter    56:    Energy =   0.1643
Level     0,  Iter    57:    Energy =   0.1645
Level     0,  Iter    58:    Energy =   0.1643
Level     0,  Iter    59:    Energy =   0.1646
END OF LEVEL     0    DetJac Range:   0.4560  to   1.8267 
  Avg. Gradient Time  : 0.0056s  34.90% 
  Avg. Gaussian Time  : 0.0072s  45.27% 
  Avg. Iteration Time : 0.0159s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1155
Level     1,  Iter     1:    Energy =   0.1225
Level     1,  Iter     2:    Energy =   0.1278
Level     1,  Iter     3:    Energy =   0.1321
Level     1,  Iter     4:    Energy =   0.1366
Level     1,  Iter     5:    Energy =   0.1392
Level     1,  Iter     6:    Energy =   0.1419
Level     1,  Iter     7:    Energy =   0.1441
Level     1,  Iter     8:    Energy =   0.1448
Level     1,  Iter     9:    Energy =   0.1456
Level     1,  Iter    10:    Energy =   0.1454
Level     1,  Iter    11:    Energy =   0.1468
Level     1,  Iter    12:    Energy =   0.1473
Level     1,  Iter    13:    Energy =   0.1475
Level     1,  Iter    14:    Energy =   0.1471
Level     1,  Iter    15:    Energy =   0.1484
Level     1,  Iter    16:    Energy =   0.1484
Level     1,  Iter    17:    Energy =   0.1487
Level     1,  Iter    18:    Energy =   0.1482
Level     1,  Iter    19:    Energy =   0.1492
Level     1,  Iter    20:    Energy =   0.1491
Level     1,  Iter    21:    Energy =   0.1494
Level     1,  Iter    22:    Energy =   0.1488
Level     1,  Iter    23:    Energy =   0.1497
Level     1,  Iter    24:    Energy =   0.1495
Level     1,  Iter    25:    Energy =   0.1496
Level     1,  Iter    26:    Energy =   0.1492
Level     1,  Iter    27:    Energy =   0.1498
Level     1,  Iter    28:    Energy =   0.1496
Level     1,  Iter    29:    Energy =   0.1498
Level     1,  Iter    30:    Energy =   0.1494
Level     1,  Iter    31:    Energy =   0.1499
Level     1,  Iter    32:    Energy =   0.1497
Level     1,  Iter    33:    Energy =   0.1500
Level     1,  Iter    34:    Energy =   0.1496
Level     1,  Iter    35:    Energy =   0.1501
Level     1,  Iter    36:    Energy =   0.1499
Level     1,  Iter    37:    Energy =   0.1501
Level     1,  Iter    38:    Energy =   0.1498
Level     1,  Iter    39:    Energy =   0.1502
Level     1,  Iter    40:    Energy =   0.1500
Level     1,  Iter    41:    Energy =   0.1503
Level     1,  Iter    42:    Energy =   0.1500
Level     1,  Iter    43:    Energy =   0.1503
Level     1,  Iter    44:    Energy =   0.1501
Level     1,  Iter    45:    Energy =   0.1504
Level     1,  Iter    46:    Energy =   0.1501
Level     1,  Iter    47:    Energy =   0.1505
Level     1,  Iter    48:    Energy =   0.1502
Level     1,  Iter    49:    Energy =   0.1506
Level     1,  Iter    50:    Energy =   0.1503
Level     1,  Iter    51:    Energy =   0.1507
Level     1,  Iter    52:    Energy =   0.1503
Level     1,  Iter    53:    Energy =   0.1507
Level     1,  Iter    54:    Energy =   0.1504
Level     1,  Iter    55:    Energy =   0.1508
Level     1,  Iter    56:    Energy =   0.1504
Level     1,  Iter    57:    Energy =   0.1508
Level     1,  Iter    58:    Energy =   0.1505
Level     1,  Iter    59:    Energy =   0.1508
END OF LEVEL     1    DetJac Range:   0.2133  to   2.7675 
  Avg. Gradient Time  : 0.0246s  35.13% 
  Avg. Gaussian Time  : 0.0336s  47.90% 
  Avg. Iteration Time : 0.0701s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0799
Level     2,  Iter     1:    Energy =   0.0827
Level     2,  Iter     2:    Energy =   0.0858
Level     2,  Iter     3:    Energy =   0.0881
Level     2,  Iter     4:    Energy =   0.0898
Level     2,  Iter     5:    Energy =   0.0915
Level     2,  Iter     6:    Energy =   0.0932
Level     2,  Iter     7:    Energy =   0.0952
Level     2,  Iter     8:    Energy =   0.0973
Level     2,  Iter     9:    Energy =   0.0990
Level     2,  Iter    10:    Energy =   0.1004
Level     2,  Iter    11:    Energy =   0.1015
Level     2,  Iter    12:    Energy =   0.1024
Level     2,  Iter    13:    Energy =   0.1023
Level     2,  Iter    14:    Energy =   0.1032
Level     2,  Iter    15:    Energy =   0.1034
Level     2,  Iter    16:    Energy =   0.1039
Level     2,  Iter    17:    Energy =   0.1037
Level     2,  Iter    18:    Energy =   0.1044
Level     2,  Iter    19:    Energy =   0.1047
END OF LEVEL     2    DetJac Range:   0.1133  to   3.7193 
  Avg. Gradient Time  : 0.1120s  32.17% 
  Avg. Gaussian Time  : 0.1786s  51.29% 
  Avg. Iteration Time : 0.3482s 

real	0m14.590s
user	0m20.065s
sys	0m2.719s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.29 0.294286
+ echo 'CHUNK 0.29 0.294286 1'
CHUNK 0.29 0.294286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.29 0.294286 1
====================================
         PROGRESS: 0.29               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 022
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 022 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=022
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.628
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3496.01   GNORM= 490.307
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3572.000     500.948       0.002
   2    3     -3661.568     113.123       1.000
   3    4     -3671.189      96.784       1.000
   4    5     -3715.430     152.530       1.000
   5    6     -3741.363     216.468       1.000
   6    7     -3763.872     102.814       1.000
   7    8     -3771.681      70.059       1.000
   8    9     -3776.709      72.282       1.000
   9   10     -3782.600      43.953       1.000
  10   11     -3783.545      78.766       1.000
  11   12     -3785.848      47.393       1.000
  12   13     -3786.797      17.212       1.000
  13   14     -3787.096      15.807       1.000
  14   15     -3787.671      16.194       1.000
  15   16     -3788.186      16.239       1.000
  16   17     -3788.624      15.752       1.000
  17   19     -3788.948      16.855       0.424
  18   20     -3789.116      11.172       1.000
  19   22     -3789.208       8.109       0.380
  20   23     -3789.229      10.320       1.000
  21   24     -3789.247       8.808       1.000
  22   25     -3789.270       9.066       1.000
  23   26     -3789.311       7.883       1.000
  24   27     -3789.332      11.268       1.000
  25   28     -3789.363       8.106       1.000
  26   29     -3789.381      13.894       1.000
  27   30     -3789.467       7.849       1.000
  28   31     -3789.488       2.801       1.000
  29   32     -3789.489       2.916       1.000
  30   33     -3789.493       3.099       1.000
  31   35     -3789.500       3.250       0.220
  32   36     -3789.509       4.138       1.000
  33   37     -3789.509       2.595       1.000
  34   38     -3789.513       2.184       1.000
  35   42     -3789.515       2.021       0.581
  36   43     -3789.516       1.239       1.000
  37   45     -3789.517       2.370       0.275
  38   46     -3789.518       1.170       1.000
Final RAS Transform: 
1.00728 0.00760693 0.00633638 0.0038275 
0.041118 0.997316 0.020966 1.52466 
0.00384671 0.017469 1.05399 0.981125 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2828.22   GNORM= 90.436
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2835.094      76.984       0.001
   2    4     -2840.168      66.991       1.000
   3    5     -2850.020      64.596       1.000
   4    6     -2854.416     128.069       1.000
   5    7     -2861.279      33.558       1.000
   6    8     -2862.327      21.142       1.000
   7    9     -2863.026      25.427       1.000
   8   10     -2864.089      31.692       1.000
   9   11     -2867.547      36.160       1.000
  10   13     -2868.499      27.089       0.362
  11   14     -2868.821       9.757       1.000
  12   15     -2868.908       7.648       1.000
  13   16     -2869.008      10.110       1.000
  14   17     -2869.275      20.832       1.000
  15   18     -2869.817      21.719       1.000
  16   19     -2870.588      30.322       1.000
  17   20     -2871.251      13.801       1.000
  18   21     -2871.364      17.992       1.000
  19   22     -2871.610       9.951       1.000
  20   23     -2871.733       9.679       1.000
  21   24     -2871.846       9.063       1.000
  22   26     -2872.010      12.767       0.411
  23   27     -2872.100       4.507       1.000
  24   28     -2872.145       6.941       1.000
  25   30     -2872.180       9.063       0.107
  26   32     -2872.232       5.749       0.422
  27   33     -2872.290      10.491       1.000
  28   34     -2872.342       3.974       1.000
  29   35     -2872.373       4.012       1.000
  30   36     -2872.434       3.090       1.000
  31   38     -2872.466       4.223       0.236
  32   39     -2872.505       5.880       1.000
  33   40     -2872.563       3.533       1.000
  34   42     -2872.596       7.910       0.430
  35   43     -2872.657       6.586       1.000
  36   45     -2872.686       9.283       0.348
  37   46     -2872.718       4.266       1.000
  38   47     -2872.732       3.344       1.000
  39   48     -2872.735       2.580       1.000
  40   49     -2872.744       2.961       1.000
  41   50     -2872.768       5.330       1.000
  42   51     -2872.802       4.801       1.000
  43   52     -2872.819       4.200       1.000
  44   54     -2872.834       3.906       0.320
  45   55     -2872.852       1.343       1.000
  46   57     -2872.853       1.400       0.397
  47   58     -2872.854       1.631       1.000
  48   59     -2872.857       1.827       1.000
  49   61     -2872.860       0.771       0.399
Final RAS Transform: 
1.01405 -0.0073632 0.00981911 0.519916 
0.0365725 1.00545 0.020098 1.12642 
0.0153931 0.00452028 1.02386 1.10552 
0 0 0 1 

Final RAS Transform: 
1.01405 -0.0073632 0.00981911 0.519916 
0.0365725 1.00545 0.020098 1.12642 
0.0153931 0.00452028 1.02386 1.10552 
0 0 0 1 


real	0m4.755s
user	0m6.230s
sys	0m0.744s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.600657
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1205
Level     0,  Iter     1:    Energy =   0.1302
Level     0,  Iter     2:    Energy =   0.1383
Level     0,  Iter     3:    Energy =   0.1444
Level     0,  Iter     4:    Energy =   0.1466
Level     0,  Iter     5:    Energy =   0.1485
Level     0,  Iter     6:    Energy =   0.1496
Level     0,  Iter     7:    Energy =   0.1508
Level     0,  Iter     8:    Energy =   0.1514
Level     0,  Iter     9:    Energy =   0.1524
Level     0,  Iter    10:    Energy =   0.1526
Level     0,  Iter    11:    Energy =   0.1534
Level     0,  Iter    12:    Energy =   0.1535
Level     0,  Iter    13:    Energy =   0.1542
Level     0,  Iter    14:    Energy =   0.1541
Level     0,  Iter    15:    Energy =   0.1547
Level     0,  Iter    16:    Energy =   0.1546
Level     0,  Iter    17:    Energy =   0.1550
Level     0,  Iter    18:    Energy =   0.1549
Level     0,  Iter    19:    Energy =   0.1554
Level     0,  Iter    20:    Energy =   0.1552
Level     0,  Iter    21:    Energy =   0.1556
Level     0,  Iter    22:    Energy =   0.1555
Level     0,  Iter    23:    Energy =   0.1558
Level     0,  Iter    24:    Energy =   0.1557
Level     0,  Iter    25:    Energy =   0.1560
Level     0,  Iter    26:    Energy =   0.1558
Level     0,  Iter    27:    Energy =   0.1561
Level     0,  Iter    28:    Energy =   0.1559
Level     0,  Iter    29:    Energy =   0.1562
Level     0,  Iter    30:    Energy =   0.1560
Level     0,  Iter    31:    Energy =   0.1563
Level     0,  Iter    32:    Energy =   0.1561
Level     0,  Iter    33:    Energy =   0.1564
Level     0,  Iter    34:    Energy =   0.1562
Level     0,  Iter    35:    Energy =   0.1565
Level     0,  Iter    36:    Energy =   0.1562
Level     0,  Iter    37:    Energy =   0.1565
Level     0,  Iter    38:    Energy =   0.1562
Level     0,  Iter    39:    Energy =   0.1565
Level     0,  Iter    40:    Energy =   0.1563
Level     0,  Iter    41:    Energy =   0.1566
Level     0,  Iter    42:    Energy =   0.1563
Level     0,  Iter    43:    Energy =   0.1566
Level     0,  Iter    44:    Energy =   0.1563
Level     0,  Iter    45:    Energy =   0.1566
Level     0,  Iter    46:    Energy =   0.1563
Level     0,  Iter    47:    Energy =   0.1566
Level     0,  Iter    48:    Energy =   0.1563
Level     0,  Iter    49:    Energy =   0.1566
Level     0,  Iter    50:    Energy =   0.1564
Level     0,  Iter    51:    Energy =   0.1566
Level     0,  Iter    52:    Energy =   0.1564
Level     0,  Iter    53:    Energy =   0.1567
Level     0,  Iter    54:    Energy =   0.1564
Level     0,  Iter    55:    Energy =   0.1566
Level     0,  Iter    56:    Energy =   0.1564
Level     0,  Iter    57:    Energy =   0.1566
Level     0,  Iter    58:    Energy =   0.1564
Level     0,  Iter    59:    Energy =   0.1567
END OF LEVEL     0    DetJac Range:   0.4495  to   1.6344 
  Avg. Gradient Time  : 0.0056s  34.74% 
  Avg. Gaussian Time  : 0.0073s  45.32% 
  Avg. Iteration Time : 0.0162s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1121
Level     1,  Iter     1:    Energy =   0.1176
Level     1,  Iter     2:    Energy =   0.1242
Level     1,  Iter     3:    Energy =   0.1284
Level     1,  Iter     4:    Energy =   0.1312
Level     1,  Iter     5:    Energy =   0.1342
Level     1,  Iter     6:    Energy =   0.1371
Level     1,  Iter     7:    Energy =   0.1393
Level     1,  Iter     8:    Energy =   0.1410
Level     1,  Iter     9:    Energy =   0.1416
Level     1,  Iter    10:    Energy =   0.1421
Level     1,  Iter    11:    Energy =   0.1420
Level     1,  Iter    12:    Energy =   0.1425
Level     1,  Iter    13:    Energy =   0.1428
Level     1,  Iter    14:    Energy =   0.1429
Level     1,  Iter    15:    Energy =   0.1430
Level     1,  Iter    16:    Energy =   0.1433
Level     1,  Iter    17:    Energy =   0.1434
Level     1,  Iter    18:    Energy =   0.1437
Level     1,  Iter    19:    Energy =   0.1438
Level     1,  Iter    20:    Energy =   0.1439
Level     1,  Iter    21:    Energy =   0.1441
Level     1,  Iter    22:    Energy =   0.1442
Level     1,  Iter    23:    Energy =   0.1442
Level     1,  Iter    24:    Energy =   0.1444
Level     1,  Iter    25:    Energy =   0.1444
Level     1,  Iter    26:    Energy =   0.1446
Level     1,  Iter    27:    Energy =   0.1446
Level     1,  Iter    28:    Energy =   0.1448
Level     1,  Iter    29:    Energy =   0.1447
Level     1,  Iter    30:    Energy =   0.1449
Level     1,  Iter    31:    Energy =   0.1448
Level     1,  Iter    32:    Energy =   0.1450
Level     1,  Iter    33:    Energy =   0.1448
Level     1,  Iter    34:    Energy =   0.1450
Level     1,  Iter    35:    Energy =   0.1449
Level     1,  Iter    36:    Energy =   0.1451
Level     1,  Iter    37:    Energy =   0.1449
Level     1,  Iter    38:    Energy =   0.1451
Level     1,  Iter    39:    Energy =   0.1450
Level     1,  Iter    40:    Energy =   0.1451
Level     1,  Iter    41:    Energy =   0.1450
Level     1,  Iter    42:    Energy =   0.1452
Level     1,  Iter    43:    Energy =   0.1450
Level     1,  Iter    44:    Energy =   0.1453
Level     1,  Iter    45:    Energy =   0.1451
Level     1,  Iter    46:    Energy =   0.1453
Level     1,  Iter    47:    Energy =   0.1451
Level     1,  Iter    48:    Energy =   0.1453
Level     1,  Iter    49:    Energy =   0.1452
Level     1,  Iter    50:    Energy =   0.1454
Level     1,  Iter    51:    Energy =   0.1452
Level     1,  Iter    52:    Energy =   0.1454
Level     1,  Iter    53:    Energy =   0.1453
Level     1,  Iter    54:    Energy =   0.1455
Level     1,  Iter    55:    Energy =   0.1453
Level     1,  Iter    56:    Energy =   0.1455
Level     1,  Iter    57:    Energy =   0.1453
Level     1,  Iter    58:    Energy =   0.1455
Level     1,  Iter    59:    Energy =   0.1454
END OF LEVEL     1    DetJac Range:   0.1700  to   2.8656 
  Avg. Gradient Time  : 0.0244s  33.74% 
  Avg. Gaussian Time  : 0.0355s  49.08% 
  Avg. Iteration Time : 0.0724s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0789
Level     2,  Iter     1:    Energy =   0.0821
Level     2,  Iter     2:    Energy =   0.0854
Level     2,  Iter     3:    Energy =   0.0878
Level     2,  Iter     4:    Energy =   0.0901
Level     2,  Iter     5:    Energy =   0.0922
Level     2,  Iter     6:    Energy =   0.0944
Level     2,  Iter     7:    Energy =   0.0958
Level     2,  Iter     8:    Energy =   0.0962
Level     2,  Iter     9:    Energy =   0.0972
Level     2,  Iter    10:    Energy =   0.0973
Level     2,  Iter    11:    Energy =   0.0982
Level     2,  Iter    12:    Energy =   0.0983
Level     2,  Iter    13:    Energy =   0.0989
Level     2,  Iter    14:    Energy =   0.0989
Level     2,  Iter    15:    Energy =   0.0996
Level     2,  Iter    16:    Energy =   0.0996
Level     2,  Iter    17:    Energy =   0.1000
Level     2,  Iter    18:    Energy =   0.1000
Level     2,  Iter    19:    Energy =   0.1005
END OF LEVEL     2    DetJac Range:   0.1042  to   3.0539 
  Avg. Gradient Time  : 0.1102s  32.15% 
  Avg. Gaussian Time  : 0.1820s  53.10% 
  Avg. Iteration Time : 0.3428s 

real	0m14.570s
user	0m20.218s
sys	0m2.730s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.294286 0.298571
+ echo 'CHUNK 0.294286 0.298571 1'
CHUNK 0.294286 0.298571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.294286 0.298571 1
====================================
         PROGRESS: 0.294286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 023
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 023 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=023
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.652
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3445.38   GNORM= 523.602
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3522.795     208.742       0.001
   2    4     -3543.704     154.430       1.000
   3    5     -3571.526     102.487       1.000
   4    6     -3588.342     100.827       1.000
   5    7     -3611.596     104.492       1.000
   6    8     -3629.341     132.273       1.000
   7    9     -3638.825      57.412       1.000
   8   10     -3642.590      56.655       1.000
   9   11     -3647.587      80.260       1.000
  10   13     -3649.621      39.092       0.464
  11   14     -3650.267      22.334       1.000
  12   15     -3650.817      18.347       1.000
  13   16     -3651.826      32.484       1.000
  14   17     -3653.293      42.575       1.000
  15   18     -3654.831      26.390       1.000
  16   19     -3655.598      25.237       1.000
  17   21     -3655.760      25.629       0.521
  18   22     -3656.133      12.697       1.000
  19   23     -3656.454      15.398       1.000
  20   25     -3656.859      31.860       0.502
  21   26     -3657.240      21.202       1.000
  22   27     -3657.490      23.036       1.000
  23   28     -3657.802       9.574       1.000
  24   29     -3657.963      17.062       1.000
  25   31     -3658.086      12.557       0.434
  26   32     -3658.125       8.139       1.000
  27   33     -3658.194      13.999       1.000
  28   35     -3658.214      11.910       0.424
  29   36     -3658.239       6.991       1.000
  30   37     -3658.273       4.623       1.000
  31   38     -3658.356       5.381       1.000
  32   39     -3658.376      17.345       1.000
  33   40     -3658.463      13.521       1.000
  34   42     -3658.562       9.875       0.130
  35   44     -3658.619      12.597       0.403
  36   45     -3658.693       5.766       1.000
  37   47     -3658.717       9.354       0.190
  38   48     -3658.744       8.196       1.000
  39   50     -3658.759      14.501       0.181
  40   51     -3658.784       6.691       1.000
  41   52     -3658.804       3.903       1.000
  42   53     -3658.817       4.343       1.000
  43   54     -3658.827       3.019       1.000
  44   55     -3658.840       2.993       1.000
  45   56     -3658.871       2.825       1.000
  46   58     -3658.873       2.358       0.357
  47   60     -3658.878       2.374       0.133
  48   61     -3658.884       1.307       1.000
Final RAS Transform: 
0.978748 0.00683761 -0.00510148 -1.12098 
0.0479427 0.986648 0.0117791 1.9288 
-0.00258229 0.00835599 1.01013 0.252796 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2693.31   GNORM= 100.06
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2697.668      89.723       0.001
   2    4     -2701.175      72.765       1.000
   3    5     -2719.092      88.164       1.000
   4    6     -2738.002     149.655       1.000
   5    7     -2767.042     139.388       1.000
   6    9     -2776.004     136.741       0.266
   7   10     -2785.365      76.349       1.000
   8   11     -2787.691      83.287       1.000
   9   12     -2789.576      46.219       1.000
  10   13     -2792.018      42.327       1.000
  11   14     -2794.061      34.103       1.000
  12   15     -2796.975      24.047       1.000
  13   16     -2797.398      32.882       1.000
  14   17     -2798.020      17.141       1.000
  15   18     -2798.669      17.000       1.000
  16   19     -2799.345      30.111       1.000
  17   20     -2799.913      46.476       1.000
  18   21     -2800.942      23.654       1.000
  19   22     -2801.751      16.182       1.000
  20   23     -2802.131      13.599       1.000
  21   24     -2802.486      42.940       1.000
  22   25     -2803.559      15.876       1.000
  23   26     -2804.018      11.286       1.000
  24   27     -2804.260       7.980       1.000
  25   28     -2804.335      13.481       1.000
  26   29     -2804.470       9.886       1.000
  27   30     -2804.657      12.262       1.000
  28   31     -2804.827       7.365       1.000
  29   32     -2805.092       8.463       1.000
  30   33     -2805.510      20.265       1.000
  31   34     -2805.700      13.096       1.000
  32   35     -2805.804       8.148       1.000
  33   36     -2805.866       5.157       1.000
  34   37     -2805.887       5.236       1.000
  35   38     -2805.898       3.736       1.000
  36   40     -2805.905       3.995       0.182
  37   41     -2805.912      10.390       1.000
  38   42     -2805.959       4.264       1.000
  39   43     -2805.968       2.656       1.000
  40   44     -2806.012       8.599       1.000
  41   45     -2806.026       9.617       1.000
  42   46     -2806.045       6.357       1.000
  43   47     -2806.066       3.407       1.000
  44   48     -2806.070       2.686       1.000
  45   49     -2806.075       1.827       1.000
Final RAS Transform: 
1.00311 -0.00997611 0.00544531 0.172031 
0.0229478 1.00574 -0.00452398 0.664579 
0.00923455 -0.0154605 1.02559 1.19744 
0 0 0 1 

Final RAS Transform: 
1.00311 -0.00997611 0.00544531 0.172031 
0.0229478 1.00574 -0.00452398 0.664579 
0.00923455 -0.0154605 1.02559 1.19744 
0 0 0 1 


real	0m4.609s
user	0m6.213s
sys	0m0.711s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.62974
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1185
Level     0,  Iter     1:    Energy =   0.1271
Level     0,  Iter     2:    Energy =   0.1336
Level     0,  Iter     3:    Energy =   0.1384
Level     0,  Iter     4:    Energy =   0.1436
Level     0,  Iter     5:    Energy =   0.1460
Level     0,  Iter     6:    Energy =   0.1467
Level     0,  Iter     7:    Energy =   0.1477
Level     0,  Iter     8:    Energy =   0.1477
Level     0,  Iter     9:    Energy =   0.1485
Level     0,  Iter    10:    Energy =   0.1484
Level     0,  Iter    11:    Energy =   0.1494
Level     0,  Iter    12:    Energy =   0.1498
Level     0,  Iter    13:    Energy =   0.1509
Level     0,  Iter    14:    Energy =   0.1513
Level     0,  Iter    15:    Energy =   0.1524
Level     0,  Iter    16:    Energy =   0.1526
Level     0,  Iter    17:    Energy =   0.1536
Level     0,  Iter    18:    Energy =   0.1539
Level     0,  Iter    19:    Energy =   0.1547
Level     0,  Iter    20:    Energy =   0.1545
Level     0,  Iter    21:    Energy =   0.1554
Level     0,  Iter    22:    Energy =   0.1554
Level     0,  Iter    23:    Energy =   0.1561
Level     0,  Iter    24:    Energy =   0.1556
Level     0,  Iter    25:    Energy =   0.1565
Level     0,  Iter    26:    Energy =   0.1563
Level     0,  Iter    27:    Energy =   0.1570
Level     0,  Iter    28:    Energy =   0.1563
Level     0,  Iter    29:    Energy =   0.1571
Level     0,  Iter    30:    Energy =   0.1568
Level     0,  Iter    31:    Energy =   0.1576
Level     0,  Iter    32:    Energy =   0.1568
Level     0,  Iter    33:    Energy =   0.1576
Level     0,  Iter    34:    Energy =   0.1573
Level     0,  Iter    35:    Energy =   0.1580
Level     0,  Iter    36:    Energy =   0.1572
Level     0,  Iter    37:    Energy =   0.1580
Level     0,  Iter    38:    Energy =   0.1577
Level     0,  Iter    39:    Energy =   0.1583
Level     0,  Iter    40:    Energy =   0.1576
Level     0,  Iter    41:    Energy =   0.1584
Level     0,  Iter    42:    Energy =   0.1581
Level     0,  Iter    43:    Energy =   0.1588
Level     0,  Iter    44:    Energy =   0.1580
Level     0,  Iter    45:    Energy =   0.1589
Level     0,  Iter    46:    Energy =   0.1585
Level     0,  Iter    47:    Energy =   0.1592
Level     0,  Iter    48:    Energy =   0.1583
Level     0,  Iter    49:    Energy =   0.1591
Level     0,  Iter    50:    Energy =   0.1586
Level     0,  Iter    51:    Energy =   0.1593
Level     0,  Iter    52:    Energy =   0.1585
Level     0,  Iter    53:    Energy =   0.1594
Level     0,  Iter    54:    Energy =   0.1589
Level     0,  Iter    55:    Energy =   0.1595
Level     0,  Iter    56:    Energy =   0.1586
Level     0,  Iter    57:    Energy =   0.1594
Level     0,  Iter    58:    Energy =   0.1590
Level     0,  Iter    59:    Energy =   0.1596
END OF LEVEL     0    DetJac Range:   0.2270  to   1.9242 
  Avg. Gradient Time  : 0.0057s  35.42% 
  Avg. Gaussian Time  : 0.0073s  44.92% 
  Avg. Iteration Time : 0.0162s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1119
Level     1,  Iter     1:    Energy =   0.1183
Level     1,  Iter     2:    Energy =   0.1240
Level     1,  Iter     3:    Energy =   0.1285
Level     1,  Iter     4:    Energy =   0.1317
Level     1,  Iter     5:    Energy =   0.1343
Level     1,  Iter     6:    Energy =   0.1366
Level     1,  Iter     7:    Energy =   0.1386
Level     1,  Iter     8:    Energy =   0.1405
Level     1,  Iter     9:    Energy =   0.1421
Level     1,  Iter    10:    Energy =   0.1434
Level     1,  Iter    11:    Energy =   0.1442
Level     1,  Iter    12:    Energy =   0.1442
Level     1,  Iter    13:    Energy =   0.1447
Level     1,  Iter    14:    Energy =   0.1447
Level     1,  Iter    15:    Energy =   0.1450
Level     1,  Iter    16:    Energy =   0.1449
Level     1,  Iter    17:    Energy =   0.1458
Level     1,  Iter    18:    Energy =   0.1454
Level     1,  Iter    19:    Energy =   0.1466
Level     1,  Iter    20:    Energy =   0.1469
Level     1,  Iter    21:    Energy =   0.1468
Level     1,  Iter    22:    Energy =   0.1464
Level     1,  Iter    23:    Energy =   0.1471
Level     1,  Iter    24:    Energy =   0.1468
Level     1,  Iter    25:    Energy =   0.1473
Level     1,  Iter    26:    Energy =   0.1468
Level     1,  Iter    27:    Energy =   0.1475
Level     1,  Iter    28:    Energy =   0.1475
Level     1,  Iter    29:    Energy =   0.1475
Level     1,  Iter    30:    Energy =   0.1470
Level     1,  Iter    31:    Energy =   0.1477
Level     1,  Iter    32:    Energy =   0.1475
Level     1,  Iter    33:    Energy =   0.1477
Level     1,  Iter    34:    Energy =   0.1472
Level     1,  Iter    35:    Energy =   0.1479
Level     1,  Iter    36:    Energy =   0.1480
Level     1,  Iter    37:    Energy =   0.1479
Level     1,  Iter    38:    Energy =   0.1474
Level     1,  Iter    39:    Energy =   0.1480
Level     1,  Iter    40:    Energy =   0.1478
Level     1,  Iter    41:    Energy =   0.1480
Level     1,  Iter    42:    Energy =   0.1475
Level     1,  Iter    43:    Energy =   0.1481
Level     1,  Iter    44:    Energy =   0.1484
Level     1,  Iter    45:    Energy =   0.1482
Level     1,  Iter    46:    Energy =   0.1477
Level     1,  Iter    47:    Energy =   0.1482
Level     1,  Iter    48:    Energy =   0.1480
Level     1,  Iter    49:    Energy =   0.1483
Level     1,  Iter    50:    Energy =   0.1478
Level     1,  Iter    51:    Energy =   0.1484
Level     1,  Iter    52:    Energy =   0.1488
Level     1,  Iter    53:    Energy =   0.1485
Level     1,  Iter    54:    Energy =   0.1480
Level     1,  Iter    55:    Energy =   0.1485
Level     1,  Iter    56:    Energy =   0.1482
Level     1,  Iter    57:    Energy =   0.1484
Level     1,  Iter    58:    Energy =   0.1479
Level     1,  Iter    59:    Energy =   0.1484
END OF LEVEL     1    DetJac Range:   0.0785  to   2.9170 
  Avg. Gradient Time  : 0.0245s  34.36% 
  Avg. Gaussian Time  : 0.0349s  49.07% 
  Avg. Iteration Time : 0.0712s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0790
Level     2,  Iter     1:    Energy =   0.0827
Level     2,  Iter     2:    Energy =   0.0860
Level     2,  Iter     3:    Energy =   0.0889
Level     2,  Iter     4:    Energy =   0.0917
Level     2,  Iter     5:    Energy =   0.0942
Level     2,  Iter     6:    Energy =   0.0962
Level     2,  Iter     7:    Energy =   0.0977
Level     2,  Iter     8:    Energy =   0.0990
Level     2,  Iter     9:    Energy =   0.0992
Level     2,  Iter    10:    Energy =   0.0999
Level     2,  Iter    11:    Energy =   0.1002
Level     2,  Iter    12:    Energy =   0.1007
Level     2,  Iter    13:    Energy =   0.1010
Level     2,  Iter    14:    Energy =   0.1013
Level     2,  Iter    15:    Energy =   0.1016
Level     2,  Iter    16:    Energy =   0.1019
Level     2,  Iter    17:    Energy =   0.1021
Level     2,  Iter    18:    Energy =   0.1022
Level     2,  Iter    19:    Energy =   0.1026
END OF LEVEL     2    DetJac Range:   0.0722  to   4.1681 
  Avg. Gradient Time  : 0.1131s  32.43% 
  Avg. Gaussian Time  : 0.1843s  52.83% 
  Avg. Iteration Time : 0.3488s 

real	0m14.585s
user	0m20.357s
sys	0m2.643s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.298571 0.302857
+ echo 'CHUNK 0.298571 0.302857 1'
CHUNK 0.298571 0.302857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.298571 0.302857 1
====================================
         PROGRESS: 0.298571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 024
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 024 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=024
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.641
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3910.28   GNORM= 291.699
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3962.579     152.146       0.001
   2    4     -3984.392     158.255       1.000
   3    5     -4046.736     225.076       1.000
   4    6     -4086.064     260.495       1.000
   5    7     -4109.100      96.065       1.000
   6    8     -4112.418      75.435       1.000
   7    9     -4115.816      60.551       1.000
   8   10     -4125.324      30.231       1.000
   9   11     -4127.975      74.726       1.000
  10   12     -4129.621      76.841       1.000
  11   13     -4132.487      22.114       1.000
  12   14     -4133.075      16.273       1.000
  13   16     -4134.493      36.078       0.478
  14   17     -4134.781      33.034       1.000
  15   18     -4135.412      17.271       1.000
  16   19     -4135.521      23.251       1.000
  17   20     -4135.757      18.936       1.000
  18   21     -4135.973      16.137       1.000
  19   22     -4136.207      15.113       1.000
  20   23     -4136.523      16.778       1.000
  21   24     -4136.796      14.022       1.000
  22   25     -4137.000      26.791       1.000
  23   26     -4137.281      15.238       1.000
  24   27     -4137.389      13.681       1.000
  25   28     -4137.455       6.599       1.000
  26   29     -4137.466       2.846       1.000
  27   30     -4137.469       4.374       1.000
  28   31     -4137.491       3.329       1.000
  29   32     -4137.522       5.741       1.000
  30   34     -4137.528       5.350       0.292
  31   35     -4137.533       1.670       1.000
  32   36     -4137.537       2.346       1.000
  33   38     -4137.538       2.019       0.279
  34   39     -4137.540       5.981       1.000
  35   40     -4137.545       1.176       1.000
  36   41     -4137.548       1.441       1.000
  37   43     -4137.548       1.572       0.207
  38   45     -4137.550       2.573       0.197
  39   46     -4137.551       1.481       1.000
Final RAS Transform: 
1.00616 0.0087916 0.000730178 -0.218351 
0.044624 1.02736 -0.0128111 1.00032 
0.00869726 0.0235173 1.06699 0.86581 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3047.77   GNORM= 140.955
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3055.139      76.444       0.001
   2    4     -3058.125      67.636       1.000
   3    5     -3072.909     118.034       1.000
   4    6     -3084.088      90.161       1.000
   5    7     -3109.601      54.122       1.000
   6    8     -3111.585      18.995       1.000
   7    9     -3112.681      23.891       1.000
   8   10     -3114.455      32.041       1.000
   9   11     -3116.231      33.165       1.000
  10   12     -3116.320      43.328       1.000
  11   13     -3117.327      15.554       1.000
  12   14     -3117.671      12.979       1.000
  13   15     -3118.250      49.847       1.000
  14   16     -3118.816      17.577       1.000
  15   17     -3118.993      11.369       1.000
  16   18     -3119.055      11.014       1.000
  17   19     -3119.125       8.533       1.000
  18   20     -3119.440       9.526       1.000
  19   21     -3119.968       8.340       1.000
  20   23     -3120.353      21.622       0.386
  21   24     -3120.673      12.188       1.000
  22   25     -3121.160       9.120       1.000
  23   27     -3121.502       6.658       0.409
  24   28     -3121.564       4.890       1.000
  25   29     -3121.600       6.566       1.000
  26   30     -3121.661       4.056       1.000
  27   31     -3121.723       6.065       1.000
  28   32     -3121.765       7.555       1.000
  29   33     -3121.808       4.362       1.000
  30   34     -3121.843       7.875       1.000
  31   35     -3121.881       5.514       1.000
  32   36     -3121.911       3.187       1.000
  33   37     -3121.948       7.904       1.000
  34   38     -3121.987       7.449       1.000
  35   39     -3122.038       3.517       1.000
  36   40     -3122.039       6.319       1.000
  37   41     -3122.047       4.226       1.000
  38   43     -3122.055       2.107       0.494
  39   44     -3122.068       3.416       1.000
  40   45     -3122.074       5.400       1.000
  41   46     -3122.075       1.803       1.000
  42   47     -3122.078       1.562       1.000
  43   48     -3122.078       5.480       1.000
  44   49     -3122.085       3.218       1.000
  45   50     -3122.097       1.098       1.000
Final RAS Transform: 
1.0169 0.00874276 0.0243855 0.512087 
0.0268998 1.03334 -0.00453104 0.463197 
0.0158491 -0.00488057 1.03546 1.12134 
0 0 0 1 

Final RAS Transform: 
1.0169 0.00874276 0.0243855 0.512087 
0.0268998 1.03334 -0.00453104 0.463197 
0.0158491 -0.00488057 1.03546 1.12134 
0 0 0 1 


real	0m4.696s
user	0m6.335s
sys	0m0.690s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.61799
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1330
Level     0,  Iter     1:    Energy =   0.1413
Level     0,  Iter     2:    Energy =   0.1485
Level     0,  Iter     3:    Energy =   0.1531
Level     0,  Iter     4:    Energy =   0.1554
Level     0,  Iter     5:    Energy =   0.1572
Level     0,  Iter     6:    Energy =   0.1583
Level     0,  Iter     7:    Energy =   0.1594
Level     0,  Iter     8:    Energy =   0.1599
Level     0,  Iter     9:    Energy =   0.1607
Level     0,  Iter    10:    Energy =   0.1609
Level     0,  Iter    11:    Energy =   0.1615
Level     0,  Iter    12:    Energy =   0.1615
Level     0,  Iter    13:    Energy =   0.1621
Level     0,  Iter    14:    Energy =   0.1620
Level     0,  Iter    15:    Energy =   0.1626
Level     0,  Iter    16:    Energy =   0.1625
Level     0,  Iter    17:    Energy =   0.1630
Level     0,  Iter    18:    Energy =   0.1629
Level     0,  Iter    19:    Energy =   0.1633
Level     0,  Iter    20:    Energy =   0.1632
Level     0,  Iter    21:    Energy =   0.1636
Level     0,  Iter    22:    Energy =   0.1634
Level     0,  Iter    23:    Energy =   0.1638
Level     0,  Iter    24:    Energy =   0.1637
Level     0,  Iter    25:    Energy =   0.1640
Level     0,  Iter    26:    Energy =   0.1637
Level     0,  Iter    27:    Energy =   0.1641
Level     0,  Iter    28:    Energy =   0.1639
Level     0,  Iter    29:    Energy =   0.1643
Level     0,  Iter    30:    Energy =   0.1641
Level     0,  Iter    31:    Energy =   0.1645
Level     0,  Iter    32:    Energy =   0.1642
Level     0,  Iter    33:    Energy =   0.1645
Level     0,  Iter    34:    Energy =   0.1642
Level     0,  Iter    35:    Energy =   0.1645
Level     0,  Iter    36:    Energy =   0.1642
Level     0,  Iter    37:    Energy =   0.1646
Level     0,  Iter    38:    Energy =   0.1645
Level     0,  Iter    39:    Energy =   0.1647
Level     0,  Iter    40:    Energy =   0.1643
Level     0,  Iter    41:    Energy =   0.1646
Level     0,  Iter    42:    Energy =   0.1644
Level     0,  Iter    43:    Energy =   0.1647
Level     0,  Iter    44:    Energy =   0.1647
Level     0,  Iter    45:    Energy =   0.1649
Level     0,  Iter    46:    Energy =   0.1645
Level     0,  Iter    47:    Energy =   0.1648
Level     0,  Iter    48:    Energy =   0.1645
Level     0,  Iter    49:    Energy =   0.1648
Level     0,  Iter    50:    Energy =   0.1647
Level     0,  Iter    51:    Energy =   0.1650
Level     0,  Iter    52:    Energy =   0.1646
Level     0,  Iter    53:    Energy =   0.1649
Level     0,  Iter    54:    Energy =   0.1647
Level     0,  Iter    55:    Energy =   0.1650
Level     0,  Iter    56:    Energy =   0.1647
Level     0,  Iter    57:    Energy =   0.1650
Level     0,  Iter    58:    Energy =   0.1648
Level     0,  Iter    59:    Energy =   0.1651
END OF LEVEL     0    DetJac Range:   0.4708  to   1.7651 
  Avg. Gradient Time  : 0.0053s  34.48% 
  Avg. Gaussian Time  : 0.0071s  45.57% 
  Avg. Iteration Time : 0.0155s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1170
Level     1,  Iter     1:    Energy =   0.1237
Level     1,  Iter     2:    Energy =   0.1290
Level     1,  Iter     3:    Energy =   0.1336
Level     1,  Iter     4:    Energy =   0.1375
Level     1,  Iter     5:    Energy =   0.1410
Level     1,  Iter     6:    Energy =   0.1437
Level     1,  Iter     7:    Energy =   0.1448
Level     1,  Iter     8:    Energy =   0.1449
Level     1,  Iter     9:    Energy =   0.1465
Level     1,  Iter    10:    Energy =   0.1463
Level     1,  Iter    11:    Energy =   0.1477
Level     1,  Iter    12:    Energy =   0.1474
Level     1,  Iter    13:    Energy =   0.1485
Level     1,  Iter    14:    Energy =   0.1481
Level     1,  Iter    15:    Energy =   0.1495
Level     1,  Iter    16:    Energy =   0.1490
Level     1,  Iter    17:    Energy =   0.1501
Level     1,  Iter    18:    Energy =   0.1496
Level     1,  Iter    19:    Energy =   0.1507
Level     1,  Iter    20:    Energy =   0.1502
Level     1,  Iter    21:    Energy =   0.1511
Level     1,  Iter    22:    Energy =   0.1505
Level     1,  Iter    23:    Energy =   0.1516
Level     1,  Iter    24:    Energy =   0.1510
Level     1,  Iter    25:    Energy =   0.1519
Level     1,  Iter    26:    Energy =   0.1512
Level     1,  Iter    27:    Energy =   0.1522
Level     1,  Iter    28:    Energy =   0.1515
Level     1,  Iter    29:    Energy =   0.1524
Level     1,  Iter    30:    Energy =   0.1518
Level     1,  Iter    31:    Energy =   0.1527
Level     1,  Iter    32:    Energy =   0.1521
Level     1,  Iter    33:    Energy =   0.1529
Level     1,  Iter    34:    Energy =   0.1522
Level     1,  Iter    35:    Energy =   0.1531
Level     1,  Iter    36:    Energy =   0.1527
Level     1,  Iter    37:    Energy =   0.1529
Level     1,  Iter    38:    Energy =   0.1523
Level     1,  Iter    39:    Energy =   0.1532
Level     1,  Iter    40:    Energy =   0.1528
Level     1,  Iter    41:    Energy =   0.1531
Level     1,  Iter    42:    Energy =   0.1526
Level     1,  Iter    43:    Energy =   0.1532
Level     1,  Iter    44:    Energy =   0.1530
Level     1,  Iter    45:    Energy =   0.1528
Level     1,  Iter    46:    Energy =   0.1530
Level     1,  Iter    47:    Energy =   0.1528
Level     1,  Iter    48:    Energy =   0.1531
Level     1,  Iter    49:    Energy =   0.1528
Level     1,  Iter    50:    Energy =   0.1531
Level     1,  Iter    51:    Energy =   0.1529
Level     1,  Iter    52:    Energy =   0.1530
Level     1,  Iter    53:    Energy =   0.1529
Level     1,  Iter    54:    Energy =   0.1530
Level     1,  Iter    55:    Energy =   0.1529
Level     1,  Iter    56:    Energy =   0.1531
Level     1,  Iter    57:    Energy =   0.1529
Level     1,  Iter    58:    Energy =   0.1532
Level     1,  Iter    59:    Energy =   0.1530
END OF LEVEL     1    DetJac Range:   0.1917  to   3.8297 
  Avg. Gradient Time  : 0.0245s  34.23% 
  Avg. Gaussian Time  : 0.0348s  48.68% 
  Avg. Iteration Time : 0.0716s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0817
Level     2,  Iter     1:    Energy =   0.0855
Level     2,  Iter     2:    Energy =   0.0889
Level     2,  Iter     3:    Energy =   0.0919
Level     2,  Iter     4:    Energy =   0.0942
Level     2,  Iter     5:    Energy =   0.0964
Level     2,  Iter     6:    Energy =   0.0986
Level     2,  Iter     7:    Energy =   0.1001
Level     2,  Iter     8:    Energy =   0.1005
Level     2,  Iter     9:    Energy =   0.1008
Level     2,  Iter    10:    Energy =   0.1015
Level     2,  Iter    11:    Energy =   0.1015
Level     2,  Iter    12:    Energy =   0.1024
Level     2,  Iter    13:    Energy =   0.1023
Level     2,  Iter    14:    Energy =   0.1032
Level     2,  Iter    15:    Energy =   0.1029
Level     2,  Iter    16:    Energy =   0.1038
Level     2,  Iter    17:    Energy =   0.1035
Level     2,  Iter    18:    Energy =   0.1043
Level     2,  Iter    19:    Energy =   0.1040
END OF LEVEL     2    DetJac Range:   0.1129  to   4.3012 
  Avg. Gradient Time  : 0.1139s  33.13% 
  Avg. Gaussian Time  : 0.1795s  52.22% 
  Avg. Iteration Time : 0.3438s 

real	0m14.468s
user	0m20.115s
sys	0m2.749s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.302857 0.307143
+ echo 'CHUNK 0.302857 0.307143 1'
CHUNK 0.302857 0.307143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.302857 0.307143 1
====================================
         PROGRESS: 0.302857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ grep Version
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 025
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 025 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=025
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.64
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3902.78   GNORM= 360.795
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3939.266     172.837       0.001
   2    4     -3951.221     139.042       1.000
   3    5     -4002.067     111.603       1.000
   4    6     -4027.378     230.705       1.000
   5    7     -4048.202     213.969       1.000
   6    8     -4063.872      69.696       1.000
   7    9     -4069.520      71.411       1.000
   8   10     -4093.052     113.900       1.000
   9   11     -4094.450      98.386       1.000
  10   12     -4100.322      37.328       1.000
  11   13     -4101.429      48.685       1.000
  12   14     -4102.675      50.088       1.000
  13   15     -4108.677     102.841       1.000
  14   16     -4112.178      25.626       1.000
  15   17     -4112.784      43.576       1.000
  16   18     -4113.696      23.124       1.000
  17   19     -4114.191      18.748       1.000
  18   20     -4114.461      20.587       1.000
  19   21     -4115.005      41.282       1.000
  20   22     -4115.409       6.950       1.000
  21   23     -4115.527       6.491       1.000
  22   25     -4115.627      13.210       0.271
  23   27     -4115.696       8.333       0.504
  24   28     -4115.721       7.538       1.000
  25   29     -4115.824      12.940       1.000
  26   30     -4115.957      14.940       1.000
  27   32     -4116.052      13.637       0.291
  28   33     -4116.103       9.167       1.000
  29   34     -4116.115       4.744       1.000
  30   35     -4116.123       2.554       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.997645 -0.00918944 -0.0122434 -0.421978 
-0.0418412 1.01591 -0.0178879 -0.666822 
0.0322492 -0.00971353 1.04719 1.69986 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3052.32   GNORM= 144.449
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3058.685      80.435       0.001
   2    4     -3061.551      65.588       1.000
   3    5     -3072.288      71.350       1.000
   4    6     -3081.729      77.301       1.000
   5    7     -3097.446      67.132       1.000
   6    9     -3099.658      52.193       0.245
   7   10     -3101.798      31.147       1.000
   8   11     -3103.818      26.402       1.000
   9   12     -3105.794      30.068       1.000
  10   14     -3107.193      43.922       0.304
  11   15     -3108.017      20.718       1.000
  12   16     -3108.478      19.460       1.000
  13   17     -3109.416      25.264       1.000
  14   18     -3111.593      50.803       1.000
  15   19     -3113.628      34.318       1.000
  16   20     -3114.964      15.989       1.000
  17   22     -3115.086      10.188       0.424
  18   23     -3115.147       8.548       1.000
  19   24     -3115.280       9.639       1.000
  20   25     -3115.524      19.627       1.000
  21   26     -3115.756       9.399       1.000
  22   27     -3115.889       6.602       1.000
  23   28     -3116.007      11.840       1.000
  24   29     -3116.088      11.370       1.000
  25   30     -3116.110       6.554       1.000
  26   31     -3116.131       3.652       1.000
  27   32     -3116.166       4.608       1.000
  28   33     -3116.184       4.808       1.000
  29   34     -3116.213       3.243       1.000
  30   35     -3116.257       2.793       1.000
  31   37     -3116.283       3.428       0.215
  32   38     -3116.306       6.476       1.000
  33   40     -3116.321       3.089       0.426
  34   41     -3116.329       4.340       1.000
  35   42     -3116.329       4.206       1.000
  36   43     -3116.347       1.811       1.000
  37   44     -3116.353       1.298       1.000
  38   45     -3116.362       6.511       1.000
  39   46     -3116.376       4.519       1.000
  40   47     -3116.392       2.440       1.000
  41   48     -3116.401       3.126       1.000
  42   50     -3116.403       2.260       0.471
  43   51     -3116.407       3.066       1.000
  44   52     -3116.421       5.217       1.000
  45   53     -3116.424       2.252       1.000
  46   54     -3116.426       1.611       1.000
  47   55     -3116.439       2.343       1.000
  48   56     -3116.445       2.374       1.000
  49   58     -3116.446       2.949       0.120
  50   60     -3116.451       1.155       0.427
  51   61     -3116.456       1.181       1.000
Final RAS Transform: 
1.0169 -0.0108687 0.012727 0.625314 
-0.0268925 1.02112 -0.00465554 -0.49141 
0.0251892 -0.0236802 1.02686 1.51823 
0 0 0 1 

Final RAS Transform: 
1.0169 -0.0108687 0.012727 0.625314 
-0.0268925 1.02112 -0.00465554 -0.49141 
0.0251892 -0.0236802 1.02686 1.51823 
0 0 0 1 


real	0m4.637s
user	0m6.243s
sys	0m0.674s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.618827
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1362
Level     0,  Iter     1:    Energy =   0.1458
Level     0,  Iter     2:    Energy =   0.1523
Level     0,  Iter     3:    Energy =   0.1574
Level     0,  Iter     4:    Energy =   0.1619
Level     0,  Iter     5:    Energy =   0.1630
Level     0,  Iter     6:    Energy =   0.1645
Level     0,  Iter     7:    Energy =   0.1656
Level     0,  Iter     8:    Energy =   0.1664
Level     0,  Iter     9:    Energy =   0.1666
Level     0,  Iter    10:    Energy =   0.1674
Level     0,  Iter    11:    Energy =   0.1675
Level     0,  Iter    12:    Energy =   0.1682
Level     0,  Iter    13:    Energy =   0.1677
Level     0,  Iter    14:    Energy =   0.1686
Level     0,  Iter    15:    Energy =   0.1685
Level     0,  Iter    16:    Energy =   0.1691
Level     0,  Iter    17:    Energy =   0.1684
Level     0,  Iter    18:    Energy =   0.1692
Level     0,  Iter    19:    Energy =   0.1690
Level     0,  Iter    20:    Energy =   0.1694
Level     0,  Iter    21:    Energy =   0.1688
Level     0,  Iter    22:    Energy =   0.1694
Level     0,  Iter    23:    Energy =   0.1690
Level     0,  Iter    24:    Energy =   0.1694
Level     0,  Iter    25:    Energy =   0.1688
Level     0,  Iter    26:    Energy =   0.1694
Level     0,  Iter    27:    Energy =   0.1691
Level     0,  Iter    28:    Energy =   0.1695
Level     0,  Iter    29:    Energy =   0.1688
Level     0,  Iter    30:    Energy =   0.1695
Level     0,  Iter    31:    Energy =   0.1692
Level     0,  Iter    32:    Energy =   0.1696
Level     0,  Iter    33:    Energy =   0.1689
Level     0,  Iter    34:    Energy =   0.1695
Level     0,  Iter    35:    Energy =   0.1691
Level     0,  Iter    36:    Energy =   0.1695
Level     0,  Iter    37:    Energy =   0.1689
Level     0,  Iter    38:    Energy =   0.1694
Level     0,  Iter    39:    Energy =   0.1691
Level     0,  Iter    40:    Energy =   0.1695
Level     0,  Iter    41:    Energy =   0.1689
Level     0,  Iter    42:    Energy =   0.1694
Level     0,  Iter    43:    Energy =   0.1692
Level     0,  Iter    44:    Energy =   0.1695
Level     0,  Iter    45:    Energy =   0.1689
Level     0,  Iter    46:    Energy =   0.1695
Level     0,  Iter    47:    Energy =   0.1692
Level     0,  Iter    48:    Energy =   0.1695
Level     0,  Iter    49:    Energy =   0.1689
Level     0,  Iter    50:    Energy =   0.1694
Level     0,  Iter    51:    Energy =   0.1692
Level     0,  Iter    52:    Energy =   0.1695
Level     0,  Iter    53:    Energy =   0.1690
Level     0,  Iter    54:    Energy =   0.1694
Level     0,  Iter    55:    Energy =   0.1691
Level     0,  Iter    56:    Energy =   0.1695
Level     0,  Iter    57:    Energy =   0.1689
Level     0,  Iter    58:    Energy =   0.1694
Level     0,  Iter    59:    Energy =   0.1691
END OF LEVEL     0    DetJac Range:   0.4751  to   1.7701 
  Avg. Gradient Time  : 0.0055s  34.92% 
  Avg. Gaussian Time  : 0.0072s  45.24% 
  Avg. Iteration Time : 0.0159s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1176
Level     1,  Iter     1:    Energy =   0.1239
Level     1,  Iter     2:    Energy =   0.1296
Level     1,  Iter     3:    Energy =   0.1334
Level     1,  Iter     4:    Energy =   0.1367
Level     1,  Iter     5:    Energy =   0.1392
Level     1,  Iter     6:    Energy =   0.1411
Level     1,  Iter     7:    Energy =   0.1428
Level     1,  Iter     8:    Energy =   0.1444
Level     1,  Iter     9:    Energy =   0.1460
Level     1,  Iter    10:    Energy =   0.1465
Level     1,  Iter    11:    Energy =   0.1466
Level     1,  Iter    12:    Energy =   0.1466
Level     1,  Iter    13:    Energy =   0.1474
Level     1,  Iter    14:    Energy =   0.1472
Level     1,  Iter    15:    Energy =   0.1486
Level     1,  Iter    16:    Energy =   0.1483
Level     1,  Iter    17:    Energy =   0.1491
Level     1,  Iter    18:    Energy =   0.1487
Level     1,  Iter    19:    Energy =   0.1499
Level     1,  Iter    20:    Energy =   0.1496
Level     1,  Iter    21:    Energy =   0.1498
Level     1,  Iter    22:    Energy =   0.1494
Level     1,  Iter    23:    Energy =   0.1504
Level     1,  Iter    24:    Energy =   0.1499
Level     1,  Iter    25:    Energy =   0.1507
Level     1,  Iter    26:    Energy =   0.1501
Level     1,  Iter    27:    Energy =   0.1510
Level     1,  Iter    28:    Energy =   0.1507
Level     1,  Iter    29:    Energy =   0.1506
Level     1,  Iter    30:    Energy =   0.1502
Level     1,  Iter    31:    Energy =   0.1510
Level     1,  Iter    32:    Energy =   0.1505
Level     1,  Iter    33:    Energy =   0.1514
Level     1,  Iter    34:    Energy =   0.1510
Level     1,  Iter    35:    Energy =   0.1511
Level     1,  Iter    36:    Energy =   0.1506
Level     1,  Iter    37:    Energy =   0.1513
Level     1,  Iter    38:    Energy =   0.1509
Level     1,  Iter    39:    Energy =   0.1514
Level     1,  Iter    40:    Energy =   0.1509
Level     1,  Iter    41:    Energy =   0.1516
Level     1,  Iter    42:    Energy =   0.1513
Level     1,  Iter    43:    Energy =   0.1511
Level     1,  Iter    44:    Energy =   0.1507
Level     1,  Iter    45:    Energy =   0.1513
Level     1,  Iter    46:    Energy =   0.1508
Level     1,  Iter    47:    Energy =   0.1514
Level     1,  Iter    48:    Energy =   0.1510
Level     1,  Iter    49:    Energy =   0.1514
Level     1,  Iter    50:    Energy =   0.1510
Level     1,  Iter    51:    Energy =   0.1516
Level     1,  Iter    52:    Energy =   0.1512
Level     1,  Iter    53:    Energy =   0.1515
Level     1,  Iter    54:    Energy =   0.1510
Level     1,  Iter    55:    Energy =   0.1519
Level     1,  Iter    56:    Energy =   0.1516
Level     1,  Iter    57:    Energy =   0.1515
Level     1,  Iter    58:    Energy =   0.1511
Level     1,  Iter    59:    Energy =   0.1517
END OF LEVEL     1    DetJac Range:   0.2771  to   3.0678 
  Avg. Gradient Time  : 0.0245s  34.43% 
  Avg. Gaussian Time  : 0.0346s  48.55% 
  Avg. Iteration Time : 0.0713s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0816
Level     2,  Iter     1:    Energy =   0.0847
Level     2,  Iter     2:    Energy =   0.0883
Level     2,  Iter     3:    Energy =   0.0907
Level     2,  Iter     4:    Energy =   0.0932
Level     2,  Iter     5:    Energy =   0.0953
Level     2,  Iter     6:    Energy =   0.0965
Level     2,  Iter     7:    Energy =   0.0971
Level     2,  Iter     8:    Energy =   0.0976
Level     2,  Iter     9:    Energy =   0.0990
Level     2,  Iter    10:    Energy =   0.1005
Level     2,  Iter    11:    Energy =   0.1019
Level     2,  Iter    12:    Energy =   0.1030
Level     2,  Iter    13:    Energy =   0.1026
Level     2,  Iter    14:    Energy =   0.1035
Level     2,  Iter    15:    Energy =   0.1030
Level     2,  Iter    16:    Energy =   0.1041
Level     2,  Iter    17:    Energy =   0.1035
Level     2,  Iter    18:    Energy =   0.1045
Level     2,  Iter    19:    Energy =   0.1039
END OF LEVEL     2    DetJac Range:   0.1518  to   3.5958 
  Avg. Gradient Time  : 0.1169s  33.22% 
  Avg. Gaussian Time  : 0.1839s  52.27% 
  Avg. Iteration Time : 0.3519s 

real	0m14.727s
user	0m20.188s
sys	0m2.619s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.307143 0.311429
+ echo 'CHUNK 0.307143 0.311429 1'
CHUNK 0.307143 0.311429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.307143 0.311429 1
====================================
         PROGRESS: 0.307143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=026
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 026
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 026 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=026
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 026 left 0
+ local tid=026
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 026 0
+ set -e
+ local tid=026
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.503
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3683.47   GNORM= 537.87
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3805.210     225.246       0.001
   2    4     -3828.330     173.153       1.000
   3    5     -3857.826     211.014       1.000
   4    6     -3951.077     305.353       1.000
   5    7     -3970.915     294.391       1.000
   6    8     -4002.483      82.485       1.000
   7    9     -4008.453      77.895       1.000
   8   10     -4015.888      66.955       1.000
   9   11     -4027.285      46.972       1.000
  10   12     -4030.562      19.189       1.000
  11   13     -4030.925      58.241       1.000
  12   14     -4031.783      19.945       1.000
  13   15     -4032.225      25.577       1.000
  14   16     -4032.760      29.189       1.000
  15   18     -4033.465      33.126       0.486
  16   19     -4033.935      20.228       1.000
  17   20     -4034.325      19.802       1.000
  18   21     -4034.555      26.108       1.000
  19   22     -4034.704       9.657       1.000
  20   23     -4034.741       6.722       1.000
  21   24     -4034.813       9.356       1.000
  22   25     -4034.955       9.577       1.000
  23   26     -4035.049      26.259       1.000
  24   27     -4035.119      12.097       1.000
  25   28     -4035.196       5.708       1.000
  26   29     -4035.217       5.976       1.000
  27   30     -4035.228       3.323       1.000
  28   31     -4035.231       2.508       1.000
  29   32     -4035.242       2.874       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.992317 -0.00713518 0.0107862 -0.145792 
-0.00522879 0.999174 0.0171581 0.34553 
0.0165393 -0.00640485 1.05305 1.82501 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3063.49   GNORM= 109.86
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3067.112      48.390       0.001
   2    4     -3068.329      38.869       1.000
   3    5     -3069.978      29.807       1.000
   4    6     -3071.761      38.272       1.000
   5    7     -3077.998      89.632       1.000
   6    8     -3084.451      83.203       1.000
   7    9     -3090.886      57.401       1.000
   8   11     -3091.917      36.830       0.189
   9   12     -3092.677      16.656       1.000
  10   13     -3092.998      17.693       1.000
  11   14     -3094.405      25.777       1.000
  12   15     -3097.251      41.862       1.000
  13   16     -3097.909      85.099       1.000
  14   17     -3100.089      21.386       1.000
  15   18     -3100.347       8.431       1.000
  16   20     -3100.391       8.728       0.409
  17   21     -3100.421       6.309       1.000
  18   22     -3100.462       6.530       1.000
  19   23     -3100.594      14.938       1.000
  20   24     -3100.639      10.816       1.000
  21   25     -3100.678       5.847       1.000
  22   26     -3100.717       4.942       1.000
  23   27     -3100.747       7.009       1.000
  24   28     -3100.778       7.237       1.000
  25   29     -3100.812       6.382       1.000
  26   31     -3100.835       5.376       0.482
  27   32     -3100.856       4.062       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00552 -0.00920269 0.0131811 0.393145 
0.0168181 1.02379 0.0154481 0.172527 
0.00545859 -0.023231 1.04641 1.82546 
0 0 0 1 

Final RAS Transform: 
1.00552 -0.00920269 0.0131811 0.393145 
0.0168181 1.02379 0.0154481 0.172527 
0.00545859 -0.023231 1.04641 1.82546 
0 0 0 1 


real	0m4.197s
user	0m5.663s
sys	0m0.641s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.481467
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1303
Level     0,  Iter     1:    Energy =   0.1391
Level     0,  Iter     2:    Energy =   0.1467
Level     0,  Iter     3:    Energy =   0.1501
Level     0,  Iter     4:    Energy =   0.1527
Level     0,  Iter     5:    Energy =   0.1541
Level     0,  Iter     6:    Energy =   0.1554
Level     0,  Iter     7:    Energy =   0.1563
Level     0,  Iter     8:    Energy =   0.1569
Level     0,  Iter     9:    Energy =   0.1576
Level     0,  Iter    10:    Energy =   0.1578
Level     0,  Iter    11:    Energy =   0.1585
Level     0,  Iter    12:    Energy =   0.1585
Level     0,  Iter    13:    Energy =   0.1592
Level     0,  Iter    14:    Energy =   0.1588
Level     0,  Iter    15:    Energy =   0.1594
Level     0,  Iter    16:    Energy =   0.1590
Level     0,  Iter    17:    Energy =   0.1597
Level     0,  Iter    18:    Energy =   0.1592
Level     0,  Iter    19:    Energy =   0.1599
Level     0,  Iter    20:    Energy =   0.1593
Level     0,  Iter    21:    Energy =   0.1601
Level     0,  Iter    22:    Energy =   0.1594
Level     0,  Iter    23:    Energy =   0.1602
Level     0,  Iter    24:    Energy =   0.1597
Level     0,  Iter    25:    Energy =   0.1603
Level     0,  Iter    26:    Energy =   0.1598
Level     0,  Iter    27:    Energy =   0.1603
Level     0,  Iter    28:    Energy =   0.1598
Level     0,  Iter    29:    Energy =   0.1605
Level     0,  Iter    30:    Energy =   0.1599
Level     0,  Iter    31:    Energy =   0.1605
Level     0,  Iter    32:    Energy =   0.1600
Level     0,  Iter    33:    Energy =   0.1606
Level     0,  Iter    34:    Energy =   0.1602
Level     0,  Iter    35:    Energy =   0.1606
Level     0,  Iter    36:    Energy =   0.1602
Level     0,  Iter    37:    Energy =   0.1605
Level     0,  Iter    38:    Energy =   0.1601
Level     0,  Iter    39:    Energy =   0.1605
Level     0,  Iter    40:    Energy =   0.1601
Level     0,  Iter    41:    Energy =   0.1605
Level     0,  Iter    42:    Energy =   0.1602
Level     0,  Iter    43:    Energy =   0.1606
Level     0,  Iter    44:    Energy =   0.1602
Level     0,  Iter    45:    Energy =   0.1605
Level     0,  Iter    46:    Energy =   0.1602
Level     0,  Iter    47:    Energy =   0.1605
Level     0,  Iter    48:    Energy =   0.1602
Level     0,  Iter    49:    Energy =   0.1605
Level     0,  Iter    50:    Energy =   0.1602
Level     0,  Iter    51:    Energy =   0.1605
Level     0,  Iter    52:    Energy =   0.1601
Level     0,  Iter    53:    Energy =   0.1605
Level     0,  Iter    54:    Energy =   0.1602
Level     0,  Iter    55:    Energy =   0.1605
Level     0,  Iter    56:    Energy =   0.1602
Level     0,  Iter    57:    Energy =   0.1604
Level     0,  Iter    58:    Energy =   0.1601
Level     0,  Iter    59:    Energy =   0.1605
END OF LEVEL     0    DetJac Range:   0.4871  to   1.9027 
  Avg. Gradient Time  : 0.0056s  34.86% 
  Avg. Gaussian Time  : 0.0073s  45.52% 
  Avg. Iteration Time : 0.0161s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1142
Level     1,  Iter     1:    Energy =   0.1202
Level     1,  Iter     2:    Energy =   0.1257
Level     1,  Iter     3:    Energy =   0.1309
Level     1,  Iter     4:    Energy =   0.1350
Level     1,  Iter     5:    Energy =   0.1382
Level     1,  Iter     6:    Energy =   0.1400
Level     1,  Iter     7:    Energy =   0.1406
Level     1,  Iter     8:    Energy =   0.1409
Level     1,  Iter     9:    Energy =   0.1424
Level     1,  Iter    10:    Energy =   0.1423
Level     1,  Iter    11:    Energy =   0.1442
Level     1,  Iter    12:    Energy =   0.1440
Level     1,  Iter    13:    Energy =   0.1449
Level     1,  Iter    14:    Energy =   0.1446
Level     1,  Iter    15:    Energy =   0.1461
Level     1,  Iter    16:    Energy =   0.1457
Level     1,  Iter    17:    Energy =   0.1464
Level     1,  Iter    18:    Energy =   0.1460
Level     1,  Iter    19:    Energy =   0.1471
Level     1,  Iter    20:    Energy =   0.1468
Level     1,  Iter    21:    Energy =   0.1469
Level     1,  Iter    22:    Energy =   0.1464
Level     1,  Iter    23:    Energy =   0.1474
Level     1,  Iter    24:    Energy =   0.1470
Level     1,  Iter    25:    Energy =   0.1472
Level     1,  Iter    26:    Energy =   0.1467
Level     1,  Iter    27:    Energy =   0.1478
Level     1,  Iter    28:    Energy =   0.1474
Level     1,  Iter    29:    Energy =   0.1476
Level     1,  Iter    30:    Energy =   0.1472
Level     1,  Iter    31:    Energy =   0.1482
Level     1,  Iter    32:    Energy =   0.1477
Level     1,  Iter    33:    Energy =   0.1480
Level     1,  Iter    34:    Energy =   0.1475
Level     1,  Iter    35:    Energy =   0.1485
Level     1,  Iter    36:    Energy =   0.1480
Level     1,  Iter    37:    Energy =   0.1483
Level     1,  Iter    38:    Energy =   0.1477
Level     1,  Iter    39:    Energy =   0.1487
Level     1,  Iter    40:    Energy =   0.1482
Level     1,  Iter    41:    Energy =   0.1484
Level     1,  Iter    42:    Energy =   0.1478
Level     1,  Iter    43:    Energy =   0.1487
Level     1,  Iter    44:    Energy =   0.1485
Level     1,  Iter    45:    Energy =   0.1483
Level     1,  Iter    46:    Energy =   0.1478
Level     1,  Iter    47:    Energy =   0.1487
Level     1,  Iter    48:    Energy =   0.1486
Level     1,  Iter    49:    Energy =   0.1485
Level     1,  Iter    50:    Energy =   0.1479
Level     1,  Iter    51:    Energy =   0.1488
Level     1,  Iter    52:    Energy =   0.1485
Level     1,  Iter    53:    Energy =   0.1485
Level     1,  Iter    54:    Energy =   0.1480
Level     1,  Iter    55:    Energy =   0.1489
Level     1,  Iter    56:    Energy =   0.1487
Level     1,  Iter    57:    Energy =   0.1487
Level     1,  Iter    58:    Energy =   0.1481
Level     1,  Iter    59:    Energy =   0.1491
END OF LEVEL     1    DetJac Range:   0.1631  to   3.2050 
  Avg. Gradient Time  : 0.0244s  34.74% 
  Avg. Gaussian Time  : 0.0339s  48.23% 
  Avg. Iteration Time : 0.0702s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0782
Level     2,  Iter     1:    Energy =   0.0812
Level     2,  Iter     2:    Energy =   0.0833
Level     2,  Iter     3:    Energy =   0.0850
Level     2,  Iter     4:    Energy =   0.0879
Level     2,  Iter     5:    Energy =   0.0903
Level     2,  Iter     6:    Energy =   0.0926
Level     2,  Iter     7:    Energy =   0.0944
Level     2,  Iter     8:    Energy =   0.0956
Level     2,  Iter     9:    Energy =   0.0969
Level     2,  Iter    10:    Energy =   0.0982
Level     2,  Iter    11:    Energy =   0.0992
Level     2,  Iter    12:    Energy =   0.0995
Level     2,  Iter    13:    Energy =   0.1002
Level     2,  Iter    14:    Energy =   0.1008
Level     2,  Iter    15:    Energy =   0.1014
Level     2,  Iter    16:    Energy =   0.1015
Level     2,  Iter    17:    Energy =   0.1022
Level     2,  Iter    18:    Energy =   0.1026
Level     2,  Iter    19:    Energy =   0.1023
END OF LEVEL     2    DetJac Range:   0.0647  to   4.6341 
  Avg. Gradient Time  : 0.1161s  33.48% 
  Avg. Gaussian Time  : 0.1793s  51.72% 
  Avg. Iteration Time : 0.3467s 

real	0m14.596s
user	0m20.325s
sys	0m2.592s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.311429 0.315714
+ echo 'CHUNK 0.311429 0.315714 1'
CHUNK 0.311429 0.315714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.311429 0.315714 1
====================================
         PROGRESS: 0.311429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=027
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 027
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 027 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=027
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 027 left 0
+ local tid=027
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 027 0
+ set -e
+ local tid=027
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.528
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3533.95   GNORM= 904.379
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3768.796     286.858       0.001
   2    4     -3805.184     215.841       1.000
   3    5     -3863.204     234.793       1.000
   4    6     -3904.448     183.179       1.000
   5    7     -3964.609     139.256       1.000
   6    8     -3986.651      93.002       1.000
   7    9     -3995.078     150.907       1.000
   8   10     -4006.501     115.352       1.000
   9   11     -4017.006     107.182       1.000
  10   12     -4021.688      34.350       1.000
  11   13     -4022.457      37.108       1.000
  12   14     -4023.894      58.605       1.000
  13   15     -4026.311      52.495       1.000
  14   16     -4027.905      85.931       1.000
  15   17     -4030.344      30.058       1.000
  16   18     -4030.817      22.142       1.000
  17   20     -4031.269      22.118       0.433
  18   21     -4031.576      21.158       1.000
  19   22     -4032.121      25.198       1.000
  20   23     -4032.860      25.414       1.000
  21   24     -4033.131      24.600       1.000
  22   25     -4033.286      12.464       1.000
  23   26     -4033.456       8.044       1.000
  24   28     -4033.551      18.615       0.430
  25   29     -4033.669      12.605       1.000
  26   30     -4033.779      12.404       1.000
  27   31     -4033.799       5.460       1.000
  28   32     -4033.815       6.142       1.000
  29   33     -4033.824       6.493       1.000
  30   34     -4033.837       7.066       1.000
  31   36     -4033.849       8.035       0.278
  32   37     -4033.866       4.874       1.000
  33   38     -4033.887       3.641       1.000
  34   39     -4033.897       4.120       1.000
  35   40     -4033.912       3.324       1.000
  36   41     -4033.936       8.784       1.000
  37   43     -4033.942       2.999       0.156
  38   44     -4033.945       3.536       1.000
  39   45     -4033.953       1.737       1.000
Final RAS Transform: 
0.985448 -0.0253786 -0.0381494 -0.632636 
-0.0347007 1.01712 -0.0171913 -0.592339 
0.0258039 -0.0193389 1.03672 2.067 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2965.67   GNORM= 168.453
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2979.050      92.597       0.001
   2    4     -2983.984      44.017       1.000
   3    5     -2986.173      36.499       1.000
   4    6     -2993.839      95.035       1.000
   5    7     -3000.981     109.574       1.000
   6    8     -3012.596     112.801       1.000
   7   10     -3018.347      42.788       0.513
   8   11     -3020.329      25.591       1.000
   9   12     -3021.881      24.527       1.000
  10   13     -3030.267      35.982       1.000
  11   15     -3032.310      61.421       0.293
  12   16     -3035.276      33.999       1.000
  13   17     -3036.548      27.481       1.000
  14   18     -3037.572      18.155       1.000
  15   19     -3039.304      22.203       1.000
  16   21     -3040.002      18.343       0.485
  17   22     -3040.409      12.120       1.000
  18   23     -3040.585      19.010       1.000
  19   24     -3040.849       9.636       1.000
  20   25     -3041.219      11.446       1.000
  21   27     -3041.282       8.809       0.426
  22   28     -3041.359       5.389       1.000
  23   29     -3041.412       6.559       1.000
  24   30     -3041.570       8.466       1.000
  25   31     -3041.703      31.854       1.000
  26   32     -3041.955       6.145       1.000
  27   33     -3041.967       3.184       1.000
  28   34     -3041.971       3.352       1.000
  29   35     -3041.982       4.280       1.000
  30   36     -3042.010       5.320       1.000
  31   38     -3042.052      11.423       0.433
  32   39     -3042.103       7.343       1.000
  33   40     -3042.122       4.863       1.000
  34   41     -3042.124       4.723       1.000
  35   42     -3042.139       1.762       1.000
  36   44     -3042.143       1.276       0.300
  37   45     -3042.143       2.025       1.000
Final RAS Transform: 
1.00083 -0.0123701 0.0110698 0.5055 
-0.0104603 1.029 0.00172711 -0.244134 
0.0123372 -0.0309451 1.03682 2.08634 
0 0 0 1 

Final RAS Transform: 
1.00083 -0.0123701 0.0110698 0.5055 
-0.0104603 1.029 0.00172711 -0.244134 
0.0123372 -0.0309451 1.03682 2.08634 
0 0 0 1 


real	0m4.666s
user	0m6.253s
sys	0m0.721s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.508969
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1296
Level     0,  Iter     1:    Energy =   0.1386
Level     0,  Iter     2:    Energy =   0.1461
Level     0,  Iter     3:    Energy =   0.1513
Level     0,  Iter     4:    Energy =   0.1563
Level     0,  Iter     5:    Energy =   0.1586
Level     0,  Iter     6:    Energy =   0.1596
Level     0,  Iter     7:    Energy =   0.1606
Level     0,  Iter     8:    Energy =   0.1612
Level     0,  Iter     9:    Energy =   0.1620
Level     0,  Iter    10:    Energy =   0.1622
Level     0,  Iter    11:    Energy =   0.1631
Level     0,  Iter    12:    Energy =   0.1633
Level     0,  Iter    13:    Energy =   0.1643
Level     0,  Iter    14:    Energy =   0.1641
Level     0,  Iter    15:    Energy =   0.1653
Level     0,  Iter    16:    Energy =   0.1652
Level     0,  Iter    17:    Energy =   0.1661
Level     0,  Iter    18:    Energy =   0.1647
Level     0,  Iter    19:    Energy =   0.1662
Level     0,  Iter    20:    Energy =   0.1659
Level     0,  Iter    21:    Energy =   0.1666
Level     0,  Iter    22:    Energy =   0.1653
Level     0,  Iter    23:    Energy =   0.1664
Level     0,  Iter    24:    Energy =   0.1658
Level     0,  Iter    25:    Energy =   0.1666
Level     0,  Iter    26:    Energy =   0.1653
Level     0,  Iter    27:    Energy =   0.1665
Level     0,  Iter    28:    Energy =   0.1660
Level     0,  Iter    29:    Energy =   0.1669
Level     0,  Iter    30:    Energy =   0.1657
Level     0,  Iter    31:    Energy =   0.1667
Level     0,  Iter    32:    Energy =   0.1660
Level     0,  Iter    33:    Energy =   0.1669
Level     0,  Iter    34:    Energy =   0.1656
Level     0,  Iter    35:    Energy =   0.1668
Level     0,  Iter    36:    Energy =   0.1665
Level     0,  Iter    37:    Energy =   0.1672
Level     0,  Iter    38:    Energy =   0.1658
Level     0,  Iter    39:    Energy =   0.1666
Level     0,  Iter    40:    Energy =   0.1658
Level     0,  Iter    41:    Energy =   0.1667
Level     0,  Iter    42:    Energy =   0.1655
Level     0,  Iter    43:    Energy =   0.1669
Level     0,  Iter    44:    Energy =   0.1667
Level     0,  Iter    45:    Energy =   0.1673
Level     0,  Iter    46:    Energy =   0.1660
Level     0,  Iter    47:    Energy =   0.1666
Level     0,  Iter    48:    Energy =   0.1657
Level     0,  Iter    49:    Energy =   0.1666
Level     0,  Iter    50:    Energy =   0.1659
Level     0,  Iter    51:    Energy =   0.1670
Level     0,  Iter    52:    Energy =   0.1662
Level     0,  Iter    53:    Energy =   0.1670
Level     0,  Iter    54:    Energy =   0.1658
Level     0,  Iter    55:    Energy =   0.1668
Level     0,  Iter    56:    Energy =   0.1662
Level     0,  Iter    57:    Energy =   0.1669
Level     0,  Iter    58:    Energy =   0.1656
Level     0,  Iter    59:    Energy =   0.1666
END OF LEVEL     0    DetJac Range:   0.4142  to   1.8427 
  Avg. Gradient Time  : 0.0057s  34.77% 
  Avg. Gaussian Time  : 0.0074s  45.23% 
  Avg. Iteration Time : 0.0164s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1161
Level     1,  Iter     1:    Energy =   0.1215
Level     1,  Iter     2:    Energy =   0.1265
Level     1,  Iter     3:    Energy =   0.1314
Level     1,  Iter     4:    Energy =   0.1357
Level     1,  Iter     5:    Energy =   0.1387
Level     1,  Iter     6:    Energy =   0.1404
Level     1,  Iter     7:    Energy =   0.1426
Level     1,  Iter     8:    Energy =   0.1445
Level     1,  Iter     9:    Energy =   0.1454
Level     1,  Iter    10:    Energy =   0.1455
Level     1,  Iter    11:    Energy =   0.1462
Level     1,  Iter    12:    Energy =   0.1463
Level     1,  Iter    13:    Energy =   0.1466
Level     1,  Iter    14:    Energy =   0.1466
Level     1,  Iter    15:    Energy =   0.1473
Level     1,  Iter    16:    Energy =   0.1472
Level     1,  Iter    17:    Energy =   0.1481
Level     1,  Iter    18:    Energy =   0.1479
Level     1,  Iter    19:    Energy =   0.1486
Level     1,  Iter    20:    Energy =   0.1484
Level     1,  Iter    21:    Energy =   0.1489
Level     1,  Iter    22:    Energy =   0.1487
Level     1,  Iter    23:    Energy =   0.1492
Level     1,  Iter    24:    Energy =   0.1489
Level     1,  Iter    25:    Energy =   0.1495
Level     1,  Iter    26:    Energy =   0.1493
Level     1,  Iter    27:    Energy =   0.1496
Level     1,  Iter    28:    Energy =   0.1493
Level     1,  Iter    29:    Energy =   0.1499
Level     1,  Iter    30:    Energy =   0.1496
Level     1,  Iter    31:    Energy =   0.1499
Level     1,  Iter    32:    Energy =   0.1496
Level     1,  Iter    33:    Energy =   0.1502
Level     1,  Iter    34:    Energy =   0.1500
Level     1,  Iter    35:    Energy =   0.1501
Level     1,  Iter    36:    Energy =   0.1498
Level     1,  Iter    37:    Energy =   0.1504
Level     1,  Iter    38:    Energy =   0.1501
Level     1,  Iter    39:    Energy =   0.1502
Level     1,  Iter    40:    Energy =   0.1499
Level     1,  Iter    41:    Energy =   0.1505
Level     1,  Iter    42:    Energy =   0.1502
Level     1,  Iter    43:    Energy =   0.1504
Level     1,  Iter    44:    Energy =   0.1501
Level     1,  Iter    45:    Energy =   0.1507
Level     1,  Iter    46:    Energy =   0.1504
Level     1,  Iter    47:    Energy =   0.1506
Level     1,  Iter    48:    Energy =   0.1503
Level     1,  Iter    49:    Energy =   0.1508
Level     1,  Iter    50:    Energy =   0.1505
Level     1,  Iter    51:    Energy =   0.1507
Level     1,  Iter    52:    Energy =   0.1504
Level     1,  Iter    53:    Energy =   0.1508
Level     1,  Iter    54:    Energy =   0.1505
Level     1,  Iter    55:    Energy =   0.1508
Level     1,  Iter    56:    Energy =   0.1505
Level     1,  Iter    57:    Energy =   0.1508
Level     1,  Iter    58:    Energy =   0.1505
Level     1,  Iter    59:    Energy =   0.1509
END OF LEVEL     1    DetJac Range:   0.1336  to   2.6563 
  Avg. Gradient Time  : 0.0251s  34.34% 
  Avg. Gaussian Time  : 0.0355s  48.50% 
  Avg. Iteration Time : 0.0731s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0789
Level     2,  Iter     1:    Energy =   0.0816
Level     2,  Iter     2:    Energy =   0.0850
Level     2,  Iter     3:    Energy =   0.0875
Level     2,  Iter     4:    Energy =   0.0901
Level     2,  Iter     5:    Energy =   0.0909
Level     2,  Iter     6:    Energy =   0.0922
Level     2,  Iter     7:    Energy =   0.0928
Level     2,  Iter     8:    Energy =   0.0936
Level     2,  Iter     9:    Energy =   0.0941
Level     2,  Iter    10:    Energy =   0.0948
Level     2,  Iter    11:    Energy =   0.0952
Level     2,  Iter    12:    Energy =   0.0957
Level     2,  Iter    13:    Energy =   0.0960
Level     2,  Iter    14:    Energy =   0.0964
Level     2,  Iter    15:    Energy =   0.0966
Level     2,  Iter    16:    Energy =   0.0970
Level     2,  Iter    17:    Energy =   0.0971
Level     2,  Iter    18:    Energy =   0.0975
Level     2,  Iter    19:    Energy =   0.0976
END OF LEVEL     2    DetJac Range:   0.1334  to   3.0897 
  Avg. Gradient Time  : 0.1130s  32.98% 
  Avg. Gaussian Time  : 0.1796s  52.39% 
  Avg. Iteration Time : 0.3427s 

real	0m14.557s
user	0m20.334s
sys	0m2.696s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.315714 0.32
+ echo 'CHUNK 0.315714 0.32 1'
CHUNK 0.315714 0.32 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.315714 0.32 1
====================================
         PROGRESS: 0.315714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=028
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 028
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 028 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=028
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 028 left 0
+ local tid=028
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 028 0
+ set -e
+ local tid=028
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.576
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3768.55   GNORM= 950.167
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -4010.021     706.948       0.001
   2    3     -4142.291     115.496       1.000
   3    4     -4148.361      84.864       1.000
   4    5     -4159.677     103.143       1.000
   5    6     -4181.684     210.862       1.000
   6    7     -4199.600     130.303       1.000
   7    8     -4211.070      55.405       1.000
   8    9     -4215.317      59.041       1.000
   9   10     -4222.499     100.845       1.000
  10   11     -4230.187      98.386       1.000
  11   13     -4231.845      62.381       0.172
  12   14     -4234.463      37.303       1.000
  13   15     -4235.083      15.187       1.000
  14   16     -4235.269      13.971       1.000
  15   17     -4235.388      26.719       1.000
  16   18     -4235.596      19.861       1.000
  17   19     -4236.004      10.338       1.000
  18   20     -4236.121       8.706       1.000
  19   21     -4236.268       8.248       1.000
  20   23     -4236.309       8.659       0.298
  21   24     -4236.330       4.372       1.000
  22   26     -4236.356       7.952       5.000
  23   27     -4236.385       5.072       1.000
  24   28     -4236.414       5.505       1.000
  25   29     -4236.440       8.927       1.000
  26   30     -4236.523       9.065       1.000
  27   32     -4236.533       6.214       0.215
  28   33     -4236.569       4.915       1.000
  29   34     -4236.597       4.889       1.000
  30   36     -4236.619       5.548       0.279
  31   37     -4236.625       5.129       1.000
  32   38     -4236.635       2.293       1.000
  33   40     -4236.638       2.020       0.133
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.980885 -0.00889511 -0.0430387 -1.11623 
-0.0249343 1.00074 0.00931526 0.351973 
0.0108613 0.00113446 1.00206 0.784506 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2985.69   GNORM= 102.567
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2990.354      51.588       0.001
   2    4     -2992.170      39.418       1.000
   3    5     -2995.827      34.864       1.000
   4    6     -3004.847      59.107       1.000
   5    7     -3009.909      86.564       1.000
   6    8     -3017.028      59.957       1.000
   7   10     -3020.480      74.430       0.479
   8   11     -3024.130      26.340       1.000
   9   12     -3024.891      23.772       1.000
  10   13     -3028.910      45.781       1.000
  11   14     -3030.451      20.474       1.000
  12   15     -3030.816      12.979       1.000
  13   16     -3030.943      11.411       1.000
  14   17     -3031.529      14.561       1.000
  15   19     -3031.884      18.163       0.181
  16   20     -3032.209      17.514       1.000
  17   21     -3033.040      14.668       1.000
  18   22     -3033.272      10.010       1.000
  19   23     -3033.344       6.187       1.000
  20   24     -3033.388       3.561       1.000
  21   25     -3033.402       2.977       1.000
  22   26     -3033.536       8.644       1.000
  23   27     -3033.602      12.442       1.000
  24   28     -3033.778       6.086       1.000
  25   29     -3033.834       5.681       1.000
  26   30     -3033.844       4.217       1.000
  27   31     -3033.857       2.195       1.000
  28   33     -3033.870       5.263       0.450
  29   34     -3033.875       1.989       1.000
  30   35     -3033.876       3.648       1.000
  31   36     -3033.889       5.252       1.000
  32   37     -3033.935       7.805       1.000
  33   38     -3033.986      12.837       1.000
  34   39     -3034.042      10.291       1.000
  35   41     -3034.051       6.949       0.145
  36   42     -3034.062       3.681       1.000
  37   43     -3034.077       4.272       1.000
  38   45     -3034.078       3.638       0.202
  39   47     -3034.081       2.063       0.282
Final RAS Transform: 
0.985548 -0.0105056 -0.00732939 -0.225843 
-0.00147543 1.02226 0.00679082 0.263293 
-0.000108177 -0.0162886 1.00416 1.08059 
0 0 0 1 

Final RAS Transform: 
0.985548 -0.0105056 -0.00732939 -0.225843 
-0.00147543 1.02226 0.00679082 0.263293 
-0.000108177 -0.0162886 1.00416 1.08059 
0 0 0 1 


real	0m4.541s
user	0m6.176s
sys	0m0.715s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.563132
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1349
Level     0,  Iter     1:    Energy =   0.1437
Level     0,  Iter     2:    Energy =   0.1510
Level     0,  Iter     3:    Energy =   0.1551
Level     0,  Iter     4:    Energy =   0.1583
Level     0,  Iter     5:    Energy =   0.1603
Level     0,  Iter     6:    Energy =   0.1612
Level     0,  Iter     7:    Energy =   0.1617
Level     0,  Iter     8:    Energy =   0.1621
Level     0,  Iter     9:    Energy =   0.1621
Level     0,  Iter    10:    Energy =   0.1624
Level     0,  Iter    11:    Energy =   0.1622
Level     0,  Iter    12:    Energy =   0.1625
Level     0,  Iter    13:    Energy =   0.1624
Level     0,  Iter    14:    Energy =   0.1627
Level     0,  Iter    15:    Energy =   0.1626
Level     0,  Iter    16:    Energy =   0.1629
Level     0,  Iter    17:    Energy =   0.1628
Level     0,  Iter    18:    Energy =   0.1631
Level     0,  Iter    19:    Energy =   0.1629
Level     0,  Iter    20:    Energy =   0.1632
Level     0,  Iter    21:    Energy =   0.1631
Level     0,  Iter    22:    Energy =   0.1633
Level     0,  Iter    23:    Energy =   0.1631
Level     0,  Iter    24:    Energy =   0.1634
Level     0,  Iter    25:    Energy =   0.1631
Level     0,  Iter    26:    Energy =   0.1634
Level     0,  Iter    27:    Energy =   0.1632
Level     0,  Iter    28:    Energy =   0.1635
Level     0,  Iter    29:    Energy =   0.1632
Level     0,  Iter    30:    Energy =   0.1635
Level     0,  Iter    31:    Energy =   0.1632
Level     0,  Iter    32:    Energy =   0.1635
Level     0,  Iter    33:    Energy =   0.1632
Level     0,  Iter    34:    Energy =   0.1635
Level     0,  Iter    35:    Energy =   0.1632
Level     0,  Iter    36:    Energy =   0.1635
Level     0,  Iter    37:    Energy =   0.1632
Level     0,  Iter    38:    Energy =   0.1635
Level     0,  Iter    39:    Energy =   0.1632
Level     0,  Iter    40:    Energy =   0.1635
Level     0,  Iter    41:    Energy =   0.1632
Level     0,  Iter    42:    Energy =   0.1635
Level     0,  Iter    43:    Energy =   0.1632
Level     0,  Iter    44:    Energy =   0.1635
Level     0,  Iter    45:    Energy =   0.1631
Level     0,  Iter    46:    Energy =   0.1635
Level     0,  Iter    47:    Energy =   0.1632
Level     0,  Iter    48:    Energy =   0.1635
Level     0,  Iter    49:    Energy =   0.1631
Level     0,  Iter    50:    Energy =   0.1635
Level     0,  Iter    51:    Energy =   0.1632
Level     0,  Iter    52:    Energy =   0.1635
Level     0,  Iter    53:    Energy =   0.1631
Level     0,  Iter    54:    Energy =   0.1635
Level     0,  Iter    55:    Energy =   0.1632
Level     0,  Iter    56:    Energy =   0.1635
Level     0,  Iter    57:    Energy =   0.1631
Level     0,  Iter    58:    Energy =   0.1635
Level     0,  Iter    59:    Energy =   0.1632
END OF LEVEL     0    DetJac Range:   0.4970  to   2.0023 
  Avg. Gradient Time  : 0.0052s  34.57% 
  Avg. Gaussian Time  : 0.0069s  45.55% 
  Avg. Iteration Time : 0.0152s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1151
Level     1,  Iter     1:    Energy =   0.1212
Level     1,  Iter     2:    Energy =   0.1264
Level     1,  Iter     3:    Energy =   0.1305
Level     1,  Iter     4:    Energy =   0.1337
Level     1,  Iter     5:    Energy =   0.1364
Level     1,  Iter     6:    Energy =   0.1385
Level     1,  Iter     7:    Energy =   0.1401
Level     1,  Iter     8:    Energy =   0.1403
Level     1,  Iter     9:    Energy =   0.1405
Level     1,  Iter    10:    Energy =   0.1414
Level     1,  Iter    11:    Energy =   0.1414
Level     1,  Iter    12:    Energy =   0.1427
Level     1,  Iter    13:    Energy =   0.1425
Level     1,  Iter    14:    Energy =   0.1437
Level     1,  Iter    15:    Energy =   0.1434
Level     1,  Iter    16:    Energy =   0.1446
Level     1,  Iter    17:    Energy =   0.1443
Level     1,  Iter    18:    Energy =   0.1451
Level     1,  Iter    19:    Energy =   0.1449
Level     1,  Iter    20:    Energy =   0.1451
Level     1,  Iter    21:    Energy =   0.1448
Level     1,  Iter    22:    Energy =   0.1458
Level     1,  Iter    23:    Energy =   0.1454
Level     1,  Iter    24:    Energy =   0.1463
Level     1,  Iter    25:    Energy =   0.1459
Level     1,  Iter    26:    Energy =   0.1467
Level     1,  Iter    27:    Energy =   0.1462
Level     1,  Iter    28:    Energy =   0.1471
Level     1,  Iter    29:    Energy =   0.1466
Level     1,  Iter    30:    Energy =   0.1469
Level     1,  Iter    31:    Energy =   0.1464
Level     1,  Iter    32:    Energy =   0.1473
Level     1,  Iter    33:    Energy =   0.1468
Level     1,  Iter    34:    Energy =   0.1472
Level     1,  Iter    35:    Energy =   0.1466
Level     1,  Iter    36:    Energy =   0.1474
Level     1,  Iter    37:    Energy =   0.1470
Level     1,  Iter    38:    Energy =   0.1471
Level     1,  Iter    39:    Energy =   0.1466
Level     1,  Iter    40:    Energy =   0.1475
Level     1,  Iter    41:    Energy =   0.1470
Level     1,  Iter    42:    Energy =   0.1474
Level     1,  Iter    43:    Energy =   0.1469
Level     1,  Iter    44:    Energy =   0.1477
Level     1,  Iter    45:    Energy =   0.1473
Level     1,  Iter    46:    Energy =   0.1473
Level     1,  Iter    47:    Energy =   0.1468
Level     1,  Iter    48:    Energy =   0.1477
Level     1,  Iter    49:    Energy =   0.1471
Level     1,  Iter    50:    Energy =   0.1476
Level     1,  Iter    51:    Energy =   0.1471
Level     1,  Iter    52:    Energy =   0.1480
Level     1,  Iter    53:    Energy =   0.1474
Level     1,  Iter    54:    Energy =   0.1477
Level     1,  Iter    55:    Energy =   0.1471
Level     1,  Iter    56:    Energy =   0.1479
Level     1,  Iter    57:    Energy =   0.1474
Level     1,  Iter    58:    Energy =   0.1479
Level     1,  Iter    59:    Energy =   0.1474
END OF LEVEL     1    DetJac Range:   0.2051  to   3.7779 
  Avg. Gradient Time  : 0.0243s  34.63% 
  Avg. Gaussian Time  : 0.0338s  48.23% 
  Avg. Iteration Time : 0.0700s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0760
Level     2,  Iter     1:    Energy =   0.0789
Level     2,  Iter     2:    Energy =   0.0822
Level     2,  Iter     3:    Energy =   0.0847
Level     2,  Iter     4:    Energy =   0.0870
Level     2,  Iter     5:    Energy =   0.0887
Level     2,  Iter     6:    Energy =   0.0905
Level     2,  Iter     7:    Energy =   0.0916
Level     2,  Iter     8:    Energy =   0.0926
Level     2,  Iter     9:    Energy =   0.0929
Level     2,  Iter    10:    Energy =   0.0935
Level     2,  Iter    11:    Energy =   0.0936
Level     2,  Iter    12:    Energy =   0.0941
Level     2,  Iter    13:    Energy =   0.0942
Level     2,  Iter    14:    Energy =   0.0945
Level     2,  Iter    15:    Energy =   0.0946
Level     2,  Iter    16:    Energy =   0.0948
Level     2,  Iter    17:    Energy =   0.0950
Level     2,  Iter    18:    Energy =   0.0951
Level     2,  Iter    19:    Energy =   0.0952
END OF LEVEL     2    DetJac Range:   0.1667  to   3.2497 
  Avg. Gradient Time  : 0.1151s  33.57% 
  Avg. Gaussian Time  : 0.1790s  52.21% 
  Avg. Iteration Time : 0.3427s 

real	0m14.297s
user	0m20.170s
sys	0m2.635s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.32 0.324286
+ echo 'CHUNK 0.32 0.324286 1'
CHUNK 0.32 0.324286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.32 0.324286 1
====================================
         PROGRESS: 0.32               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=029
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 029
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 029 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=029
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 029 left 0
+ local tid=029
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 029 0
+ set -e
+ local tid=029
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.566
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3410.14   GNORM= 800.512
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3482.646     900.089       0.001
   2    3     -3696.007     169.779       1.000
   3    4     -3706.960     112.710       1.000
   4    5     -3717.890     131.288       1.000
   5    6     -3730.146     114.397       1.000
   6    7     -3746.509      92.167       1.000
   7    8     -3751.836     149.111       1.000
   8    9     -3758.212      53.461       1.000
   9   10     -3760.444      30.934       1.000
  10   11     -3765.255      81.871       1.000
  11   12     -3767.333      29.320       1.000
  12   13     -3767.882      20.705       1.000
  13   14     -3768.222      49.931       1.000
  14   15     -3769.042      24.207       1.000
  15   16     -3769.909      30.056       1.000
  16   17     -3771.287      27.430       1.000
  17   19     -3771.767      36.775       0.262
  18   20     -3771.961      24.837       1.000
  19   21     -3772.102      10.974       1.000
  20   22     -3772.190       9.822       1.000
  21   23     -3772.375      32.011       1.000
  22   24     -3772.631      17.072       1.000
  23   25     -3772.893      10.220       1.000
  24   26     -3772.960       9.918       1.000
  25   27     -3772.971      17.073       1.000
  26   28     -3773.051       5.339       1.000
  27   29     -3773.061       6.001       1.000
  28   31     -3773.141       6.974       0.236
  29   32     -3773.166       6.607       1.000
  30   33     -3773.197       4.085       1.000
  31   36     -3773.247       5.129       1.938
  32   38     -3773.252       8.436       0.130
  33   39     -3773.269       4.020       1.000
  34   40     -3773.275       2.424       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.994098 -0.0072726 -0.014851 -0.524341 
0.0333151 0.98266 0.00596122 1.25537 
-0.0247471 0.0098446 1.0226 0.221565 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2751.97   GNORM= 120.233
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2765.289      84.004       0.002
   2    4     -2770.451      78.895       1.000
   3    5     -2774.474      49.271       1.000
   4    6     -2778.694      48.054       1.000
   5    7     -2788.230     121.865       1.000
   6    8     -2800.667     146.964       1.000
   7    9     -2825.078     161.057       1.000
   8   11     -2832.639      62.435       0.414
   9   12     -2836.084      27.458       1.000
  10   13     -2836.496      25.206       1.000
  11   14     -2837.210      12.451       1.000
  12   15     -2837.598      15.467       1.000
  13   16     -2838.133      19.067       1.000
  14   17     -2839.591      62.129       1.000
  15   18     -2840.413      26.437       1.000
  16   19     -2840.903      11.398       1.000
  17   20     -2841.032       9.366       1.000
  18   21     -2841.079       4.439       1.000
  19   22     -2841.114       5.693       1.000
  20   23     -2841.237      14.261       1.000
  21   24     -2841.296      18.800       1.000
  22   25     -2841.414       9.906       1.000
  23   26     -2841.496       5.418       1.000
  24   27     -2841.514       2.962       1.000
  25   28     -2841.516       2.018       1.000
  26   29     -2841.530       7.626       1.000
  27   30     -2841.552       4.196       1.000
  28   31     -2841.569       3.034       1.000
  29   32     -2841.596       3.886       1.000
  30   34     -2841.607       3.279       0.272
  31   35     -2841.612       3.141       1.000
  32   37     -2841.617       1.958       0.258
  33   38     -2841.625       4.274       1.000
  34   39     -2841.632       2.749       1.000
  35   40     -2841.641       1.294       1.000
  36   42     -2841.658       6.877       5.000
  37   43     -2841.669       9.867       1.000
  38   45     -2841.672       5.633       0.378
  39   46     -2841.681       3.806       1.000
  40   47     -2841.685       1.897       1.000
  41   48     -2841.690       1.996       1.000
  42   49     -2841.696       2.624       1.000
  43   50     -2841.697       2.537       1.000
  44   51     -2841.702       1.395       1.000
  45   52     -2841.709       2.095       1.000
Final RAS Transform: 
1.02175 -0.0129793 -0.000773289 0.568473 
0.0421505 1.00298 -0.0137516 0.413332 
-0.004587 -0.00466364 1.03466 1.42439 
0 0 0 1 

Final RAS Transform: 
1.02175 -0.0129793 -0.000773289 0.568473 
0.0421505 1.00298 -0.0137516 0.413332 
-0.004587 -0.00466364 1.03466 1.42439 
0 0 0 1 


real	0m4.587s
user	0m6.224s
sys	0m0.713s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.540542
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1216
Level     0,  Iter     1:    Energy =   0.1315
Level     0,  Iter     2:    Energy =   0.1393
Level     0,  Iter     3:    Energy =   0.1441
Level     0,  Iter     4:    Energy =   0.1472
Level     0,  Iter     5:    Energy =   0.1496
Level     0,  Iter     6:    Energy =   0.1511
Level     0,  Iter     7:    Energy =   0.1526
Level     0,  Iter     8:    Energy =   0.1533
Level     0,  Iter     9:    Energy =   0.1543
Level     0,  Iter    10:    Energy =   0.1547
Level     0,  Iter    11:    Energy =   0.1555
Level     0,  Iter    12:    Energy =   0.1557
Level     0,  Iter    13:    Energy =   0.1564
Level     0,  Iter    14:    Energy =   0.1564
Level     0,  Iter    15:    Energy =   0.1570
Level     0,  Iter    16:    Energy =   0.1570
Level     0,  Iter    17:    Energy =   0.1574
Level     0,  Iter    18:    Energy =   0.1573
Level     0,  Iter    19:    Energy =   0.1577
Level     0,  Iter    20:    Energy =   0.1576
Level     0,  Iter    21:    Energy =   0.1579
Level     0,  Iter    22:    Energy =   0.1578
Level     0,  Iter    23:    Energy =   0.1581
Level     0,  Iter    24:    Energy =   0.1579
Level     0,  Iter    25:    Energy =   0.1582
Level     0,  Iter    26:    Energy =   0.1580
Level     0,  Iter    27:    Energy =   0.1582
Level     0,  Iter    28:    Energy =   0.1581
Level     0,  Iter    29:    Energy =   0.1583
Level     0,  Iter    30:    Energy =   0.1582
Level     0,  Iter    31:    Energy =   0.1584
Level     0,  Iter    32:    Energy =   0.1582
Level     0,  Iter    33:    Energy =   0.1584
Level     0,  Iter    34:    Energy =   0.1582
Level     0,  Iter    35:    Energy =   0.1585
Level     0,  Iter    36:    Energy =   0.1582
Level     0,  Iter    37:    Energy =   0.1585
Level     0,  Iter    38:    Energy =   0.1583
Level     0,  Iter    39:    Energy =   0.1585
Level     0,  Iter    40:    Energy =   0.1583
Level     0,  Iter    41:    Energy =   0.1585
Level     0,  Iter    42:    Energy =   0.1583
Level     0,  Iter    43:    Energy =   0.1586
Level     0,  Iter    44:    Energy =   0.1584
Level     0,  Iter    45:    Energy =   0.1586
Level     0,  Iter    46:    Energy =   0.1584
Level     0,  Iter    47:    Energy =   0.1586
Level     0,  Iter    48:    Energy =   0.1584
Level     0,  Iter    49:    Energy =   0.1586
Level     0,  Iter    50:    Energy =   0.1584
Level     0,  Iter    51:    Energy =   0.1587
Level     0,  Iter    52:    Energy =   0.1584
Level     0,  Iter    53:    Energy =   0.1586
Level     0,  Iter    54:    Energy =   0.1584
Level     0,  Iter    55:    Energy =   0.1587
Level     0,  Iter    56:    Energy =   0.1584
Level     0,  Iter    57:    Energy =   0.1586
Level     0,  Iter    58:    Energy =   0.1584
Level     0,  Iter    59:    Energy =   0.1587
END OF LEVEL     0    DetJac Range:   0.3977  to   1.8199 
  Avg. Gradient Time  : 0.0056s  34.89% 
  Avg. Gaussian Time  : 0.0073s  45.28% 
  Avg. Iteration Time : 0.0162s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1120
Level     1,  Iter     1:    Energy =   0.1171
Level     1,  Iter     2:    Energy =   0.1233
Level     1,  Iter     3:    Energy =   0.1280
Level     1,  Iter     4:    Energy =   0.1313
Level     1,  Iter     5:    Energy =   0.1338
Level     1,  Iter     6:    Energy =   0.1365
Level     1,  Iter     7:    Energy =   0.1386
Level     1,  Iter     8:    Energy =   0.1398
Level     1,  Iter     9:    Energy =   0.1404
Level     1,  Iter    10:    Energy =   0.1409
Level     1,  Iter    11:    Energy =   0.1417
Level     1,  Iter    12:    Energy =   0.1420
Level     1,  Iter    13:    Energy =   0.1431
Level     1,  Iter    14:    Energy =   0.1430
Level     1,  Iter    15:    Energy =   0.1443
Level     1,  Iter    16:    Energy =   0.1442
Level     1,  Iter    17:    Energy =   0.1451
Level     1,  Iter    18:    Energy =   0.1449
Level     1,  Iter    19:    Energy =   0.1460
Level     1,  Iter    20:    Energy =   0.1456
Level     1,  Iter    21:    Energy =   0.1462
Level     1,  Iter    22:    Energy =   0.1459
Level     1,  Iter    23:    Energy =   0.1459
Level     1,  Iter    24:    Energy =   0.1461
Level     1,  Iter    25:    Energy =   0.1458
Level     1,  Iter    26:    Energy =   0.1464
Level     1,  Iter    27:    Energy =   0.1461
Level     1,  Iter    28:    Energy =   0.1465
Level     1,  Iter    29:    Energy =   0.1462
Level     1,  Iter    30:    Energy =   0.1465
Level     1,  Iter    31:    Energy =   0.1462
Level     1,  Iter    32:    Energy =   0.1466
Level     1,  Iter    33:    Energy =   0.1464
Level     1,  Iter    34:    Energy =   0.1466
Level     1,  Iter    35:    Energy =   0.1463
Level     1,  Iter    36:    Energy =   0.1469
Level     1,  Iter    37:    Energy =   0.1466
Level     1,  Iter    38:    Energy =   0.1469
Level     1,  Iter    39:    Energy =   0.1466
Level     1,  Iter    40:    Energy =   0.1471
Level     1,  Iter    41:    Energy =   0.1468
Level     1,  Iter    42:    Energy =   0.1470
Level     1,  Iter    43:    Energy =   0.1467
Level     1,  Iter    44:    Energy =   0.1473
Level     1,  Iter    45:    Energy =   0.1470
Level     1,  Iter    46:    Energy =   0.1473
Level     1,  Iter    47:    Energy =   0.1470
Level     1,  Iter    48:    Energy =   0.1474
Level     1,  Iter    49:    Energy =   0.1471
Level     1,  Iter    50:    Energy =   0.1473
Level     1,  Iter    51:    Energy =   0.1470
Level     1,  Iter    52:    Energy =   0.1475
Level     1,  Iter    53:    Energy =   0.1471
Level     1,  Iter    54:    Energy =   0.1475
Level     1,  Iter    55:    Energy =   0.1471
Level     1,  Iter    56:    Energy =   0.1475
Level     1,  Iter    57:    Energy =   0.1472
Level     1,  Iter    58:    Energy =   0.1475
Level     1,  Iter    59:    Energy =   0.1471
END OF LEVEL     1    DetJac Range:   0.1511  to   3.5897 
  Avg. Gradient Time  : 0.0243s  34.50% 
  Avg. Gaussian Time  : 0.0342s  48.50% 
  Avg. Iteration Time : 0.0706s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0773
Level     2,  Iter     1:    Energy =   0.0811
Level     2,  Iter     2:    Energy =   0.0845
Level     2,  Iter     3:    Energy =   0.0869
Level     2,  Iter     4:    Energy =   0.0892
Level     2,  Iter     5:    Energy =   0.0917
Level     2,  Iter     6:    Energy =   0.0940
Level     2,  Iter     7:    Energy =   0.0957
Level     2,  Iter     8:    Energy =   0.0975
Level     2,  Iter     9:    Energy =   0.0988
Level     2,  Iter    10:    Energy =   0.0998
Level     2,  Iter    11:    Energy =   0.1005
Level     2,  Iter    12:    Energy =   0.1006
Level     2,  Iter    13:    Energy =   0.1008
Level     2,  Iter    14:    Energy =   0.1011
Level     2,  Iter    15:    Energy =   0.1012
Level     2,  Iter    16:    Energy =   0.1015
Level     2,  Iter    17:    Energy =   0.1016
Level     2,  Iter    18:    Energy =   0.1019
Level     2,  Iter    19:    Energy =   0.1019
END OF LEVEL     2    DetJac Range:   0.0981  to   4.1098 
  Avg. Gradient Time  : 0.1178s  33.89% 
  Avg. Gaussian Time  : 0.1805s  51.95% 
  Avg. Iteration Time : 0.3475s 

real	0m14.571s
user	0m20.251s
sys	0m2.709s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.324286 0.328571
+ echo 'CHUNK 0.324286 0.328571 1'
CHUNK 0.324286 0.328571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.324286 0.328571 1
====================================
         PROGRESS: 0.324286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=030
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 030
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 030 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=030
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 030 left 0
+ local tid=030
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 030 0
+ set -e
+ local tid=030
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.628
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3713.67   GNORM= 990.064
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3794.153     955.922       0.001
   2    3     -4022.462     173.183       1.000
   3    4     -4032.947     100.400       1.000
   4    5     -4039.591     101.204       1.000
   5    6     -4057.013     127.086       1.000
   6    7     -4083.490     152.215       1.000
   7    9     -4089.647     114.611       0.337
   8   10     -4095.974      56.359       1.000
   9   11     -4097.588      70.057       1.000
  10   12     -4098.757      32.228       1.000
  11   13     -4099.322      33.248       1.000
  12   14     -4100.504      26.325       1.000
  13   15     -4101.660      92.167       1.000
  14   16     -4103.672      60.225       1.000
  15   17     -4105.043      23.048       1.000
  16   18     -4105.490      31.981       1.000
  17   19     -4105.764      27.875       1.000
  18   20     -4106.222      18.973       1.000
  19   21     -4106.471      37.742       1.000
  20   22     -4106.801      18.671       1.000
  21   23     -4107.310      35.494       1.000
  22   24     -4107.581      17.750       1.000
  23   25     -4107.694      17.178       1.000
  24   26     -4107.907      12.413       1.000
  25   27     -4107.971      10.211       1.000
  26   29     -4108.053      19.422       0.370
  27   30     -4108.174      17.953       1.000
  28   31     -4108.364      18.340       1.000
  29   32     -4108.593      13.713       1.000
  30   33     -4108.651      11.681       1.000
  31   34     -4108.688       5.008       1.000
  32   35     -4108.690       3.679       1.000
  33   36     -4108.695       4.618       1.000
  34   37     -4108.707       2.412       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.993843 -0.0137126 -0.0245807 -0.668428 
0.0334685 0.991443 0.0160311 1.84723 
-0.0171407 0.0119259 1.00204 -0.0265748 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2929.17   GNORM= 75.0289
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2932.975      83.046       0.001
   2    4     -2936.611      66.457       1.000
   3    5     -2948.664      85.093       1.000
   4    6     -2967.502     126.072       1.000
   5    7     -2998.546     141.089       1.000
   6    8     -3007.248     219.998       1.000
   7    9     -3031.633      55.264       1.000
   8   10     -3032.754      56.581       1.000
   9   11     -3033.763      30.620       1.000
  10   12     -3035.304      24.813       1.000
  11   13     -3036.651      38.978       1.000
  12   14     -3037.028      51.681       1.000
  13   15     -3038.643      25.239       1.000
  14   16     -3039.596      19.117       1.000
  15   17     -3040.417      24.372       1.000
  16   19     -3040.887      43.571       0.468
  17   20     -3041.542      13.865       1.000
  18   21     -3041.662       8.884       1.000
  19   22     -3041.852      10.280       1.000
  20   23     -3042.234      26.784       1.000
  21   24     -3042.701      28.781       1.000
  22   26     -3043.231      27.615       0.479
  23   27     -3043.912       8.666       1.000
  24   28     -3044.097       9.586       1.000
  25   29     -3044.262      11.393       1.000
  26   30     -3044.311      26.102       1.000
  27   31     -3044.608      19.862       1.000
  28   32     -3044.701       8.032       1.000
  29   33     -3044.760       4.327       1.000
  30   34     -3044.910       5.579       1.000
  31   35     -3045.235      11.216       1.000
  32   36     -3045.478      17.263       1.000
  33   37     -3045.611      13.782       1.000
  34   38     -3045.688       5.203       1.000
  35   39     -3045.721       6.883       1.000
  36   40     -3045.762       7.211       1.000
  37   41     -3045.813       3.236       1.000
  38   42     -3045.851       6.592       1.000
  39   43     -3045.902       9.918       1.000
  40   44     -3045.941       8.080       1.000
  41   45     -3045.977       7.333       1.000
  42   46     -3045.985       8.924       1.000
  43   47     -3046.024       3.557       1.000
  44   48     -3046.034       2.982       1.000
  45   49     -3046.050       4.193       1.000
  46   50     -3046.075       2.561       1.000
  47   51     -3046.107       3.047       1.000
  48   52     -3046.143       4.939       1.000
  49   53     -3046.159       7.283       1.000
  50   54     -3046.163       9.334       1.000
  51   55     -3046.183       5.355       1.000
  52   56     -3046.193       2.841       1.000
  53   57     -3046.203       2.038       1.000
  54   58     -3046.204       3.254       1.000
  55   59     -3046.212       5.515       1.000
  56   60     -3046.223       3.627       1.000
  57   61     -3046.235       2.762       1.000
Final RAS Transform: 
1.01554 -0.00544578 0.0276943 0.833458 
0.0146635 1.02263 0.0217067 0.795414 
-0.00783677 -0.00940459 1.02186 1.03778 
0 0 0 1 

Final RAS Transform: 
1.01554 -0.00544578 0.0276943 0.833458 
0.0146635 1.02263 0.0217067 0.795414 
-0.00783677 -0.00940459 1.02186 1.03778 
0 0 0 1 


real	0m4.654s
user	0m6.221s
sys	0m0.698s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.604979
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1319
Level     0,  Iter     1:    Energy =   0.1410
Level     0,  Iter     2:    Energy =   0.1482
Level     0,  Iter     3:    Energy =   0.1525
Level     0,  Iter     4:    Energy =   0.1543
Level     0,  Iter     5:    Energy =   0.1564
Level     0,  Iter     6:    Energy =   0.1578
Level     0,  Iter     7:    Energy =   0.1590
Level     0,  Iter     8:    Energy =   0.1600
Level     0,  Iter     9:    Energy =   0.1609
Level     0,  Iter    10:    Energy =   0.1617
Level     0,  Iter    11:    Energy =   0.1624
Level     0,  Iter    12:    Energy =   0.1629
Level     0,  Iter    13:    Energy =   0.1635
Level     0,  Iter    14:    Energy =   0.1639
Level     0,  Iter    15:    Energy =   0.1643
Level     0,  Iter    16:    Energy =   0.1645
Level     0,  Iter    17:    Energy =   0.1649
Level     0,  Iter    18:    Energy =   0.1649
Level     0,  Iter    19:    Energy =   0.1653
Level     0,  Iter    20:    Energy =   0.1653
Level     0,  Iter    21:    Energy =   0.1655
Level     0,  Iter    22:    Energy =   0.1654
Level     0,  Iter    23:    Energy =   0.1657
Level     0,  Iter    24:    Energy =   0.1656
Level     0,  Iter    25:    Energy =   0.1658
Level     0,  Iter    26:    Energy =   0.1656
Level     0,  Iter    27:    Energy =   0.1659
Level     0,  Iter    28:    Energy =   0.1657
Level     0,  Iter    29:    Energy =   0.1660
Level     0,  Iter    30:    Energy =   0.1658
Level     0,  Iter    31:    Energy =   0.1660
Level     0,  Iter    32:    Energy =   0.1659
Level     0,  Iter    33:    Energy =   0.1661
Level     0,  Iter    34:    Energy =   0.1658
Level     0,  Iter    35:    Energy =   0.1661
Level     0,  Iter    36:    Energy =   0.1659
Level     0,  Iter    37:    Energy =   0.1661
Level     0,  Iter    38:    Energy =   0.1659
Level     0,  Iter    39:    Energy =   0.1661
Level     0,  Iter    40:    Energy =   0.1659
Level     0,  Iter    41:    Energy =   0.1661
Level     0,  Iter    42:    Energy =   0.1659
Level     0,  Iter    43:    Energy =   0.1661
Level     0,  Iter    44:    Energy =   0.1658
Level     0,  Iter    45:    Energy =   0.1661
Level     0,  Iter    46:    Energy =   0.1658
Level     0,  Iter    47:    Energy =   0.1661
Level     0,  Iter    48:    Energy =   0.1658
Level     0,  Iter    49:    Energy =   0.1661
Level     0,  Iter    50:    Energy =   0.1659
Level     0,  Iter    51:    Energy =   0.1661
Level     0,  Iter    52:    Energy =   0.1659
Level     0,  Iter    53:    Energy =   0.1661
Level     0,  Iter    54:    Energy =   0.1659
Level     0,  Iter    55:    Energy =   0.1661
Level     0,  Iter    56:    Energy =   0.1659
Level     0,  Iter    57:    Energy =   0.1661
Level     0,  Iter    58:    Energy =   0.1659
Level     0,  Iter    59:    Energy =   0.1661
END OF LEVEL     0    DetJac Range:   0.2604  to   1.7094 
  Avg. Gradient Time  : 0.0055s  34.75% 
  Avg. Gaussian Time  : 0.0072s  45.48% 
  Avg. Iteration Time : 0.0159s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1152
Level     1,  Iter     1:    Energy =   0.1202
Level     1,  Iter     2:    Energy =   0.1261
Level     1,  Iter     3:    Energy =   0.1307
Level     1,  Iter     4:    Energy =   0.1347
Level     1,  Iter     5:    Energy =   0.1379
Level     1,  Iter     6:    Energy =   0.1403
Level     1,  Iter     7:    Energy =   0.1412
Level     1,  Iter     8:    Energy =   0.1426
Level     1,  Iter     9:    Energy =   0.1427
Level     1,  Iter    10:    Energy =   0.1443
Level     1,  Iter    11:    Energy =   0.1452
Level     1,  Iter    12:    Energy =   0.1453
Level     1,  Iter    13:    Energy =   0.1452
Level     1,  Iter    14:    Energy =   0.1467
Level     1,  Iter    15:    Energy =   0.1468
Level     1,  Iter    16:    Energy =   0.1470
Level     1,  Iter    17:    Energy =   0.1466
Level     1,  Iter    18:    Energy =   0.1478
Level     1,  Iter    19:    Energy =   0.1489
Level     1,  Iter    20:    Energy =   0.1483
Level     1,  Iter    21:    Energy =   0.1482
Level     1,  Iter    22:    Energy =   0.1482
Level     1,  Iter    23:    Energy =   0.1477
Level     1,  Iter    24:    Energy =   0.1485
Level     1,  Iter    25:    Energy =   0.1490
Level     1,  Iter    26:    Energy =   0.1486
Level     1,  Iter    27:    Energy =   0.1481
Level     1,  Iter    28:    Energy =   0.1490
Level     1,  Iter    29:    Energy =   0.1498
Level     1,  Iter    30:    Energy =   0.1492
Level     1,  Iter    31:    Energy =   0.1486
Level     1,  Iter    32:    Energy =   0.1494
Level     1,  Iter    33:    Energy =   0.1496
Level     1,  Iter    34:    Energy =   0.1491
Level     1,  Iter    35:    Energy =   0.1485
Level     1,  Iter    36:    Energy =   0.1493
Level     1,  Iter    37:    Energy =   0.1493
Level     1,  Iter    38:    Energy =   0.1490
Level     1,  Iter    39:    Energy =   0.1484
Level     1,  Iter    40:    Energy =   0.1494
Level     1,  Iter    41:    Energy =   0.1504
Level     1,  Iter    42:    Energy =   0.1498
Level     1,  Iter    43:    Energy =   0.1492
Level     1,  Iter    44:    Energy =   0.1502
Level     1,  Iter    45:    Energy =   0.1512
Level     1,  Iter    46:    Energy =   0.1507
Level     1,  Iter    47:    Energy =   0.1500
Level     1,  Iter    48:    Energy =   0.1507
Level     1,  Iter    49:    Energy =   0.1517
Level     1,  Iter    50:    Energy =   0.1513
Level     1,  Iter    51:    Energy =   0.1507
Level     1,  Iter    52:    Energy =   0.1507
Level     1,  Iter    53:    Energy =   0.1502
Level     1,  Iter    54:    Energy =   0.1501
Level     1,  Iter    55:    Energy =   0.1496
Level     1,  Iter    56:    Energy =   0.1500
Level     1,  Iter    57:    Energy =   0.1499
Level     1,  Iter    58:    Energy =   0.1497
Level     1,  Iter    59:    Energy =   0.1491
END OF LEVEL     1    DetJac Range:   0.1201  to   2.7738 
  Avg. Gradient Time  : 0.0249s  34.76% 
  Avg. Gaussian Time  : 0.0345s  48.28% 
  Avg. Iteration Time : 0.0716s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0781
Level     2,  Iter     1:    Energy =   0.0816
Level     2,  Iter     2:    Energy =   0.0841
Level     2,  Iter     3:    Energy =   0.0871
Level     2,  Iter     4:    Energy =   0.0895
Level     2,  Iter     5:    Energy =   0.0912
Level     2,  Iter     6:    Energy =   0.0930
Level     2,  Iter     7:    Energy =   0.0946
Level     2,  Iter     8:    Energy =   0.0949
Level     2,  Iter     9:    Energy =   0.0953
Level     2,  Iter    10:    Energy =   0.0955
Level     2,  Iter    11:    Energy =   0.0958
Level     2,  Iter    12:    Energy =   0.0962
Level     2,  Iter    13:    Energy =   0.0964
Level     2,  Iter    14:    Energy =   0.0969
Level     2,  Iter    15:    Energy =   0.0971
Level     2,  Iter    16:    Energy =   0.0976
Level     2,  Iter    17:    Energy =   0.0978
Level     2,  Iter    18:    Energy =   0.0982
Level     2,  Iter    19:    Energy =   0.0981
END OF LEVEL     2    DetJac Range:   0.1215  to   3.1429 
  Avg. Gradient Time  : 0.1156s  33.78% 
  Avg. Gaussian Time  : 0.1777s  51.95% 
  Avg. Iteration Time : 0.3421s 

real	0m14.456s
user	0m20.219s
sys	0m2.631s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.328571 0.332857
+ echo 'CHUNK 0.328571 0.332857 1'
CHUNK 0.328571 0.332857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.328571 0.332857 1
====================================
         PROGRESS: 0.328571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=031
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 031
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 031 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=031
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 031 left 0
+ local tid=031
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 031 0
+ set -e
+ local tid=031
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.586
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4099.57   GNORM= 843.244
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4266.889     206.855       0.000
   2    4     -4282.262     122.905       1.000
   3    5     -4294.503     102.268       1.000
   4    6     -4310.847     190.222       1.000
   5    7     -4334.484     182.992       1.000
   6    9     -4353.705     209.747       0.479
   7   10     -4377.301      93.874       1.000
   8   11     -4379.386     126.950       1.000
   9   12     -4382.423      46.478       1.000
  10   13     -4385.281      32.534       1.000
  11   14     -4386.972      80.631       1.000
  12   15     -4388.383      32.486       1.000
  13   16     -4388.782      16.870       1.000
  14   17     -4389.034      18.036       1.000
  15   18     -4389.371      32.194       1.000
  16   19     -4390.379      21.168       1.000
  17   20     -4390.681      20.130       1.000
  18   22     -4390.776      17.998       0.225
  19   23     -4390.930      10.975       1.000
  20   24     -4391.095       8.001       1.000
  21   25     -4391.238      13.089       1.000
  22   27     -4391.291       6.382       0.490
  23   28     -4391.299       4.185       1.000
  24   29     -4391.307       3.669       1.000
  25   30     -4391.318       3.382       1.000
  26   31     -4391.322       4.202       1.000
  27   32     -4391.336      13.042       1.000
  28   33     -4391.342       2.868       1.000
  29   34     -4391.350       2.510       1.000
  30   35     -4391.357       1.929       1.000
  31   36     -4391.357       1.529       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.995158 -0.0120133 -0.00974079 -0.253692 
-0.00816984 1.01903 0.015011 0.427066 
0.024981 0.000411208 1.02736 1.42128 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3259.46   GNORM= 116.343
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3264.061      59.708       0.001
   2    4     -3266.336      56.057       1.000
   3    5     -3273.850      86.124       1.000
   4    6     -3281.294      89.835       1.000
   5    8     -3293.256     129.656       0.445
   6    9     -3303.702      21.082       1.000
   7   10     -3303.982      17.292       1.000
   8   11     -3304.237      17.384       1.000
   9   13     -3305.131      20.356       0.452
  10   14     -3305.920      14.846       1.000
  11   15     -3306.223      20.116       1.000
  12   16     -3306.388       7.357       1.000
  13   17     -3306.494       8.189       1.000
  14   19     -3306.674      10.756       0.490
  15   20     -3306.828       9.889       1.000
  16   21     -3306.935       9.212       1.000
  17   22     -3307.033      14.698       1.000
  18   23     -3307.127       8.093       1.000
  19   24     -3307.172       8.879       1.000
  20   25     -3307.196       4.966       1.000
  21   26     -3307.208       5.226       1.000
  22   27     -3307.216       4.673       1.000
  23   28     -3307.228      10.521       1.000
  24   29     -3307.257       3.927       1.000
  25   30     -3307.274       3.160       1.000
  26   31     -3307.279       2.942       1.000
  27   32     -3307.291       4.460       1.000
  28   33     -3307.347       6.384       1.000
  29   34     -3307.385       7.001       1.000
  30   35     -3307.427       2.880       1.000
  31   36     -3307.437       5.084       1.000
  32   37     -3307.447       3.210       1.000
  33   38     -3307.448       1.535       1.000
  34   39     -3307.448       1.336       1.000
  35   40     -3307.450       1.701       1.000
  36   41     -3307.462       2.941       1.000
  37   42     -3307.476       3.168       1.000
  38   44     -3307.479       2.123       0.336
  39   45     -3307.479       1.618       1.000
  40   46     -3307.491       2.570       1.000
  41   47     -3307.492       1.757       1.000
Final RAS Transform: 
1.00917 -0.0196591 0.00754777 0.541456 
-0.000899539 1.0145 0.00292404 0.311136 
0.0191415 -0.0105348 1.01809 1.41461 
0 0 0 1 

Final RAS Transform: 
1.00917 -0.0196591 0.00754777 0.541456 
-0.000899539 1.0145 0.00292404 0.311136 
0.0191415 -0.0105348 1.01809 1.41461 
0 0 0 1 


real	0m4.617s
user	0m6.316s
sys	0m0.684s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.560063
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1426
Level     0,  Iter     1:    Energy =   0.1512
Level     0,  Iter     2:    Energy =   0.1573
Level     0,  Iter     3:    Energy =   0.1612
Level     0,  Iter     4:    Energy =   0.1635
Level     0,  Iter     5:    Energy =   0.1653
Level     0,  Iter     6:    Energy =   0.1664
Level     0,  Iter     7:    Energy =   0.1679
Level     0,  Iter     8:    Energy =   0.1687
Level     0,  Iter     9:    Energy =   0.1699
Level     0,  Iter    10:    Energy =   0.1693
Level     0,  Iter    11:    Energy =   0.1703
Level     0,  Iter    12:    Energy =   0.1700
Level     0,  Iter    13:    Energy =   0.1710
Level     0,  Iter    14:    Energy =   0.1703
Level     0,  Iter    15:    Energy =   0.1715
Level     0,  Iter    16:    Energy =   0.1709
Level     0,  Iter    17:    Energy =   0.1719
Level     0,  Iter    18:    Energy =   0.1709
Level     0,  Iter    19:    Energy =   0.1719
Level     0,  Iter    20:    Energy =   0.1713
Level     0,  Iter    21:    Energy =   0.1722
Level     0,  Iter    22:    Energy =   0.1712
Level     0,  Iter    23:    Energy =   0.1722
Level     0,  Iter    24:    Energy =   0.1716
Level     0,  Iter    25:    Energy =   0.1723
Level     0,  Iter    26:    Energy =   0.1713
Level     0,  Iter    27:    Energy =   0.1723
Level     0,  Iter    28:    Energy =   0.1719
Level     0,  Iter    29:    Energy =   0.1725
Level     0,  Iter    30:    Energy =   0.1714
Level     0,  Iter    31:    Energy =   0.1724
Level     0,  Iter    32:    Energy =   0.1717
Level     0,  Iter    33:    Energy =   0.1725
Level     0,  Iter    34:    Energy =   0.1714
Level     0,  Iter    35:    Energy =   0.1724
Level     0,  Iter    36:    Energy =   0.1717
Level     0,  Iter    37:    Energy =   0.1727
Level     0,  Iter    38:    Energy =   0.1717
Level     0,  Iter    39:    Energy =   0.1726
Level     0,  Iter    40:    Energy =   0.1715
Level     0,  Iter    41:    Energy =   0.1726
Level     0,  Iter    42:    Energy =   0.1724
Level     0,  Iter    43:    Energy =   0.1729
Level     0,  Iter    44:    Energy =   0.1716
Level     0,  Iter    45:    Energy =   0.1726
Level     0,  Iter    46:    Energy =   0.1717
Level     0,  Iter    47:    Energy =   0.1727
Level     0,  Iter    48:    Energy =   0.1716
Level     0,  Iter    49:    Energy =   0.1729
Level     0,  Iter    50:    Energy =   0.1724
Level     0,  Iter    51:    Energy =   0.1731
Level     0,  Iter    52:    Energy =   0.1717
Level     0,  Iter    53:    Energy =   0.1729
Level     0,  Iter    54:    Energy =   0.1720
Level     0,  Iter    55:    Energy =   0.1728
Level     0,  Iter    56:    Energy =   0.1716
Level     0,  Iter    57:    Energy =   0.1729
Level     0,  Iter    58:    Energy =   0.1727
Level     0,  Iter    59:    Energy =   0.1730
END OF LEVEL     0    DetJac Range:   0.3974  to   1.8054 
  Avg. Gradient Time  : 0.0059s  35.11% 
  Avg. Gaussian Time  : 0.0075s  45.09% 
  Avg. Iteration Time : 0.0167s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1200
Level     1,  Iter     1:    Energy =   0.1256
Level     1,  Iter     2:    Energy =   0.1325
Level     1,  Iter     3:    Energy =   0.1362
Level     1,  Iter     4:    Energy =   0.1403
Level     1,  Iter     5:    Energy =   0.1438
Level     1,  Iter     6:    Energy =   0.1465
Level     1,  Iter     7:    Energy =   0.1484
Level     1,  Iter     8:    Energy =   0.1496
Level     1,  Iter     9:    Energy =   0.1497
Level     1,  Iter    10:    Energy =   0.1498
Level     1,  Iter    11:    Energy =   0.1510
Level     1,  Iter    12:    Energy =   0.1509
Level     1,  Iter    13:    Energy =   0.1521
Level     1,  Iter    14:    Energy =   0.1519
Level     1,  Iter    15:    Energy =   0.1530
Level     1,  Iter    16:    Energy =   0.1526
Level     1,  Iter    17:    Energy =   0.1538
Level     1,  Iter    18:    Energy =   0.1540
Level     1,  Iter    19:    Energy =   0.1537
Level     1,  Iter    20:    Energy =   0.1533
Level     1,  Iter    21:    Energy =   0.1543
Level     1,  Iter    22:    Energy =   0.1541
Level     1,  Iter    23:    Energy =   0.1546
Level     1,  Iter    24:    Energy =   0.1542
Level     1,  Iter    25:    Energy =   0.1551
Level     1,  Iter    26:    Energy =   0.1551
Level     1,  Iter    27:    Energy =   0.1548
Level     1,  Iter    28:    Energy =   0.1544
Level     1,  Iter    29:    Energy =   0.1553
Level     1,  Iter    30:    Energy =   0.1552
Level     1,  Iter    31:    Energy =   0.1552
Level     1,  Iter    32:    Energy =   0.1547
Level     1,  Iter    33:    Energy =   0.1556
Level     1,  Iter    34:    Energy =   0.1561
Level     1,  Iter    35:    Energy =   0.1556
Level     1,  Iter    36:    Energy =   0.1552
Level     1,  Iter    37:    Energy =   0.1560
Level     1,  Iter    38:    Energy =   0.1557
Level     1,  Iter    39:    Energy =   0.1560
Level     1,  Iter    40:    Energy =   0.1555
Level     1,  Iter    41:    Energy =   0.1564
Level     1,  Iter    42:    Energy =   0.1564
Level     1,  Iter    43:    Energy =   0.1561
Level     1,  Iter    44:    Energy =   0.1555
Level     1,  Iter    45:    Energy =   0.1566
Level     1,  Iter    46:    Energy =   0.1570
Level     1,  Iter    47:    Energy =   0.1565
Level     1,  Iter    48:    Energy =   0.1562
Level     1,  Iter    49:    Energy =   0.1566
Level     1,  Iter    50:    Energy =   0.1561
Level     1,  Iter    51:    Energy =   0.1568
Level     1,  Iter    52:    Energy =   0.1565
Level     1,  Iter    53:    Energy =   0.1565
Level     1,  Iter    54:    Energy =   0.1560
Level     1,  Iter    55:    Energy =   0.1568
Level     1,  Iter    56:    Energy =   0.1568
Level     1,  Iter    57:    Energy =   0.1565
Level     1,  Iter    58:    Energy =   0.1559
Level     1,  Iter    59:    Energy =   0.1568
END OF LEVEL     1    DetJac Range:   0.1592  to   2.6479 
  Avg. Gradient Time  : 0.0246s  34.25% 
  Avg. Gaussian Time  : 0.0346s  48.12% 
  Avg. Iteration Time : 0.0718s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0831
Level     2,  Iter     1:    Energy =   0.0873
Level     2,  Iter     2:    Energy =   0.0905
Level     2,  Iter     3:    Energy =   0.0934
Level     2,  Iter     4:    Energy =   0.0955
Level     2,  Iter     5:    Energy =   0.0977
Level     2,  Iter     6:    Energy =   0.0999
Level     2,  Iter     7:    Energy =   0.1015
Level     2,  Iter     8:    Energy =   0.1027
Level     2,  Iter     9:    Energy =   0.1026
Level     2,  Iter    10:    Energy =   0.1041
Level     2,  Iter    11:    Energy =   0.1039
Level     2,  Iter    12:    Energy =   0.1049
Level     2,  Iter    13:    Energy =   0.1046
Level     2,  Iter    14:    Energy =   0.1056
Level     2,  Iter    15:    Energy =   0.1053
Level     2,  Iter    16:    Energy =   0.1062
Level     2,  Iter    17:    Energy =   0.1058
Level     2,  Iter    18:    Energy =   0.1065
Level     2,  Iter    19:    Energy =   0.1062
END OF LEVEL     2    DetJac Range:   0.0687  to   3.7230 
  Avg. Gradient Time  : 0.1163s  32.98% 
  Avg. Gaussian Time  : 0.1853s  52.57% 
  Avg. Iteration Time : 0.3525s 

real	0m14.708s
user	0m20.292s
sys	0m2.758s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.332857 0.337143
+ echo 'CHUNK 0.332857 0.337143 1'
CHUNK 0.332857 0.337143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.332857 0.337143 1
====================================
         PROGRESS: 0.332857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ grep Version
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=032
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 032
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 032 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=032
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 032 left 0
+ local tid=032
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 032 0
+ set -e
+ local tid=032
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.551
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3523.39   GNORM= 905.725
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3740.104     305.837       0.001
   2    4     -3775.182     184.417       1.000
   3    5     -3795.438     127.946       1.000
   4    6     -3802.660      87.303       1.000
   5    7     -3812.627     112.001       1.000
   6    8     -3838.673     203.034       1.000
   7    9     -3859.701     192.503       1.000
   8   10     -3864.643     189.554       1.000
   9   11     -3873.794      59.512       1.000
  10   12     -3875.355      41.750       1.000
  11   13     -3876.459      51.071       1.000
  12   14     -3877.819      44.553       1.000
  13   15     -3879.464      75.511       1.000
  14   16     -3881.833      30.872       1.000
  15   17     -3883.012      28.930       1.000
  16   18     -3883.714      21.235       1.000
  17   19     -3884.682      20.798       1.000
  18   20     -3885.638      64.411       1.000
  19   21     -3886.566      23.498       1.000
  20   22     -3886.877      20.444       1.000
  21   23     -3887.098      22.845       1.000
  22   24     -3887.243      15.142       1.000
  23   25     -3887.475      21.320       1.000
  24   26     -3887.730      10.967       1.000
  25   27     -3887.967       8.813       1.000
  26   28     -3888.028      23.694       1.000
  27   29     -3888.130       6.315       1.000
  28   30     -3888.146       4.711       1.000
  29   31     -3888.183      14.153       1.000
  30   32     -3888.228       6.874       1.000
  31   33     -3888.272       3.735       1.000
  32   35     -3888.309      11.320       0.119
  33   37     -3888.329       8.393       5.000
  34   38     -3888.402       3.751       1.000
  35   40     -3888.409       3.249       0.125
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.980045 -0.00269371 -0.0281395 -1.13895 
0.0504881 1.00651 0.0256518 1.89685 
0.0039347 0.0165487 1.00087 0.277204 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2822.65   GNORM= 78.9312
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2825.575      68.924       0.001
   2    5     -2835.701      71.077       5.000
   3    6     -2853.884     144.419       1.000
   4    7     -2876.616     110.032       1.000
   5    8     -2893.900      71.376       1.000
   6    9     -2898.253      26.606       1.000
   7   10     -2899.822      34.315       1.000
   8   11     -2903.266      57.342       1.000
   9   12     -2905.078      56.021       1.000
  10   13     -2907.313      24.970       1.000
  11   14     -2908.366      20.069       1.000
  12   15     -2909.074      32.934       1.000
  13   16     -2910.431      26.643       1.000
  14   18     -2911.673      47.446       0.379
  15   19     -2912.900      31.535       1.000
  16   20     -2913.623      14.258       1.000
  17   21     -2913.734      28.281       1.000
  18   22     -2914.106      14.315       1.000
  19   23     -2914.233      10.296       1.000
  20   24     -2914.324      12.670       1.000
  21   25     -2914.654      11.625       1.000
  22   26     -2914.925       6.945       1.000
  23   27     -2915.137      20.375       1.000
  24   28     -2915.304      13.186       1.000
  25   29     -2915.451       9.152       1.000
  26   30     -2915.507      13.057       1.000
  27   31     -2915.604       8.186       1.000
  28   32     -2915.706       7.085       1.000
  29   33     -2915.785      20.942       1.000
  30   34     -2915.942       9.850       1.000
  31   35     -2916.019       7.750       1.000
  32   36     -2916.109       6.628       1.000
  33   37     -2916.282      22.717       1.000
  34   38     -2916.393       9.664       1.000
  35   39     -2916.438       7.748       1.000
  36   41     -2916.490       5.689       0.364
  37   42     -2916.533       4.801       1.000
  38   44     -2916.590       3.740       0.419
  39   46     -2916.636       9.934       0.319
  40   47     -2916.728      10.076       1.000
  41   49     -2916.729       9.351       0.041
  42   50     -2916.806       3.774       1.000
  43   51     -2916.816       1.891       1.000
Final RAS Transform: 
0.999577 -0.0141926 -0.00236807 0.129148 
0.0321767 1.01364 -0.0111684 0.600802 
0.00892718 -0.00539205 1.01818 1.08472 
0 0 0 1 

Final RAS Transform: 
0.999577 -0.0141926 -0.00236807 0.129148 
0.0321767 1.01364 -0.0111684 0.600802 
0.00892718 -0.00539205 1.01818 1.08472 
0 0 0 1 


real	0m4.698s
user	0m6.234s
sys	0m0.683s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.528909
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1243
Level     0,  Iter     1:    Energy =   0.1334
Level     0,  Iter     2:    Energy =   0.1403
Level     0,  Iter     3:    Energy =   0.1444
Level     0,  Iter     4:    Energy =   0.1472
Level     0,  Iter     5:    Energy =   0.1494
Level     0,  Iter     6:    Energy =   0.1508
Level     0,  Iter     7:    Energy =   0.1525
Level     0,  Iter     8:    Energy =   0.1536
Level     0,  Iter     9:    Energy =   0.1550
Level     0,  Iter    10:    Energy =   0.1557
Level     0,  Iter    11:    Energy =   0.1570
Level     0,  Iter    12:    Energy =   0.1578
Level     0,  Iter    13:    Energy =   0.1589
Level     0,  Iter    14:    Energy =   0.1594
Level     0,  Iter    15:    Energy =   0.1602
Level     0,  Iter    16:    Energy =   0.1606
Level     0,  Iter    17:    Energy =   0.1612
Level     0,  Iter    18:    Energy =   0.1615
Level     0,  Iter    19:    Energy =   0.1620
Level     0,  Iter    20:    Energy =   0.1621
Level     0,  Iter    21:    Energy =   0.1625
Level     0,  Iter    22:    Energy =   0.1625
Level     0,  Iter    23:    Energy =   0.1629
Level     0,  Iter    24:    Energy =   0.1628
Level     0,  Iter    25:    Energy =   0.1632
Level     0,  Iter    26:    Energy =   0.1631
Level     0,  Iter    27:    Energy =   0.1634
Level     0,  Iter    28:    Energy =   0.1633
Level     0,  Iter    29:    Energy =   0.1635
Level     0,  Iter    30:    Energy =   0.1634
Level     0,  Iter    31:    Energy =   0.1637
Level     0,  Iter    32:    Energy =   0.1635
Level     0,  Iter    33:    Energy =   0.1637
Level     0,  Iter    34:    Energy =   0.1635
Level     0,  Iter    35:    Energy =   0.1637
Level     0,  Iter    36:    Energy =   0.1636
Level     0,  Iter    37:    Energy =   0.1638
Level     0,  Iter    38:    Energy =   0.1637
Level     0,  Iter    39:    Energy =   0.1639
Level     0,  Iter    40:    Energy =   0.1637
Level     0,  Iter    41:    Energy =   0.1639
Level     0,  Iter    42:    Energy =   0.1637
Level     0,  Iter    43:    Energy =   0.1639
Level     0,  Iter    44:    Energy =   0.1637
Level     0,  Iter    45:    Energy =   0.1639
Level     0,  Iter    46:    Energy =   0.1638
Level     0,  Iter    47:    Energy =   0.1640
Level     0,  Iter    48:    Energy =   0.1639
Level     0,  Iter    49:    Energy =   0.1641
Level     0,  Iter    50:    Energy =   0.1639
Level     0,  Iter    51:    Energy =   0.1641
Level     0,  Iter    52:    Energy =   0.1639
Level     0,  Iter    53:    Energy =   0.1640
Level     0,  Iter    54:    Energy =   0.1638
Level     0,  Iter    55:    Energy =   0.1641
Level     0,  Iter    56:    Energy =   0.1639
Level     0,  Iter    57:    Energy =   0.1641
Level     0,  Iter    58:    Energy =   0.1639
Level     0,  Iter    59:    Energy =   0.1641
END OF LEVEL     0    DetJac Range:   0.3094  to   2.1131 
  Avg. Gradient Time  : 0.0056s  34.78% 
  Avg. Gaussian Time  : 0.0073s  45.41% 
  Avg. Iteration Time : 0.0161s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1166
Level     1,  Iter     1:    Energy =   0.1223
Level     1,  Iter     2:    Energy =   0.1272
Level     1,  Iter     3:    Energy =   0.1319
Level     1,  Iter     4:    Energy =   0.1355
Level     1,  Iter     5:    Energy =   0.1383
Level     1,  Iter     6:    Energy =   0.1406
Level     1,  Iter     7:    Energy =   0.1425
Level     1,  Iter     8:    Energy =   0.1434
Level     1,  Iter     9:    Energy =   0.1442
Level     1,  Iter    10:    Energy =   0.1447
Level     1,  Iter    11:    Energy =   0.1453
Level     1,  Iter    12:    Energy =   0.1457
Level     1,  Iter    13:    Energy =   0.1462
Level     1,  Iter    14:    Energy =   0.1465
Level     1,  Iter    15:    Energy =   0.1468
Level     1,  Iter    16:    Energy =   0.1471
Level     1,  Iter    17:    Energy =   0.1474
Level     1,  Iter    18:    Energy =   0.1477
Level     1,  Iter    19:    Energy =   0.1479
Level     1,  Iter    20:    Energy =   0.1482
Level     1,  Iter    21:    Energy =   0.1483
Level     1,  Iter    22:    Energy =   0.1486
Level     1,  Iter    23:    Energy =   0.1487
Level     1,  Iter    24:    Energy =   0.1490
Level     1,  Iter    25:    Energy =   0.1490
Level     1,  Iter    26:    Energy =   0.1493
Level     1,  Iter    27:    Energy =   0.1492
Level     1,  Iter    28:    Energy =   0.1496
Level     1,  Iter    29:    Energy =   0.1494
Level     1,  Iter    30:    Energy =   0.1499
Level     1,  Iter    31:    Energy =   0.1497
Level     1,  Iter    32:    Energy =   0.1501
Level     1,  Iter    33:    Energy =   0.1499
Level     1,  Iter    34:    Energy =   0.1502
Level     1,  Iter    35:    Energy =   0.1501
Level     1,  Iter    36:    Energy =   0.1504
Level     1,  Iter    37:    Energy =   0.1503
Level     1,  Iter    38:    Energy =   0.1505
Level     1,  Iter    39:    Energy =   0.1504
Level     1,  Iter    40:    Energy =   0.1506
Level     1,  Iter    41:    Energy =   0.1506
Level     1,  Iter    42:    Energy =   0.1508
Level     1,  Iter    43:    Energy =   0.1506
Level     1,  Iter    44:    Energy =   0.1508
Level     1,  Iter    45:    Energy =   0.1508
Level     1,  Iter    46:    Energy =   0.1510
Level     1,  Iter    47:    Energy =   0.1508
Level     1,  Iter    48:    Energy =   0.1511
Level     1,  Iter    49:    Energy =   0.1510
Level     1,  Iter    50:    Energy =   0.1512
Level     1,  Iter    51:    Energy =   0.1511
Level     1,  Iter    52:    Energy =   0.1513
Level     1,  Iter    53:    Energy =   0.1512
Level     1,  Iter    54:    Energy =   0.1514
Level     1,  Iter    55:    Energy =   0.1512
Level     1,  Iter    56:    Energy =   0.1515
Level     1,  Iter    57:    Energy =   0.1514
Level     1,  Iter    58:    Energy =   0.1516
Level     1,  Iter    59:    Energy =   0.1514
END OF LEVEL     1    DetJac Range:   0.1017  to   3.5247 
  Avg. Gradient Time  : 0.0248s  34.22% 
  Avg. Gaussian Time  : 0.0351s  48.44% 
  Avg. Iteration Time : 0.0724s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0797
Level     2,  Iter     1:    Energy =   0.0829
Level     2,  Iter     2:    Energy =   0.0865
Level     2,  Iter     3:    Energy =   0.0896
Level     2,  Iter     4:    Energy =   0.0919
Level     2,  Iter     5:    Energy =   0.0937
Level     2,  Iter     6:    Energy =   0.0953
Level     2,  Iter     7:    Energy =   0.0970
Level     2,  Iter     8:    Energy =   0.0976
Level     2,  Iter     9:    Energy =   0.0986
Level     2,  Iter    10:    Energy =   0.0987
Level     2,  Iter    11:    Energy =   0.0994
Level     2,  Iter    12:    Energy =   0.0993
Level     2,  Iter    13:    Energy =   0.1000
Level     2,  Iter    14:    Energy =   0.0999
Level     2,  Iter    15:    Energy =   0.1006
Level     2,  Iter    16:    Energy =   0.1004
Level     2,  Iter    17:    Energy =   0.1010
Level     2,  Iter    18:    Energy =   0.1008
Level     2,  Iter    19:    Energy =   0.1013
END OF LEVEL     2    DetJac Range:   0.0698  to   3.4907 
  Avg. Gradient Time  : 0.1119s  32.24% 
  Avg. Gaussian Time  : 0.1830s  52.74% 
  Avg. Iteration Time : 0.3470s 

real	0m14.578s
user	0m20.328s
sys	0m2.748s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.337143 0.341429
+ echo 'CHUNK 0.337143 0.341429 1'
CHUNK 0.337143 0.341429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.337143 0.341429 1
====================================
         PROGRESS: 0.337143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=033
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 033
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 033 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=033
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 033 left 0
+ local tid=033
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 033 0
+ set -e
+ local tid=033
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.535
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4089.59   GNORM= 412.779
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4138.831     235.812       0.001
   2    4     -4159.976     177.918       1.000
   3    5     -4203.609     227.508       1.000
   4    6     -4239.623     182.187       1.000
   5    7     -4286.409      88.636       1.000
   6    8     -4298.988     117.340       1.000
   7    9     -4308.114     133.250       1.000
   8   10     -4315.577      49.493       1.000
   9   11     -4318.458      26.212       1.000
  10   12     -4319.619      34.893       1.000
  11   13     -4320.139      39.267       1.000
  12   14     -4320.647      17.821       1.000
  13   15     -4320.784       7.574       1.000
  14   17     -4320.938      13.501       5.000
  15   19     -4321.041       8.762       0.491
  16   20     -4321.160      13.197       1.000
  17   21     -4321.250       7.922       1.000
  18   22     -4321.255      15.520       1.000
  19   23     -4321.281       7.467       1.000
  20   25     -4321.290       4.259       0.496
  21   27     -4321.294       9.081       0.226
  22   28     -4321.296       8.259       1.000
  23   29     -4321.301       8.392       1.000
  24   30     -4321.308       5.799       1.000
  25   31     -4321.313       5.260       1.000
  26   33     -4321.315       7.228       0.280
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.974533 -0.0022708 -0.00117548 -0.968975 
0.00691732 1.01291 0.00912012 0.584463 
0.0103524 -0.00422413 1.0453 1.26482 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3154.19   GNORM= 91.8471
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3157.865      56.343       0.001
   2    4     -3159.767      41.732       1.000
   3    5     -3163.477      75.439       1.000
   4    6     -3169.913      89.215       1.000
   5    7     -3186.630      95.772       1.000
   6    9     -3188.932      79.878       0.175
   7   10     -3192.451      48.708       1.000
   8   11     -3193.067      56.415       1.000
   9   12     -3193.816      26.511       1.000
  10   13     -3194.277      19.126       1.000
  11   14     -3195.180      22.589       1.000
  12   15     -3195.684      18.737       1.000
  13   16     -3195.807      33.734       1.000
  14   17     -3196.150      14.070       1.000
  15   18     -3196.421       8.624       1.000
  16   19     -3196.816      16.973       1.000
  17   21     -3196.974      20.553       0.493
  18   22     -3197.142       8.594       1.000
  19   23     -3197.212      10.883       1.000
  20   24     -3197.302      11.055       1.000
  21   25     -3197.331      11.767       1.000
  22   26     -3197.483       3.995       1.000
  23   27     -3197.495       3.063       1.000
  24   28     -3197.518       8.188       1.000
  25   29     -3197.547       6.260       1.000
  26   30     -3197.643       3.222       1.000
  27   31     -3197.654       6.214       1.000
  28   32     -3197.667       4.480       1.000
  29   33     -3197.674       3.801       1.000
  30   34     -3197.687       2.830       1.000
  31   36     -3197.688       3.289       0.274
  32   37     -3197.691       3.109       1.000
  33   38     -3197.694       4.251       1.000
  34   39     -3197.700       3.531       1.000
  35   41     -3197.705       2.272       0.158
  36   42     -3197.706       1.657       1.000
Final RAS Transform: 
0.986132 0.000281435 0.0188659 -0.234615 
0.00122793 1.00557 -0.009611 0.192328 
0.00466632 -0.0120505 1.0398 1.18041 
0 0 0 1 

Final RAS Transform: 
0.986132 0.000281435 0.0188659 -0.234615 
0.00122793 1.00557 -0.009611 0.192328 
0.00466632 -0.0120505 1.0398 1.18041 
0 0 0 1 


real	0m4.660s
user	0m6.244s
sys	0m0.661s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.516696
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1399
Level     0,  Iter     1:    Energy =   0.1488
Level     0,  Iter     2:    Energy =   0.1554
Level     0,  Iter     3:    Energy =   0.1614
Level     0,  Iter     4:    Energy =   0.1653
Level     0,  Iter     5:    Energy =   0.1658
Level     0,  Iter     6:    Energy =   0.1666
Level     0,  Iter     7:    Energy =   0.1669
Level     0,  Iter     8:    Energy =   0.1677
Level     0,  Iter     9:    Energy =   0.1678
Level     0,  Iter    10:    Energy =   0.1686
Level     0,  Iter    11:    Energy =   0.1685
Level     0,  Iter    12:    Energy =   0.1693
Level     0,  Iter    13:    Energy =   0.1688
Level     0,  Iter    14:    Energy =   0.1699
Level     0,  Iter    15:    Energy =   0.1691
Level     0,  Iter    16:    Energy =   0.1704
Level     0,  Iter    17:    Energy =   0.1692
Level     0,  Iter    18:    Energy =   0.1706
Level     0,  Iter    19:    Energy =   0.1699
Level     0,  Iter    20:    Energy =   0.1709
Level     0,  Iter    21:    Energy =   0.1697
Level     0,  Iter    22:    Energy =   0.1708
Level     0,  Iter    23:    Energy =   0.1699
Level     0,  Iter    24:    Energy =   0.1709
Level     0,  Iter    25:    Energy =   0.1699
Level     0,  Iter    26:    Energy =   0.1708
Level     0,  Iter    27:    Energy =   0.1699
Level     0,  Iter    28:    Energy =   0.1707
Level     0,  Iter    29:    Energy =   0.1697
Level     0,  Iter    30:    Energy =   0.1707
Level     0,  Iter    31:    Energy =   0.1699
Level     0,  Iter    32:    Energy =   0.1705
Level     0,  Iter    33:    Energy =   0.1698
Level     0,  Iter    34:    Energy =   0.1705
Level     0,  Iter    35:    Energy =   0.1698
Level     0,  Iter    36:    Energy =   0.1705
Level     0,  Iter    37:    Energy =   0.1697
Level     0,  Iter    38:    Energy =   0.1705
Level     0,  Iter    39:    Energy =   0.1697
Level     0,  Iter    40:    Energy =   0.1704
Level     0,  Iter    41:    Energy =   0.1697
Level     0,  Iter    42:    Energy =   0.1704
Level     0,  Iter    43:    Energy =   0.1697
Level     0,  Iter    44:    Energy =   0.1704
Level     0,  Iter    45:    Energy =   0.1698
Level     0,  Iter    46:    Energy =   0.1704
Level     0,  Iter    47:    Energy =   0.1697
Level     0,  Iter    48:    Energy =   0.1703
Level     0,  Iter    49:    Energy =   0.1697
Level     0,  Iter    50:    Energy =   0.1702
Level     0,  Iter    51:    Energy =   0.1696
Level     0,  Iter    52:    Energy =   0.1702
Level     0,  Iter    53:    Energy =   0.1696
Level     0,  Iter    54:    Energy =   0.1702
Level     0,  Iter    55:    Energy =   0.1696
Level     0,  Iter    56:    Energy =   0.1701
Level     0,  Iter    57:    Energy =   0.1695
Level     0,  Iter    58:    Energy =   0.1701
Level     0,  Iter    59:    Energy =   0.1696
END OF LEVEL     0    DetJac Range:   0.5165  to   1.6582 
  Avg. Gradient Time  : 0.0056s  34.59% 
  Avg. Gaussian Time  : 0.0073s  45.45% 
  Avg. Iteration Time : 0.0161s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1188
Level     1,  Iter     1:    Energy =   0.1267
Level     1,  Iter     2:    Energy =   0.1321
Level     1,  Iter     3:    Energy =   0.1362
Level     1,  Iter     4:    Energy =   0.1398
Level     1,  Iter     5:    Energy =   0.1424
Level     1,  Iter     6:    Energy =   0.1437
Level     1,  Iter     7:    Energy =   0.1443
Level     1,  Iter     8:    Energy =   0.1461
Level     1,  Iter     9:    Energy =   0.1463
Level     1,  Iter    10:    Energy =   0.1477
Level     1,  Iter    11:    Energy =   0.1478
Level     1,  Iter    12:    Energy =   0.1487
Level     1,  Iter    13:    Energy =   0.1486
Level     1,  Iter    14:    Energy =   0.1494
Level     1,  Iter    15:    Energy =   0.1493
Level     1,  Iter    16:    Energy =   0.1502
Level     1,  Iter    17:    Energy =   0.1500
Level     1,  Iter    18:    Energy =   0.1506
Level     1,  Iter    19:    Energy =   0.1504
Level     1,  Iter    20:    Energy =   0.1510
Level     1,  Iter    21:    Energy =   0.1507
Level     1,  Iter    22:    Energy =   0.1513
Level     1,  Iter    23:    Energy =   0.1510
Level     1,  Iter    24:    Energy =   0.1514
Level     1,  Iter    25:    Energy =   0.1511
Level     1,  Iter    26:    Energy =   0.1515
Level     1,  Iter    27:    Energy =   0.1513
Level     1,  Iter    28:    Energy =   0.1515
Level     1,  Iter    29:    Energy =   0.1513
Level     1,  Iter    30:    Energy =   0.1514
Level     1,  Iter    31:    Energy =   0.1512
Level     1,  Iter    32:    Energy =   0.1515
Level     1,  Iter    33:    Energy =   0.1513
Level     1,  Iter    34:    Energy =   0.1515
Level     1,  Iter    35:    Energy =   0.1513
Level     1,  Iter    36:    Energy =   0.1515
Level     1,  Iter    37:    Energy =   0.1513
Level     1,  Iter    38:    Energy =   0.1515
Level     1,  Iter    39:    Energy =   0.1513
Level     1,  Iter    40:    Energy =   0.1517
Level     1,  Iter    41:    Energy =   0.1515
Level     1,  Iter    42:    Energy =   0.1517
Level     1,  Iter    43:    Energy =   0.1515
Level     1,  Iter    44:    Energy =   0.1516
Level     1,  Iter    45:    Energy =   0.1514
Level     1,  Iter    46:    Energy =   0.1516
Level     1,  Iter    47:    Energy =   0.1514
Level     1,  Iter    48:    Energy =   0.1517
Level     1,  Iter    49:    Energy =   0.1515
Level     1,  Iter    50:    Energy =   0.1518
Level     1,  Iter    51:    Energy =   0.1516
Level     1,  Iter    52:    Energy =   0.1517
Level     1,  Iter    53:    Energy =   0.1515
Level     1,  Iter    54:    Energy =   0.1517
Level     1,  Iter    55:    Energy =   0.1515
Level     1,  Iter    56:    Energy =   0.1519
Level     1,  Iter    57:    Energy =   0.1517
Level     1,  Iter    58:    Energy =   0.1518
Level     1,  Iter    59:    Energy =   0.1516
END OF LEVEL     1    DetJac Range:   0.2797  to   2.5237 
  Avg. Gradient Time  : 0.0249s  34.63% 
  Avg. Gaussian Time  : 0.0347s  48.34% 
  Avg. Iteration Time : 0.0718s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0818
Level     2,  Iter     1:    Energy =   0.0856
Level     2,  Iter     2:    Energy =   0.0889
Level     2,  Iter     3:    Energy =   0.0920
Level     2,  Iter     4:    Energy =   0.0946
Level     2,  Iter     5:    Energy =   0.0966
Level     2,  Iter     6:    Energy =   0.0979
Level     2,  Iter     7:    Energy =   0.0991
Level     2,  Iter     8:    Energy =   0.1007
Level     2,  Iter     9:    Energy =   0.1016
Level     2,  Iter    10:    Energy =   0.1025
Level     2,  Iter    11:    Energy =   0.1032
Level     2,  Iter    12:    Energy =   0.1035
Level     2,  Iter    13:    Energy =   0.1035
Level     2,  Iter    14:    Energy =   0.1037
Level     2,  Iter    15:    Energy =   0.1039
Level     2,  Iter    16:    Energy =   0.1039
Level     2,  Iter    17:    Energy =   0.1044
Level     2,  Iter    18:    Energy =   0.1043
Level     2,  Iter    19:    Energy =   0.1050
END OF LEVEL     2    DetJac Range:   0.1608  to   3.2113 
  Avg. Gradient Time  : 0.1140s  32.53% 
  Avg. Gaussian Time  : 0.1823s  52.02% 
  Avg. Iteration Time : 0.3504s 

real	0m14.636s
user	0m20.173s
sys	0m2.792s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.341429 0.345714
+ echo 'CHUNK 0.341429 0.345714 1'
CHUNK 0.341429 0.345714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.341429 0.345714 1
====================================
         PROGRESS: 0.341429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=034
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: left
Training subject: 034
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left 034 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=left
+ local tid=034
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 left
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=left
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 034 left 0
+ local tid=034
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 034 0
+ set -e
+ local tid=034
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.501
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4191.23   GNORM= 611.175
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4259.867     165.211       0.000
   2    4     -4269.039     139.292       1.000
   3    5     -4292.231     247.007       1.000
   4    6     -4313.397     125.644       1.000
   5    7     -4331.233      82.713       1.000
   6    8     -4338.970      68.984       1.000
   7   10     -4341.530      85.789       0.208
   8   11     -4345.239      84.715       1.000
   9   12     -4351.498      75.830       1.000
  10   13     -4356.389      14.915       1.000
  11   14     -4356.796      15.793       1.000
  12   15     -4357.579      13.512       1.000
  13   17     -4357.677      10.809       0.119
  14   18     -4357.803      12.000       1.000
  15   20     -4357.899      11.082       0.300
  16   22     -4357.961      12.224       0.460
  17   23     -4358.018       9.530       1.000
  18   24     -4358.038       6.465       1.000
  19   26     -4358.043       2.396       0.287
  20   27     -4358.049       1.701       1.000
  21   28     -4358.052       2.381       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.991271 0.000847574 -0.00761015 -0.71904 
0.0057729 1.00722 -0.00959833 0.380936 
0.000138424 -0.00148048 1.033 0.794831 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3165.41   GNORM= 118.548
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3169.607      56.878       0.001
   2    4     -3171.389      52.709       1.000
   3    5     -3174.557     129.157       1.000
   4    6     -3181.969      69.936       1.000
   5    7     -3191.170      45.017       1.000
   6    8     -3197.812      54.591       1.000
   7    9     -3202.290      52.834       1.000
   8   11     -3203.513      26.345       0.081
   9   12     -3205.141      29.385       1.000
  10   13     -3207.819      28.167       1.000
  11   15     -3208.576      26.800       0.283
  12   16     -3209.762      15.329       1.000
  13   17     -3210.566      16.298       1.000
  14   18     -3210.864      52.072       1.000
  15   19     -3212.312      16.218       1.000
  16   20     -3212.679      11.436       1.000
  17   21     -3212.762      27.733       1.000
  18   22     -3213.128      12.712       1.000
  19   23     -3213.293      10.249       1.000
  20   24     -3213.590       7.749       1.000
  21   26     -3213.741       7.431       0.469
  22   28     -3213.754       7.103       0.098
  23   29     -3213.773       2.327       1.000
  24   30     -3213.780       2.546       1.000
  25   31     -3213.805       8.883       1.000
  26   32     -3213.828       4.440       1.000
  27   33     -3213.839       2.333       1.000
  28   34     -3213.844       1.881       1.000
  29   35     -3213.844       6.294       1.000
  30   36     -3213.852       2.675       1.000
  31   37     -3213.861       1.654       1.000
  32   38     -3213.875       1.338       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00856 0.00250311 0.0220812 0.275209 
0.0158143 1.01498 -0.0155932 0.187823 
-0.000685867 -0.0130096 1.02943 0.94785 
0 0 0 1 

Final RAS Transform: 
1.00856 0.00250311 0.0220812 0.275209 
0.0158143 1.01498 -0.0155932 0.187823 
-0.000685867 -0.0130096 1.02943 0.94785 
0 0 0 1 


real	0m4.436s
user	0m5.933s
sys	0m0.658s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_left.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.521, moving = 0.481806
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.1409
Level     0,  Iter     1:    Energy =   0.1510
Level     0,  Iter     2:    Energy =   0.1576
Level     0,  Iter     3:    Energy =   0.1610
Level     0,  Iter     4:    Energy =   0.1626
Level     0,  Iter     5:    Energy =   0.1640
Level     0,  Iter     6:    Energy =   0.1651
Level     0,  Iter     7:    Energy =   0.1658
Level     0,  Iter     8:    Energy =   0.1661
Level     0,  Iter     9:    Energy =   0.1667
Level     0,  Iter    10:    Energy =   0.1668
Level     0,  Iter    11:    Energy =   0.1672
Level     0,  Iter    12:    Energy =   0.1672
Level     0,  Iter    13:    Energy =   0.1675
Level     0,  Iter    14:    Energy =   0.1674
Level     0,  Iter    15:    Energy =   0.1677
Level     0,  Iter    16:    Energy =   0.1676
Level     0,  Iter    17:    Energy =   0.1678
Level     0,  Iter    18:    Energy =   0.1678
Level     0,  Iter    19:    Energy =   0.1679
Level     0,  Iter    20:    Energy =   0.1679
Level     0,  Iter    21:    Energy =   0.1680
Level     0,  Iter    22:    Energy =   0.1680
Level     0,  Iter    23:    Energy =   0.1681
Level     0,  Iter    24:    Energy =   0.1681
Level     0,  Iter    25:    Energy =   0.1681
Level     0,  Iter    26:    Energy =   0.1680
Level     0,  Iter    27:    Energy =   0.1681
Level     0,  Iter    28:    Energy =   0.1681
Level     0,  Iter    29:    Energy =   0.1681
Level     0,  Iter    30:    Energy =   0.1681
Level     0,  Iter    31:    Energy =   0.1682
Level     0,  Iter    32:    Energy =   0.1682
Level     0,  Iter    33:    Energy =   0.1682
Level     0,  Iter    34:    Energy =   0.1682
Level     0,  Iter    35:    Energy =   0.1682
Level     0,  Iter    36:    Energy =   0.1682
Level     0,  Iter    37:    Energy =   0.1682
Level     0,  Iter    38:    Energy =   0.1682
Level     0,  Iter    39:    Energy =   0.1682
Level     0,  Iter    40:    Energy =   0.1682
Level     0,  Iter    41:    Energy =   0.1682
Level     0,  Iter    42:    Energy =   0.1683
Level     0,  Iter    43:    Energy =   0.1682
Level     0,  Iter    44:    Energy =   0.1683
Level     0,  Iter    45:    Energy =   0.1682
Level     0,  Iter    46:    Energy =   0.1683
Level     0,  Iter    47:    Energy =   0.1682
Level     0,  Iter    48:    Energy =   0.1682
Level     0,  Iter    49:    Energy =   0.1682
Level     0,  Iter    50:    Energy =   0.1683
Level     0,  Iter    51:    Energy =   0.1682
Level     0,  Iter    52:    Energy =   0.1683
Level     0,  Iter    53:    Energy =   0.1683
Level     0,  Iter    54:    Energy =   0.1683
Level     0,  Iter    55:    Energy =   0.1683
Level     0,  Iter    56:    Energy =   0.1683
Level     0,  Iter    57:    Energy =   0.1682
Level     0,  Iter    58:    Energy =   0.1683
Level     0,  Iter    59:    Energy =   0.1682
END OF LEVEL     0    DetJac Range:   0.5685  to   1.6724 
  Avg. Gradient Time  : 0.0054s  34.96% 
  Avg. Gaussian Time  : 0.0070s  45.33% 
  Avg. Iteration Time : 0.0154s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.1163
Level     1,  Iter     1:    Energy =   0.1210
Level     1,  Iter     2:    Energy =   0.1276
Level     1,  Iter     3:    Energy =   0.1327
Level     1,  Iter     4:    Energy =   0.1370
Level     1,  Iter     5:    Energy =   0.1394
Level     1,  Iter     6:    Energy =   0.1412
Level     1,  Iter     7:    Energy =   0.1430
Level     1,  Iter     8:    Energy =   0.1449
Level     1,  Iter     9:    Energy =   0.1457
Level     1,  Iter    10:    Energy =   0.1466
Level     1,  Iter    11:    Energy =   0.1471
Level     1,  Iter    12:    Energy =   0.1475
Level     1,  Iter    13:    Energy =   0.1482
Level     1,  Iter    14:    Energy =   0.1483
Level     1,  Iter    15:    Energy =   0.1489
Level     1,  Iter    16:    Energy =   0.1491
Level     1,  Iter    17:    Energy =   0.1494
Level     1,  Iter    18:    Energy =   0.1495
Level     1,  Iter    19:    Energy =   0.1498
Level     1,  Iter    20:    Energy =   0.1498
Level     1,  Iter    21:    Energy =   0.1503
Level     1,  Iter    22:    Energy =   0.1500
Level     1,  Iter    23:    Energy =   0.1507
Level     1,  Iter    24:    Energy =   0.1507
Level     1,  Iter    25:    Energy =   0.1508
Level     1,  Iter    26:    Energy =   0.1505
Level     1,  Iter    27:    Energy =   0.1512
Level     1,  Iter    28:    Energy =   0.1511
Level     1,  Iter    29:    Energy =   0.1512
Level     1,  Iter    30:    Energy =   0.1508
Level     1,  Iter    31:    Energy =   0.1515
Level     1,  Iter    32:    Energy =   0.1513
Level     1,  Iter    33:    Energy =   0.1514
Level     1,  Iter    34:    Energy =   0.1511
Level     1,  Iter    35:    Energy =   0.1517
Level     1,  Iter    36:    Energy =   0.1514
Level     1,  Iter    37:    Energy =   0.1518
Level     1,  Iter    38:    Energy =   0.1515
Level     1,  Iter    39:    Energy =   0.1518
Level     1,  Iter    40:    Energy =   0.1515
Level     1,  Iter    41:    Energy =   0.1518
Level     1,  Iter    42:    Energy =   0.1515
Level     1,  Iter    43:    Energy =   0.1518
Level     1,  Iter    44:    Energy =   0.1515
Level     1,  Iter    45:    Energy =   0.1519
Level     1,  Iter    46:    Energy =   0.1516
Level     1,  Iter    47:    Energy =   0.1519
Level     1,  Iter    48:    Energy =   0.1516
Level     1,  Iter    49:    Energy =   0.1519
Level     1,  Iter    50:    Energy =   0.1517
Level     1,  Iter    51:    Energy =   0.1519
Level     1,  Iter    52:    Energy =   0.1517
Level     1,  Iter    53:    Energy =   0.1519
Level     1,  Iter    54:    Energy =   0.1516
Level     1,  Iter    55:    Energy =   0.1521
Level     1,  Iter    56:    Energy =   0.1518
Level     1,  Iter    57:    Energy =   0.1521
Level     1,  Iter    58:    Energy =   0.1518
Level     1,  Iter    59:    Energy =   0.1521
END OF LEVEL     1    DetJac Range:   0.1146  to   3.1251 
  Avg. Gradient Time  : 0.0251s  35.11% 
  Avg. Gaussian Time  : 0.0342s  47.80% 
  Avg. Iteration Time : 0.0715s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0797
Level     2,  Iter     1:    Energy =   0.0834
Level     2,  Iter     2:    Energy =   0.0867
Level     2,  Iter     3:    Energy =   0.0894
Level     2,  Iter     4:    Energy =   0.0920
Level     2,  Iter     5:    Energy =   0.0944
Level     2,  Iter     6:    Energy =   0.0950
Level     2,  Iter     7:    Energy =   0.0964
Level     2,  Iter     8:    Energy =   0.0965
Level     2,  Iter     9:    Energy =   0.0978
Level     2,  Iter    10:    Energy =   0.0978
Level     2,  Iter    11:    Energy =   0.0986
Level     2,  Iter    12:    Energy =   0.0986
Level     2,  Iter    13:    Energy =   0.0992
Level     2,  Iter    14:    Energy =   0.0991
Level     2,  Iter    15:    Energy =   0.0997
Level     2,  Iter    16:    Energy =   0.0996
Level     2,  Iter    17:    Energy =   0.1001
Level     2,  Iter    18:    Energy =   0.1000
Level     2,  Iter    19:    Energy =   0.1004
END OF LEVEL     2    DetJac Range:   0.0890  to   3.0238 
  Avg. Gradient Time  : 0.1138s  32.57% 
  Avg. Gaussian Time  : 0.1836s  52.55% 
  Avg. Iteration Time : 0.3494s 

real	0m14.539s
user	0m20.339s
sys	0m2.634s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_left.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.345714 0.35
+ echo 'CHUNK 0.345714 0.35 1'
CHUNK 0.345714 0.35 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.345714 0.35 1
====================================
         PROGRESS: 0.345714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 000
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 000 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=000
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.57
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4020.22   GNORM= 591.099
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4163.931     328.119       0.001
   2    4     -4210.662     127.440       1.000
   3    5     -4223.519      66.371       1.000
   4    6     -4229.506      65.428       1.000
   5    7     -4247.989      96.059       1.000
   6    8     -4253.041     130.209       1.000
   7    9     -4259.002      43.045       1.000
   8   10     -4260.350      31.563       1.000
   9   11     -4261.727      41.435       1.000
  10   12     -4264.190      62.295       1.000
  11   13     -4265.504      37.439       1.000
  12   14     -4266.501      22.524       1.000
  13   15     -4266.822      16.332       1.000
  14   16     -4266.999      12.723       1.000
  15   17     -4267.646       9.898       1.000
  16   18     -4267.840      15.326       1.000
  17   20     -4267.977      14.085       0.434
  18   21     -4268.018      20.680       1.000
  19   22     -4268.117       7.436       1.000
  20   23     -4268.143      10.856       1.000
  21   24     -4268.172       4.911       1.000
  22   25     -4268.206       4.527       1.000
  23   26     -4268.245      11.190       1.000
  24   27     -4268.285       6.974       1.000
  25   28     -4268.302       7.705       1.000
  26   29     -4268.322       5.722       1.000
  27   30     -4268.331       2.658       1.000
  28   32     -4268.351       7.419       5.000
  29   33     -4268.357       4.315       1.000
  30   34     -4268.365       1.947       1.000
  31   35     -4268.375       2.600       1.000
  32   36     -4268.377       5.269       1.000
  33   37     -4268.381       4.122       1.000
  34   38     -4268.391       2.519       1.000
  35   39     -4268.402       5.193       1.000
  36   40     -4268.409       1.654       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.982489 -0.022739 -0.0198393 0.275303 
-0.0083318 1.00986 0.0277672 0.814748 
0.0243122 -0.00100422 1.00339 0.2713 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3034.95   GNORM= 117.147
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3039.997      69.488       0.001
   2    5     -3050.194      71.554       5.000
   3    6     -3060.747      67.538       1.000
   4    7     -3077.128      71.457       1.000
   5    8     -3083.810     141.782       1.000
   6    9     -3094.241      34.237       1.000
   7   10     -3095.360      20.366       1.000
   8   11     -3096.796      19.448       1.000
   9   13     -3097.870      45.657       0.462
  10   14     -3099.391      13.918       1.000
  11   15     -3099.650      11.538       1.000
  12   17     -3099.981      16.935       0.374
  13   18     -3100.252      15.371       1.000
  14   19     -3100.772      11.692       1.000
  15   20     -3101.619      19.703       1.000
  16   21     -3101.779      31.076       1.000
  17   22     -3102.252       6.839       1.000
  18   23     -3102.283       5.472       1.000
  19   24     -3102.323       4.397       1.000
  20   25     -3102.420       4.826       1.000
  21   27     -3102.441       6.166       0.457
  22   28     -3102.478       4.016       1.000
  23   29     -3102.523       4.543       1.000
  24   30     -3102.587       7.495       1.000
  25   32     -3102.678      10.614       0.445
  26   34     -3102.706       7.392       0.388
  27   35     -3102.734       3.933       1.000
  28   36     -3102.760       3.844       1.000
  29   37     -3102.763       2.648       1.000
  30   39     -3102.768       1.407       0.260
  31   40     -3102.780       3.300       1.000
  32   41     -3102.781       4.805       1.000
  33   42     -3102.792       4.639       1.000
  34   43     -3102.812       3.550       1.000
  35   45     -3102.826       6.526       0.401
  36   47     -3102.838       7.064       0.327
  37   48     -3102.855       4.203       1.000
  38   49     -3102.865       5.245       1.000
  39   50     -3102.871       8.652       1.000
  40   51     -3102.884       5.421       1.000
  41   52     -3102.902       3.144       1.000
Final RAS Transform: 
0.995152 0.00333792 -0.0186235 -0.369132 
-0.0142776 1.00712 0.00680806 0.744625 
0.0111205 0.000563278 1.02903 0.948302 
0 0 0 1 

Final RAS Transform: 
0.995152 0.00333792 -0.0186235 -0.369132 
-0.0142776 1.00712 0.00680806 0.744625 
0.0111205 0.000563278 1.02903 0.948302 
0 0 0 1 


real	0m4.677s
user	0m6.173s
sys	0m0.698s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.55292
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1304
Level     0,  Iter     1:    Energy =   0.1377
Level     0,  Iter     2:    Energy =   0.1455
Level     0,  Iter     3:    Energy =   0.1518
Level     0,  Iter     4:    Energy =   0.1555
Level     0,  Iter     5:    Energy =   0.1569
Level     0,  Iter     6:    Energy =   0.1585
Level     0,  Iter     7:    Energy =   0.1593
Level     0,  Iter     8:    Energy =   0.1596
Level     0,  Iter     9:    Energy =   0.1602
Level     0,  Iter    10:    Energy =   0.1601
Level     0,  Iter    11:    Energy =   0.1608
Level     0,  Iter    12:    Energy =   0.1606
Level     0,  Iter    13:    Energy =   0.1614
Level     0,  Iter    14:    Energy =   0.1611
Level     0,  Iter    15:    Energy =   0.1621
Level     0,  Iter    16:    Energy =   0.1617
Level     0,  Iter    17:    Energy =   0.1626
Level     0,  Iter    18:    Energy =   0.1619
Level     0,  Iter    19:    Energy =   0.1627
Level     0,  Iter    20:    Energy =   0.1616
Level     0,  Iter    21:    Energy =   0.1626
Level     0,  Iter    22:    Energy =   0.1616
Level     0,  Iter    23:    Energy =   0.1625
Level     0,  Iter    24:    Energy =   0.1613
Level     0,  Iter    25:    Energy =   0.1625
Level     0,  Iter    26:    Energy =   0.1616
Level     0,  Iter    27:    Energy =   0.1626
Level     0,  Iter    28:    Energy =   0.1613
Level     0,  Iter    29:    Energy =   0.1627
Level     0,  Iter    30:    Energy =   0.1616
Level     0,  Iter    31:    Energy =   0.1627
Level     0,  Iter    32:    Energy =   0.1614
Level     0,  Iter    33:    Energy =   0.1626
Level     0,  Iter    34:    Energy =   0.1616
Level     0,  Iter    35:    Energy =   0.1628
Level     0,  Iter    36:    Energy =   0.1615
Level     0,  Iter    37:    Energy =   0.1629
Level     0,  Iter    38:    Energy =   0.1614
Level     0,  Iter    39:    Energy =   0.1630
Level     0,  Iter    40:    Energy =   0.1623
Level     0,  Iter    41:    Energy =   0.1630
Level     0,  Iter    42:    Energy =   0.1617
Level     0,  Iter    43:    Energy =   0.1628
Level     0,  Iter    44:    Energy =   0.1614
Level     0,  Iter    45:    Energy =   0.1629
Level     0,  Iter    46:    Energy =   0.1620
Level     0,  Iter    47:    Energy =   0.1629
Level     0,  Iter    48:    Energy =   0.1616
Level     0,  Iter    49:    Energy =   0.1627
Level     0,  Iter    50:    Energy =   0.1617
Level     0,  Iter    51:    Energy =   0.1628
Level     0,  Iter    52:    Energy =   0.1617
Level     0,  Iter    53:    Energy =   0.1628
Level     0,  Iter    54:    Energy =   0.1616
Level     0,  Iter    55:    Energy =   0.1627
Level     0,  Iter    56:    Energy =   0.1616
Level     0,  Iter    57:    Energy =   0.1628
Level     0,  Iter    58:    Energy =   0.1619
Level     0,  Iter    59:    Energy =   0.1628
END OF LEVEL     0    DetJac Range:   0.3350  to   1.8292 
  Avg. Gradient Time  : 0.0056s  35.49% 
  Avg. Gaussian Time  : 0.0071s  45.07% 
  Avg. Iteration Time : 0.0157s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1134
Level     1,  Iter     1:    Energy =   0.1190
Level     1,  Iter     2:    Energy =   0.1236
Level     1,  Iter     3:    Energy =   0.1287
Level     1,  Iter     4:    Energy =   0.1323
Level     1,  Iter     5:    Energy =   0.1354
Level     1,  Iter     6:    Energy =   0.1379
Level     1,  Iter     7:    Energy =   0.1409
Level     1,  Iter     8:    Energy =   0.1430
Level     1,  Iter     9:    Energy =   0.1429
Level     1,  Iter    10:    Energy =   0.1434
Level     1,  Iter    11:    Energy =   0.1433
Level     1,  Iter    12:    Energy =   0.1440
Level     1,  Iter    13:    Energy =   0.1439
Level     1,  Iter    14:    Energy =   0.1441
Level     1,  Iter    15:    Energy =   0.1440
Level     1,  Iter    16:    Energy =   0.1445
Level     1,  Iter    17:    Energy =   0.1444
Level     1,  Iter    18:    Energy =   0.1446
Level     1,  Iter    19:    Energy =   0.1445
Level     1,  Iter    20:    Energy =   0.1450
Level     1,  Iter    21:    Energy =   0.1448
Level     1,  Iter    22:    Energy =   0.1450
Level     1,  Iter    23:    Energy =   0.1449
Level     1,  Iter    24:    Energy =   0.1453
Level     1,  Iter    25:    Energy =   0.1451
Level     1,  Iter    26:    Energy =   0.1453
Level     1,  Iter    27:    Energy =   0.1451
Level     1,  Iter    28:    Energy =   0.1455
Level     1,  Iter    29:    Energy =   0.1454
Level     1,  Iter    30:    Energy =   0.1455
Level     1,  Iter    31:    Energy =   0.1454
Level     1,  Iter    32:    Energy =   0.1458
Level     1,  Iter    33:    Energy =   0.1456
Level     1,  Iter    34:    Energy =   0.1457
Level     1,  Iter    35:    Energy =   0.1455
Level     1,  Iter    36:    Energy =   0.1459
Level     1,  Iter    37:    Energy =   0.1457
Level     1,  Iter    38:    Energy =   0.1459
Level     1,  Iter    39:    Energy =   0.1457
Level     1,  Iter    40:    Energy =   0.1461
Level     1,  Iter    41:    Energy =   0.1458
Level     1,  Iter    42:    Energy =   0.1460
Level     1,  Iter    43:    Energy =   0.1458
Level     1,  Iter    44:    Energy =   0.1462
Level     1,  Iter    45:    Energy =   0.1460
Level     1,  Iter    46:    Energy =   0.1461
Level     1,  Iter    47:    Energy =   0.1459
Level     1,  Iter    48:    Energy =   0.1463
Level     1,  Iter    49:    Energy =   0.1461
Level     1,  Iter    50:    Energy =   0.1462
Level     1,  Iter    51:    Energy =   0.1459
Level     1,  Iter    52:    Energy =   0.1463
Level     1,  Iter    53:    Energy =   0.1461
Level     1,  Iter    54:    Energy =   0.1462
Level     1,  Iter    55:    Energy =   0.1460
Level     1,  Iter    56:    Energy =   0.1464
Level     1,  Iter    57:    Energy =   0.1462
Level     1,  Iter    58:    Energy =   0.1463
Level     1,  Iter    59:    Energy =   0.1460
END OF LEVEL     1    DetJac Range:   0.1471  to   3.1658 
  Avg. Gradient Time  : 0.0243s  35.36% 
  Avg. Gaussian Time  : 0.0323s  46.98% 
  Avg. Iteration Time : 0.0688s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0802
Level     2,  Iter     1:    Energy =   0.0838
Level     2,  Iter     2:    Energy =   0.0877
Level     2,  Iter     3:    Energy =   0.0910
Level     2,  Iter     4:    Energy =   0.0924
Level     2,  Iter     5:    Energy =   0.0933
Level     2,  Iter     6:    Energy =   0.0944
Level     2,  Iter     7:    Energy =   0.0951
Level     2,  Iter     8:    Energy =   0.0959
Level     2,  Iter     9:    Energy =   0.0963
Level     2,  Iter    10:    Energy =   0.0969
Level     2,  Iter    11:    Energy =   0.0972
Level     2,  Iter    12:    Energy =   0.0978
Level     2,  Iter    13:    Energy =   0.0979
Level     2,  Iter    14:    Energy =   0.0985
Level     2,  Iter    15:    Energy =   0.0985
Level     2,  Iter    16:    Energy =   0.0990
Level     2,  Iter    17:    Energy =   0.0990
Level     2,  Iter    18:    Energy =   0.0994
Level     2,  Iter    19:    Energy =   0.0993
END OF LEVEL     2    DetJac Range:   0.1014  to   3.7269 
  Avg. Gradient Time  : 0.1193s  36.52% 
  Avg. Gaussian Time  : 0.1584s  48.46% 
  Avg. Iteration Time : 0.3268s 

real	0m13.897s
user	0m19.206s
sys	0m2.563s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.35 0.354286
+ echo 'CHUNK 0.35 0.354286 1'
CHUNK 0.35 0.354286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.35 0.354286 1
====================================
         PROGRESS: 0.35               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 001
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 001 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=001
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.603
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4303.95   GNORM= 570.076
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -4454.705     494.997       0.002
   2    3     -4517.887     257.290       1.000
   3    4     -4531.544      94.127       1.000
   4    5     -4536.268      92.215       1.000
   5    6     -4576.801     160.124       1.000
   6    7     -4620.202     158.903       1.000
   7    9     -4624.116     129.039       0.163
   8   10     -4630.092      61.588       1.000
   9   11     -4631.677      35.604       1.000
  10   12     -4632.304      32.269       1.000
  11   13     -4633.309      81.415       1.000
  12   14     -4634.850      16.606       1.000
  13   15     -4635.043      13.758       1.000
  14   17     -4635.182      14.009       0.334
  15   18     -4635.262      11.487       1.000
  16   19     -4635.365      19.803       1.000
  17   20     -4635.478      13.315       1.000
  18   21     -4635.649      12.635       1.000
  19   22     -4635.855      12.319       1.000
  20   23     -4636.004       9.773       1.000
  21   25     -4636.034      12.539       0.201
  22   26     -4636.091       7.623       1.000
  23   27     -4636.129       7.030       1.000
  24   28     -4636.252      13.799       1.000
  25   29     -4636.292      14.546       1.000
  26   30     -4636.346       6.018       1.000
  27   31     -4636.353      15.248       1.000
  28   32     -4636.386       8.552       1.000
  29   34     -4636.398       6.628       0.329
  30   35     -4636.409       6.497       1.000
  31   36     -4636.427       4.485       1.000
  32   37     -4636.470       7.235       1.000
  33   39     -4636.479       3.802       0.312
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.970045 -0.00259155 -0.00826827 0.333899 
-0.010874 1.00167 0.0126452 0.500494 
-0.00868884 0.011665 1.04478 1.20578 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3258.95   GNORM= 128.924
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3267.052      32.362       0.001
   2    4     -3268.059      29.392       1.000
   3    5     -3271.142      45.982       1.000
   4    6     -3274.038      59.042       1.000
   5    8     -3275.147      35.449       0.480
   6    9     -3275.848      15.904       1.000
   7   10     -3276.156      14.882       1.000
   8   11     -3276.453      15.653       1.000
   9   12     -3277.927      41.229       1.000
  10   13     -3278.765      17.436       1.000
  11   14     -3279.048       9.484       1.000
  12   15     -3279.119      11.241       1.000
  13   16     -3279.157       5.143       1.000
  14   17     -3279.169       4.227       1.000
  15   18     -3279.224       3.479       1.000
  16   19     -3279.467      11.533       1.000
  17   20     -3279.562      10.386       1.000
  18   21     -3279.644       4.469       1.000
  19   22     -3279.675       5.724       1.000
  20   23     -3279.685       4.769       1.000
  21   24     -3279.703       4.085       1.000
  22   25     -3279.734       4.550       1.000
  23   26     -3279.747       6.706       1.000
  24   27     -3279.761       3.424       1.000
  25   28     -3279.773       3.913       1.000
  26   29     -3279.784       5.424       1.000
  27   30     -3279.799       3.865       1.000
  28   32     -3279.804       1.986       0.369
  29   35     -3279.805       1.687       0.014
  30   36     -3279.808       1.551       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.976546 0.00704907 -0.00580128 0.256888 
-0.0203442 0.999032 0.00509513 0.446823 
-0.00573185 0.00741717 1.03354 1.02397 
0 0 0 1 

Final RAS Transform: 
0.976546 0.00704907 -0.00580128 0.256888 
-0.0203442 0.999032 0.00509513 0.446823 
-0.00573185 0.00741717 1.03354 1.02397 
0 0 0 1 


real	0m4.352s
user	0m5.847s
sys	0m0.641s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.58653
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1418
Level     0,  Iter     1:    Energy =   0.1500
Level     0,  Iter     2:    Energy =   0.1583
Level     0,  Iter     3:    Energy =   0.1636
Level     0,  Iter     4:    Energy =   0.1672
Level     0,  Iter     5:    Energy =   0.1697
Level     0,  Iter     6:    Energy =   0.1714
Level     0,  Iter     7:    Energy =   0.1720
Level     0,  Iter     8:    Energy =   0.1723
Level     0,  Iter     9:    Energy =   0.1727
Level     0,  Iter    10:    Energy =   0.1728
Level     0,  Iter    11:    Energy =   0.1733
Level     0,  Iter    12:    Energy =   0.1732
Level     0,  Iter    13:    Energy =   0.1737
Level     0,  Iter    14:    Energy =   0.1736
Level     0,  Iter    15:    Energy =   0.1740
Level     0,  Iter    16:    Energy =   0.1738
Level     0,  Iter    17:    Energy =   0.1743
Level     0,  Iter    18:    Energy =   0.1742
Level     0,  Iter    19:    Energy =   0.1748
Level     0,  Iter    20:    Energy =   0.1745
Level     0,  Iter    21:    Energy =   0.1752
Level     0,  Iter    22:    Energy =   0.1749
Level     0,  Iter    23:    Energy =   0.1755
Level     0,  Iter    24:    Energy =   0.1751
Level     0,  Iter    25:    Energy =   0.1757
Level     0,  Iter    26:    Energy =   0.1753
Level     0,  Iter    27:    Energy =   0.1759
Level     0,  Iter    28:    Energy =   0.1754
Level     0,  Iter    29:    Energy =   0.1759
Level     0,  Iter    30:    Energy =   0.1755
Level     0,  Iter    31:    Energy =   0.1759
Level     0,  Iter    32:    Energy =   0.1755
Level     0,  Iter    33:    Energy =   0.1758
Level     0,  Iter    34:    Energy =   0.1755
Level     0,  Iter    35:    Energy =   0.1759
Level     0,  Iter    36:    Energy =   0.1755
Level     0,  Iter    37:    Energy =   0.1758
Level     0,  Iter    38:    Energy =   0.1754
Level     0,  Iter    39:    Energy =   0.1758
Level     0,  Iter    40:    Energy =   0.1754
Level     0,  Iter    41:    Energy =   0.1758
Level     0,  Iter    42:    Energy =   0.1754
Level     0,  Iter    43:    Energy =   0.1759
Level     0,  Iter    44:    Energy =   0.1755
Level     0,  Iter    45:    Energy =   0.1759
Level     0,  Iter    46:    Energy =   0.1755
Level     0,  Iter    47:    Energy =   0.1759
Level     0,  Iter    48:    Energy =   0.1755
Level     0,  Iter    49:    Energy =   0.1760
Level     0,  Iter    50:    Energy =   0.1755
Level     0,  Iter    51:    Energy =   0.1760
Level     0,  Iter    52:    Energy =   0.1755
Level     0,  Iter    53:    Energy =   0.1760
Level     0,  Iter    54:    Energy =   0.1755
Level     0,  Iter    55:    Energy =   0.1761
Level     0,  Iter    56:    Energy =   0.1756
Level     0,  Iter    57:    Energy =   0.1761
Level     0,  Iter    58:    Energy =   0.1755
Level     0,  Iter    59:    Energy =   0.1761
END OF LEVEL     0    DetJac Range:   0.4132  to   1.8522 
  Avg. Gradient Time  : 0.0057s  35.19% 
  Avg. Gaussian Time  : 0.0073s  45.48% 
  Avg. Iteration Time : 0.0161s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1222
Level     1,  Iter     1:    Energy =   0.1275
Level     1,  Iter     2:    Energy =   0.1336
Level     1,  Iter     3:    Energy =   0.1379
Level     1,  Iter     4:    Energy =   0.1412
Level     1,  Iter     5:    Energy =   0.1440
Level     1,  Iter     6:    Energy =   0.1461
Level     1,  Iter     7:    Energy =   0.1477
Level     1,  Iter     8:    Energy =   0.1492
Level     1,  Iter     9:    Energy =   0.1501
Level     1,  Iter    10:    Energy =   0.1508
Level     1,  Iter    11:    Energy =   0.1510
Level     1,  Iter    12:    Energy =   0.1514
Level     1,  Iter    13:    Energy =   0.1517
Level     1,  Iter    14:    Energy =   0.1515
Level     1,  Iter    15:    Energy =   0.1524
Level     1,  Iter    16:    Energy =   0.1524
Level     1,  Iter    17:    Energy =   0.1527
Level     1,  Iter    18:    Energy =   0.1524
Level     1,  Iter    19:    Energy =   0.1533
Level     1,  Iter    20:    Energy =   0.1535
Level     1,  Iter    21:    Energy =   0.1535
Level     1,  Iter    22:    Energy =   0.1532
Level     1,  Iter    23:    Energy =   0.1541
Level     1,  Iter    24:    Energy =   0.1542
Level     1,  Iter    25:    Energy =   0.1540
Level     1,  Iter    26:    Energy =   0.1537
Level     1,  Iter    27:    Energy =   0.1545
Level     1,  Iter    28:    Energy =   0.1543
Level     1,  Iter    29:    Energy =   0.1543
Level     1,  Iter    30:    Energy =   0.1539
Level     1,  Iter    31:    Energy =   0.1547
Level     1,  Iter    32:    Energy =   0.1547
Level     1,  Iter    33:    Energy =   0.1545
Level     1,  Iter    34:    Energy =   0.1542
Level     1,  Iter    35:    Energy =   0.1549
Level     1,  Iter    36:    Energy =   0.1547
Level     1,  Iter    37:    Energy =   0.1546
Level     1,  Iter    38:    Energy =   0.1543
Level     1,  Iter    39:    Energy =   0.1550
Level     1,  Iter    40:    Energy =   0.1549
Level     1,  Iter    41:    Energy =   0.1548
Level     1,  Iter    42:    Energy =   0.1544
Level     1,  Iter    43:    Energy =   0.1552
Level     1,  Iter    44:    Energy =   0.1550
Level     1,  Iter    45:    Energy =   0.1549
Level     1,  Iter    46:    Energy =   0.1545
Level     1,  Iter    47:    Energy =   0.1553
Level     1,  Iter    48:    Energy =   0.1552
Level     1,  Iter    49:    Energy =   0.1550
Level     1,  Iter    50:    Energy =   0.1546
Level     1,  Iter    51:    Energy =   0.1555
Level     1,  Iter    52:    Energy =   0.1553
Level     1,  Iter    53:    Energy =   0.1551
Level     1,  Iter    54:    Energy =   0.1547
Level     1,  Iter    55:    Energy =   0.1556
Level     1,  Iter    56:    Energy =   0.1554
Level     1,  Iter    57:    Energy =   0.1552
Level     1,  Iter    58:    Energy =   0.1548
Level     1,  Iter    59:    Energy =   0.1557
END OF LEVEL     1    DetJac Range:   0.1883  to   3.7445 
  Avg. Gradient Time  : 0.0245s  35.06% 
  Avg. Gaussian Time  : 0.0335s  47.80% 
  Avg. Iteration Time : 0.0700s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0830
Level     2,  Iter     1:    Energy =   0.0866
Level     2,  Iter     2:    Energy =   0.0898
Level     2,  Iter     3:    Energy =   0.0925
Level     2,  Iter     4:    Energy =   0.0951
Level     2,  Iter     5:    Energy =   0.0969
Level     2,  Iter     6:    Energy =   0.0985
Level     2,  Iter     7:    Energy =   0.1004
Level     2,  Iter     8:    Energy =   0.1020
Level     2,  Iter     9:    Energy =   0.1036
Level     2,  Iter    10:    Energy =   0.1035
Level     2,  Iter    11:    Energy =   0.1045
Level     2,  Iter    12:    Energy =   0.1042
Level     2,  Iter    13:    Energy =   0.1052
Level     2,  Iter    14:    Energy =   0.1051
Level     2,  Iter    15:    Energy =   0.1055
Level     2,  Iter    16:    Energy =   0.1052
Level     2,  Iter    17:    Energy =   0.1060
Level     2,  Iter    18:    Energy =   0.1058
Level     2,  Iter    19:    Energy =   0.1062
END OF LEVEL     2    DetJac Range:   0.1030  to   3.9642 
  Avg. Gradient Time  : 0.1167s  36.27% 
  Avg. Gaussian Time  : 0.1560s  48.46% 
  Avg. Iteration Time : 0.3218s 

real	0m13.925s
user	0m19.349s
sys	0m2.634s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.354286 0.358571
+ echo 'CHUNK 0.354286 0.358571 1'
CHUNK 0.354286 0.358571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.354286 0.358571 1
====================================
         PROGRESS: 0.354286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 002
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 002 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=002
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.569
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3849.33   GNORM= 759.763
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3993.812     189.820       0.000
   2    4     -4006.858     119.050       1.000
   3    5     -4018.364      87.332       1.000
   4    6     -4030.696     115.565       1.000
   5    7     -4056.350     125.405       1.000
   6    8     -4078.437     170.316       1.000
   7    9     -4079.593     132.990       1.000
   8   10     -4089.299      92.715       1.000
   9   11     -4090.657      57.896       1.000
  10   12     -4091.636      21.907       1.000
  11   13     -4091.934      20.006       1.000
  12   14     -4092.499      22.556       1.000
  13   15     -4093.712      30.818       1.000
  14   17     -4094.066      21.598       0.292
  15   18     -4094.393      14.465       1.000
  16   19     -4094.700      29.006       1.000
  17   20     -4095.049      28.078       1.000
  18   21     -4095.289      12.986       1.000
  19   22     -4095.389      10.960       1.000
  20   23     -4095.701      16.227       1.000
  21   24     -4095.948      37.867       1.000
  22   25     -4096.318      19.600       1.000
  23   26     -4096.505      10.741       1.000
  24   27     -4096.565       8.109       1.000
  25   29     -4096.614       9.288       0.399
  26   30     -4096.636      15.835       1.000
  27   31     -4096.699       5.363       1.000
  28   32     -4096.716       5.386       1.000
  29   33     -4096.720       4.950       1.000
  30   34     -4096.744       4.385       1.000
  31   35     -4096.750       7.752       1.000
  32   36     -4096.763       5.597       1.000
  33   38     -4096.789       5.616       0.377
  34   39     -4096.793       7.127       1.000
  35   40     -4096.805       3.076       1.000
  36   41     -4096.812       1.718       1.000
  37   43     -4096.813       4.858       5.000
  38   45     -4096.818       5.978       0.094
  39   46     -4096.820       3.846       1.000
  40   47     -4096.828       3.857       1.000
Final RAS Transform: 
0.980968 -0.00595891 -0.0120397 0.305984 
0.0398581 1.02813 -0.00653213 -0.0231996 
-0.00891264 -0.011374 1.03118 1.21198 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3192.39   GNORM= 165.786
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3200.930      64.961       0.001
   2    4     -3202.052      33.954       1.000
   3    6     -3204.128      33.163       5.000
   4    7     -3211.908      47.590       1.000
   5    8     -3220.486      39.671       1.000
   6   10     -3221.713      28.535       0.356
   7   11     -3221.836      35.664       1.000
   8   12     -3222.138       9.993       1.000
   9   13     -3222.198       6.729       1.000
  10   14     -3222.379      10.044       1.000
  11   16     -3222.427       9.078       0.507
  12   17     -3222.462       6.735       1.000
  13   18     -3222.499       5.372       1.000
  14   19     -3222.552       5.402       1.000
  15   20     -3222.617       4.826       1.000
  16   22     -3222.623       4.952       0.296
  17   23     -3222.637       4.929       1.000
  18   24     -3222.649       2.149       1.000
  19   26     -3222.652       2.027       0.426
  20   27     -3222.654       2.734       1.000
  21   28     -3222.661       1.997       1.000
  22   29     -3222.668       2.087       1.000
  23   30     -3222.677       4.788       1.000
  24   31     -3222.684       2.856       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.993706 -0.00942294 -0.0209501 0.0930301 
0.039215 1.02013 -0.0169719 -0.0875916 
-0.0223846 -0.00755933 1.03578 1.51351 
0 0 0 1 

Final RAS Transform: 
0.993706 -0.00942294 -0.0209501 0.0930301 
0.039215 1.02013 -0.0169719 -0.0875916 
-0.0223846 -0.00755933 1.03578 1.51351 
0 0 0 1 


real	0m4.238s
user	0m5.518s
sys	0m0.634s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.541686
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1294
Level     0,  Iter     1:    Energy =   0.1378
Level     0,  Iter     2:    Energy =   0.1440
Level     0,  Iter     3:    Energy =   0.1490
Level     0,  Iter     4:    Energy =   0.1517
Level     0,  Iter     5:    Energy =   0.1527
Level     0,  Iter     6:    Energy =   0.1533
Level     0,  Iter     7:    Energy =   0.1544
Level     0,  Iter     8:    Energy =   0.1545
Level     0,  Iter     9:    Energy =   0.1557
Level     0,  Iter    10:    Energy =   0.1553
Level     0,  Iter    11:    Energy =   0.1564
Level     0,  Iter    12:    Energy =   0.1560
Level     0,  Iter    13:    Energy =   0.1570
Level     0,  Iter    14:    Energy =   0.1565
Level     0,  Iter    15:    Energy =   0.1574
Level     0,  Iter    16:    Energy =   0.1568
Level     0,  Iter    17:    Energy =   0.1576
Level     0,  Iter    18:    Energy =   0.1570
Level     0,  Iter    19:    Energy =   0.1578
Level     0,  Iter    20:    Energy =   0.1573
Level     0,  Iter    21:    Energy =   0.1579
Level     0,  Iter    22:    Energy =   0.1573
Level     0,  Iter    23:    Energy =   0.1581
Level     0,  Iter    24:    Energy =   0.1574
Level     0,  Iter    25:    Energy =   0.1581
Level     0,  Iter    26:    Energy =   0.1573
Level     0,  Iter    27:    Energy =   0.1580
Level     0,  Iter    28:    Energy =   0.1573
Level     0,  Iter    29:    Energy =   0.1580
Level     0,  Iter    30:    Energy =   0.1573
Level     0,  Iter    31:    Energy =   0.1580
Level     0,  Iter    32:    Energy =   0.1574
Level     0,  Iter    33:    Energy =   0.1581
Level     0,  Iter    34:    Energy =   0.1574
Level     0,  Iter    35:    Energy =   0.1581
Level     0,  Iter    36:    Energy =   0.1574
Level     0,  Iter    37:    Energy =   0.1581
Level     0,  Iter    38:    Energy =   0.1574
Level     0,  Iter    39:    Energy =   0.1582
Level     0,  Iter    40:    Energy =   0.1575
Level     0,  Iter    41:    Energy =   0.1582
Level     0,  Iter    42:    Energy =   0.1575
Level     0,  Iter    43:    Energy =   0.1582
Level     0,  Iter    44:    Energy =   0.1574
Level     0,  Iter    45:    Energy =   0.1582
Level     0,  Iter    46:    Energy =   0.1575
Level     0,  Iter    47:    Energy =   0.1583
Level     0,  Iter    48:    Energy =   0.1576
Level     0,  Iter    49:    Energy =   0.1583
Level     0,  Iter    50:    Energy =   0.1574
Level     0,  Iter    51:    Energy =   0.1583
Level     0,  Iter    52:    Energy =   0.1576
Level     0,  Iter    53:    Energy =   0.1583
Level     0,  Iter    54:    Energy =   0.1574
Level     0,  Iter    55:    Energy =   0.1582
Level     0,  Iter    56:    Energy =   0.1576
Level     0,  Iter    57:    Energy =   0.1583
Level     0,  Iter    58:    Energy =   0.1574
Level     0,  Iter    59:    Energy =   0.1582
END OF LEVEL     0    DetJac Range:   0.3558  to   1.8378 
  Avg. Gradient Time  : 0.0055s  35.24% 
  Avg. Gaussian Time  : 0.0070s  45.47% 
  Avg. Iteration Time : 0.0155s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1148
Level     1,  Iter     1:    Energy =   0.1206
Level     1,  Iter     2:    Energy =   0.1254
Level     1,  Iter     3:    Energy =   0.1305
Level     1,  Iter     4:    Energy =   0.1333
Level     1,  Iter     5:    Energy =   0.1353
Level     1,  Iter     6:    Energy =   0.1367
Level     1,  Iter     7:    Energy =   0.1381
Level     1,  Iter     8:    Energy =   0.1389
Level     1,  Iter     9:    Energy =   0.1399
Level     1,  Iter    10:    Energy =   0.1405
Level     1,  Iter    11:    Energy =   0.1412
Level     1,  Iter    12:    Energy =   0.1415
Level     1,  Iter    13:    Energy =   0.1420
Level     1,  Iter    14:    Energy =   0.1422
Level     1,  Iter    15:    Energy =   0.1426
Level     1,  Iter    16:    Energy =   0.1426
Level     1,  Iter    17:    Energy =   0.1429
Level     1,  Iter    18:    Energy =   0.1429
Level     1,  Iter    19:    Energy =   0.1433
Level     1,  Iter    20:    Energy =   0.1432
Level     1,  Iter    21:    Energy =   0.1436
Level     1,  Iter    22:    Energy =   0.1435
Level     1,  Iter    23:    Energy =   0.1439
Level     1,  Iter    24:    Energy =   0.1437
Level     1,  Iter    25:    Energy =   0.1441
Level     1,  Iter    26:    Energy =   0.1439
Level     1,  Iter    27:    Energy =   0.1442
Level     1,  Iter    28:    Energy =   0.1441
Level     1,  Iter    29:    Energy =   0.1445
Level     1,  Iter    30:    Energy =   0.1443
Level     1,  Iter    31:    Energy =   0.1446
Level     1,  Iter    32:    Energy =   0.1444
Level     1,  Iter    33:    Energy =   0.1447
Level     1,  Iter    34:    Energy =   0.1445
Level     1,  Iter    35:    Energy =   0.1448
Level     1,  Iter    36:    Energy =   0.1446
Level     1,  Iter    37:    Energy =   0.1449
Level     1,  Iter    38:    Energy =   0.1447
Level     1,  Iter    39:    Energy =   0.1450
Level     1,  Iter    40:    Energy =   0.1448
Level     1,  Iter    41:    Energy =   0.1451
Level     1,  Iter    42:    Energy =   0.1449
Level     1,  Iter    43:    Energy =   0.1452
Level     1,  Iter    44:    Energy =   0.1449
Level     1,  Iter    45:    Energy =   0.1452
Level     1,  Iter    46:    Energy =   0.1450
Level     1,  Iter    47:    Energy =   0.1453
Level     1,  Iter    48:    Energy =   0.1450
Level     1,  Iter    49:    Energy =   0.1453
Level     1,  Iter    50:    Energy =   0.1450
Level     1,  Iter    51:    Energy =   0.1453
Level     1,  Iter    52:    Energy =   0.1451
Level     1,  Iter    53:    Energy =   0.1454
Level     1,  Iter    54:    Energy =   0.1451
Level     1,  Iter    55:    Energy =   0.1454
Level     1,  Iter    56:    Energy =   0.1451
Level     1,  Iter    57:    Energy =   0.1454
Level     1,  Iter    58:    Energy =   0.1452
Level     1,  Iter    59:    Energy =   0.1455
END OF LEVEL     1    DetJac Range:   0.2502  to   2.3390 
  Avg. Gradient Time  : 0.0250s  36.12% 
  Avg. Gaussian Time  : 0.0321s  46.33% 
  Avg. Iteration Time : 0.0693s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0807
Level     2,  Iter     1:    Energy =   0.0839
Level     2,  Iter     2:    Energy =   0.0865
Level     2,  Iter     3:    Energy =   0.0887
Level     2,  Iter     4:    Energy =   0.0910
Level     2,  Iter     5:    Energy =   0.0934
Level     2,  Iter     6:    Energy =   0.0956
Level     2,  Iter     7:    Energy =   0.0974
Level     2,  Iter     8:    Energy =   0.0977
Level     2,  Iter     9:    Energy =   0.0983
Level     2,  Iter    10:    Energy =   0.0985
Level     2,  Iter    11:    Energy =   0.0990
Level     2,  Iter    12:    Energy =   0.0992
Level     2,  Iter    13:    Energy =   0.0997
Level     2,  Iter    14:    Energy =   0.0998
Level     2,  Iter    15:    Energy =   0.1002
Level     2,  Iter    16:    Energy =   0.1003
Level     2,  Iter    17:    Energy =   0.1006
Level     2,  Iter    18:    Energy =   0.1007
Level     2,  Iter    19:    Energy =   0.1009
END OF LEVEL     2    DetJac Range:   0.1781  to   2.8411 
  Avg. Gradient Time  : 0.1160s  36.10% 
  Avg. Gaussian Time  : 0.1557s  48.44% 
  Avg. Iteration Time : 0.3214s 

real	0m13.775s
user	0m19.202s
sys	0m2.569s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.358571 0.362857
+ echo 'CHUNK 0.358571 0.362857 1'
CHUNK 0.358571 0.362857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.358571 0.362857 1
====================================
         PROGRESS: 0.358571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 003
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 003 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=003
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.673
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4394.31   GNORM= 625.126
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4510.716     231.281       0.001
   2    4     -4530.866     111.397       1.000
   3    5     -4538.568      99.970       1.000
   4    6     -4546.757     116.281       1.000
   5    7     -4580.387     127.673       1.000
   6    9     -4590.747     202.308       0.404
   7   10     -4606.450     111.186       1.000
   8   11     -4608.441      86.763       1.000
   9   12     -4611.373      39.906       1.000
  10   13     -4612.521      45.040       1.000
  11   14     -4613.478      41.461       1.000
  12   16     -4615.582      34.766       0.337
  13   17     -4616.398      21.907       1.000
  14   18     -4616.665      28.479       1.000
  15   19     -4616.900      14.780       1.000
  16   20     -4617.003      11.732       1.000
  17   21     -4617.158      15.267       1.000
  18   22     -4617.493      26.378       1.000
  19   24     -4617.745      25.764       0.522
  20   26     -4617.904      12.741       0.441
  21   27     -4617.983       7.153       1.000
  22   30     -4618.131       9.820       2.853
  23   32     -4618.144       7.003       0.280
  24   33     -4618.200      13.453       1.000
  25   34     -4618.230       6.141       1.000
  26   35     -4618.238       2.395       1.000
  27   36     -4618.240       1.970       1.000
  28   37     -4618.249       1.717       1.000
  29   38     -4618.262       4.837       1.000
  30   39     -4618.266       3.771       1.000
  31   40     -4618.278       4.188       1.000
  32   42     -4618.299       6.240       0.019
  33   44     -4618.312       5.945       0.021
  34   46     -4618.323       8.374       0.079
  35   47     -4618.332       6.752       1.000
  36   48     -4618.345       5.264       1.000
  37   49     -4618.356       5.141       1.000
  38   50     -4618.365       6.213       1.000
  39   51     -4618.391       6.198       1.000
  40   52     -4618.394       6.682       1.000
  41   53     -4618.406       9.157       1.000
  42   54     -4618.414      10.567       1.000
  43   55     -4618.442       4.623       1.000
Final RAS Transform: 
0.976146 -0.012568 -0.0348242 0.190015 
-0.0318585 1.02424 -0.00521571 0.62909 
0.0148673 0.00603627 1.03009 0.591495 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3409.06   GNORM= 172.1
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3417.867      67.465       0.000
   2    4     -3420.118      48.305       1.000
   3    5     -3421.860      48.442       1.000
   4    6     -3423.413      43.468       1.000
   5    7     -3432.706      61.435       1.000
   6    8     -3437.885      45.122       1.000
   7   10     -3439.034      41.824       0.446
   8   11     -3439.898      38.892       1.000
   9   12     -3441.136      25.362       1.000
  10   13     -3442.920      27.518       1.000
  11   15     -3443.666      16.505       0.298
  12   16     -3444.161      12.892       1.000
  13   17     -3444.797      12.498       1.000
  14   18     -3445.790      17.488       1.000
  15   20     -3445.924       8.306       0.221
  16   21     -3445.964       7.208       1.000
  17   22     -3446.002      14.374       1.000
  18   23     -3446.058       9.612       1.000
  19   24     -3446.241       6.920       1.000
  20   25     -3446.379       6.003       1.000
  21   27     -3446.383       6.852       0.116
  22   28     -3446.421       4.748       1.000
  23   29     -3446.444       7.409       1.000
  24   30     -3446.457      11.139       1.000
  25   31     -3446.485       4.549       1.000
  26   32     -3446.498       2.926       1.000
  27   33     -3446.511       6.118       1.000
  28   34     -3446.530      10.014       1.000
  29   35     -3446.570       9.299       1.000
  30   36     -3446.602       7.579       1.000
  31   37     -3446.637       3.824       1.000
  32   38     -3446.649       3.385       1.000
  33   39     -3446.651       3.880       1.000
  34   40     -3446.656       2.080       1.000
  35   41     -3446.662       1.627       1.000
  36   42     -3446.670       3.204       1.000
Final RAS Transform: 
0.989376 -0.0118763 -0.036471 -0.00988114 
-0.0285421 1.01898 -0.0198806 0.355354 
-0.00644351 0.00507749 1.0387 1.09049 
0 0 0 1 

Final RAS Transform: 
0.989376 -0.0118763 -0.036471 -0.00988114 
-0.0285421 1.01898 -0.0198806 0.355354 
-0.00644351 0.00507749 1.0387 1.09049 
0 0 0 1 


real	0m4.682s
user	0m6.150s
sys	0m0.843s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.650502
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1438
Level     0,  Iter     1:    Energy =   0.1512
Level     0,  Iter     2:    Energy =   0.1589
Level     0,  Iter     3:    Energy =   0.1630
Level     0,  Iter     4:    Energy =   0.1655
Level     0,  Iter     5:    Energy =   0.1667
Level     0,  Iter     6:    Energy =   0.1676
Level     0,  Iter     7:    Energy =   0.1685
Level     0,  Iter     8:    Energy =   0.1686
Level     0,  Iter     9:    Energy =   0.1695
Level     0,  Iter    10:    Energy =   0.1695
Level     0,  Iter    11:    Energy =   0.1699
Level     0,  Iter    12:    Energy =   0.1701
Level     0,  Iter    13:    Energy =   0.1700
Level     0,  Iter    14:    Energy =   0.1705
Level     0,  Iter    15:    Energy =   0.1702
Level     0,  Iter    16:    Energy =   0.1708
Level     0,  Iter    17:    Energy =   0.1703
Level     0,  Iter    18:    Energy =   0.1711
Level     0,  Iter    19:    Energy =   0.1705
Level     0,  Iter    20:    Energy =   0.1713
Level     0,  Iter    21:    Energy =   0.1707
Level     0,  Iter    22:    Energy =   0.1714
Level     0,  Iter    23:    Energy =   0.1708
Level     0,  Iter    24:    Energy =   0.1715
Level     0,  Iter    25:    Energy =   0.1708
Level     0,  Iter    26:    Energy =   0.1716
Level     0,  Iter    27:    Energy =   0.1709
Level     0,  Iter    28:    Energy =   0.1717
Level     0,  Iter    29:    Energy =   0.1710
Level     0,  Iter    30:    Energy =   0.1718
Level     0,  Iter    31:    Energy =   0.1710
Level     0,  Iter    32:    Energy =   0.1718
Level     0,  Iter    33:    Energy =   0.1711
Level     0,  Iter    34:    Energy =   0.1717
Level     0,  Iter    35:    Energy =   0.1711
Level     0,  Iter    36:    Energy =   0.1717
Level     0,  Iter    37:    Energy =   0.1711
Level     0,  Iter    38:    Energy =   0.1717
Level     0,  Iter    39:    Energy =   0.1711
Level     0,  Iter    40:    Energy =   0.1717
Level     0,  Iter    41:    Energy =   0.1712
Level     0,  Iter    42:    Energy =   0.1718
Level     0,  Iter    43:    Energy =   0.1712
Level     0,  Iter    44:    Energy =   0.1718
Level     0,  Iter    45:    Energy =   0.1711
Level     0,  Iter    46:    Energy =   0.1719
Level     0,  Iter    47:    Energy =   0.1712
Level     0,  Iter    48:    Energy =   0.1719
Level     0,  Iter    49:    Energy =   0.1711
Level     0,  Iter    50:    Energy =   0.1720
Level     0,  Iter    51:    Energy =   0.1712
Level     0,  Iter    52:    Energy =   0.1719
Level     0,  Iter    53:    Energy =   0.1712
Level     0,  Iter    54:    Energy =   0.1720
Level     0,  Iter    55:    Energy =   0.1712
Level     0,  Iter    56:    Energy =   0.1720
Level     0,  Iter    57:    Energy =   0.1713
Level     0,  Iter    58:    Energy =   0.1721
Level     0,  Iter    59:    Energy =   0.1713
END OF LEVEL     0    DetJac Range:   0.5084  to   1.9030 
  Avg. Gradient Time  : 0.0055s  35.98% 
  Avg. Gaussian Time  : 0.0068s  44.80% 
  Avg. Iteration Time : 0.0152s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1243
Level     1,  Iter     1:    Energy =   0.1303
Level     1,  Iter     2:    Energy =   0.1356
Level     1,  Iter     3:    Energy =   0.1400
Level     1,  Iter     4:    Energy =   0.1425
Level     1,  Iter     5:    Energy =   0.1447
Level     1,  Iter     6:    Energy =   0.1469
Level     1,  Iter     7:    Energy =   0.1488
Level     1,  Iter     8:    Energy =   0.1506
Level     1,  Iter     9:    Energy =   0.1518
Level     1,  Iter    10:    Energy =   0.1518
Level     1,  Iter    11:    Energy =   0.1528
Level     1,  Iter    12:    Energy =   0.1529
Level     1,  Iter    13:    Energy =   0.1531
Level     1,  Iter    14:    Energy =   0.1532
Level     1,  Iter    15:    Energy =   0.1533
Level     1,  Iter    16:    Energy =   0.1534
Level     1,  Iter    17:    Energy =   0.1536
Level     1,  Iter    18:    Energy =   0.1537
Level     1,  Iter    19:    Energy =   0.1540
Level     1,  Iter    20:    Energy =   0.1540
Level     1,  Iter    21:    Energy =   0.1541
Level     1,  Iter    22:    Energy =   0.1541
Level     1,  Iter    23:    Energy =   0.1543
Level     1,  Iter    24:    Energy =   0.1543
Level     1,  Iter    25:    Energy =   0.1545
Level     1,  Iter    26:    Energy =   0.1545
Level     1,  Iter    27:    Energy =   0.1546
Level     1,  Iter    28:    Energy =   0.1546
Level     1,  Iter    29:    Energy =   0.1547
Level     1,  Iter    30:    Energy =   0.1547
Level     1,  Iter    31:    Energy =   0.1549
Level     1,  Iter    32:    Energy =   0.1548
Level     1,  Iter    33:    Energy =   0.1550
Level     1,  Iter    34:    Energy =   0.1550
Level     1,  Iter    35:    Energy =   0.1551
Level     1,  Iter    36:    Energy =   0.1551
Level     1,  Iter    37:    Energy =   0.1552
Level     1,  Iter    38:    Energy =   0.1552
Level     1,  Iter    39:    Energy =   0.1554
Level     1,  Iter    40:    Energy =   0.1553
Level     1,  Iter    41:    Energy =   0.1555
Level     1,  Iter    42:    Energy =   0.1554
Level     1,  Iter    43:    Energy =   0.1555
Level     1,  Iter    44:    Energy =   0.1554
Level     1,  Iter    45:    Energy =   0.1556
Level     1,  Iter    46:    Energy =   0.1555
Level     1,  Iter    47:    Energy =   0.1556
Level     1,  Iter    48:    Energy =   0.1555
Level     1,  Iter    49:    Energy =   0.1556
Level     1,  Iter    50:    Energy =   0.1555
Level     1,  Iter    51:    Energy =   0.1557
Level     1,  Iter    52:    Energy =   0.1556
Level     1,  Iter    53:    Energy =   0.1557
Level     1,  Iter    54:    Energy =   0.1556
Level     1,  Iter    55:    Energy =   0.1557
Level     1,  Iter    56:    Energy =   0.1557
Level     1,  Iter    57:    Energy =   0.1558
Level     1,  Iter    58:    Energy =   0.1557
Level     1,  Iter    59:    Energy =   0.1558
END OF LEVEL     1    DetJac Range:   0.1670  to   2.7637 
  Avg. Gradient Time  : 0.0251s  36.24% 
  Avg. Gaussian Time  : 0.0320s  46.18% 
  Avg. Iteration Time : 0.0693s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0859
Level     2,  Iter     1:    Energy =   0.0893
Level     2,  Iter     2:    Energy =   0.0924
Level     2,  Iter     3:    Energy =   0.0953
Level     2,  Iter     4:    Energy =   0.0980
Level     2,  Iter     5:    Energy =   0.1005
Level     2,  Iter     6:    Energy =   0.1012
Level     2,  Iter     7:    Energy =   0.1027
Level     2,  Iter     8:    Energy =   0.1031
Level     2,  Iter     9:    Energy =   0.1042
Level     2,  Iter    10:    Energy =   0.1044
Level     2,  Iter    11:    Energy =   0.1052
Level     2,  Iter    12:    Energy =   0.1053
Level     2,  Iter    13:    Energy =   0.1060
Level     2,  Iter    14:    Energy =   0.1061
Level     2,  Iter    15:    Energy =   0.1066
Level     2,  Iter    16:    Energy =   0.1067
Level     2,  Iter    17:    Energy =   0.1071
Level     2,  Iter    18:    Energy =   0.1072
Level     2,  Iter    19:    Energy =   0.1075
END OF LEVEL     2    DetJac Range:   0.0878  to   3.3241 
  Avg. Gradient Time  : 0.1178s  36.06% 
  Avg. Gaussian Time  : 0.1565s  47.90% 
  Avg. Iteration Time : 0.3267s 

real	0m13.944s
user	0m19.089s
sys	0m2.609s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.362857 0.367143
+ echo 'CHUNK 0.362857 0.367143 1'
CHUNK 0.362857 0.367143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.362857 0.367143 1
====================================
         PROGRESS: 0.362857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ grep Version
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 004
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 004 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=004
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.532
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3915.38   GNORM= 920.033
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4112.134     176.126       0.000
   2    5     -4173.723     208.230       5.000
   3    6     -4311.757     379.538       1.000
   4    7     -4397.137     252.853       1.000
   5    8     -4418.276      76.745       1.000
   6    9     -4422.729      65.515       1.000
   7   10     -4424.791     161.529       1.000
   8   11     -4438.015      97.993       1.000
   9   12     -4441.557      57.085       1.000
  10   13     -4443.215      31.552       1.000
  11   14     -4444.214      33.970       1.000
  12   15     -4445.129      35.779       1.000
  13   16     -4445.766     114.112       1.000
  14   17     -4449.849      48.237       1.000
  15   18     -4452.787      47.278       1.000
  16   19     -4454.343      66.687       1.000
  17   21     -4455.204      55.365       0.275
  18   22     -4456.438      27.718       1.000
  19   23     -4456.805      41.467       1.000
  20   24     -4457.242      24.129       1.000
  21   25     -4457.455      28.295       1.000
  22   26     -4457.731      19.066       1.000
  23   27     -4458.011      16.129       1.000
  24   28     -4458.168      21.267       1.000
  25   29     -4458.801      26.194       1.000
  26   31     -4459.583      22.059       0.213
  27   32     -4459.843      13.708       1.000
  28   33     -4459.937       9.258       1.000
  29   34     -4459.950       4.050       1.000
  30   36     -4459.964       6.422       0.375
  31   37     -4459.989       4.098       1.000
  32   38     -4460.009       2.444       1.000
  33   39     -4460.031       4.810       1.000
  34   41     -4460.037       4.735       0.168
  35   42     -4460.041       2.155       1.000
  36   43     -4460.045       4.255       1.000
  37   44     -4460.047       2.508       1.000
Final RAS Transform: 
0.981215 -0.00704424 0.00387398 0.37077 
0.0487992 1.06455 -0.00506943 -1.48981 
-0.0453071 -0.03009 1.06104 2.06691 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3246.95   GNORM= 140.608
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3254.927      73.982       0.001
   2    4     -3258.054      51.048       1.000
   3    5     -3262.135      67.092       1.000
   4    6     -3273.040      86.601       1.000
   5    7     -3288.771      89.592       1.000
   6    8     -3296.280      77.452       1.000
   7    9     -3302.306      58.385       1.000
   8   10     -3305.246      47.347       1.000
   9   11     -3308.125      39.696       1.000
  10   12     -3308.732      14.478       1.000
  11   13     -3308.856      14.052       1.000
  12   14     -3309.079      17.309       1.000
  13   15     -3309.886      20.682       1.000
  14   16     -3310.344      35.750       1.000
  15   17     -3311.060      13.874       1.000
  16   18     -3311.355       9.539       1.000
  17   19     -3311.624      17.274       1.000
  18   20     -3311.828      13.038       1.000
  19   21     -3311.989       7.129       1.000
  20   22     -3312.037      11.105       1.000
  21   23     -3312.143      11.274       1.000
  22   24     -3312.276       9.188       1.000
  23   25     -3312.512       5.141       1.000
  24   27     -3312.635      19.651       0.448
  25   28     -3312.764       5.023       1.000
  26   29     -3312.817       8.382       1.000
  27   30     -3312.934       7.819       1.000
  28   32     -3313.160      20.526       0.319
  29   33     -3313.385       7.596       1.000
  30   34     -3313.449       3.482       1.000
  31   35     -3313.520       5.781       1.000
  32   36     -3313.555       6.062       1.000
  33   37     -3313.585       7.152       1.000
  34   38     -3313.631       5.171       1.000
  35   39     -3313.703       7.237       1.000
  36   40     -3313.776       4.946       1.000
  37   41     -3313.793      11.825       1.000
  38   42     -3313.842       5.296       1.000
  39   43     -3313.853       8.950       1.000
  40   44     -3313.876       4.148       1.000
  41   45     -3313.891       3.727       1.000
  42   47     -3313.964      12.562       5.000
  43   48     -3314.017      17.783       1.000
  44   49     -3314.076      10.941       1.000
  45   50     -3314.130       4.836       1.000
  46   51     -3314.141       5.775       1.000
  47   52     -3314.162       4.716       1.000
  48   54     -3314.165       2.161       0.270
  49   55     -3314.180       3.399       1.000
  50   56     -3314.203       6.217       1.000
  51   57     -3314.215       3.244       1.000
  52   58     -3314.242       1.909       1.000
Final RAS Transform: 
0.987026 -0.0149633 -0.0326167 -0.16284 
0.0387797 1.03848 -0.016749 -1.11139 
-0.0284475 -0.0095801 1.06857 1.5662 
0 0 0 1 

Final RAS Transform: 
0.987026 -0.0149633 -0.0326167 -0.16284 
0.0387797 1.03848 -0.016749 -1.11139 
-0.0284475 -0.0095801 1.06857 1.5662 
0 0 0 1 


real	0m4.568s
user	0m6.105s
sys	0m0.742s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.507416
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1361
Level     0,  Iter     1:    Energy =   0.1449
Level     0,  Iter     2:    Energy =   0.1520
Level     0,  Iter     3:    Energy =   0.1562
Level     0,  Iter     4:    Energy =   0.1590
Level     0,  Iter     5:    Energy =   0.1605
Level     0,  Iter     6:    Energy =   0.1614
Level     0,  Iter     7:    Energy =   0.1621
Level     0,  Iter     8:    Energy =   0.1630
Level     0,  Iter     9:    Energy =   0.1631
Level     0,  Iter    10:    Energy =   0.1642
Level     0,  Iter    11:    Energy =   0.1641
Level     0,  Iter    12:    Energy =   0.1651
Level     0,  Iter    13:    Energy =   0.1648
Level     0,  Iter    14:    Energy =   0.1657
Level     0,  Iter    15:    Energy =   0.1649
Level     0,  Iter    16:    Energy =   0.1661
Level     0,  Iter    17:    Energy =   0.1658
Level     0,  Iter    18:    Energy =   0.1664
Level     0,  Iter    19:    Energy =   0.1656
Level     0,  Iter    20:    Energy =   0.1665
Level     0,  Iter    21:    Energy =   0.1658
Level     0,  Iter    22:    Energy =   0.1666
Level     0,  Iter    23:    Energy =   0.1659
Level     0,  Iter    24:    Energy =   0.1668
Level     0,  Iter    25:    Energy =   0.1660
Level     0,  Iter    26:    Energy =   0.1669
Level     0,  Iter    27:    Energy =   0.1659
Level     0,  Iter    28:    Energy =   0.1669
Level     0,  Iter    29:    Energy =   0.1663
Level     0,  Iter    30:    Energy =   0.1670
Level     0,  Iter    31:    Energy =   0.1659
Level     0,  Iter    32:    Energy =   0.1670
Level     0,  Iter    33:    Energy =   0.1665
Level     0,  Iter    34:    Energy =   0.1671
Level     0,  Iter    35:    Energy =   0.1661
Level     0,  Iter    36:    Energy =   0.1670
Level     0,  Iter    37:    Energy =   0.1664
Level     0,  Iter    38:    Energy =   0.1672
Level     0,  Iter    39:    Energy =   0.1662
Level     0,  Iter    40:    Energy =   0.1671
Level     0,  Iter    41:    Energy =   0.1663
Level     0,  Iter    42:    Energy =   0.1672
Level     0,  Iter    43:    Energy =   0.1661
Level     0,  Iter    44:    Energy =   0.1671
Level     0,  Iter    45:    Energy =   0.1664
Level     0,  Iter    46:    Energy =   0.1671
Level     0,  Iter    47:    Energy =   0.1660
Level     0,  Iter    48:    Energy =   0.1671
Level     0,  Iter    49:    Energy =   0.1664
Level     0,  Iter    50:    Energy =   0.1672
Level     0,  Iter    51:    Energy =   0.1661
Level     0,  Iter    52:    Energy =   0.1672
Level     0,  Iter    53:    Energy =   0.1667
Level     0,  Iter    54:    Energy =   0.1672
Level     0,  Iter    55:    Energy =   0.1663
Level     0,  Iter    56:    Energy =   0.1671
Level     0,  Iter    57:    Energy =   0.1664
Level     0,  Iter    58:    Energy =   0.1671
Level     0,  Iter    59:    Energy =   0.1662
END OF LEVEL     0    DetJac Range:   0.4192  to   1.7601 
  Avg. Gradient Time  : 0.0055s  35.26% 
  Avg. Gaussian Time  : 0.0071s  45.40% 
  Avg. Iteration Time : 0.0157s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1213
Level     1,  Iter     1:    Energy =   0.1283
Level     1,  Iter     2:    Energy =   0.1338
Level     1,  Iter     3:    Energy =   0.1375
Level     1,  Iter     4:    Energy =   0.1405
Level     1,  Iter     5:    Energy =   0.1425
Level     1,  Iter     6:    Energy =   0.1446
Level     1,  Iter     7:    Energy =   0.1461
Level     1,  Iter     8:    Energy =   0.1465
Level     1,  Iter     9:    Energy =   0.1473
Level     1,  Iter    10:    Energy =   0.1476
Level     1,  Iter    11:    Energy =   0.1483
Level     1,  Iter    12:    Energy =   0.1484
Level     1,  Iter    13:    Energy =   0.1492
Level     1,  Iter    14:    Energy =   0.1492
Level     1,  Iter    15:    Energy =   0.1499
Level     1,  Iter    16:    Energy =   0.1498
Level     1,  Iter    17:    Energy =   0.1504
Level     1,  Iter    18:    Energy =   0.1503
Level     1,  Iter    19:    Energy =   0.1509
Level     1,  Iter    20:    Energy =   0.1508
Level     1,  Iter    21:    Energy =   0.1514
Level     1,  Iter    22:    Energy =   0.1512
Level     1,  Iter    23:    Energy =   0.1518
Level     1,  Iter    24:    Energy =   0.1516
Level     1,  Iter    25:    Energy =   0.1522
Level     1,  Iter    26:    Energy =   0.1519
Level     1,  Iter    27:    Energy =   0.1525
Level     1,  Iter    28:    Energy =   0.1522
Level     1,  Iter    29:    Energy =   0.1527
Level     1,  Iter    30:    Energy =   0.1524
Level     1,  Iter    31:    Energy =   0.1530
Level     1,  Iter    32:    Energy =   0.1527
Level     1,  Iter    33:    Energy =   0.1533
Level     1,  Iter    34:    Energy =   0.1529
Level     1,  Iter    35:    Energy =   0.1536
Level     1,  Iter    36:    Energy =   0.1532
Level     1,  Iter    37:    Energy =   0.1537
Level     1,  Iter    38:    Energy =   0.1533
Level     1,  Iter    39:    Energy =   0.1539
Level     1,  Iter    40:    Energy =   0.1535
Level     1,  Iter    41:    Energy =   0.1541
Level     1,  Iter    42:    Energy =   0.1537
Level     1,  Iter    43:    Energy =   0.1542
Level     1,  Iter    44:    Energy =   0.1538
Level     1,  Iter    45:    Energy =   0.1544
Level     1,  Iter    46:    Energy =   0.1540
Level     1,  Iter    47:    Energy =   0.1544
Level     1,  Iter    48:    Energy =   0.1540
Level     1,  Iter    49:    Energy =   0.1545
Level     1,  Iter    50:    Energy =   0.1541
Level     1,  Iter    51:    Energy =   0.1546
Level     1,  Iter    52:    Energy =   0.1542
Level     1,  Iter    53:    Energy =   0.1546
Level     1,  Iter    54:    Energy =   0.1542
Level     1,  Iter    55:    Energy =   0.1546
Level     1,  Iter    56:    Energy =   0.1542
Level     1,  Iter    57:    Energy =   0.1546
Level     1,  Iter    58:    Energy =   0.1542
Level     1,  Iter    59:    Energy =   0.1547
END OF LEVEL     1    DetJac Range:   0.1929  to   2.8129 
  Avg. Gradient Time  : 0.0217s  35.74% 
  Avg. Gaussian Time  : 0.0284s  46.69% 
  Avg. Iteration Time : 0.0608s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0851
Level     2,  Iter     1:    Energy =   0.0884
Level     2,  Iter     2:    Energy =   0.0911
Level     2,  Iter     3:    Energy =   0.0936
Level     2,  Iter     4:    Energy =   0.0960
Level     2,  Iter     5:    Energy =   0.0982
Level     2,  Iter     6:    Energy =   0.0998
Level     2,  Iter     7:    Energy =   0.1017
Level     2,  Iter     8:    Energy =   0.1022
Level     2,  Iter     9:    Energy =   0.1021
Level     2,  Iter    10:    Energy =   0.1024
Level     2,  Iter    11:    Energy =   0.1024
Level     2,  Iter    12:    Energy =   0.1025
Level     2,  Iter    13:    Energy =   0.1026
Level     2,  Iter    14:    Energy =   0.1027
Level     2,  Iter    15:    Energy =   0.1028
Level     2,  Iter    16:    Energy =   0.1028
Level     2,  Iter    17:    Energy =   0.1029
Level     2,  Iter    18:    Energy =   0.1029
Level     2,  Iter    19:    Energy =   0.1031
END OF LEVEL     2    DetJac Range:   0.1750  to   2.8349 
  Avg. Gradient Time  : 0.1175s  36.53% 
  Avg. Gaussian Time  : 0.1554s  48.31% 
  Avg. Iteration Time : 0.3217s 

real	0m13.339s
user	0m18.627s
sys	0m2.432s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.367143 0.371429
+ echo 'CHUNK 0.367143 0.371429 1'
CHUNK 0.367143 0.371429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.367143 0.371429 1
====================================
         PROGRESS: 0.367143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 005
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 005 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=005
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.62
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4060.84   GNORM= 511.329
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -4127.684     563.942       0.002
   2    3     -4227.446     203.874       1.000
   3    4     -4239.466      88.966       1.000
   4    5     -4244.913      84.383       1.000
   5    6     -4287.625     110.261       1.000
   6    8     -4303.313     113.672       0.425
   7    9     -4316.259      52.504       1.000
   8   11     -4317.267      49.439       0.407
   9   12     -4318.083      21.994       1.000
  10   13     -4318.661      24.897       1.000
  11   15     -4319.757      36.111       0.269
  12   17     -4320.127      19.140       0.473
  13   18     -4320.266      17.419       1.000
  14   19     -4320.450      12.618       1.000
  15   20     -4320.771      19.692       1.000
  16   21     -4321.021      18.497       1.000
  17   22     -4321.140      14.205       1.000
  18   23     -4321.224       6.011       1.000
  19   24     -4321.277       5.828       1.000
  20   25     -4321.371       9.762       1.000
  21   27     -4321.403       6.837       0.485
  22   28     -4321.414       3.804       1.000
  23   29     -4321.423       1.589       1.000
  24   30     -4321.424       1.477       1.000
  25   31     -4321.424       4.052       1.000
  26   33     -4321.425       3.396       0.240
  27   34     -4321.433       6.010       1.000
  28   35     -4321.448       3.663       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.976407 0.00823733 0.000209647 0.368177 
-0.00132441 0.996008 -0.0165847 -0.158449 
0.00820938 0.00623633 1.03931 0.963152 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3273.82   GNORM= 198.454
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3295.685     144.922       0.001
   2    4     -3303.446      44.446       1.000
   3    5     -3305.001      45.013       1.000
   4    6     -3314.250     113.943       1.000
   5    7     -3322.036      72.533       1.000
   6    8     -3327.197      43.972       1.000
   7    9     -3328.931      50.281       1.000
   8   10     -3330.452      63.258       1.000
   9   11     -3331.555      31.854       1.000
  10   12     -3332.850      21.318       1.000
  11   13     -3335.121      42.592       1.000
  12   14     -3336.048      29.771       1.000
  13   15     -3336.679      16.155       1.000
  14   16     -3337.090      24.503       1.000
  15   17     -3337.781      33.950       1.000
  16   18     -3338.640      25.139       1.000
  17   19     -3338.940      35.274       1.000
  18   20     -3339.282      11.850       1.000
  19   21     -3339.405      11.476       1.000
  20   23     -3339.635      18.706       5.000
  21   24     -3339.697      23.151       1.000
  22   25     -3339.820       6.624       1.000
  23   26     -3339.853       5.784       1.000
  24   27     -3339.887       7.483       1.000
  25   28     -3339.930       5.525       1.000
  26   29     -3340.103       5.521       1.000
  27   30     -3340.158      14.259       1.000
  28   31     -3340.238       3.494       1.000
  29   32     -3340.258       2.718       1.000
  30   33     -3340.285       3.136       1.000
  31   35     -3340.298       5.156       0.290
  32   36     -3340.305       5.429       1.000
  33   37     -3340.324       5.674       1.000
  34   38     -3340.330       3.068       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.997622 0.0126736 -0.0176221 -0.390464 
-0.0181246 1.00417 -0.0107778 0.256594 
0.00162429 0.00222649 1.03486 0.96731 
0 0 0 1 

Final RAS Transform: 
0.997622 0.0126736 -0.0176221 -0.390464 
-0.0181246 1.00417 -0.0107778 0.256594 
0.00162429 0.00222649 1.03486 0.96731 
0 0 0 1 


real	0m4.536s
user	0m6.056s
sys	0m0.762s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.59169
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1329
Level     0,  Iter     1:    Energy =   0.1401
Level     0,  Iter     2:    Energy =   0.1454
Level     0,  Iter     3:    Energy =   0.1497
Level     0,  Iter     4:    Energy =   0.1521
Level     0,  Iter     5:    Energy =   0.1536
Level     0,  Iter     6:    Energy =   0.1545
Level     0,  Iter     7:    Energy =   0.1550
Level     0,  Iter     8:    Energy =   0.1557
Level     0,  Iter     9:    Energy =   0.1558
Level     0,  Iter    10:    Energy =   0.1564
Level     0,  Iter    11:    Energy =   0.1562
Level     0,  Iter    12:    Energy =   0.1568
Level     0,  Iter    13:    Energy =   0.1566
Level     0,  Iter    14:    Energy =   0.1572
Level     0,  Iter    15:    Energy =   0.1568
Level     0,  Iter    16:    Energy =   0.1575
Level     0,  Iter    17:    Energy =   0.1571
Level     0,  Iter    18:    Energy =   0.1576
Level     0,  Iter    19:    Energy =   0.1569
Level     0,  Iter    20:    Energy =   0.1577
Level     0,  Iter    21:    Energy =   0.1573
Level     0,  Iter    22:    Energy =   0.1577
Level     0,  Iter    23:    Energy =   0.1571
Level     0,  Iter    24:    Energy =   0.1575
Level     0,  Iter    25:    Energy =   0.1571
Level     0,  Iter    26:    Energy =   0.1574
Level     0,  Iter    27:    Energy =   0.1569
Level     0,  Iter    28:    Energy =   0.1574
Level     0,  Iter    29:    Energy =   0.1570
Level     0,  Iter    30:    Energy =   0.1574
Level     0,  Iter    31:    Energy =   0.1569
Level     0,  Iter    32:    Energy =   0.1574
Level     0,  Iter    33:    Energy =   0.1570
Level     0,  Iter    34:    Energy =   0.1574
Level     0,  Iter    35:    Energy =   0.1570
Level     0,  Iter    36:    Energy =   0.1574
Level     0,  Iter    37:    Energy =   0.1571
Level     0,  Iter    38:    Energy =   0.1575
Level     0,  Iter    39:    Energy =   0.1570
Level     0,  Iter    40:    Energy =   0.1575
Level     0,  Iter    41:    Energy =   0.1573
Level     0,  Iter    42:    Energy =   0.1577
Level     0,  Iter    43:    Energy =   0.1571
Level     0,  Iter    44:    Energy =   0.1576
Level     0,  Iter    45:    Energy =   0.1573
Level     0,  Iter    46:    Energy =   0.1576
Level     0,  Iter    47:    Energy =   0.1570
Level     0,  Iter    48:    Energy =   0.1574
Level     0,  Iter    49:    Energy =   0.1570
Level     0,  Iter    50:    Energy =   0.1573
Level     0,  Iter    51:    Energy =   0.1569
Level     0,  Iter    52:    Energy =   0.1573
Level     0,  Iter    53:    Energy =   0.1569
Level     0,  Iter    54:    Energy =   0.1572
Level     0,  Iter    55:    Energy =   0.1568
Level     0,  Iter    56:    Energy =   0.1571
Level     0,  Iter    57:    Energy =   0.1568
Level     0,  Iter    58:    Energy =   0.1570
Level     0,  Iter    59:    Energy =   0.1568
END OF LEVEL     0    DetJac Range:   0.5063  to   1.6733 
  Avg. Gradient Time  : 0.0056s  35.28% 
  Avg. Gaussian Time  : 0.0072s  45.52% 
  Avg. Iteration Time : 0.0158s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1153
Level     1,  Iter     1:    Energy =   0.1206
Level     1,  Iter     2:    Energy =   0.1263
Level     1,  Iter     3:    Energy =   0.1308
Level     1,  Iter     4:    Energy =   0.1334
Level     1,  Iter     5:    Energy =   0.1351
Level     1,  Iter     6:    Energy =   0.1368
Level     1,  Iter     7:    Energy =   0.1384
Level     1,  Iter     8:    Energy =   0.1401
Level     1,  Iter     9:    Energy =   0.1412
Level     1,  Iter    10:    Energy =   0.1415
Level     1,  Iter    11:    Energy =   0.1420
Level     1,  Iter    12:    Energy =   0.1421
Level     1,  Iter    13:    Energy =   0.1428
Level     1,  Iter    14:    Energy =   0.1427
Level     1,  Iter    15:    Energy =   0.1436
Level     1,  Iter    16:    Energy =   0.1434
Level     1,  Iter    17:    Energy =   0.1444
Level     1,  Iter    18:    Energy =   0.1441
Level     1,  Iter    19:    Energy =   0.1452
Level     1,  Iter    20:    Energy =   0.1448
Level     1,  Iter    21:    Energy =   0.1455
Level     1,  Iter    22:    Energy =   0.1451
Level     1,  Iter    23:    Energy =   0.1455
Level     1,  Iter    24:    Energy =   0.1452
Level     1,  Iter    25:    Energy =   0.1456
Level     1,  Iter    26:    Energy =   0.1453
Level     1,  Iter    27:    Energy =   0.1457
Level     1,  Iter    28:    Energy =   0.1453
Level     1,  Iter    29:    Energy =   0.1459
Level     1,  Iter    30:    Energy =   0.1455
Level     1,  Iter    31:    Energy =   0.1459
Level     1,  Iter    32:    Energy =   0.1456
Level     1,  Iter    33:    Energy =   0.1460
Level     1,  Iter    34:    Energy =   0.1457
Level     1,  Iter    35:    Energy =   0.1461
Level     1,  Iter    36:    Energy =   0.1458
Level     1,  Iter    37:    Energy =   0.1462
Level     1,  Iter    38:    Energy =   0.1458
Level     1,  Iter    39:    Energy =   0.1463
Level     1,  Iter    40:    Energy =   0.1460
Level     1,  Iter    41:    Energy =   0.1462
Level     1,  Iter    42:    Energy =   0.1459
Level     1,  Iter    43:    Energy =   0.1463
Level     1,  Iter    44:    Energy =   0.1460
Level     1,  Iter    45:    Energy =   0.1463
Level     1,  Iter    46:    Energy =   0.1460
Level     1,  Iter    47:    Energy =   0.1462
Level     1,  Iter    48:    Energy =   0.1460
Level     1,  Iter    49:    Energy =   0.1463
Level     1,  Iter    50:    Energy =   0.1460
Level     1,  Iter    51:    Energy =   0.1462
Level     1,  Iter    52:    Energy =   0.1460
Level     1,  Iter    53:    Energy =   0.1462
Level     1,  Iter    54:    Energy =   0.1459
Level     1,  Iter    55:    Energy =   0.1462
Level     1,  Iter    56:    Energy =   0.1459
Level     1,  Iter    57:    Energy =   0.1462
Level     1,  Iter    58:    Energy =   0.1459
Level     1,  Iter    59:    Energy =   0.1462
END OF LEVEL     1    DetJac Range:   0.2461  to   2.3587 
  Avg. Gradient Time  : 0.0241s  35.09% 
  Avg. Gaussian Time  : 0.0327s  47.56% 
  Avg. Iteration Time : 0.0687s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0821
Level     2,  Iter     1:    Energy =   0.0853
Level     2,  Iter     2:    Energy =   0.0886
Level     2,  Iter     3:    Energy =   0.0917
Level     2,  Iter     4:    Energy =   0.0939
Level     2,  Iter     5:    Energy =   0.0959
Level     2,  Iter     6:    Energy =   0.0976
Level     2,  Iter     7:    Energy =   0.0992
Level     2,  Iter     8:    Energy =   0.1005
Level     2,  Iter     9:    Energy =   0.1016
Level     2,  Iter    10:    Energy =   0.1017
Level     2,  Iter    11:    Energy =   0.1018
Level     2,  Iter    12:    Energy =   0.1017
Level     2,  Iter    13:    Energy =   0.1020
Level     2,  Iter    14:    Energy =   0.1019
Level     2,  Iter    15:    Energy =   0.1023
Level     2,  Iter    16:    Energy =   0.1022
Level     2,  Iter    17:    Energy =   0.1026
Level     2,  Iter    18:    Energy =   0.1025
Level     2,  Iter    19:    Energy =   0.1029
END OF LEVEL     2    DetJac Range:   0.1394  to   2.9080 
  Avg. Gradient Time  : 0.1152s  35.68% 
  Avg. Gaussian Time  : 0.1570s  48.63% 
  Avg. Iteration Time : 0.3228s 

real	0m13.792s
user	0m19.125s
sys	0m2.635s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.371429 0.375714
+ echo 'CHUNK 0.371429 0.375714 1'
CHUNK 0.371429 0.375714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.371429 0.375714 1
====================================
         PROGRESS: 0.371429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 006
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 006 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=006
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.709
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4136.82   GNORM= 482.955
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4201.620     139.476       0.001
   2    4     -4210.711     125.877       1.000
   3    5     -4282.314     171.249       1.000
   4    6     -4353.721     223.489       1.000
   5    7     -4366.263     174.043       1.000
   6    8     -4388.475      51.556       1.000
   7    9     -4389.182      96.543       1.000
   8   10     -4391.258      37.387       1.000
   9   11     -4391.963      27.691       1.000
  10   12     -4393.211      31.152       1.000
  11   13     -4393.683      34.580       1.000
  12   14     -4394.077       6.848       1.000
  13   15     -4394.109       6.168       1.000
  14   16     -4394.211      12.600       1.000
  15   17     -4394.377      19.562       1.000
  16   18     -4394.544      11.846       1.000
  17   19     -4394.616       7.626       1.000
  18   20     -4394.641       5.758       1.000
  19   21     -4394.649       3.992       1.000
  20   23     -4394.656       6.155       0.508
  21   25     -4394.659       7.775       0.372
  22   26     -4394.674       5.206       1.000
  23   27     -4394.686       7.157       1.000
  24   28     -4394.703       7.279       1.000
  25   29     -4394.714       3.702       1.000
  26   30     -4394.725       5.528       1.000
  27   31     -4394.739       4.538       1.000
  28   32     -4394.751       3.306       1.000
  29   33     -4394.752       3.740       1.000
  30   34     -4394.759      10.473       1.000
  31   35     -4394.771       3.338       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.97503 -0.0138283 -0.0110147 0.409727 
0.00940599 1.01783 0.000510044 0.770631 
-0.0359865 -0.00498105 1.04362 1.94965 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2944.43   GNORM= 154.061
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2955.310      77.895       0.001
   2    4     -2958.604      53.731       1.000
   3    5     -2964.159      50.809       1.000
   4    6     -2973.412     113.311       1.000
   5    7     -2982.407      93.520       1.000
   6    8     -2994.066      16.390       1.000
   7    9     -2994.615      22.364       1.000
   8   10     -2995.632      26.656       1.000
   9   11     -2997.748      44.590       1.000
  10   12     -3000.135      36.225       1.000
  11   13     -3000.616      27.383       1.000
  12   14     -3001.026      10.420       1.000
  13   15     -3001.165       7.551       1.000
  14   16     -3001.418      10.439       1.000
  15   17     -3001.654      20.274       1.000
  16   18     -3001.931      13.314       1.000
  17   19     -3002.170      12.162       1.000
  18   20     -3002.302      12.574       1.000
  19   21     -3002.537      15.380       1.000
  20   22     -3002.732       6.699       1.000
  21   23     -3002.799       6.751       1.000
  22   24     -3002.810       8.361       1.000
  23   25     -3002.838       3.337       1.000
  24   26     -3002.855       3.571       1.000
  25   27     -3002.894       4.555       1.000
  26   29     -3002.977      12.817       0.480
  27   30     -3003.028       6.991       1.000
  28   31     -3003.059       4.582       1.000
  29   32     -3003.064       4.457       1.000
  30   33     -3003.074       4.231       1.000
  31   34     -3003.085       3.438       1.000
  32   35     -3003.128       4.800       1.000
  33   36     -3003.152       4.582       1.000
  34   38     -3003.173       6.406       0.467
  35   39     -3003.195       2.521       1.000
  36   40     -3003.200       1.387       1.000
  37   42     -3003.200       0.764       0.186
Final RAS Transform: 
0.982391 -0.00509902 -0.0341844 -0.312122 
0.0204662 1.03204 0.00895892 0.299095 
-0.0166937 -0.00815758 1.04981 1.74566 
0 0 0 1 

Final RAS Transform: 
0.982391 -0.00509902 -0.0341844 -0.312122 
0.0204662 1.03204 0.00895892 0.299095 
-0.0166937 -0.00815758 1.04981 1.74566 
0 0 0 1 


real	0m4.576s
user	0m6.194s
sys	0m0.661s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.682762
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1315
Level     0,  Iter     1:    Energy =   0.1381
Level     0,  Iter     2:    Energy =   0.1452
Level     0,  Iter     3:    Energy =   0.1507
Level     0,  Iter     4:    Energy =   0.1534
Level     0,  Iter     5:    Energy =   0.1548
Level     0,  Iter     6:    Energy =   0.1555
Level     0,  Iter     7:    Energy =   0.1565
Level     0,  Iter     8:    Energy =   0.1570
Level     0,  Iter     9:    Energy =   0.1583
Level     0,  Iter    10:    Energy =   0.1595
Level     0,  Iter    11:    Energy =   0.1598
Level     0,  Iter    12:    Energy =   0.1595
Level     0,  Iter    13:    Energy =   0.1603
Level     0,  Iter    14:    Energy =   0.1602
Level     0,  Iter    15:    Energy =   0.1611
Level     0,  Iter    16:    Energy =   0.1616
Level     0,  Iter    17:    Energy =   0.1618
Level     0,  Iter    18:    Energy =   0.1612
Level     0,  Iter    19:    Energy =   0.1617
Level     0,  Iter    20:    Energy =   0.1616
Level     0,  Iter    21:    Energy =   0.1623
Level     0,  Iter    22:    Energy =   0.1624
Level     0,  Iter    23:    Energy =   0.1626
Level     0,  Iter    24:    Energy =   0.1618
Level     0,  Iter    25:    Energy =   0.1625
Level     0,  Iter    26:    Energy =   0.1625
Level     0,  Iter    27:    Energy =   0.1628
Level     0,  Iter    28:    Energy =   0.1621
Level     0,  Iter    29:    Energy =   0.1628
Level     0,  Iter    30:    Energy =   0.1631
Level     0,  Iter    31:    Energy =   0.1630
Level     0,  Iter    32:    Energy =   0.1623
Level     0,  Iter    33:    Energy =   0.1627
Level     0,  Iter    34:    Energy =   0.1623
Level     0,  Iter    35:    Energy =   0.1630
Level     0,  Iter    36:    Energy =   0.1630
Level     0,  Iter    37:    Energy =   0.1631
Level     0,  Iter    38:    Energy =   0.1622
Level     0,  Iter    39:    Energy =   0.1629
Level     0,  Iter    40:    Energy =   0.1627
Level     0,  Iter    41:    Energy =   0.1632
Level     0,  Iter    42:    Energy =   0.1624
Level     0,  Iter    43:    Energy =   0.1633
Level     0,  Iter    44:    Energy =   0.1636
Level     0,  Iter    45:    Energy =   0.1634
Level     0,  Iter    46:    Energy =   0.1627
Level     0,  Iter    47:    Energy =   0.1631
Level     0,  Iter    48:    Energy =   0.1626
Level     0,  Iter    49:    Energy =   0.1635
Level     0,  Iter    50:    Energy =   0.1638
Level     0,  Iter    51:    Energy =   0.1636
Level     0,  Iter    52:    Energy =   0.1629
Level     0,  Iter    53:    Energy =   0.1633
Level     0,  Iter    54:    Energy =   0.1627
Level     0,  Iter    55:    Energy =   0.1636
Level     0,  Iter    56:    Energy =   0.1639
Level     0,  Iter    57:    Energy =   0.1637
Level     0,  Iter    58:    Energy =   0.1630
Level     0,  Iter    59:    Energy =   0.1633
END OF LEVEL     0    DetJac Range:   0.3494  to   1.7851 
  Avg. Gradient Time  : 0.0056s  35.50% 
  Avg. Gaussian Time  : 0.0071s  45.08% 
  Avg. Iteration Time : 0.0157s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1085
Level     1,  Iter     1:    Energy =   0.1148
Level     1,  Iter     2:    Energy =   0.1201
Level     1,  Iter     3:    Energy =   0.1260
Level     1,  Iter     4:    Energy =   0.1297
Level     1,  Iter     5:    Energy =   0.1332
Level     1,  Iter     6:    Energy =   0.1358
Level     1,  Iter     7:    Energy =   0.1379
Level     1,  Iter     8:    Energy =   0.1401
Level     1,  Iter     9:    Energy =   0.1418
Level     1,  Iter    10:    Energy =   0.1419
Level     1,  Iter    11:    Energy =   0.1432
Level     1,  Iter    12:    Energy =   0.1430
Level     1,  Iter    13:    Energy =   0.1435
Level     1,  Iter    14:    Energy =   0.1438
Level     1,  Iter    15:    Energy =   0.1436
Level     1,  Iter    16:    Energy =   0.1445
Level     1,  Iter    17:    Energy =   0.1444
Level     1,  Iter    18:    Energy =   0.1445
Level     1,  Iter    19:    Energy =   0.1444
Level     1,  Iter    20:    Energy =   0.1445
Level     1,  Iter    21:    Energy =   0.1446
Level     1,  Iter    22:    Energy =   0.1446
Level     1,  Iter    23:    Energy =   0.1447
Level     1,  Iter    24:    Energy =   0.1448
Level     1,  Iter    25:    Energy =   0.1448
Level     1,  Iter    26:    Energy =   0.1450
Level     1,  Iter    27:    Energy =   0.1450
Level     1,  Iter    28:    Energy =   0.1450
Level     1,  Iter    29:    Energy =   0.1452
Level     1,  Iter    30:    Energy =   0.1451
Level     1,  Iter    31:    Energy =   0.1451
Level     1,  Iter    32:    Energy =   0.1453
Level     1,  Iter    33:    Energy =   0.1453
Level     1,  Iter    34:    Energy =   0.1453
Level     1,  Iter    35:    Energy =   0.1454
Level     1,  Iter    36:    Energy =   0.1453
Level     1,  Iter    37:    Energy =   0.1455
Level     1,  Iter    38:    Energy =   0.1453
Level     1,  Iter    39:    Energy =   0.1455
Level     1,  Iter    40:    Energy =   0.1454
Level     1,  Iter    41:    Energy =   0.1455
Level     1,  Iter    42:    Energy =   0.1454
Level     1,  Iter    43:    Energy =   0.1457
Level     1,  Iter    44:    Energy =   0.1455
Level     1,  Iter    45:    Energy =   0.1456
Level     1,  Iter    46:    Energy =   0.1455
Level     1,  Iter    47:    Energy =   0.1457
Level     1,  Iter    48:    Energy =   0.1453
Level     1,  Iter    49:    Energy =   0.1458
Level     1,  Iter    50:    Energy =   0.1456
Level     1,  Iter    51:    Energy =   0.1457
Level     1,  Iter    52:    Energy =   0.1454
Level     1,  Iter    53:    Energy =   0.1459
Level     1,  Iter    54:    Energy =   0.1455
Level     1,  Iter    55:    Energy =   0.1459
Level     1,  Iter    56:    Energy =   0.1455
Level     1,  Iter    57:    Energy =   0.1458
Level     1,  Iter    58:    Energy =   0.1455
Level     1,  Iter    59:    Energy =   0.1459
END OF LEVEL     1    DetJac Range:   0.1963  to   3.0475 
  Avg. Gradient Time  : 0.0239s  34.90% 
  Avg. Gaussian Time  : 0.0324s  47.42% 
  Avg. Iteration Time : 0.0684s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0782
Level     2,  Iter     1:    Energy =   0.0818
Level     2,  Iter     2:    Energy =   0.0848
Level     2,  Iter     3:    Energy =   0.0875
Level     2,  Iter     4:    Energy =   0.0903
Level     2,  Iter     5:    Energy =   0.0921
Level     2,  Iter     6:    Energy =   0.0929
Level     2,  Iter     7:    Energy =   0.0937
Level     2,  Iter     8:    Energy =   0.0939
Level     2,  Iter     9:    Energy =   0.0949
Level     2,  Iter    10:    Energy =   0.0949
Level     2,  Iter    11:    Energy =   0.0957
Level     2,  Iter    12:    Energy =   0.0956
Level     2,  Iter    13:    Energy =   0.0964
Level     2,  Iter    14:    Energy =   0.0962
Level     2,  Iter    15:    Energy =   0.0968
Level     2,  Iter    16:    Energy =   0.0966
Level     2,  Iter    17:    Energy =   0.0972
Level     2,  Iter    18:    Energy =   0.0969
Level     2,  Iter    19:    Energy =   0.0975
END OF LEVEL     2    DetJac Range:   0.1732  to   3.2281 
  Avg. Gradient Time  : 0.1215s  37.58% 
  Avg. Gaussian Time  : 0.1516s  46.90% 
  Avg. Iteration Time : 0.3233s 

real	0m13.857s
user	0m19.113s
sys	0m2.692s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.375714 0.38
+ echo 'CHUNK 0.375714 0.38 1'
CHUNK 0.375714 0.38 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.375714 0.38 1
====================================
         PROGRESS: 0.375714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 007
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 007 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=007
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.552
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4068.66   GNORM= 850.404
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -4152.736     948.467       0.001
   2    3     -4376.181     186.429       1.000
   3    4     -4387.199      65.675       1.000
   4    5     -4389.597      62.111       1.000
   5    6     -4405.841     120.861       1.000
   6    7     -4418.492     185.482       1.000
   7    8     -4429.665     152.583       1.000
   8    9     -4436.245      39.057       1.000
   9   10     -4437.770      38.990       1.000
  10   11     -4439.744      67.875       1.000
  11   12     -4442.213      59.527       1.000
  12   13     -4445.292      18.350       1.000
  13   14     -4445.625      16.435       1.000
  14   15     -4446.201      47.213       1.000
  15   16     -4446.838      29.444       1.000
  16   17     -4447.673      36.515       1.000
  17   18     -4447.987      12.061       1.000
  18   19     -4448.066      11.330       1.000
  19   20     -4448.138      11.865       1.000
  20   21     -4448.207       8.427       1.000
  21   22     -4448.312       8.540       1.000
  22   24     -4448.447       7.320       0.380
  23   25     -4448.494       9.191       1.000
  24   26     -4448.534       8.271       1.000
  25   27     -4448.546       4.449       1.000
  26   28     -4448.574       5.398       1.000
  27   29     -4448.597       3.429       1.000
  28   31     -4448.624       3.150       0.137
  29   33     -4448.633       2.131       0.475
  30   34     -4448.634       3.151       1.000
  31   36     -4448.643       7.253       0.416
  32   37     -4448.662       3.017       1.000
  33   38     -4448.663       3.349       1.000
  34   39     -4448.666       2.904       1.000
  35   46     -4448.666       2.649       0.154
  36   47     -4448.666       4.426       1.000
  37   48     -4448.672       2.389       1.000
Final RAS Transform: 
0.99809 -0.00219093 -0.00746584 -0.0133681 
-0.0334954 0.997226 -0.0022384 0.923305 
-0.00199377 0.000454465 1.02077 1.35919 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3197.19   GNORM= 106.318
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3205.539      54.850       0.001
   2    4     -3207.850      69.617       1.000
   3    5     -3210.493      63.409       1.000
   4    6     -3224.161      33.748       1.000
   5    7     -3225.426      16.352       1.000
   6    8     -3226.461      23.454       1.000
   7    9     -3229.032      40.746       1.000
   8   11     -3229.980      32.957       0.263
   9   12     -3231.154      25.059       1.000
  10   13     -3232.056       9.145       1.000
  11   14     -3232.372      10.986       1.000
  12   15     -3232.922      20.817       1.000
  13   16     -3233.700      13.125       1.000
  14   17     -3233.965      21.327       1.000
  15   18     -3234.290       8.134       1.000
  16   19     -3234.364       3.345       1.000
  17   20     -3234.383       2.607       1.000
  18   21     -3234.402       6.376       1.000
  19   24     -3234.544       9.854       3.027
  20   26     -3234.574       4.158       0.108
  21   27     -3234.585       2.726       1.000
  22   29     -3234.592       2.290       0.444
  23   30     -3234.602       1.249       1.000
  24   31     -3234.605       1.698       1.000
  25   32     -3234.617       1.205       1.000
  26   33     -3234.619       1.691       1.000
  27   34     -3234.622       0.958       1.000
  28   35     -3234.633       1.092       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00288 0.00542481 -0.030149 -0.619094 
-0.0503447 1.00876 0.00752037 0.909142 
0.00223753 -0.00428375 1.01437 1.43462 
0 0 0 1 

Final RAS Transform: 
1.00288 0.00542481 -0.030149 -0.619094 
-0.0503447 1.00876 0.00752037 0.909142 
0.00223753 -0.00428375 1.01437 1.43462 
0 0 0 1 


real	0m4.393s
user	0m5.783s
sys	0m0.652s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.530336
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1376
Level     0,  Iter     1:    Energy =   0.1454
Level     0,  Iter     2:    Energy =   0.1527
Level     0,  Iter     3:    Energy =   0.1565
Level     0,  Iter     4:    Energy =   0.1596
Level     0,  Iter     5:    Energy =   0.1620
Level     0,  Iter     6:    Energy =   0.1630
Level     0,  Iter     7:    Energy =   0.1636
Level     0,  Iter     8:    Energy =   0.1642
Level     0,  Iter     9:    Energy =   0.1644
Level     0,  Iter    10:    Energy =   0.1645
Level     0,  Iter    11:    Energy =   0.1651
Level     0,  Iter    12:    Energy =   0.1650
Level     0,  Iter    13:    Energy =   0.1658
Level     0,  Iter    14:    Energy =   0.1654
Level     0,  Iter    15:    Energy =   0.1665
Level     0,  Iter    16:    Energy =   0.1660
Level     0,  Iter    17:    Energy =   0.1671
Level     0,  Iter    18:    Energy =   0.1662
Level     0,  Iter    19:    Energy =   0.1675
Level     0,  Iter    20:    Energy =   0.1668
Level     0,  Iter    21:    Energy =   0.1678
Level     0,  Iter    22:    Energy =   0.1667
Level     0,  Iter    23:    Energy =   0.1680
Level     0,  Iter    24:    Energy =   0.1673
Level     0,  Iter    25:    Energy =   0.1681
Level     0,  Iter    26:    Energy =   0.1669
Level     0,  Iter    27:    Energy =   0.1682
Level     0,  Iter    28:    Energy =   0.1675
Level     0,  Iter    29:    Energy =   0.1683
Level     0,  Iter    30:    Energy =   0.1670
Level     0,  Iter    31:    Energy =   0.1683
Level     0,  Iter    32:    Energy =   0.1677
Level     0,  Iter    33:    Energy =   0.1684
Level     0,  Iter    34:    Energy =   0.1669
Level     0,  Iter    35:    Energy =   0.1684
Level     0,  Iter    36:    Energy =   0.1678
Level     0,  Iter    37:    Energy =   0.1685
Level     0,  Iter    38:    Energy =   0.1671
Level     0,  Iter    39:    Energy =   0.1685
Level     0,  Iter    40:    Energy =   0.1681
Level     0,  Iter    41:    Energy =   0.1685
Level     0,  Iter    42:    Energy =   0.1673
Level     0,  Iter    43:    Energy =   0.1684
Level     0,  Iter    44:    Energy =   0.1675
Level     0,  Iter    45:    Energy =   0.1685
Level     0,  Iter    46:    Energy =   0.1676
Level     0,  Iter    47:    Energy =   0.1686
Level     0,  Iter    48:    Energy =   0.1676
Level     0,  Iter    49:    Energy =   0.1685
Level     0,  Iter    50:    Energy =   0.1675
Level     0,  Iter    51:    Energy =   0.1687
Level     0,  Iter    52:    Energy =   0.1678
Level     0,  Iter    53:    Energy =   0.1686
Level     0,  Iter    54:    Energy =   0.1679
Level     0,  Iter    55:    Energy =   0.1687
Level     0,  Iter    56:    Energy =   0.1676
Level     0,  Iter    57:    Energy =   0.1684
Level     0,  Iter    58:    Energy =   0.1673
Level     0,  Iter    59:    Energy =   0.1686
END OF LEVEL     0    DetJac Range:   0.3914  to   2.0436 
  Avg. Gradient Time  : 0.0056s  35.50% 
  Avg. Gaussian Time  : 0.0072s  45.13% 
  Avg. Iteration Time : 0.0159s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1163
Level     1,  Iter     1:    Energy =   0.1223
Level     1,  Iter     2:    Energy =   0.1271
Level     1,  Iter     3:    Energy =   0.1325
Level     1,  Iter     4:    Energy =   0.1367
Level     1,  Iter     5:    Energy =   0.1399
Level     1,  Iter     6:    Energy =   0.1427
Level     1,  Iter     7:    Energy =   0.1434
Level     1,  Iter     8:    Energy =   0.1447
Level     1,  Iter     9:    Energy =   0.1449
Level     1,  Iter    10:    Energy =   0.1464
Level     1,  Iter    11:    Energy =   0.1464
Level     1,  Iter    12:    Energy =   0.1472
Level     1,  Iter    13:    Energy =   0.1471
Level     1,  Iter    14:    Energy =   0.1478
Level     1,  Iter    15:    Energy =   0.1477
Level     1,  Iter    16:    Energy =   0.1483
Level     1,  Iter    17:    Energy =   0.1482
Level     1,  Iter    18:    Energy =   0.1487
Level     1,  Iter    19:    Energy =   0.1485
Level     1,  Iter    20:    Energy =   0.1489
Level     1,  Iter    21:    Energy =   0.1488
Level     1,  Iter    22:    Energy =   0.1492
Level     1,  Iter    23:    Energy =   0.1490
Level     1,  Iter    24:    Energy =   0.1494
Level     1,  Iter    25:    Energy =   0.1491
Level     1,  Iter    26:    Energy =   0.1495
Level     1,  Iter    27:    Energy =   0.1493
Level     1,  Iter    28:    Energy =   0.1496
Level     1,  Iter    29:    Energy =   0.1494
Level     1,  Iter    30:    Energy =   0.1494
Level     1,  Iter    31:    Energy =   0.1496
Level     1,  Iter    32:    Energy =   0.1495
Level     1,  Iter    33:    Energy =   0.1497
Level     1,  Iter    34:    Energy =   0.1497
Level     1,  Iter    35:    Energy =   0.1497
Level     1,  Iter    36:    Energy =   0.1497
Level     1,  Iter    37:    Energy =   0.1497
Level     1,  Iter    38:    Energy =   0.1498
Level     1,  Iter    39:    Energy =   0.1498
Level     1,  Iter    40:    Energy =   0.1498
Level     1,  Iter    41:    Energy =   0.1499
Level     1,  Iter    42:    Energy =   0.1500
Level     1,  Iter    43:    Energy =   0.1499
Level     1,  Iter    44:    Energy =   0.1501
Level     1,  Iter    45:    Energy =   0.1500
Level     1,  Iter    46:    Energy =   0.1501
Level     1,  Iter    47:    Energy =   0.1501
Level     1,  Iter    48:    Energy =   0.1501
Level     1,  Iter    49:    Energy =   0.1502
Level     1,  Iter    50:    Energy =   0.1502
Level     1,  Iter    51:    Energy =   0.1502
Level     1,  Iter    52:    Energy =   0.1503
Level     1,  Iter    53:    Energy =   0.1502
Level     1,  Iter    54:    Energy =   0.1503
Level     1,  Iter    55:    Energy =   0.1503
Level     1,  Iter    56:    Energy =   0.1503
Level     1,  Iter    57:    Energy =   0.1504
Level     1,  Iter    58:    Energy =   0.1504
Level     1,  Iter    59:    Energy =   0.1504
END OF LEVEL     1    DetJac Range:   0.1971  to   3.1140 
  Avg. Gradient Time  : 0.0238s  35.04% 
  Avg. Gaussian Time  : 0.0322s  47.30% 
  Avg. Iteration Time : 0.0680s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0811
Level     2,  Iter     1:    Energy =   0.0842
Level     2,  Iter     2:    Energy =   0.0875
Level     2,  Iter     3:    Energy =   0.0895
Level     2,  Iter     4:    Energy =   0.0912
Level     2,  Iter     5:    Energy =   0.0937
Level     2,  Iter     6:    Energy =   0.0958
Level     2,  Iter     7:    Energy =   0.0964
Level     2,  Iter     8:    Energy =   0.0968
Level     2,  Iter     9:    Energy =   0.0978
Level     2,  Iter    10:    Energy =   0.0980
Level     2,  Iter    11:    Energy =   0.0990
Level     2,  Iter    12:    Energy =   0.0990
Level     2,  Iter    13:    Energy =   0.1002
Level     2,  Iter    14:    Energy =   0.1000
Level     2,  Iter    15:    Energy =   0.1010
Level     2,  Iter    16:    Energy =   0.1009
Level     2,  Iter    17:    Energy =   0.1015
Level     2,  Iter    18:    Energy =   0.1012
Level     2,  Iter    19:    Energy =   0.1020
END OF LEVEL     2    DetJac Range:   0.1068  to   3.3007 
  Avg. Gradient Time  : 0.1143s  35.75% 
  Avg. Gaussian Time  : 0.1566s  48.98% 
  Avg. Iteration Time : 0.3198s 

real	0m13.861s
user	0m18.925s
sys	0m2.653s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.38 0.384286
+ echo 'CHUNK 0.38 0.384286 1'
CHUNK 0.38 0.384286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.38 0.384286 1
====================================
         PROGRESS: 0.38               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 008
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 008 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=008
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.611
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4202.38   GNORM= 571.318
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -4299.448     528.033       0.002
   2    3     -4389.511     206.984       1.000
   3    4     -4399.963      80.907       1.000
   4    6     -4416.320      85.870       5.000
   5    7     -4474.001     192.947       1.000
   6    8     -4481.976      55.978       1.000
   7    9     -4483.665      36.389       1.000
   8   10     -4484.500      34.317       1.000
   9   11     -4485.569      16.837       1.000
  10   12     -4485.953      19.763       1.000
  11   13     -4487.015      17.010       1.000
  12   15     -4487.902      17.011       0.473
  13   16     -4488.258      31.018       1.000
  14   17     -4488.844      20.064       1.000
  15   18     -4488.955      19.661       1.000
  16   19     -4489.050       8.677       1.000
  17   20     -4489.087       7.339       1.000
  18   21     -4489.119       4.820       1.000
  19   22     -4489.140       5.332       1.000
  20   24     -4489.144       3.547       0.257
  21   25     -4489.146       3.151       1.000
  22   27     -4489.146       2.546       0.480
  23   29     -4489.150       4.973       0.176
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.992337 -0.00558358 -0.0131937 -0.031893 
-0.0390018 1.01858 0.026173 0.976572 
-0.00384382 0.0105884 1.03628 0.894613 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3275.86   GNORM= 195.822
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3299.935     106.151       0.001
   2    4     -3304.151     100.955       1.000
   3    5     -3307.281      49.607       1.000
   4    6     -3309.993      47.757       1.000
   5    7     -3313.725      73.091       1.000
   6    8     -3322.028      86.569       1.000
   7   10     -3327.610     126.716       0.309
   8   11     -3332.768      35.855       1.000
   9   12     -3333.904      23.808       1.000
  10   13     -3335.499      18.806       1.000
  11   14     -3337.204      16.111       1.000
  12   16     -3337.592      18.309       0.280
  13   17     -3337.962      12.514       1.000
  14   19     -3338.043       6.734       0.406
  15   20     -3338.081       7.450       1.000
  16   21     -3338.293      10.419       1.000
  17   22     -3338.751      11.103       1.000
  18   24     -3338.833      17.482       0.069
  19   25     -3339.096       8.990       1.000
  20   27     -3339.142       6.469       0.364
  21   28     -3339.164       5.727       1.000
  22   30     -3339.240       5.232       0.425
  23   31     -3339.269       3.077       1.000
  24   32     -3339.292       3.079       1.000
  25   33     -3339.332      15.609       1.000
  26   34     -3339.392       2.921       1.000
  27   35     -3339.399       3.743       1.000
  28   36     -3339.417       2.479       1.000
  29   37     -3339.448       3.948       1.000
  30   38     -3339.482       2.179       1.000
  31   39     -3339.492       2.680       1.000
  32   41     -3339.496       2.225       0.263
  33   42     -3339.500       2.224       1.000
  34   43     -3339.501       1.219       1.000
  35   44     -3339.505       1.208       1.000
  36   45     -3339.506       1.477       1.000
  37   48     -3339.512       1.433       0.013
Final RAS Transform: 
1.00033 0.0014511 -0.0385251 -0.682201 
-0.0283019 1.0191 0.0304192 0.530721 
-0.00119048 0.00243379 1.03627 1.15343 
0 0 0 1 

Final RAS Transform: 
1.00033 0.0014511 -0.0385251 -0.682201 
-0.0283019 1.0191 0.0304192 0.530721 
-0.00119048 0.00243379 1.03627 1.15343 
0 0 0 1 


real	0m4.602s
user	0m6.022s
sys	0m0.699s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.589911
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1388
Level     0,  Iter     1:    Energy =   0.1473
Level     0,  Iter     2:    Energy =   0.1547
Level     0,  Iter     3:    Energy =   0.1592
Level     0,  Iter     4:    Energy =   0.1620
Level     0,  Iter     5:    Energy =   0.1636
Level     0,  Iter     6:    Energy =   0.1651
Level     0,  Iter     7:    Energy =   0.1660
Level     0,  Iter     8:    Energy =   0.1667
Level     0,  Iter     9:    Energy =   0.1673
Level     0,  Iter    10:    Energy =   0.1677
Level     0,  Iter    11:    Energy =   0.1681
Level     0,  Iter    12:    Energy =   0.1683
Level     0,  Iter    13:    Energy =   0.1686
Level     0,  Iter    14:    Energy =   0.1686
Level     0,  Iter    15:    Energy =   0.1688
Level     0,  Iter    16:    Energy =   0.1686
Level     0,  Iter    17:    Energy =   0.1688
Level     0,  Iter    18:    Energy =   0.1686
Level     0,  Iter    19:    Energy =   0.1688
Level     0,  Iter    20:    Energy =   0.1685
Level     0,  Iter    21:    Energy =   0.1689
Level     0,  Iter    22:    Energy =   0.1686
Level     0,  Iter    23:    Energy =   0.1689
Level     0,  Iter    24:    Energy =   0.1686
Level     0,  Iter    25:    Energy =   0.1690
Level     0,  Iter    26:    Energy =   0.1686
Level     0,  Iter    27:    Energy =   0.1691
Level     0,  Iter    28:    Energy =   0.1687
Level     0,  Iter    29:    Energy =   0.1692
Level     0,  Iter    30:    Energy =   0.1688
Level     0,  Iter    31:    Energy =   0.1692
Level     0,  Iter    32:    Energy =   0.1688
Level     0,  Iter    33:    Energy =   0.1693
Level     0,  Iter    34:    Energy =   0.1689
Level     0,  Iter    35:    Energy =   0.1694
Level     0,  Iter    36:    Energy =   0.1689
Level     0,  Iter    37:    Energy =   0.1694
Level     0,  Iter    38:    Energy =   0.1690
Level     0,  Iter    39:    Energy =   0.1695
Level     0,  Iter    40:    Energy =   0.1690
Level     0,  Iter    41:    Energy =   0.1695
Level     0,  Iter    42:    Energy =   0.1691
Level     0,  Iter    43:    Energy =   0.1695
Level     0,  Iter    44:    Energy =   0.1691
Level     0,  Iter    45:    Energy =   0.1695
Level     0,  Iter    46:    Energy =   0.1691
Level     0,  Iter    47:    Energy =   0.1696
Level     0,  Iter    48:    Energy =   0.1691
Level     0,  Iter    49:    Energy =   0.1696
Level     0,  Iter    50:    Energy =   0.1692
Level     0,  Iter    51:    Energy =   0.1696
Level     0,  Iter    52:    Energy =   0.1691
Level     0,  Iter    53:    Energy =   0.1696
Level     0,  Iter    54:    Energy =   0.1691
Level     0,  Iter    55:    Energy =   0.1697
Level     0,  Iter    56:    Energy =   0.1692
Level     0,  Iter    57:    Energy =   0.1697
Level     0,  Iter    58:    Energy =   0.1692
Level     0,  Iter    59:    Energy =   0.1697
END OF LEVEL     0    DetJac Range:   0.3664  to   2.3590 
  Avg. Gradient Time  : 0.0055s  35.29% 
  Avg. Gaussian Time  : 0.0071s  45.39% 
  Avg. Iteration Time : 0.0156s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1196
Level     1,  Iter     1:    Energy =   0.1251
Level     1,  Iter     2:    Energy =   0.1308
Level     1,  Iter     3:    Energy =   0.1363
Level     1,  Iter     4:    Energy =   0.1404
Level     1,  Iter     5:    Energy =   0.1424
Level     1,  Iter     6:    Energy =   0.1434
Level     1,  Iter     7:    Energy =   0.1448
Level     1,  Iter     8:    Energy =   0.1454
Level     1,  Iter     9:    Energy =   0.1464
Level     1,  Iter    10:    Energy =   0.1468
Level     1,  Iter    11:    Energy =   0.1475
Level     1,  Iter    12:    Energy =   0.1478
Level     1,  Iter    13:    Energy =   0.1483
Level     1,  Iter    14:    Energy =   0.1486
Level     1,  Iter    15:    Energy =   0.1488
Level     1,  Iter    16:    Energy =   0.1491
Level     1,  Iter    17:    Energy =   0.1493
Level     1,  Iter    18:    Energy =   0.1495
Level     1,  Iter    19:    Energy =   0.1496
Level     1,  Iter    20:    Energy =   0.1496
Level     1,  Iter    21:    Energy =   0.1504
Level     1,  Iter    22:    Energy =   0.1502
Level     1,  Iter    23:    Energy =   0.1516
Level     1,  Iter    24:    Energy =   0.1514
Level     1,  Iter    25:    Energy =   0.1516
Level     1,  Iter    26:    Energy =   0.1514
Level     1,  Iter    27:    Energy =   0.1526
Level     1,  Iter    28:    Energy =   0.1524
Level     1,  Iter    29:    Energy =   0.1526
Level     1,  Iter    30:    Energy =   0.1521
Level     1,  Iter    31:    Energy =   0.1532
Level     1,  Iter    32:    Energy =   0.1526
Level     1,  Iter    33:    Energy =   0.1535
Level     1,  Iter    34:    Energy =   0.1529
Level     1,  Iter    35:    Energy =   0.1539
Level     1,  Iter    36:    Energy =   0.1533
Level     1,  Iter    37:    Energy =   0.1541
Level     1,  Iter    38:    Energy =   0.1535
Level     1,  Iter    39:    Energy =   0.1545
Level     1,  Iter    40:    Energy =   0.1539
Level     1,  Iter    41:    Energy =   0.1543
Level     1,  Iter    42:    Energy =   0.1537
Level     1,  Iter    43:    Energy =   0.1546
Level     1,  Iter    44:    Energy =   0.1540
Level     1,  Iter    45:    Energy =   0.1548
Level     1,  Iter    46:    Energy =   0.1542
Level     1,  Iter    47:    Energy =   0.1554
Level     1,  Iter    48:    Energy =   0.1547
Level     1,  Iter    49:    Energy =   0.1552
Level     1,  Iter    50:    Energy =   0.1545
Level     1,  Iter    51:    Energy =   0.1555
Level     1,  Iter    52:    Energy =   0.1548
Level     1,  Iter    53:    Energy =   0.1555
Level     1,  Iter    54:    Energy =   0.1549
Level     1,  Iter    55:    Energy =   0.1559
Level     1,  Iter    56:    Energy =   0.1553
Level     1,  Iter    57:    Energy =   0.1556
Level     1,  Iter    58:    Energy =   0.1549
Level     1,  Iter    59:    Energy =   0.1559
END OF LEVEL     1    DetJac Range:   0.1513  to   3.2188 
  Avg. Gradient Time  : 0.0240s  35.30% 
  Avg. Gaussian Time  : 0.0320s  47.02% 
  Avg. Iteration Time : 0.0681s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0846
Level     2,  Iter     1:    Energy =   0.0878
Level     2,  Iter     2:    Energy =   0.0906
Level     2,  Iter     3:    Energy =   0.0935
Level     2,  Iter     4:    Energy =   0.0960
Level     2,  Iter     5:    Energy =   0.0980
Level     2,  Iter     6:    Energy =   0.0990
Level     2,  Iter     7:    Energy =   0.0999
Level     2,  Iter     8:    Energy =   0.1006
Level     2,  Iter     9:    Energy =   0.1014
Level     2,  Iter    10:    Energy =   0.1018
Level     2,  Iter    11:    Energy =   0.1024
Level     2,  Iter    12:    Energy =   0.1028
Level     2,  Iter    13:    Energy =   0.1032
Level     2,  Iter    14:    Energy =   0.1035
Level     2,  Iter    15:    Energy =   0.1038
Level     2,  Iter    16:    Energy =   0.1041
Level     2,  Iter    17:    Energy =   0.1043
Level     2,  Iter    18:    Energy =   0.1045
Level     2,  Iter    19:    Energy =   0.1047
END OF LEVEL     2    DetJac Range:   0.1501  to   3.9174 
  Avg. Gradient Time  : 0.1195s  36.80% 
  Avg. Gaussian Time  : 0.1555s  47.90% 
  Avg. Iteration Time : 0.3247s 

real	0m13.860s
user	0m19.034s
sys	0m2.623s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.384286 0.388571
+ echo 'CHUNK 0.384286 0.388571 1'
CHUNK 0.384286 0.388571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.384286 0.388571 1
====================================
         PROGRESS: 0.384286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 009
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 009 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=009
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.578
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3926.77   GNORM= 804.318
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -4360.456     473.892       0.001
   2    3     -4407.940     303.539       1.000
   3    4     -4432.552      70.590       1.000
   4    6     -4445.662      80.804       5.000
   5    7     -4488.638     138.040       1.000
   6    9     -4498.846     120.712       0.493
   7   10     -4504.715      61.406       1.000
   8   11     -4506.343      31.593       1.000
   9   12     -4507.703      27.846       1.000
  10   13     -4509.920      70.822       1.000
  11   14     -4511.994      34.607       1.000
  12   15     -4512.376      12.833       1.000
  13   16     -4512.642      10.884       1.000
  14   17     -4513.144      12.680       1.000
  15   19     -4513.196       7.851       0.127
  16   20     -4513.237       6.235       1.000
  17   21     -4513.269       5.283       1.000
  18   22     -4513.300       5.955       1.000
  19   23     -4513.327       4.850       1.000
  20   24     -4513.340       9.691       1.000
  21   25     -4513.353       2.045       1.000
  22   26     -4513.360       1.833       1.000
  23   29     -4513.375       3.608       2.055
  24   31     -4513.379       5.216       0.267
  25   32     -4513.385       4.797       1.000
  26   33     -4513.389       4.997       1.000
  27   35     -4513.394       1.436       0.164
  28   37     -4513.400       4.641       0.466
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999219 0.00821715 -0.0245032 -0.447995 
-0.037381 1.01834 0.0341657 0.258135 
0.00500722 -0.0165369 1.01964 1.35886 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3263.74   GNORM= 199.988
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3275.423      68.996       0.001
   2    4     -3277.746      40.023       1.000
   3    5     -3279.355      35.018       1.000
   4    6     -3280.922      40.363       1.000
   5    7     -3286.191      61.866       1.000
   6    8     -3292.407      75.730       1.000
   7   10     -3293.620      68.487       0.173
   8   11     -3296.421      33.022       1.000
   9   12     -3296.475      41.377       1.000
  10   13     -3297.360      13.127       1.000
  11   14     -3297.571       9.768       1.000
  12   15     -3298.069      14.232       1.000
  13   16     -3298.852      45.188       1.000
  14   17     -3298.956      54.064       1.000
  15   18     -3299.667      16.770       1.000
  16   19     -3299.825       9.043       1.000
  17   20     -3299.902      10.908       1.000
  18   21     -3299.972       9.886       1.000
  19   22     -3299.997      14.345       1.000
  20   23     -3300.187       5.009       1.000
  21   24     -3300.234       3.793       1.000
  22   26     -3300.270       8.255       0.271
  23   27     -3300.309       5.311       1.000
  24   28     -3300.329       6.035       1.000
  25   29     -3300.331       3.262       1.000
  26   30     -3300.353       2.915       1.000
  27   31     -3300.373       3.805       1.000
  28   33     -3300.391       5.451       0.346
  29   34     -3300.394       8.980       1.000
  30   35     -3300.413       3.095       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00468 0.00316427 -0.0273667 -0.424007 
-0.0386706 1.01557 0.00647754 -0.199267 
-0.00356804 -0.0219909 1.02738 1.62744 
0 0 0 1 

Final RAS Transform: 
1.00468 0.00316427 -0.0273667 -0.424007 
-0.0386706 1.01557 0.00647754 -0.199267 
-0.00356804 -0.0219909 1.02738 1.62744 
0 0 0 1 


real	0m4.243s
user	0m5.697s
sys	0m0.689s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.555326
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1388
Level     0,  Iter     1:    Energy =   0.1478
Level     0,  Iter     2:    Energy =   0.1548
Level     0,  Iter     3:    Energy =   0.1590
Level     0,  Iter     4:    Energy =   0.1612
Level     0,  Iter     5:    Energy =   0.1637
Level     0,  Iter     6:    Energy =   0.1648
Level     0,  Iter     7:    Energy =   0.1660
Level     0,  Iter     8:    Energy =   0.1667
Level     0,  Iter     9:    Energy =   0.1672
Level     0,  Iter    10:    Energy =   0.1676
Level     0,  Iter    11:    Energy =   0.1677
Level     0,  Iter    12:    Energy =   0.1681
Level     0,  Iter    13:    Energy =   0.1681
Level     0,  Iter    14:    Energy =   0.1683
Level     0,  Iter    15:    Energy =   0.1684
Level     0,  Iter    16:    Energy =   0.1686
Level     0,  Iter    17:    Energy =   0.1686
Level     0,  Iter    18:    Energy =   0.1687
Level     0,  Iter    19:    Energy =   0.1688
Level     0,  Iter    20:    Energy =   0.1688
Level     0,  Iter    21:    Energy =   0.1688
Level     0,  Iter    22:    Energy =   0.1688
Level     0,  Iter    23:    Energy =   0.1688
Level     0,  Iter    24:    Energy =   0.1688
Level     0,  Iter    25:    Energy =   0.1688
Level     0,  Iter    26:    Energy =   0.1689
Level     0,  Iter    27:    Energy =   0.1689
Level     0,  Iter    28:    Energy =   0.1689
Level     0,  Iter    29:    Energy =   0.1689
Level     0,  Iter    30:    Energy =   0.1689
Level     0,  Iter    31:    Energy =   0.1689
Level     0,  Iter    32:    Energy =   0.1689
Level     0,  Iter    33:    Energy =   0.1690
Level     0,  Iter    34:    Energy =   0.1689
Level     0,  Iter    35:    Energy =   0.1690
Level     0,  Iter    36:    Energy =   0.1688
Level     0,  Iter    37:    Energy =   0.1691
Level     0,  Iter    38:    Energy =   0.1688
Level     0,  Iter    39:    Energy =   0.1692
Level     0,  Iter    40:    Energy =   0.1689
Level     0,  Iter    41:    Energy =   0.1693
Level     0,  Iter    42:    Energy =   0.1689
Level     0,  Iter    43:    Energy =   0.1693
Level     0,  Iter    44:    Energy =   0.1689
Level     0,  Iter    45:    Energy =   0.1694
Level     0,  Iter    46:    Energy =   0.1689
Level     0,  Iter    47:    Energy =   0.1694
Level     0,  Iter    48:    Energy =   0.1690
Level     0,  Iter    49:    Energy =   0.1694
Level     0,  Iter    50:    Energy =   0.1690
Level     0,  Iter    51:    Energy =   0.1694
Level     0,  Iter    52:    Energy =   0.1689
Level     0,  Iter    53:    Energy =   0.1694
Level     0,  Iter    54:    Energy =   0.1691
Level     0,  Iter    55:    Energy =   0.1694
Level     0,  Iter    56:    Energy =   0.1690
Level     0,  Iter    57:    Energy =   0.1694
Level     0,  Iter    58:    Energy =   0.1689
Level     0,  Iter    59:    Energy =   0.1695
END OF LEVEL     0    DetJac Range:   0.4467  to   1.7567 
  Avg. Gradient Time  : 0.0058s  35.76% 
  Avg. Gaussian Time  : 0.0073s  45.10% 
  Avg. Iteration Time : 0.0162s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1196
Level     1,  Iter     1:    Energy =   0.1246
Level     1,  Iter     2:    Energy =   0.1306
Level     1,  Iter     3:    Energy =   0.1355
Level     1,  Iter     4:    Energy =   0.1393
Level     1,  Iter     5:    Energy =   0.1419
Level     1,  Iter     6:    Energy =   0.1432
Level     1,  Iter     7:    Energy =   0.1442
Level     1,  Iter     8:    Energy =   0.1452
Level     1,  Iter     9:    Energy =   0.1458
Level     1,  Iter    10:    Energy =   0.1466
Level     1,  Iter    11:    Energy =   0.1471
Level     1,  Iter    12:    Energy =   0.1476
Level     1,  Iter    13:    Energy =   0.1480
Level     1,  Iter    14:    Energy =   0.1483
Level     1,  Iter    15:    Energy =   0.1484
Level     1,  Iter    16:    Energy =   0.1491
Level     1,  Iter    17:    Energy =   0.1490
Level     1,  Iter    18:    Energy =   0.1500
Level     1,  Iter    19:    Energy =   0.1499
Level     1,  Iter    20:    Energy =   0.1506
Level     1,  Iter    21:    Energy =   0.1503
Level     1,  Iter    22:    Energy =   0.1514
Level     1,  Iter    23:    Energy =   0.1510
Level     1,  Iter    24:    Energy =   0.1516
Level     1,  Iter    25:    Energy =   0.1512
Level     1,  Iter    26:    Energy =   0.1522
Level     1,  Iter    27:    Energy =   0.1519
Level     1,  Iter    28:    Energy =   0.1520
Level     1,  Iter    29:    Energy =   0.1517
Level     1,  Iter    30:    Energy =   0.1522
Level     1,  Iter    31:    Energy =   0.1519
Level     1,  Iter    32:    Energy =   0.1525
Level     1,  Iter    33:    Energy =   0.1521
Level     1,  Iter    34:    Energy =   0.1526
Level     1,  Iter    35:    Energy =   0.1522
Level     1,  Iter    36:    Energy =   0.1531
Level     1,  Iter    37:    Energy =   0.1526
Level     1,  Iter    38:    Energy =   0.1532
Level     1,  Iter    39:    Energy =   0.1527
Level     1,  Iter    40:    Energy =   0.1537
Level     1,  Iter    41:    Energy =   0.1534
Level     1,  Iter    42:    Energy =   0.1532
Level     1,  Iter    43:    Energy =   0.1528
Level     1,  Iter    44:    Energy =   0.1534
Level     1,  Iter    45:    Energy =   0.1530
Level     1,  Iter    46:    Energy =   0.1538
Level     1,  Iter    47:    Energy =   0.1533
Level     1,  Iter    48:    Energy =   0.1542
Level     1,  Iter    49:    Energy =   0.1537
Level     1,  Iter    50:    Energy =   0.1539
Level     1,  Iter    51:    Energy =   0.1533
Level     1,  Iter    52:    Energy =   0.1542
Level     1,  Iter    53:    Energy =   0.1537
Level     1,  Iter    54:    Energy =   0.1540
Level     1,  Iter    55:    Energy =   0.1535
Level     1,  Iter    56:    Energy =   0.1544
Level     1,  Iter    57:    Energy =   0.1539
Level     1,  Iter    58:    Energy =   0.1541
Level     1,  Iter    59:    Energy =   0.1536
END OF LEVEL     1    DetJac Range:   0.1110  to   2.8638 
  Avg. Gradient Time  : 0.0238s  35.27% 
  Avg. Gaussian Time  : 0.0318s  46.98% 
  Avg. Iteration Time : 0.0676s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0863
Level     2,  Iter     1:    Energy =   0.0893
Level     2,  Iter     2:    Energy =   0.0927
Level     2,  Iter     3:    Energy =   0.0959
Level     2,  Iter     4:    Energy =   0.0985
Level     2,  Iter     5:    Energy =   0.0991
Level     2,  Iter     6:    Energy =   0.1004
Level     2,  Iter     7:    Energy =   0.1007
Level     2,  Iter     8:    Energy =   0.1018
Level     2,  Iter     9:    Energy =   0.1020
Level     2,  Iter    10:    Energy =   0.1027
Level     2,  Iter    11:    Energy =   0.1029
Level     2,  Iter    12:    Energy =   0.1033
Level     2,  Iter    13:    Energy =   0.1035
Level     2,  Iter    14:    Energy =   0.1038
Level     2,  Iter    15:    Energy =   0.1039
Level     2,  Iter    16:    Energy =   0.1042
Level     2,  Iter    17:    Energy =   0.1043
Level     2,  Iter    18:    Energy =   0.1046
Level     2,  Iter    19:    Energy =   0.1046
END OF LEVEL     2    DetJac Range:   0.1212  to   2.9684 
  Avg. Gradient Time  : 0.1154s  35.88% 
  Avg. Gaussian Time  : 0.1553s  48.28% 
  Avg. Iteration Time : 0.3217s 

real	0m13.737s
user	0m19.029s
sys	0m2.635s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.388571 0.392857
+ echo 'CHUNK 0.388571 0.392857 1'
CHUNK 0.388571 0.392857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.388571 0.392857 1
====================================
         PROGRESS: 0.388571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 010
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 010 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=010
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.608
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4015.21   GNORM= 684.363
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4167.351     338.792       0.001
   2    4     -4212.661     158.772       1.000
   3    5     -4227.590     103.672       1.000
   4    7     -4254.055      68.220       5.000
   5    8     -4293.723      48.298       1.000
   6   10     -4300.600      77.983       0.471
   7   11     -4307.509      22.315       1.000
   8   12     -4307.903      28.091       1.000
   9   13     -4308.185      25.596       1.000
  10   14     -4308.423      19.533       1.000
  11   15     -4308.828      12.622       1.000
  12   16     -4309.105      10.535       1.000
  13   17     -4309.105      25.500       1.000
  14   19     -4309.352      21.235       0.433
  15   20     -4309.609       9.401       1.000
  16   21     -4309.658      16.459       1.000
  17   22     -4309.710      12.360       1.000
  18   24     -4309.761       9.193       0.473
  19   25     -4309.781       7.379       1.000
  20   26     -4309.822      11.448       1.000
  21   27     -4309.840       4.784       1.000
  22   28     -4309.852       6.158       1.000
  23   29     -4309.884       5.266       1.000
  24   30     -4309.892       5.301       1.000
  25   32     -4309.921       5.328       0.375
  26   33     -4309.923       6.039       1.000
  27   34     -4309.935       2.380       1.000
  28   35     -4309.944       1.855       1.000
  29   36     -4309.956       4.664       1.000
  30   37     -4309.962       3.269       1.000
  31   38     -4309.970       2.551       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.980416 0.00513889 -0.00508324 0.28736 
-0.0211822 1.00547 0.00189856 0.681373 
-0.00841156 -0.00487381 1.02609 1.4475 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3164.83   GNORM= 229.007
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3178.484      82.508       0.000
   2    4     -3182.058      73.124       1.000
   3    5     -3190.469     100.896       1.000
   4    6     -3195.847      64.666       1.000
   5    7     -3205.114      60.705       1.000
   6    8     -3207.987      40.863       1.000
   7   10     -3208.797      32.779       0.386
   8   11     -3209.288      23.408       1.000
   9   12     -3209.908      24.379       1.000
  10   13     -3213.083      38.831       1.000
  11   14     -3214.111      44.408       1.000
  12   15     -3214.976       9.386       1.000
  13   16     -3215.068       6.550       1.000
  14   17     -3215.131      11.168       1.000
  15   18     -3215.314      14.146       1.000
  16   19     -3215.687      23.493       1.000
  17   20     -3216.128      21.105       1.000
  18   21     -3216.655      17.787       1.000
  19   22     -3216.892       9.119       1.000
  20   23     -3216.957       8.425       1.000
  21   25     -3216.976       3.610       0.280
  22   26     -3216.995       2.145       1.000
  23   27     -3216.998       2.766       1.000
  24   28     -3217.032       6.210       1.000
  25   29     -3217.041       2.618       1.000
  26   30     -3217.057       3.536       1.000
  27   32     -3217.068       2.215       0.280
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.986786 0.00222894 -0.0323016 -0.259905 
-0.0256405 1.00942 -0.0055302 0.555023 
-0.00764042 -0.0106246 1.01849 1.23436 
0 0 0 1 

Final RAS Transform: 
0.986786 0.00222894 -0.0323016 -0.259905 
-0.0256405 1.00942 -0.0055302 0.555023 
-0.00764042 -0.0106246 1.01849 1.23436 
0 0 0 1 


real	0m4.251s
user	0m5.589s
sys	0m0.623s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.58999
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1340
Level     0,  Iter     1:    Energy =   0.1425
Level     0,  Iter     2:    Energy =   0.1499
Level     0,  Iter     3:    Energy =   0.1547
Level     0,  Iter     4:    Energy =   0.1577
Level     0,  Iter     5:    Energy =   0.1588
Level     0,  Iter     6:    Energy =   0.1596
Level     0,  Iter     7:    Energy =   0.1607
Level     0,  Iter     8:    Energy =   0.1609
Level     0,  Iter     9:    Energy =   0.1619
Level     0,  Iter    10:    Energy =   0.1620
Level     0,  Iter    11:    Energy =   0.1626
Level     0,  Iter    12:    Energy =   0.1625
Level     0,  Iter    13:    Energy =   0.1631
Level     0,  Iter    14:    Energy =   0.1628
Level     0,  Iter    15:    Energy =   0.1634
Level     0,  Iter    16:    Energy =   0.1631
Level     0,  Iter    17:    Energy =   0.1637
Level     0,  Iter    18:    Energy =   0.1634
Level     0,  Iter    19:    Energy =   0.1639
Level     0,  Iter    20:    Energy =   0.1635
Level     0,  Iter    21:    Energy =   0.1641
Level     0,  Iter    22:    Energy =   0.1637
Level     0,  Iter    23:    Energy =   0.1642
Level     0,  Iter    24:    Energy =   0.1637
Level     0,  Iter    25:    Energy =   0.1643
Level     0,  Iter    26:    Energy =   0.1638
Level     0,  Iter    27:    Energy =   0.1644
Level     0,  Iter    28:    Energy =   0.1638
Level     0,  Iter    29:    Energy =   0.1645
Level     0,  Iter    30:    Energy =   0.1639
Level     0,  Iter    31:    Energy =   0.1645
Level     0,  Iter    32:    Energy =   0.1640
Level     0,  Iter    33:    Energy =   0.1645
Level     0,  Iter    34:    Energy =   0.1640
Level     0,  Iter    35:    Energy =   0.1645
Level     0,  Iter    36:    Energy =   0.1639
Level     0,  Iter    37:    Energy =   0.1646
Level     0,  Iter    38:    Energy =   0.1640
Level     0,  Iter    39:    Energy =   0.1646
Level     0,  Iter    40:    Energy =   0.1640
Level     0,  Iter    41:    Energy =   0.1646
Level     0,  Iter    42:    Energy =   0.1640
Level     0,  Iter    43:    Energy =   0.1646
Level     0,  Iter    44:    Energy =   0.1640
Level     0,  Iter    45:    Energy =   0.1647
Level     0,  Iter    46:    Energy =   0.1641
Level     0,  Iter    47:    Energy =   0.1647
Level     0,  Iter    48:    Energy =   0.1641
Level     0,  Iter    49:    Energy =   0.1647
Level     0,  Iter    50:    Energy =   0.1641
Level     0,  Iter    51:    Energy =   0.1648
Level     0,  Iter    52:    Energy =   0.1641
Level     0,  Iter    53:    Energy =   0.1648
Level     0,  Iter    54:    Energy =   0.1641
Level     0,  Iter    55:    Energy =   0.1649
Level     0,  Iter    56:    Energy =   0.1642
Level     0,  Iter    57:    Energy =   0.1649
Level     0,  Iter    58:    Energy =   0.1641
Level     0,  Iter    59:    Energy =   0.1649
END OF LEVEL     0    DetJac Range:   0.3678  to   1.7766 
  Avg. Gradient Time  : 0.0054s  35.69% 
  Avg. Gaussian Time  : 0.0068s  45.00% 
  Avg. Iteration Time : 0.0151s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1147
Level     1,  Iter     1:    Energy =   0.1204
Level     1,  Iter     2:    Energy =   0.1260
Level     1,  Iter     3:    Energy =   0.1306
Level     1,  Iter     4:    Energy =   0.1344
Level     1,  Iter     5:    Energy =   0.1380
Level     1,  Iter     6:    Energy =   0.1397
Level     1,  Iter     7:    Energy =   0.1402
Level     1,  Iter     8:    Energy =   0.1418
Level     1,  Iter     9:    Energy =   0.1422
Level     1,  Iter    10:    Energy =   0.1433
Level     1,  Iter    11:    Energy =   0.1433
Level     1,  Iter    12:    Energy =   0.1446
Level     1,  Iter    13:    Energy =   0.1450
Level     1,  Iter    14:    Energy =   0.1452
Level     1,  Iter    15:    Energy =   0.1452
Level     1,  Iter    16:    Energy =   0.1464
Level     1,  Iter    17:    Energy =   0.1462
Level     1,  Iter    18:    Energy =   0.1474
Level     1,  Iter    19:    Energy =   0.1471
Level     1,  Iter    20:    Energy =   0.1480
Level     1,  Iter    21:    Energy =   0.1477
Level     1,  Iter    22:    Energy =   0.1486
Level     1,  Iter    23:    Energy =   0.1483
Level     1,  Iter    24:    Energy =   0.1485
Level     1,  Iter    25:    Energy =   0.1482
Level     1,  Iter    26:    Energy =   0.1490
Level     1,  Iter    27:    Energy =   0.1486
Level     1,  Iter    28:    Energy =   0.1491
Level     1,  Iter    29:    Energy =   0.1488
Level     1,  Iter    30:    Energy =   0.1494
Level     1,  Iter    31:    Energy =   0.1492
Level     1,  Iter    32:    Energy =   0.1491
Level     1,  Iter    33:    Energy =   0.1488
Level     1,  Iter    34:    Energy =   0.1494
Level     1,  Iter    35:    Energy =   0.1491
Level     1,  Iter    36:    Energy =   0.1494
Level     1,  Iter    37:    Energy =   0.1490
Level     1,  Iter    38:    Energy =   0.1497
Level     1,  Iter    39:    Energy =   0.1494
Level     1,  Iter    40:    Energy =   0.1494
Level     1,  Iter    41:    Energy =   0.1491
Level     1,  Iter    42:    Energy =   0.1497
Level     1,  Iter    43:    Energy =   0.1494
Level     1,  Iter    44:    Energy =   0.1497
Level     1,  Iter    45:    Energy =   0.1493
Level     1,  Iter    46:    Energy =   0.1499
Level     1,  Iter    47:    Energy =   0.1497
Level     1,  Iter    48:    Energy =   0.1496
Level     1,  Iter    49:    Energy =   0.1493
Level     1,  Iter    50:    Energy =   0.1499
Level     1,  Iter    51:    Energy =   0.1495
Level     1,  Iter    52:    Energy =   0.1500
Level     1,  Iter    53:    Energy =   0.1496
Level     1,  Iter    54:    Energy =   0.1501
Level     1,  Iter    55:    Energy =   0.1498
Level     1,  Iter    56:    Energy =   0.1501
Level     1,  Iter    57:    Energy =   0.1497
Level     1,  Iter    58:    Energy =   0.1503
Level     1,  Iter    59:    Energy =   0.1501
END OF LEVEL     1    DetJac Range:   0.1647  to   2.6399 
  Avg. Gradient Time  : 0.0239s  34.84% 
  Avg. Gaussian Time  : 0.0327s  47.61% 
  Avg. Iteration Time : 0.0687s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0832
Level     2,  Iter     1:    Energy =   0.0872
Level     2,  Iter     2:    Energy =   0.0904
Level     2,  Iter     3:    Energy =   0.0931
Level     2,  Iter     4:    Energy =   0.0950
Level     2,  Iter     5:    Energy =   0.0965
Level     2,  Iter     6:    Energy =   0.0977
Level     2,  Iter     7:    Energy =   0.0990
Level     2,  Iter     8:    Energy =   0.1004
Level     2,  Iter     9:    Energy =   0.1010
Level     2,  Iter    10:    Energy =   0.1011
Level     2,  Iter    11:    Energy =   0.1009
Level     2,  Iter    12:    Energy =   0.1018
Level     2,  Iter    13:    Energy =   0.1014
Level     2,  Iter    14:    Energy =   0.1025
Level     2,  Iter    15:    Energy =   0.1021
Level     2,  Iter    16:    Energy =   0.1029
Level     2,  Iter    17:    Energy =   0.1025
Level     2,  Iter    18:    Energy =   0.1035
Level     2,  Iter    19:    Energy =   0.1031
END OF LEVEL     2    DetJac Range:   0.1335  to   3.3188 
  Avg. Gradient Time  : 0.1163s  36.29% 
  Avg. Gaussian Time  : 0.1544s  48.21% 
  Avg. Iteration Time : 0.3204s 

real	0m13.714s
user	0m19.176s
sys	0m2.582s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.392857 0.397143
+ echo 'CHUNK 0.392857 0.397143 1'
CHUNK 0.392857 0.397143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.392857 0.397143 1
====================================
         PROGRESS: 0.392857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 011
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 011 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=011
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.636
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4398.86   GNORM= 140.459
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4422.285     222.204       0.002
   2    4     -4451.250     208.597       1.000
   3    5     -4527.580     112.047       1.000
   4    6     -4546.741      69.710       1.000
   5    7     -4548.158      68.177       1.000
   6    8     -4550.332      35.935       1.000
   7    9     -4552.440      46.451       1.000
   8   10     -4555.508      32.043       1.000
   9   11     -4556.798      39.445       1.000
  10   12     -4557.522      23.475       1.000
  11   13     -4557.929      17.980       1.000
  12   14     -4558.015      29.774       1.000
  13   15     -4558.598      20.377       1.000
  14   16     -4559.066      27.302       1.000
  15   18     -4559.338      28.096       0.256
  16   19     -4559.749      32.335       1.000
  17   20     -4560.059      17.121       1.000
  18   21     -4560.175       9.603       1.000
  19   22     -4560.283      16.059       1.000
  20   23     -4560.361       7.629       1.000
  21   24     -4560.438      10.896       1.000
  22   25     -4560.488      10.839       1.000
  23   27     -4560.585      17.819       0.375
  24   28     -4560.684      11.812       1.000
  25   29     -4560.798       4.082       1.000
  26   30     -4560.825       4.662       1.000
  27   31     -4560.835       6.318       1.000
  28   32     -4560.845       2.465       1.000
  29   33     -4560.854       2.278       1.000
  30   34     -4560.858      12.064       1.000
  31   35     -4560.892       3.246       1.000
  32   36     -4560.899       3.079       1.000
  33   37     -4560.900       2.381       1.000
  34   38     -4560.907       3.582       1.000
  35   40     -4560.912       1.934       0.342
  36   41     -4560.917       1.554       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.974484 0.00303161 -0.00877535 0.0813062 
0.00871086 1.03398 -0.00252149 -0.141102 
-0.00448007 -0.00955125 1.05064 1.32142 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3252.05   GNORM= 152.765
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3263.885      40.855       0.001
   2    4     -3265.381      32.666       1.000
   3    5     -3269.869      39.491       1.000
   4    7     -3273.868      90.833       0.370
   5    8     -3278.179      80.933       1.000
   6    9     -3283.046      56.491       1.000
   7   10     -3285.868      21.540       1.000
   8   11     -3286.334      17.401       1.000
   9   12     -3286.785      19.044       1.000
  10   13     -3288.145      35.120       1.000
  11   14     -3288.886      47.949       1.000
  12   15     -3289.529      11.094       1.000
  13   16     -3289.600       9.776       1.000
  14   17     -3289.802       8.334       1.000
  15   18     -3290.228      11.383       1.000
  16   20     -3290.410      14.701       0.263
  17   21     -3290.523       8.639       1.000
  18   22     -3290.554       4.595       1.000
  19   23     -3290.570       4.549       1.000
  20   24     -3290.584       4.266       1.000
  21   25     -3290.604       3.384       1.000
  22   26     -3290.649       6.774       1.000
  23   27     -3290.683       4.769       1.000
  24   28     -3290.700       2.746       1.000
  25   29     -3290.711       4.370       1.000
  26   30     -3290.725       1.624       1.000
  27   31     -3290.731       4.025       1.000
  28   32     -3290.731       6.642       1.000
  29   34     -3290.737       6.904       0.517
  30   35     -3290.752       2.285       1.000
  31   37     -3290.752       3.216       5.000
  32   38     -3290.765       4.747       1.000
  33   40     -3290.781       2.388       0.451
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.994866 -0.00234276 -0.0194372 -0.276367 
0.00565474 1.03964 -0.00941986 -0.290397 
-0.0160714 -0.0176468 1.04227 1.46454 
0 0 0 1 

Final RAS Transform: 
0.994866 -0.00234276 -0.0194372 -0.276367 
0.00565474 1.03964 -0.00941986 -0.290397 
-0.0160714 -0.0176468 1.04227 1.46454 
0 0 0 1 


real	0m4.651s
user	0m6.231s
sys	0m0.763s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.612021
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1389
Level     0,  Iter     1:    Energy =   0.1464
Level     0,  Iter     2:    Energy =   0.1545
Level     0,  Iter     3:    Energy =   0.1595
Level     0,  Iter     4:    Energy =   0.1619
Level     0,  Iter     5:    Energy =   0.1634
Level     0,  Iter     6:    Energy =   0.1646
Level     0,  Iter     7:    Energy =   0.1656
Level     0,  Iter     8:    Energy =   0.1661
Level     0,  Iter     9:    Energy =   0.1667
Level     0,  Iter    10:    Energy =   0.1668
Level     0,  Iter    11:    Energy =   0.1673
Level     0,  Iter    12:    Energy =   0.1673
Level     0,  Iter    13:    Energy =   0.1677
Level     0,  Iter    14:    Energy =   0.1677
Level     0,  Iter    15:    Energy =   0.1681
Level     0,  Iter    16:    Energy =   0.1679
Level     0,  Iter    17:    Energy =   0.1684
Level     0,  Iter    18:    Energy =   0.1681
Level     0,  Iter    19:    Energy =   0.1685
Level     0,  Iter    20:    Energy =   0.1682
Level     0,  Iter    21:    Energy =   0.1686
Level     0,  Iter    22:    Energy =   0.1683
Level     0,  Iter    23:    Energy =   0.1686
Level     0,  Iter    24:    Energy =   0.1684
Level     0,  Iter    25:    Energy =   0.1687
Level     0,  Iter    26:    Energy =   0.1684
Level     0,  Iter    27:    Energy =   0.1688
Level     0,  Iter    28:    Energy =   0.1685
Level     0,  Iter    29:    Energy =   0.1689
Level     0,  Iter    30:    Energy =   0.1685
Level     0,  Iter    31:    Energy =   0.1689
Level     0,  Iter    32:    Energy =   0.1686
Level     0,  Iter    33:    Energy =   0.1690
Level     0,  Iter    34:    Energy =   0.1686
Level     0,  Iter    35:    Energy =   0.1690
Level     0,  Iter    36:    Energy =   0.1687
Level     0,  Iter    37:    Energy =   0.1691
Level     0,  Iter    38:    Energy =   0.1687
Level     0,  Iter    39:    Energy =   0.1691
Level     0,  Iter    40:    Energy =   0.1687
Level     0,  Iter    41:    Energy =   0.1691
Level     0,  Iter    42:    Energy =   0.1687
Level     0,  Iter    43:    Energy =   0.1690
Level     0,  Iter    44:    Energy =   0.1686
Level     0,  Iter    45:    Energy =   0.1691
Level     0,  Iter    46:    Energy =   0.1687
Level     0,  Iter    47:    Energy =   0.1691
Level     0,  Iter    48:    Energy =   0.1687
Level     0,  Iter    49:    Energy =   0.1691
Level     0,  Iter    50:    Energy =   0.1687
Level     0,  Iter    51:    Energy =   0.1691
Level     0,  Iter    52:    Energy =   0.1687
Level     0,  Iter    53:    Energy =   0.1691
Level     0,  Iter    54:    Energy =   0.1687
Level     0,  Iter    55:    Energy =   0.1691
Level     0,  Iter    56:    Energy =   0.1687
Level     0,  Iter    57:    Energy =   0.1691
Level     0,  Iter    58:    Energy =   0.1688
Level     0,  Iter    59:    Energy =   0.1691
END OF LEVEL     0    DetJac Range:   0.4884  to   1.8958 
  Avg. Gradient Time  : 0.0055s  35.37% 
  Avg. Gaussian Time  : 0.0071s  45.28% 
  Avg. Iteration Time : 0.0156s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1167
Level     1,  Iter     1:    Energy =   0.1220
Level     1,  Iter     2:    Energy =   0.1282
Level     1,  Iter     3:    Energy =   0.1332
Level     1,  Iter     4:    Energy =   0.1369
Level     1,  Iter     5:    Energy =   0.1399
Level     1,  Iter     6:    Energy =   0.1425
Level     1,  Iter     7:    Energy =   0.1441
Level     1,  Iter     8:    Energy =   0.1444
Level     1,  Iter     9:    Energy =   0.1451
Level     1,  Iter    10:    Energy =   0.1451
Level     1,  Iter    11:    Energy =   0.1461
Level     1,  Iter    12:    Energy =   0.1459
Level     1,  Iter    13:    Energy =   0.1468
Level     1,  Iter    14:    Energy =   0.1465
Level     1,  Iter    15:    Energy =   0.1474
Level     1,  Iter    16:    Energy =   0.1471
Level     1,  Iter    17:    Energy =   0.1479
Level     1,  Iter    18:    Energy =   0.1475
Level     1,  Iter    19:    Energy =   0.1482
Level     1,  Iter    20:    Energy =   0.1478
Level     1,  Iter    21:    Energy =   0.1486
Level     1,  Iter    22:    Energy =   0.1481
Level     1,  Iter    23:    Energy =   0.1486
Level     1,  Iter    24:    Energy =   0.1482
Level     1,  Iter    25:    Energy =   0.1490
Level     1,  Iter    26:    Energy =   0.1485
Level     1,  Iter    27:    Energy =   0.1489
Level     1,  Iter    28:    Energy =   0.1485
Level     1,  Iter    29:    Energy =   0.1492
Level     1,  Iter    30:    Energy =   0.1488
Level     1,  Iter    31:    Energy =   0.1492
Level     1,  Iter    32:    Energy =   0.1488
Level     1,  Iter    33:    Energy =   0.1494
Level     1,  Iter    34:    Energy =   0.1490
Level     1,  Iter    35:    Energy =   0.1494
Level     1,  Iter    36:    Energy =   0.1489
Level     1,  Iter    37:    Energy =   0.1496
Level     1,  Iter    38:    Energy =   0.1491
Level     1,  Iter    39:    Energy =   0.1495
Level     1,  Iter    40:    Energy =   0.1490
Level     1,  Iter    41:    Energy =   0.1496
Level     1,  Iter    42:    Energy =   0.1491
Level     1,  Iter    43:    Energy =   0.1494
Level     1,  Iter    44:    Energy =   0.1490
Level     1,  Iter    45:    Energy =   0.1496
Level     1,  Iter    46:    Energy =   0.1492
Level     1,  Iter    47:    Energy =   0.1495
Level     1,  Iter    48:    Energy =   0.1491
Level     1,  Iter    49:    Energy =   0.1496
Level     1,  Iter    50:    Energy =   0.1492
Level     1,  Iter    51:    Energy =   0.1495
Level     1,  Iter    52:    Energy =   0.1491
Level     1,  Iter    53:    Energy =   0.1496
Level     1,  Iter    54:    Energy =   0.1492
Level     1,  Iter    55:    Energy =   0.1496
Level     1,  Iter    56:    Energy =   0.1492
Level     1,  Iter    57:    Energy =   0.1497
Level     1,  Iter    58:    Energy =   0.1492
Level     1,  Iter    59:    Energy =   0.1496
END OF LEVEL     1    DetJac Range:   0.2356  to   2.5321 
  Avg. Gradient Time  : 0.0239s  35.24% 
  Avg. Gaussian Time  : 0.0319s  47.06% 
  Avg. Iteration Time : 0.0679s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0814
Level     2,  Iter     1:    Energy =   0.0844
Level     2,  Iter     2:    Energy =   0.0877
Level     2,  Iter     3:    Energy =   0.0911
Level     2,  Iter     4:    Energy =   0.0933
Level     2,  Iter     5:    Energy =   0.0951
Level     2,  Iter     6:    Energy =   0.0972
Level     2,  Iter     7:    Energy =   0.0987
Level     2,  Iter     8:    Energy =   0.0996
Level     2,  Iter     9:    Energy =   0.1001
Level     2,  Iter    10:    Energy =   0.1006
Level     2,  Iter    11:    Energy =   0.1006
Level     2,  Iter    12:    Energy =   0.1008
Level     2,  Iter    13:    Energy =   0.1008
Level     2,  Iter    14:    Energy =   0.1009
Level     2,  Iter    15:    Energy =   0.1012
Level     2,  Iter    16:    Energy =   0.1013
Level     2,  Iter    17:    Energy =   0.1015
Level     2,  Iter    18:    Energy =   0.1016
Level     2,  Iter    19:    Energy =   0.1019
END OF LEVEL     2    DetJac Range:   0.1985  to   2.9950 
  Avg. Gradient Time  : 0.1205s  36.93% 
  Avg. Gaussian Time  : 0.1564s  47.91% 
  Avg. Iteration Time : 0.3264s 

real	0m13.906s
user	0m19.120s
sys	0m2.629s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.397143 0.401429
+ echo 'CHUNK 0.397143 0.401429 1'
CHUNK 0.397143 0.401429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.397143 0.401429 1
====================================
         PROGRESS: 0.397143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 012
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 012 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=012
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.626
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3876.6   GNORM= 458.715
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -4057.194     240.733       0.002
   2    3     -4065.506     297.003       1.000
   3    4     -4087.292      93.791       1.000
   4    6     -4107.545     177.696       5.000
   5    7     -4134.921     182.187       1.000
   6    8     -4178.548     159.737       1.000
   7   10     -4193.167      92.035       0.474
   8   11     -4198.046      38.860       1.000
   9   12     -4200.027      52.666       1.000
  10   13     -4200.432     123.334       1.000
  11   14     -4205.991      41.785       1.000
  12   15     -4207.068      22.451       1.000
  13   16     -4207.898      45.475       1.000
  14   17     -4209.251      45.198       1.000
  15   18     -4211.217      37.632       1.000
  16   20     -4212.252      34.844       0.246
  17   21     -4213.446      25.336       1.000
  18   22     -4213.602      22.009       1.000
  19   23     -4213.798       5.690       1.000
  20   25     -4213.804       5.585       0.338
  21   26     -4213.827       6.892       1.000
  22   28     -4213.839       6.793       0.317
  23   29     -4213.861       7.185       1.000
  24   30     -4213.872      11.533       1.000
  25   31     -4213.914       8.524       1.000
  26   32     -4213.946       6.145       1.000
  27   34     -4213.947       8.421       0.329
  28   35     -4213.965       6.782       1.000
  29   36     -4213.985       7.752       1.000
  30   37     -4214.012       4.477       1.000
  31   38     -4214.024       4.527       1.000
  32   39     -4214.027       2.448       1.000
  33   41     -4214.032       2.622       0.393
  34   42     -4214.037       2.913       1.000
  35   43     -4214.039       3.776       1.000
  36   44     -4214.044       7.454       1.000
  37   45     -4214.050       5.519       1.000
Final RAS Transform: 
0.998041 -0.0172014 -0.0344179 -0.0313196 
-0.0704844 0.985062 0.00264408 1.49082 
0.00214594 0.0108588 1.03746 1.01615 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2996.44   GNORM= 59.6387
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2999.383      71.448       0.002
   2    4     -3002.134      55.297       1.000
   3    5     -3007.930      70.419       1.000
   4    6     -3012.380      51.819       1.000
   5    7     -3015.213      22.536       1.000
   6    8     -3015.998      19.372       1.000
   7    9     -3016.418      47.444       1.000
   8   10     -3017.677      27.098       1.000
   9   11     -3019.525      23.475       1.000
  10   12     -3020.637      45.738       1.000
  11   13     -3021.385      19.826       1.000
  12   14     -3021.704      14.001       1.000
  13   15     -3021.932      17.710       1.000
  14   16     -3022.494      17.289       1.000
  15   17     -3023.418      20.586       1.000
  16   19     -3023.701      25.662       0.234
  17   20     -3024.323      14.960       1.000
  18   21     -3024.595      12.393       1.000
  19   22     -3024.811       9.163       1.000
  20   23     -3025.023      17.911       1.000
  21   24     -3025.229      10.910       1.000
  22   25     -3025.421       8.522       1.000
  23   27     -3025.432       7.059       0.298
  24   28     -3025.458       5.450       1.000
  25   29     -3025.506       7.212       1.000
  26   31     -3025.918      30.518       5.000
  27   32     -3026.216      19.652       1.000
  28   33     -3026.747      10.789       1.000
  29   34     -3026.771      13.790       1.000
  30   35     -3026.871       7.254       1.000
  31   36     -3026.894      11.847       1.000
  32   37     -3026.966       4.745       1.000
  33   38     -3027.012       5.354       1.000
  34   39     -3027.198       5.671       1.000
  35   40     -3027.262      15.047       1.000
  36   41     -3027.373       6.846       1.000
  37   42     -3027.380       8.964       1.000
  38   43     -3027.419       7.902       1.000
  39   44     -3027.422      10.413       1.000
  40   45     -3027.459       2.286       1.000
  41   46     -3027.473       2.312       1.000
  42   47     -3027.481       5.885       1.000
  43   48     -3027.503       4.424       1.000
  44   50     -3027.523       9.544       0.519
  45   51     -3027.538       7.361       1.000
  46   52     -3027.557       2.038       1.000
Final RAS Transform: 
0.995254 0.00146401 -0.0277339 -0.26539 
-0.0675333 1.01782 0.0273784 1.20983 
-0.00212975 -0.00469699 1.01528 1.08225 
0 0 0 1 

Final RAS Transform: 
0.995254 0.00146401 -0.0277339 -0.26539 
-0.0675333 1.01782 0.0273784 1.20983 
-0.00212975 -0.00469699 1.01528 1.08225 
0 0 0 1 


real	0m4.695s
user	0m6.152s
sys	0m0.724s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.603308
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1283
Level     0,  Iter     1:    Energy =   0.1365
Level     0,  Iter     2:    Energy =   0.1441
Level     0,  Iter     3:    Energy =   0.1492
Level     0,  Iter     4:    Energy =   0.1538
Level     0,  Iter     5:    Energy =   0.1572
Level     0,  Iter     6:    Energy =   0.1595
Level     0,  Iter     7:    Energy =   0.1609
Level     0,  Iter     8:    Energy =   0.1621
Level     0,  Iter     9:    Energy =   0.1631
Level     0,  Iter    10:    Energy =   0.1636
Level     0,  Iter    11:    Energy =   0.1645
Level     0,  Iter    12:    Energy =   0.1649
Level     0,  Iter    13:    Energy =   0.1656
Level     0,  Iter    14:    Energy =   0.1656
Level     0,  Iter    15:    Energy =   0.1663
Level     0,  Iter    16:    Energy =   0.1663
Level     0,  Iter    17:    Energy =   0.1670
Level     0,  Iter    18:    Energy =   0.1666
Level     0,  Iter    19:    Energy =   0.1672
Level     0,  Iter    20:    Energy =   0.1670
Level     0,  Iter    21:    Energy =   0.1677
Level     0,  Iter    22:    Energy =   0.1673
Level     0,  Iter    23:    Energy =   0.1679
Level     0,  Iter    24:    Energy =   0.1675
Level     0,  Iter    25:    Energy =   0.1679
Level     0,  Iter    26:    Energy =   0.1674
Level     0,  Iter    27:    Energy =   0.1680
Level     0,  Iter    28:    Energy =   0.1676
Level     0,  Iter    29:    Energy =   0.1682
Level     0,  Iter    30:    Energy =   0.1678
Level     0,  Iter    31:    Energy =   0.1684
Level     0,  Iter    32:    Energy =   0.1679
Level     0,  Iter    33:    Energy =   0.1685
Level     0,  Iter    34:    Energy =   0.1680
Level     0,  Iter    35:    Energy =   0.1685
Level     0,  Iter    36:    Energy =   0.1679
Level     0,  Iter    37:    Energy =   0.1685
Level     0,  Iter    38:    Energy =   0.1679
Level     0,  Iter    39:    Energy =   0.1685
Level     0,  Iter    40:    Energy =   0.1679
Level     0,  Iter    41:    Energy =   0.1686
Level     0,  Iter    42:    Energy =   0.1680
Level     0,  Iter    43:    Energy =   0.1685
Level     0,  Iter    44:    Energy =   0.1678
Level     0,  Iter    45:    Energy =   0.1686
Level     0,  Iter    46:    Energy =   0.1681
Level     0,  Iter    47:    Energy =   0.1689
Level     0,  Iter    48:    Energy =   0.1679
Level     0,  Iter    49:    Energy =   0.1687
Level     0,  Iter    50:    Energy =   0.1683
Level     0,  Iter    51:    Energy =   0.1690
Level     0,  Iter    52:    Energy =   0.1679
Level     0,  Iter    53:    Energy =   0.1689
Level     0,  Iter    54:    Energy =   0.1687
Level     0,  Iter    55:    Energy =   0.1690
Level     0,  Iter    56:    Energy =   0.1680
Level     0,  Iter    57:    Energy =   0.1686
Level     0,  Iter    58:    Energy =   0.1681
Level     0,  Iter    59:    Energy =   0.1688
END OF LEVEL     0    DetJac Range:   0.2549  to   1.8626 
  Avg. Gradient Time  : 0.0055s  35.37% 
  Avg. Gaussian Time  : 0.0070s  45.21% 
  Avg. Iteration Time : 0.0156s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1141
Level     1,  Iter     1:    Energy =   0.1200
Level     1,  Iter     2:    Energy =   0.1246
Level     1,  Iter     3:    Energy =   0.1285
Level     1,  Iter     4:    Energy =   0.1313
Level     1,  Iter     5:    Energy =   0.1339
Level     1,  Iter     6:    Energy =   0.1368
Level     1,  Iter     7:    Energy =   0.1399
Level     1,  Iter     8:    Energy =   0.1424
Level     1,  Iter     9:    Energy =   0.1431
Level     1,  Iter    10:    Energy =   0.1448
Level     1,  Iter    11:    Energy =   0.1452
Level     1,  Iter    12:    Energy =   0.1466
Level     1,  Iter    13:    Energy =   0.1466
Level     1,  Iter    14:    Energy =   0.1476
Level     1,  Iter    15:    Energy =   0.1475
Level     1,  Iter    16:    Energy =   0.1479
Level     1,  Iter    17:    Energy =   0.1478
Level     1,  Iter    18:    Energy =   0.1485
Level     1,  Iter    19:    Energy =   0.1483
Level     1,  Iter    20:    Energy =   0.1487
Level     1,  Iter    21:    Energy =   0.1485
Level     1,  Iter    22:    Energy =   0.1492
Level     1,  Iter    23:    Energy =   0.1490
Level     1,  Iter    24:    Energy =   0.1493
Level     1,  Iter    25:    Energy =   0.1491
Level     1,  Iter    26:    Energy =   0.1497
Level     1,  Iter    27:    Energy =   0.1495
Level     1,  Iter    28:    Energy =   0.1497
Level     1,  Iter    29:    Energy =   0.1495
Level     1,  Iter    30:    Energy =   0.1500
Level     1,  Iter    31:    Energy =   0.1498
Level     1,  Iter    32:    Energy =   0.1500
Level     1,  Iter    33:    Energy =   0.1498
Level     1,  Iter    34:    Energy =   0.1503
Level     1,  Iter    35:    Energy =   0.1501
Level     1,  Iter    36:    Energy =   0.1503
Level     1,  Iter    37:    Energy =   0.1500
Level     1,  Iter    38:    Energy =   0.1506
Level     1,  Iter    39:    Energy =   0.1503
Level     1,  Iter    40:    Energy =   0.1506
Level     1,  Iter    41:    Energy =   0.1503
Level     1,  Iter    42:    Energy =   0.1508
Level     1,  Iter    43:    Energy =   0.1505
Level     1,  Iter    44:    Energy =   0.1508
Level     1,  Iter    45:    Energy =   0.1505
Level     1,  Iter    46:    Energy =   0.1510
Level     1,  Iter    47:    Energy =   0.1507
Level     1,  Iter    48:    Energy =   0.1510
Level     1,  Iter    49:    Energy =   0.1507
Level     1,  Iter    50:    Energy =   0.1512
Level     1,  Iter    51:    Energy =   0.1509
Level     1,  Iter    52:    Energy =   0.1511
Level     1,  Iter    53:    Energy =   0.1508
Level     1,  Iter    54:    Energy =   0.1513
Level     1,  Iter    55:    Energy =   0.1509
Level     1,  Iter    56:    Energy =   0.1512
Level     1,  Iter    57:    Energy =   0.1509
Level     1,  Iter    58:    Energy =   0.1514
Level     1,  Iter    59:    Energy =   0.1510
END OF LEVEL     1    DetJac Range:   0.1482  to   3.7260 
  Avg. Gradient Time  : 0.0242s  35.52% 
  Avg. Gaussian Time  : 0.0320s  46.89% 
  Avg. Iteration Time : 0.0682s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0821
Level     2,  Iter     1:    Energy =   0.0856
Level     2,  Iter     2:    Energy =   0.0891
Level     2,  Iter     3:    Energy =   0.0921
Level     2,  Iter     4:    Energy =   0.0944
Level     2,  Iter     5:    Energy =   0.0965
Level     2,  Iter     6:    Energy =   0.0985
Level     2,  Iter     7:    Energy =   0.1001
Level     2,  Iter     8:    Energy =   0.1004
Level     2,  Iter     9:    Energy =   0.1017
Level     2,  Iter    10:    Energy =   0.1022
Level     2,  Iter    11:    Energy =   0.1027
Level     2,  Iter    12:    Energy =   0.1028
Level     2,  Iter    13:    Energy =   0.1035
Level     2,  Iter    14:    Energy =   0.1037
Level     2,  Iter    15:    Energy =   0.1040
Level     2,  Iter    16:    Energy =   0.1042
Level     2,  Iter    17:    Energy =   0.1045
Level     2,  Iter    18:    Energy =   0.1045
Level     2,  Iter    19:    Energy =   0.1049
END OF LEVEL     2    DetJac Range:   0.0784  to   3.5918 
  Avg. Gradient Time  : 0.1196s  36.86% 
  Avg. Gaussian Time  : 0.1574s  48.52% 
  Avg. Iteration Time : 0.3245s 

real	0m13.958s
user	0m19.114s
sys	0m2.604s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.401429 0.405714
+ echo 'CHUNK 0.401429 0.405714 1'
CHUNK 0.401429 0.405714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.401429 0.405714 1
====================================
         PROGRESS: 0.401429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 013
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 013 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=013
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.515
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3337.05   GNORM= 791.673
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3649.512     677.222       0.001
   2    3     -3817.920     313.804       1.000
   3    4     -3914.209     186.666       1.000
   4    5     -3925.978      78.669       1.000
   5    6     -3929.828      82.283       1.000
   6    7     -3950.117     133.249       1.000
   7    8     -3965.992     168.137       1.000
   8   10     -3974.330     174.237       0.500
   9   11     -3982.636      66.345       1.000
  10   12     -3986.800      73.615       1.000
  11   13     -3991.295     100.777       1.000
  12   14     -3996.320     143.455       1.000
  13   15     -4001.712      57.743       1.000
  14   16     -4002.705      32.246       1.000
  15   17     -4003.368      24.232       1.000
  16   18     -4004.070      25.602       1.000
  17   19     -4005.773      52.031       1.000
  18   20     -4007.460      63.396       1.000
  19   22     -4008.249      28.587       0.457
  20   23     -4008.984      16.532       1.000
  21   24     -4009.563      20.608       1.000
  22   25     -4009.698      18.575       1.000
  23   26     -4009.954       7.770       1.000
  24   27     -4010.034       4.906       1.000
  25   29     -4010.041       3.641       0.155
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.973935 -0.0150943 0.0074076 1.0837 
-0.0528946 1.0105 0.037236 0.982806 
0.0363642 0.00227465 0.994495 0.749504 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2930.63   GNORM= 102.609
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2936.800      24.916       0.001
   2    4     -2937.591      23.860       1.000
   3    5     -2940.556      65.585       1.000
   4    6     -2944.536      75.146       1.000
   5    7     -2953.722      67.581       1.000
   6    8     -2955.964      71.065       1.000
   7    9     -2957.117      20.052       1.000
   8   10     -2957.385      20.568       1.000
   9   11     -2958.080      16.776       1.000
  10   12     -2958.485      14.165       1.000
  11   13     -2958.807      12.817       1.000
  12   14     -2959.206      10.609       1.000
  13   15     -2959.750      23.884       1.000
  14   16     -2960.177      10.624       1.000
  15   17     -2960.291       5.759       1.000
  16   18     -2960.314       3.192       1.000
  17   19     -2960.343       4.498       1.000
  18   20     -2960.396       6.560       1.000
  19   21     -2960.554      20.537       1.000
  20   22     -2960.741       8.888       1.000
  21   23     -2960.865      10.515       1.000
  22   24     -2960.963      11.312       1.000
  23   26     -2961.086       7.114       0.123
  24   27     -2961.169       8.219       1.000
  25   29     -2961.240       6.966       0.129
  26   30     -2961.282       9.671       1.000
  27   31     -2961.325       5.653       1.000
  28   32     -2961.334       6.711       1.000
  29   33     -2961.353       4.994       1.000
  30   34     -2961.394       4.244       1.000
  31   35     -2961.413       5.227       1.000
  32   36     -2961.472       8.190       1.000
  33   38     -2961.488       3.734       0.310
  34   39     -2961.504       3.752       1.000
  35   41     -2961.518       2.543       0.423
  36   42     -2961.534       1.867       1.000
  37   43     -2961.537       1.784       1.000
  38   44     -2961.558       2.363       1.000
  39   46     -2961.581       3.506       0.100
  40   48     -2961.582       1.500       0.155
  41   49     -2961.588       2.080       1.000
  42   51     -2961.590       2.294       0.289
  43   52     -2961.605       1.831       1.000
  44   53     -2961.609       1.360       1.000
  45   54     -2961.618       2.402       1.000
Final RAS Transform: 
0.983276 -0.0141547 -0.00885789 0.447424 
-0.049733 1.02927 0.0333579 0.691685 
0.0247146 -0.021678 0.993678 1.29631 
0 0 0 1 

Final RAS Transform: 
0.983276 -0.0141547 -0.00885789 0.447424 
-0.049733 1.02927 0.0333579 0.691685 
0.0247146 -0.021678 0.993678 1.29631 
0 0 0 1 


real	0m4.594s
user	0m6.240s
sys	0m0.645s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.500797
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1241
Level     0,  Iter     1:    Energy =   0.1311
Level     0,  Iter     2:    Energy =   0.1385
Level     0,  Iter     3:    Energy =   0.1435
Level     0,  Iter     4:    Energy =   0.1459
Level     0,  Iter     5:    Energy =   0.1478
Level     0,  Iter     6:    Energy =   0.1491
Level     0,  Iter     7:    Energy =   0.1504
Level     0,  Iter     8:    Energy =   0.1515
Level     0,  Iter     9:    Energy =   0.1524
Level     0,  Iter    10:    Energy =   0.1527
Level     0,  Iter    11:    Energy =   0.1536
Level     0,  Iter    12:    Energy =   0.1540
Level     0,  Iter    13:    Energy =   0.1549
Level     0,  Iter    14:    Energy =   0.1552
Level     0,  Iter    15:    Energy =   0.1560
Level     0,  Iter    16:    Energy =   0.1558
Level     0,  Iter    17:    Energy =   0.1566
Level     0,  Iter    18:    Energy =   0.1564
Level     0,  Iter    19:    Energy =   0.1570
Level     0,  Iter    20:    Energy =   0.1562
Level     0,  Iter    21:    Energy =   0.1569
Level     0,  Iter    22:    Energy =   0.1564
Level     0,  Iter    23:    Energy =   0.1573
Level     0,  Iter    24:    Energy =   0.1570
Level     0,  Iter    25:    Energy =   0.1575
Level     0,  Iter    26:    Energy =   0.1566
Level     0,  Iter    27:    Energy =   0.1572
Level     0,  Iter    28:    Energy =   0.1568
Level     0,  Iter    29:    Energy =   0.1575
Level     0,  Iter    30:    Energy =   0.1569
Level     0,  Iter    31:    Energy =   0.1577
Level     0,  Iter    32:    Energy =   0.1571
Level     0,  Iter    33:    Energy =   0.1578
Level     0,  Iter    34:    Energy =   0.1569
Level     0,  Iter    35:    Energy =   0.1577
Level     0,  Iter    36:    Energy =   0.1572
Level     0,  Iter    37:    Energy =   0.1579
Level     0,  Iter    38:    Energy =   0.1569
Level     0,  Iter    39:    Energy =   0.1578
Level     0,  Iter    40:    Energy =   0.1574
Level     0,  Iter    41:    Energy =   0.1579
Level     0,  Iter    42:    Energy =   0.1570
Level     0,  Iter    43:    Energy =   0.1577
Level     0,  Iter    44:    Energy =   0.1574
Level     0,  Iter    45:    Energy =   0.1580
Level     0,  Iter    46:    Energy =   0.1574
Level     0,  Iter    47:    Energy =   0.1582
Level     0,  Iter    48:    Energy =   0.1577
Level     0,  Iter    49:    Energy =   0.1583
Level     0,  Iter    50:    Energy =   0.1574
Level     0,  Iter    51:    Energy =   0.1583
Level     0,  Iter    52:    Energy =   0.1579
Level     0,  Iter    53:    Energy =   0.1583
Level     0,  Iter    54:    Energy =   0.1574
Level     0,  Iter    55:    Energy =   0.1580
Level     0,  Iter    56:    Energy =   0.1574
Level     0,  Iter    57:    Energy =   0.1581
Level     0,  Iter    58:    Energy =   0.1575
Level     0,  Iter    59:    Energy =   0.1581
END OF LEVEL     0    DetJac Range:   0.2558  to   2.0193 
  Avg. Gradient Time  : 0.0057s  35.65% 
  Avg. Gaussian Time  : 0.0072s  44.95% 
  Avg. Iteration Time : 0.0160s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1126
Level     1,  Iter     1:    Energy =   0.1180
Level     1,  Iter     2:    Energy =   0.1235
Level     1,  Iter     3:    Energy =   0.1284
Level     1,  Iter     4:    Energy =   0.1318
Level     1,  Iter     5:    Energy =   0.1349
Level     1,  Iter     6:    Energy =   0.1375
Level     1,  Iter     7:    Energy =   0.1384
Level     1,  Iter     8:    Energy =   0.1394
Level     1,  Iter     9:    Energy =   0.1400
Level     1,  Iter    10:    Energy =   0.1406
Level     1,  Iter    11:    Energy =   0.1412
Level     1,  Iter    12:    Energy =   0.1414
Level     1,  Iter    13:    Energy =   0.1424
Level     1,  Iter    14:    Energy =   0.1424
Level     1,  Iter    15:    Energy =   0.1434
Level     1,  Iter    16:    Energy =   0.1435
Level     1,  Iter    17:    Energy =   0.1437
Level     1,  Iter    18:    Energy =   0.1437
Level     1,  Iter    19:    Energy =   0.1444
Level     1,  Iter    20:    Energy =   0.1442
Level     1,  Iter    21:    Energy =   0.1446
Level     1,  Iter    22:    Energy =   0.1446
Level     1,  Iter    23:    Energy =   0.1447
Level     1,  Iter    24:    Energy =   0.1446
Level     1,  Iter    25:    Energy =   0.1451
Level     1,  Iter    26:    Energy =   0.1448
Level     1,  Iter    27:    Energy =   0.1453
Level     1,  Iter    28:    Energy =   0.1452
Level     1,  Iter    29:    Energy =   0.1454
Level     1,  Iter    30:    Energy =   0.1451
Level     1,  Iter    31:    Energy =   0.1457
Level     1,  Iter    32:    Energy =   0.1454
Level     1,  Iter    33:    Energy =   0.1459
Level     1,  Iter    34:    Energy =   0.1456
Level     1,  Iter    35:    Energy =   0.1459
Level     1,  Iter    36:    Energy =   0.1456
Level     1,  Iter    37:    Energy =   0.1460
Level     1,  Iter    38:    Energy =   0.1457
Level     1,  Iter    39:    Energy =   0.1461
Level     1,  Iter    40:    Energy =   0.1457
Level     1,  Iter    41:    Energy =   0.1462
Level     1,  Iter    42:    Energy =   0.1459
Level     1,  Iter    43:    Energy =   0.1462
Level     1,  Iter    44:    Energy =   0.1460
Level     1,  Iter    45:    Energy =   0.1462
Level     1,  Iter    46:    Energy =   0.1459
Level     1,  Iter    47:    Energy =   0.1464
Level     1,  Iter    48:    Energy =   0.1460
Level     1,  Iter    49:    Energy =   0.1464
Level     1,  Iter    50:    Energy =   0.1461
Level     1,  Iter    51:    Energy =   0.1464
Level     1,  Iter    52:    Energy =   0.1461
Level     1,  Iter    53:    Energy =   0.1464
Level     1,  Iter    54:    Energy =   0.1461
Level     1,  Iter    55:    Energy =   0.1466
Level     1,  Iter    56:    Energy =   0.1462
Level     1,  Iter    57:    Energy =   0.1466
Level     1,  Iter    58:    Energy =   0.1463
Level     1,  Iter    59:    Energy =   0.1466
END OF LEVEL     1    DetJac Range:   0.0575  to   3.4148 
  Avg. Gradient Time  : 0.0246s  35.43% 
  Avg. Gaussian Time  : 0.0324s  46.66% 
  Avg. Iteration Time : 0.0695s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0812
Level     2,  Iter     1:    Energy =   0.0845
Level     2,  Iter     2:    Energy =   0.0881
Level     2,  Iter     3:    Energy =   0.0908
Level     2,  Iter     4:    Energy =   0.0929
Level     2,  Iter     5:    Energy =   0.0951
Level     2,  Iter     6:    Energy =   0.0970
Level     2,  Iter     7:    Energy =   0.0983
Level     2,  Iter     8:    Energy =   0.0994
Level     2,  Iter     9:    Energy =   0.1005
Level     2,  Iter    10:    Energy =   0.1014
Level     2,  Iter    11:    Energy =   0.1016
Level     2,  Iter    12:    Energy =   0.1017
Level     2,  Iter    13:    Energy =   0.1028
Level     2,  Iter    14:    Energy =   0.1027
Level     2,  Iter    15:    Energy =   0.1033
Level     2,  Iter    16:    Energy =   0.1035
Level     2,  Iter    17:    Energy =   0.1036
Level     2,  Iter    18:    Energy =   0.1037
Level     2,  Iter    19:    Energy =   0.1038
END OF LEVEL     2    DetJac Range:   0.0411  to   4.9408 
  Avg. Gradient Time  : 0.1182s  36.44% 
  Avg. Gaussian Time  : 0.1562s  48.14% 
  Avg. Iteration Time : 0.3245s 

real	0m13.949s
user	0m19.295s
sys	0m2.688s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.405714 0.41
+ echo 'CHUNK 0.405714 0.41 1'
CHUNK 0.405714 0.41 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.405714 0.41 1
====================================
         PROGRESS: 0.405714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 014
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 014 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=014
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.61
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3909.12   GNORM= 890.701
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -4051.117     798.273       0.001
   2    3     -4224.049     172.839       1.000
   3    4     -4238.896     118.661       1.000
   4    5     -4257.187     134.408       1.000
   5    6     -4277.613     155.532       1.000
   6    7     -4338.475     117.073       1.000
   7    9     -4348.150     110.858       0.278
   8   10     -4356.888      59.070       1.000
   9   11     -4360.857      69.480       1.000
  10   12     -4365.503      72.369       1.000
  11   13     -4371.064      48.783       1.000
  12   14     -4372.640      24.865       1.000
  13   15     -4372.954      16.468       1.000
  14   16     -4373.484      14.581       1.000
  15   18     -4374.248      49.748       0.385
  16   19     -4374.876      32.015       1.000
  17   20     -4375.166      17.218       1.000
  18   21     -4375.241       5.823       1.000
  19   22     -4375.272       5.992       1.000
  20   23     -4375.300      17.593       1.000
  21   24     -4375.335      10.610       1.000
  22   25     -4375.376       6.576       1.000
  23   26     -4375.432      11.368       1.000
  24   28     -4375.442      13.180       0.189
  25   29     -4375.466      13.348       1.000
  26   30     -4375.484       6.120       1.000
  27   31     -4375.494       5.230       1.000
  28   33     -4375.518       6.967       0.236
  29   34     -4375.520       4.832       1.000
  30   35     -4375.524       3.490       1.000
  31   36     -4375.531       2.258       1.000
  32   38     -4375.533       5.097       0.509
  33   39     -4375.537       2.498       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.961786 0.00549155 -0.0126276 0.609331 
0.00677153 0.99186 -0.0174125 0.281888 
0.0106895 -0.00579336 1.03676 1.56657 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3184.66   GNORM= 180.986
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3194.704      61.929       0.001
   2    4     -3196.890      48.911       1.000
   3    5     -3199.287      33.097       1.000
   4    6     -3200.374      28.566       1.000
   5    7     -3207.715      77.662       1.000
   6    8     -3213.711      76.778       1.000
   7   10     -3214.828      60.296       0.206
   8   11     -3217.309      30.390       1.000
   9   12     -3218.169      16.412       1.000
  10   13     -3218.986      16.939       1.000
  11   14     -3219.352      40.371       1.000
  12   15     -3220.212      20.876       1.000
  13   16     -3220.936      13.124       1.000
  14   18     -3221.143      15.775       0.468
  15   19     -3221.274      12.387       1.000
  16   20     -3221.661      17.033       1.000
  17   21     -3222.199      24.777       1.000
  18   22     -3222.721      25.431       1.000
  19   23     -3223.041      29.261       1.000
  20   24     -3223.342       7.573       1.000
  21   25     -3223.392       5.520       1.000
  22   26     -3223.417       7.159       1.000
  23   27     -3223.474       8.487       1.000
  24   28     -3223.563       6.037       1.000
  25   30     -3223.687      14.729       0.398
  26   31     -3223.835      10.137       1.000
  27   32     -3223.924       8.529       1.000
  28   33     -3223.963      11.249       1.000
  29   34     -3224.024       2.916       1.000
  30   35     -3224.028       2.774       1.000
  31   36     -3224.070       7.690       1.000
  32   37     -3224.113       5.629       1.000
  33   38     -3224.147       4.680       1.000
  34   39     -3224.183       4.672       1.000
  35   41     -3224.198       5.321       0.339
  36   42     -3224.211       3.280       1.000
  37   43     -3224.217       2.343       1.000
  38   45     -3224.218       2.234       0.201
Final RAS Transform: 
0.973619 -0.000872174 -0.0345461 0.0752246 
-0.0213 1.00939 -0.00907394 0.662512 
0.0102712 -0.0134987 1.04023 1.70178 
0 0 0 1 

Final RAS Transform: 
0.973619 -0.000872174 -0.0345461 0.0752246 
-0.0213 1.00939 -0.00907394 0.662512 
0.0102712 -0.0134987 1.04023 1.70178 
0 0 0 1 


real	0m4.736s
user	0m6.305s
sys	0m0.683s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.586839
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1353
Level     0,  Iter     1:    Energy =   0.1420
Level     0,  Iter     2:    Energy =   0.1472
Level     0,  Iter     3:    Energy =   0.1507
Level     0,  Iter     4:    Energy =   0.1526
Level     0,  Iter     5:    Energy =   0.1543
Level     0,  Iter     6:    Energy =   0.1552
Level     0,  Iter     7:    Energy =   0.1559
Level     0,  Iter     8:    Energy =   0.1565
Level     0,  Iter     9:    Energy =   0.1569
Level     0,  Iter    10:    Energy =   0.1572
Level     0,  Iter    11:    Energy =   0.1575
Level     0,  Iter    12:    Energy =   0.1577
Level     0,  Iter    13:    Energy =   0.1579
Level     0,  Iter    14:    Energy =   0.1579
Level     0,  Iter    15:    Energy =   0.1582
Level     0,  Iter    16:    Energy =   0.1581
Level     0,  Iter    17:    Energy =   0.1587
Level     0,  Iter    18:    Energy =   0.1584
Level     0,  Iter    19:    Energy =   0.1590
Level     0,  Iter    20:    Energy =   0.1586
Level     0,  Iter    21:    Energy =   0.1593
Level     0,  Iter    22:    Energy =   0.1588
Level     0,  Iter    23:    Energy =   0.1596
Level     0,  Iter    24:    Energy =   0.1590
Level     0,  Iter    25:    Energy =   0.1598
Level     0,  Iter    26:    Energy =   0.1591
Level     0,  Iter    27:    Energy =   0.1600
Level     0,  Iter    28:    Energy =   0.1590
Level     0,  Iter    29:    Energy =   0.1603
Level     0,  Iter    30:    Energy =   0.1594
Level     0,  Iter    31:    Energy =   0.1604
Level     0,  Iter    32:    Energy =   0.1593
Level     0,  Iter    33:    Energy =   0.1606
Level     0,  Iter    34:    Energy =   0.1596
Level     0,  Iter    35:    Energy =   0.1606
Level     0,  Iter    36:    Energy =   0.1597
Level     0,  Iter    37:    Energy =   0.1606
Level     0,  Iter    38:    Energy =   0.1598
Level     0,  Iter    39:    Energy =   0.1605
Level     0,  Iter    40:    Energy =   0.1597
Level     0,  Iter    41:    Energy =   0.1606
Level     0,  Iter    42:    Energy =   0.1596
Level     0,  Iter    43:    Energy =   0.1607
Level     0,  Iter    44:    Energy =   0.1599
Level     0,  Iter    45:    Energy =   0.1608
Level     0,  Iter    46:    Energy =   0.1594
Level     0,  Iter    47:    Energy =   0.1608
Level     0,  Iter    48:    Energy =   0.1602
Level     0,  Iter    49:    Energy =   0.1609
Level     0,  Iter    50:    Energy =   0.1596
Level     0,  Iter    51:    Energy =   0.1608
Level     0,  Iter    52:    Energy =   0.1601
Level     0,  Iter    53:    Energy =   0.1608
Level     0,  Iter    54:    Energy =   0.1595
Level     0,  Iter    55:    Energy =   0.1608
Level     0,  Iter    56:    Energy =   0.1601
Level     0,  Iter    57:    Energy =   0.1608
Level     0,  Iter    58:    Energy =   0.1595
Level     0,  Iter    59:    Energy =   0.1608
END OF LEVEL     0    DetJac Range:   0.3886  to   2.0477 
  Avg. Gradient Time  : 0.0056s  35.33% 
  Avg. Gaussian Time  : 0.0072s  45.23% 
  Avg. Iteration Time : 0.0160s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1134
Level     1,  Iter     1:    Energy =   0.1189
Level     1,  Iter     2:    Energy =   0.1251
Level     1,  Iter     3:    Energy =   0.1299
Level     1,  Iter     4:    Energy =   0.1336
Level     1,  Iter     5:    Energy =   0.1368
Level     1,  Iter     6:    Energy =   0.1389
Level     1,  Iter     7:    Energy =   0.1405
Level     1,  Iter     8:    Energy =   0.1416
Level     1,  Iter     9:    Energy =   0.1423
Level     1,  Iter    10:    Energy =   0.1432
Level     1,  Iter    11:    Energy =   0.1432
Level     1,  Iter    12:    Energy =   0.1443
Level     1,  Iter    13:    Energy =   0.1440
Level     1,  Iter    14:    Energy =   0.1453
Level     1,  Iter    15:    Energy =   0.1450
Level     1,  Iter    16:    Energy =   0.1459
Level     1,  Iter    17:    Energy =   0.1456
Level     1,  Iter    18:    Energy =   0.1463
Level     1,  Iter    19:    Energy =   0.1459
Level     1,  Iter    20:    Energy =   0.1466
Level     1,  Iter    21:    Energy =   0.1462
Level     1,  Iter    22:    Energy =   0.1469
Level     1,  Iter    23:    Energy =   0.1465
Level     1,  Iter    24:    Energy =   0.1472
Level     1,  Iter    25:    Energy =   0.1467
Level     1,  Iter    26:    Energy =   0.1474
Level     1,  Iter    27:    Energy =   0.1469
Level     1,  Iter    28:    Energy =   0.1477
Level     1,  Iter    29:    Energy =   0.1472
Level     1,  Iter    30:    Energy =   0.1480
Level     1,  Iter    31:    Energy =   0.1474
Level     1,  Iter    32:    Energy =   0.1481
Level     1,  Iter    33:    Energy =   0.1476
Level     1,  Iter    34:    Energy =   0.1483
Level     1,  Iter    35:    Energy =   0.1478
Level     1,  Iter    36:    Energy =   0.1485
Level     1,  Iter    37:    Energy =   0.1480
Level     1,  Iter    38:    Energy =   0.1487
Level     1,  Iter    39:    Energy =   0.1481
Level     1,  Iter    40:    Energy =   0.1488
Level     1,  Iter    41:    Energy =   0.1482
Level     1,  Iter    42:    Energy =   0.1489
Level     1,  Iter    43:    Energy =   0.1483
Level     1,  Iter    44:    Energy =   0.1489
Level     1,  Iter    45:    Energy =   0.1484
Level     1,  Iter    46:    Energy =   0.1489
Level     1,  Iter    47:    Energy =   0.1483
Level     1,  Iter    48:    Energy =   0.1490
Level     1,  Iter    49:    Energy =   0.1484
Level     1,  Iter    50:    Energy =   0.1490
Level     1,  Iter    51:    Energy =   0.1484
Level     1,  Iter    52:    Energy =   0.1490
Level     1,  Iter    53:    Energy =   0.1484
Level     1,  Iter    54:    Energy =   0.1489
Level     1,  Iter    55:    Energy =   0.1484
Level     1,  Iter    56:    Energy =   0.1489
Level     1,  Iter    57:    Energy =   0.1484
Level     1,  Iter    58:    Energy =   0.1489
Level     1,  Iter    59:    Energy =   0.1483
END OF LEVEL     1    DetJac Range:   0.1457  to   3.0778 
  Avg. Gradient Time  : 0.0240s  34.80% 
  Avg. Gaussian Time  : 0.0329s  47.66% 
  Avg. Iteration Time : 0.0690s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0808
Level     2,  Iter     1:    Energy =   0.0841
Level     2,  Iter     2:    Energy =   0.0871
Level     2,  Iter     3:    Energy =   0.0891
Level     2,  Iter     4:    Energy =   0.0913
Level     2,  Iter     5:    Energy =   0.0932
Level     2,  Iter     6:    Energy =   0.0950
Level     2,  Iter     7:    Energy =   0.0964
Level     2,  Iter     8:    Energy =   0.0978
Level     2,  Iter     9:    Energy =   0.0990
Level     2,  Iter    10:    Energy =   0.0993
Level     2,  Iter    11:    Energy =   0.1000
Level     2,  Iter    12:    Energy =   0.1001
Level     2,  Iter    13:    Energy =   0.1009
Level     2,  Iter    14:    Energy =   0.1009
Level     2,  Iter    15:    Energy =   0.1010
Level     2,  Iter    16:    Energy =   0.1015
Level     2,  Iter    17:    Energy =   0.1013
Level     2,  Iter    18:    Energy =   0.1021
Level     2,  Iter    19:    Energy =   0.1020
END OF LEVEL     2    DetJac Range:   0.1175  to   3.6735 
  Avg. Gradient Time  : 0.1154s  35.96% 
  Avg. Gaussian Time  : 0.1548s  48.22% 
  Avg. Iteration Time : 0.3210s 

real	0m13.889s
user	0m19.157s
sys	0m2.715s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.41 0.414286
+ echo 'CHUNK 0.41 0.414286 1'
CHUNK 0.41 0.414286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.41 0.414286 1
====================================
         PROGRESS: 0.41               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 015
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 015 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=015
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.56
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3878.87   GNORM= 429.594
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -4057.002     230.317       0.002
   2    4     -4073.070     113.746       0.476
   3    5     -4081.006      64.558       1.000
   4    6     -4087.407      63.335       1.000
   5    7     -4112.587      90.897       1.000
   6    8     -4122.603     101.868       1.000
   7    9     -4127.814      69.485       1.000
   8   10     -4131.510      25.121       1.000
   9   11     -4132.853      20.709       1.000
  10   12     -4135.635      34.588       1.000
  11   14     -4135.914      23.704       0.277
  12   15     -4136.151      10.647       1.000
  13   16     -4136.256      10.880       1.000
  14   17     -4136.504      17.964       1.000
  15   18     -4136.746      13.029       1.000
  16   19     -4136.970      15.399       1.000
  17   20     -4137.162      16.096       1.000
  18   21     -4137.300      11.367       1.000
  19   22     -4137.385      10.762       1.000
  20   23     -4137.484       6.701       1.000
  21   24     -4137.565      13.176       1.000
  22   25     -4137.592      12.604       1.000
  23   26     -4137.640       5.177       1.000
  24   27     -4137.652      12.484       1.000
  25   28     -4137.672       3.499       1.000
  26   29     -4137.684       2.932       1.000
  27   30     -4137.717       5.785       1.000
  28   31     -4137.724       4.507       1.000
  29   32     -4137.733       2.990       1.000
  30   35     -4137.735       1.628       0.127
  31   36     -4137.739       2.168       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.984399 -0.00416913 -0.0178776 -0.0265476 
0.00857483 1.01457 0.038838 0.313052 
-0.0187668 -0.0157847 1.00304 1.22705 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3009.58   GNORM= 149.695
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3024.359      53.965       0.001
   2    4     -3027.000      53.201       1.000
   3    5     -3032.348      75.419       1.000
   4    6     -3040.006      51.265       1.000
   5    7     -3044.334      39.929       1.000
   6    8     -3045.936      41.799       1.000
   7    9     -3047.183      44.028       1.000
   8   10     -3052.499      89.977       1.000
   9   11     -3054.042      60.123       1.000
  10   12     -3056.265      13.633       1.000
  11   13     -3056.466      13.653       1.000
  12   14     -3056.748      18.759       1.000
  13   15     -3057.967      29.443       1.000
  14   16     -3059.969      35.478       1.000
  15   17     -3060.158      50.288       1.000
  16   18     -3060.727      14.377       1.000
  17   19     -3060.867      10.139       1.000
  18   20     -3060.936      12.040       1.000
  19   21     -3061.051       9.877       1.000
  20   22     -3061.551       9.754       1.000
  21   23     -3061.735       9.036       1.000
  22   24     -3061.938       4.012       1.000
  23   25     -3062.040       4.551       1.000
  24   26     -3062.128       5.031       1.000
  25   27     -3062.157      11.923       1.000
  26   28     -3062.167       8.350       1.000
  27   29     -3062.184       6.142       1.000
  28   30     -3062.187       2.501       1.000
  29   31     -3062.190       2.755       1.000
  30   32     -3062.197       1.577       1.000
  31   33     -3062.201       2.143       1.000
  32   35     -3062.213       4.179       0.146
  33   36     -3062.220       4.932       1.000
  34   37     -3062.242       1.553       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00049 0.00601703 -0.0287616 -0.547671 
-0.016771 1.03778 0.0491164 0.376175 
-0.00382455 -0.027735 0.990301 0.978691 
0 0 0 1 

Final RAS Transform: 
1.00049 0.00601703 -0.0287616 -0.547671 
-0.016771 1.03778 0.0491164 0.376175 
-0.00382455 -0.027735 0.990301 0.978691 
0 0 0 1 


real	0m4.360s
user	0m5.841s
sys	0m0.631s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.537892
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1283
Level     0,  Iter     1:    Energy =   0.1356
Level     0,  Iter     2:    Energy =   0.1435
Level     0,  Iter     3:    Energy =   0.1486
Level     0,  Iter     4:    Energy =   0.1527
Level     0,  Iter     5:    Energy =   0.1544
Level     0,  Iter     6:    Energy =   0.1559
Level     0,  Iter     7:    Energy =   0.1567
Level     0,  Iter     8:    Energy =   0.1573
Level     0,  Iter     9:    Energy =   0.1578
Level     0,  Iter    10:    Energy =   0.1582
Level     0,  Iter    11:    Energy =   0.1585
Level     0,  Iter    12:    Energy =   0.1588
Level     0,  Iter    13:    Energy =   0.1590
Level     0,  Iter    14:    Energy =   0.1593
Level     0,  Iter    15:    Energy =   0.1593
Level     0,  Iter    16:    Energy =   0.1596
Level     0,  Iter    17:    Energy =   0.1596
Level     0,  Iter    18:    Energy =   0.1599
Level     0,  Iter    19:    Energy =   0.1600
Level     0,  Iter    20:    Energy =   0.1602
Level     0,  Iter    21:    Energy =   0.1602
Level     0,  Iter    22:    Energy =   0.1604
Level     0,  Iter    23:    Energy =   0.1603
Level     0,  Iter    24:    Energy =   0.1606
Level     0,  Iter    25:    Energy =   0.1606
Level     0,  Iter    26:    Energy =   0.1608
Level     0,  Iter    27:    Energy =   0.1607
Level     0,  Iter    28:    Energy =   0.1610
Level     0,  Iter    29:    Energy =   0.1608
Level     0,  Iter    30:    Energy =   0.1612
Level     0,  Iter    31:    Energy =   0.1609
Level     0,  Iter    32:    Energy =   0.1613
Level     0,  Iter    33:    Energy =   0.1611
Level     0,  Iter    34:    Energy =   0.1614
Level     0,  Iter    35:    Energy =   0.1612
Level     0,  Iter    36:    Energy =   0.1615
Level     0,  Iter    37:    Energy =   0.1612
Level     0,  Iter    38:    Energy =   0.1616
Level     0,  Iter    39:    Energy =   0.1614
Level     0,  Iter    40:    Energy =   0.1616
Level     0,  Iter    41:    Energy =   0.1613
Level     0,  Iter    42:    Energy =   0.1616
Level     0,  Iter    43:    Energy =   0.1613
Level     0,  Iter    44:    Energy =   0.1616
Level     0,  Iter    45:    Energy =   0.1614
Level     0,  Iter    46:    Energy =   0.1616
Level     0,  Iter    47:    Energy =   0.1613
Level     0,  Iter    48:    Energy =   0.1616
Level     0,  Iter    49:    Energy =   0.1614
Level     0,  Iter    50:    Energy =   0.1616
Level     0,  Iter    51:    Energy =   0.1613
Level     0,  Iter    52:    Energy =   0.1616
Level     0,  Iter    53:    Energy =   0.1614
Level     0,  Iter    54:    Energy =   0.1616
Level     0,  Iter    55:    Energy =   0.1613
Level     0,  Iter    56:    Energy =   0.1616
Level     0,  Iter    57:    Energy =   0.1614
Level     0,  Iter    58:    Energy =   0.1616
Level     0,  Iter    59:    Energy =   0.1614
END OF LEVEL     0    DetJac Range:   0.4122  to   1.9188 
  Avg. Gradient Time  : 0.0056s  35.46% 
  Avg. Gaussian Time  : 0.0072s  45.18% 
  Avg. Iteration Time : 0.0159s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1095
Level     1,  Iter     1:    Energy =   0.1168
Level     1,  Iter     2:    Energy =   0.1232
Level     1,  Iter     3:    Energy =   0.1282
Level     1,  Iter     4:    Energy =   0.1320
Level     1,  Iter     5:    Energy =   0.1356
Level     1,  Iter     6:    Energy =   0.1382
Level     1,  Iter     7:    Energy =   0.1401
Level     1,  Iter     8:    Energy =   0.1408
Level     1,  Iter     9:    Energy =   0.1409
Level     1,  Iter    10:    Energy =   0.1416
Level     1,  Iter    11:    Energy =   0.1417
Level     1,  Iter    12:    Energy =   0.1421
Level     1,  Iter    13:    Energy =   0.1423
Level     1,  Iter    14:    Energy =   0.1426
Level     1,  Iter    15:    Energy =   0.1428
Level     1,  Iter    16:    Energy =   0.1429
Level     1,  Iter    17:    Energy =   0.1432
Level     1,  Iter    18:    Energy =   0.1433
Level     1,  Iter    19:    Energy =   0.1435
Level     1,  Iter    20:    Energy =   0.1436
Level     1,  Iter    21:    Energy =   0.1438
Level     1,  Iter    22:    Energy =   0.1438
Level     1,  Iter    23:    Energy =   0.1440
Level     1,  Iter    24:    Energy =   0.1441
Level     1,  Iter    25:    Energy =   0.1442
Level     1,  Iter    26:    Energy =   0.1442
Level     1,  Iter    27:    Energy =   0.1444
Level     1,  Iter    28:    Energy =   0.1444
Level     1,  Iter    29:    Energy =   0.1445
Level     1,  Iter    30:    Energy =   0.1446
Level     1,  Iter    31:    Energy =   0.1447
Level     1,  Iter    32:    Energy =   0.1447
Level     1,  Iter    33:    Energy =   0.1448
Level     1,  Iter    34:    Energy =   0.1448
Level     1,  Iter    35:    Energy =   0.1450
Level     1,  Iter    36:    Energy =   0.1450
Level     1,  Iter    37:    Energy =   0.1451
Level     1,  Iter    38:    Energy =   0.1451
Level     1,  Iter    39:    Energy =   0.1451
Level     1,  Iter    40:    Energy =   0.1451
Level     1,  Iter    41:    Energy =   0.1452
Level     1,  Iter    42:    Energy =   0.1452
Level     1,  Iter    43:    Energy =   0.1453
Level     1,  Iter    44:    Energy =   0.1453
Level     1,  Iter    45:    Energy =   0.1453
Level     1,  Iter    46:    Energy =   0.1453
Level     1,  Iter    47:    Energy =   0.1453
Level     1,  Iter    48:    Energy =   0.1453
Level     1,  Iter    49:    Energy =   0.1454
Level     1,  Iter    50:    Energy =   0.1454
Level     1,  Iter    51:    Energy =   0.1454
Level     1,  Iter    52:    Energy =   0.1454
Level     1,  Iter    53:    Energy =   0.1455
Level     1,  Iter    54:    Energy =   0.1455
Level     1,  Iter    55:    Energy =   0.1455
Level     1,  Iter    56:    Energy =   0.1455
Level     1,  Iter    57:    Energy =   0.1456
Level     1,  Iter    58:    Energy =   0.1455
Level     1,  Iter    59:    Energy =   0.1457
END OF LEVEL     1    DetJac Range:   0.2084  to   2.9871 
  Avg. Gradient Time  : 0.0239s  35.19% 
  Avg. Gaussian Time  : 0.0323s  47.50% 
  Avg. Iteration Time : 0.0681s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0813
Level     2,  Iter     1:    Energy =   0.0852
Level     2,  Iter     2:    Energy =   0.0884
Level     2,  Iter     3:    Energy =   0.0909
Level     2,  Iter     4:    Energy =   0.0925
Level     2,  Iter     5:    Energy =   0.0951
Level     2,  Iter     6:    Energy =   0.0957
Level     2,  Iter     7:    Energy =   0.0965
Level     2,  Iter     8:    Energy =   0.0971
Level     2,  Iter     9:    Energy =   0.0976
Level     2,  Iter    10:    Energy =   0.0981
Level     2,  Iter    11:    Energy =   0.0984
Level     2,  Iter    12:    Energy =   0.0989
Level     2,  Iter    13:    Energy =   0.0991
Level     2,  Iter    14:    Energy =   0.0995
Level     2,  Iter    15:    Energy =   0.0997
Level     2,  Iter    16:    Energy =   0.1000
Level     2,  Iter    17:    Energy =   0.1001
Level     2,  Iter    18:    Energy =   0.1004
Level     2,  Iter    19:    Energy =   0.1004
END OF LEVEL     2    DetJac Range:   0.1460  to   3.8281 
  Avg. Gradient Time  : 0.1173s  36.58% 
  Avg. Gaussian Time  : 0.1521s  47.43% 
  Avg. Iteration Time : 0.3207s 

real	0m13.760s
user	0m19.078s
sys	0m2.555s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.414286 0.418571
+ echo 'CHUNK 0.414286 0.418571 1'
CHUNK 0.414286 0.418571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.414286 0.418571 1
====================================
         PROGRESS: 0.414286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 016
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 016 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=016
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.626
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4115.35   GNORM= 814.327
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4317.401     376.472       0.001
   2    4     -4364.925     199.687       1.000
   3    5     -4385.109     149.266       1.000
   4    6     -4401.382     181.398       1.000
   5    7     -4463.892     328.195       1.000
   6    8     -4511.457     232.053       1.000
   7    9     -4545.324      66.587       1.000
   8   10     -4548.362      45.964       1.000
   9   11     -4548.975     103.205       1.000
  10   12     -4551.439      41.951       1.000
  11   13     -4553.672      29.830       1.000
  12   14     -4554.963      24.391       1.000
  13   15     -4555.542      43.611       1.000
  14   16     -4556.654      22.152       1.000
  15   18     -4556.790      17.692       0.462
  16   19     -4556.882       7.840       1.000
  17   20     -4556.907       7.801       1.000
  18   22     -4556.920       4.606       0.198
  19   23     -4556.931       9.364       1.000
  20   24     -4556.951      13.067       1.000
  21   25     -4556.967       3.576       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.977984 0.0103651 -0.026241 -0.0778877 
-0.010635 1.02959 0.00684558 -0.11252 
-0.0223128 0.00999591 1.06391 1.52516 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3373.8   GNORM= 186.809
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3388.617     100.563       0.001
   2    4     -3392.923      46.323       1.000
   3    5     -3394.473      38.281       1.000
   4    6     -3400.392      66.381       1.000
   5    7     -3408.027      78.251       1.000
   6    8     -3415.703      59.294       1.000
   7    9     -3417.762     110.625       1.000
   8   10     -3420.920      39.506       1.000
   9   11     -3422.179      30.304       1.000
  10   12     -3425.353      45.396       1.000
  11   13     -3425.658      50.007       1.000
  12   14     -3426.491      15.194       1.000
  13   15     -3426.577      10.459       1.000
  14   16     -3426.732      12.173       1.000
  15   17     -3427.423      26.166       1.000
  16   18     -3428.151      25.162       1.000
  17   20     -3428.355      34.321       0.323
  18   21     -3428.691      16.311       1.000
  19   22     -3428.802       7.490       1.000
  20   23     -3428.840       7.908       1.000
  21   24     -3428.885       9.563       1.000
  22   25     -3428.976      12.800       1.000
  23   26     -3429.011       7.095       1.000
  24   27     -3429.052       4.908       1.000
  25   28     -3429.066       5.597       1.000
  26   29     -3429.094       3.660       1.000
  27   30     -3429.122       7.096       1.000
  28   31     -3429.162       4.499       1.000
  29   32     -3429.204       5.271       1.000
  30   33     -3429.229       3.714       1.000
  31   34     -3429.243       6.545       1.000
  32   35     -3429.258       5.711       1.000
  33   36     -3429.285       6.896       1.000
  34   37     -3429.310       2.762       1.000
  35   38     -3429.324       5.411       1.000
  36   39     -3429.334       3.769       1.000
  37   41     -3429.346       4.556       0.430
  38   42     -3429.357       3.132       1.000
  39   43     -3429.370       1.765       1.000
Final RAS Transform: 
1.00153 -0.00277551 -0.0309773 -0.2569 
-0.0134097 1.02481 -0.00557846 -0.0911864 
-0.0315164 -0.00548488 1.05187 1.55961 
0 0 0 1 

Final RAS Transform: 
1.00153 -0.00277551 -0.0309773 -0.2569 
-0.0134097 1.02481 -0.00557846 -0.0911864 
-0.0315164 -0.00548488 1.05187 1.55961 
0 0 0 1 


real	0m4.586s
user	0m6.163s
sys	0m0.637s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.593642
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1406
Level     0,  Iter     1:    Energy =   0.1482
Level     0,  Iter     2:    Energy =   0.1550
Level     0,  Iter     3:    Energy =   0.1597
Level     0,  Iter     4:    Energy =   0.1616
Level     0,  Iter     5:    Energy =   0.1633
Level     0,  Iter     6:    Energy =   0.1643
Level     0,  Iter     7:    Energy =   0.1654
Level     0,  Iter     8:    Energy =   0.1657
Level     0,  Iter     9:    Energy =   0.1666
Level     0,  Iter    10:    Energy =   0.1666
Level     0,  Iter    11:    Energy =   0.1673
Level     0,  Iter    12:    Energy =   0.1670
Level     0,  Iter    13:    Energy =   0.1677
Level     0,  Iter    14:    Energy =   0.1673
Level     0,  Iter    15:    Energy =   0.1680
Level     0,  Iter    16:    Energy =   0.1675
Level     0,  Iter    17:    Energy =   0.1682
Level     0,  Iter    18:    Energy =   0.1678
Level     0,  Iter    19:    Energy =   0.1685
Level     0,  Iter    20:    Energy =   0.1679
Level     0,  Iter    21:    Energy =   0.1687
Level     0,  Iter    22:    Energy =   0.1681
Level     0,  Iter    23:    Energy =   0.1689
Level     0,  Iter    24:    Energy =   0.1681
Level     0,  Iter    25:    Energy =   0.1690
Level     0,  Iter    26:    Energy =   0.1685
Level     0,  Iter    27:    Energy =   0.1692
Level     0,  Iter    28:    Energy =   0.1684
Level     0,  Iter    29:    Energy =   0.1692
Level     0,  Iter    30:    Energy =   0.1684
Level     0,  Iter    31:    Energy =   0.1693
Level     0,  Iter    32:    Energy =   0.1686
Level     0,  Iter    33:    Energy =   0.1693
Level     0,  Iter    34:    Energy =   0.1683
Level     0,  Iter    35:    Energy =   0.1694
Level     0,  Iter    36:    Energy =   0.1687
Level     0,  Iter    37:    Energy =   0.1694
Level     0,  Iter    38:    Energy =   0.1684
Level     0,  Iter    39:    Energy =   0.1695
Level     0,  Iter    40:    Energy =   0.1687
Level     0,  Iter    41:    Energy =   0.1695
Level     0,  Iter    42:    Energy =   0.1685
Level     0,  Iter    43:    Energy =   0.1696
Level     0,  Iter    44:    Energy =   0.1689
Level     0,  Iter    45:    Energy =   0.1696
Level     0,  Iter    46:    Energy =   0.1685
Level     0,  Iter    47:    Energy =   0.1696
Level     0,  Iter    48:    Energy =   0.1689
Level     0,  Iter    49:    Energy =   0.1696
Level     0,  Iter    50:    Energy =   0.1685
Level     0,  Iter    51:    Energy =   0.1696
Level     0,  Iter    52:    Energy =   0.1690
Level     0,  Iter    53:    Energy =   0.1696
Level     0,  Iter    54:    Energy =   0.1685
Level     0,  Iter    55:    Energy =   0.1696
Level     0,  Iter    56:    Energy =   0.1689
Level     0,  Iter    57:    Energy =   0.1696
Level     0,  Iter    58:    Energy =   0.1686
Level     0,  Iter    59:    Energy =   0.1696
END OF LEVEL     0    DetJac Range:   0.3305  to   1.9826 
  Avg. Gradient Time  : 0.0055s  35.66% 
  Avg. Gaussian Time  : 0.0069s  44.95% 
  Avg. Iteration Time : 0.0154s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1212
Level     1,  Iter     1:    Energy =   0.1275
Level     1,  Iter     2:    Energy =   0.1343
Level     1,  Iter     3:    Energy =   0.1394
Level     1,  Iter     4:    Energy =   0.1441
Level     1,  Iter     5:    Energy =   0.1466
Level     1,  Iter     6:    Energy =   0.1477
Level     1,  Iter     7:    Energy =   0.1496
Level     1,  Iter     8:    Energy =   0.1501
Level     1,  Iter     9:    Energy =   0.1515
Level     1,  Iter    10:    Energy =   0.1518
Level     1,  Iter    11:    Energy =   0.1528
Level     1,  Iter    12:    Energy =   0.1529
Level     1,  Iter    13:    Energy =   0.1536
Level     1,  Iter    14:    Energy =   0.1537
Level     1,  Iter    15:    Energy =   0.1541
Level     1,  Iter    16:    Energy =   0.1543
Level     1,  Iter    17:    Energy =   0.1546
Level     1,  Iter    18:    Energy =   0.1548
Level     1,  Iter    19:    Energy =   0.1549
Level     1,  Iter    20:    Energy =   0.1552
Level     1,  Iter    21:    Energy =   0.1552
Level     1,  Iter    22:    Energy =   0.1555
Level     1,  Iter    23:    Energy =   0.1555
Level     1,  Iter    24:    Energy =   0.1558
Level     1,  Iter    25:    Energy =   0.1557
Level     1,  Iter    26:    Energy =   0.1560
Level     1,  Iter    27:    Energy =   0.1560
Level     1,  Iter    28:    Energy =   0.1563
Level     1,  Iter    29:    Energy =   0.1561
Level     1,  Iter    30:    Energy =   0.1565
Level     1,  Iter    31:    Energy =   0.1563
Level     1,  Iter    32:    Energy =   0.1568
Level     1,  Iter    33:    Energy =   0.1565
Level     1,  Iter    34:    Energy =   0.1570
Level     1,  Iter    35:    Energy =   0.1568
Level     1,  Iter    36:    Energy =   0.1572
Level     1,  Iter    37:    Energy =   0.1569
Level     1,  Iter    38:    Energy =   0.1574
Level     1,  Iter    39:    Energy =   0.1571
Level     1,  Iter    40:    Energy =   0.1576
Level     1,  Iter    41:    Energy =   0.1573
Level     1,  Iter    42:    Energy =   0.1578
Level     1,  Iter    43:    Energy =   0.1574
Level     1,  Iter    44:    Energy =   0.1580
Level     1,  Iter    45:    Energy =   0.1576
Level     1,  Iter    46:    Energy =   0.1581
Level     1,  Iter    47:    Energy =   0.1577
Level     1,  Iter    48:    Energy =   0.1582
Level     1,  Iter    49:    Energy =   0.1578
Level     1,  Iter    50:    Energy =   0.1583
Level     1,  Iter    51:    Energy =   0.1579
Level     1,  Iter    52:    Energy =   0.1583
Level     1,  Iter    53:    Energy =   0.1579
Level     1,  Iter    54:    Energy =   0.1583
Level     1,  Iter    55:    Energy =   0.1580
Level     1,  Iter    56:    Energy =   0.1584
Level     1,  Iter    57:    Energy =   0.1580
Level     1,  Iter    58:    Energy =   0.1584
Level     1,  Iter    59:    Energy =   0.1580
END OF LEVEL     1    DetJac Range:   0.1209  to   3.1322 
  Avg. Gradient Time  : 0.0241s  35.36% 
  Avg. Gaussian Time  : 0.0321s  47.10% 
  Avg. Iteration Time : 0.0681s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0886
Level     2,  Iter     1:    Energy =   0.0922
Level     2,  Iter     2:    Energy =   0.0955
Level     2,  Iter     3:    Energy =   0.0991
Level     2,  Iter     4:    Energy =   0.1015
Level     2,  Iter     5:    Energy =   0.1037
Level     2,  Iter     6:    Energy =   0.1051
Level     2,  Iter     7:    Energy =   0.1062
Level     2,  Iter     8:    Energy =   0.1075
Level     2,  Iter     9:    Energy =   0.1086
Level     2,  Iter    10:    Energy =   0.1088
Level     2,  Iter    11:    Energy =   0.1097
Level     2,  Iter    12:    Energy =   0.1096
Level     2,  Iter    13:    Energy =   0.1105
Level     2,  Iter    14:    Energy =   0.1105
Level     2,  Iter    15:    Energy =   0.1113
Level     2,  Iter    16:    Energy =   0.1110
Level     2,  Iter    17:    Energy =   0.1118
Level     2,  Iter    18:    Energy =   0.1119
Level     2,  Iter    19:    Energy =   0.1123
END OF LEVEL     2    DetJac Range:   0.0820  to   4.0747 
  Avg. Gradient Time  : 0.1170s  35.85% 
  Avg. Gaussian Time  : 0.1561s  47.83% 
  Avg. Iteration Time : 0.3263s 

real	0m13.898s
user	0m19.130s
sys	0m2.595s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.418571 0.422857
+ echo 'CHUNK 0.418571 0.422857 1'
CHUNK 0.418571 0.422857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.418571 0.422857 1
====================================
         PROGRESS: 0.418571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 017
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 017 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=017
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.701
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4325.6   GNORM= 537.381
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4471.622     175.757       0.001
   2    4     -4479.636     216.712       1.000
   3    5     -4489.315     100.270       1.000
   4    6     -4498.010      90.830       1.000
   5    7     -4520.639     221.560       1.000
   6    8     -4544.180     196.738       1.000
   7   10     -4566.316     263.698       0.246
   8   11     -4577.346      83.195       1.000
   9   12     -4585.683      23.119       1.000
  10   13     -4587.053      25.907       1.000
  11   15     -4588.675      31.534       0.361
  12   16     -4589.806      21.904       1.000
  13   18     -4590.045      12.117       0.488
  14   19     -4590.148      12.415       1.000
  15   20     -4590.284      18.828       1.000
  16   21     -4590.410      14.099       1.000
  17   22     -4590.533       8.190       1.000
  18   23     -4590.580       5.561       1.000
  19   25     -4590.591       7.023       0.416
  20   26     -4590.612       3.892       1.000
  21   27     -4590.628       5.471       1.000
  22   29     -4590.639       4.957       0.426
  23   30     -4590.649       4.000       1.000
  24   32     -4590.654       3.552       0.200
  25   33     -4590.658       4.646       1.000
  26   34     -4590.660       2.853       1.000
  27   36     -4590.663       3.273       0.471
  28   37     -4590.666       3.485       1.000
  29   38     -4590.673       3.026       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.989129 0.0157488 -0.00406423 0.254501 
0.00397747 1.00918 -0.0319808 -0.507512 
-0.00907323 -0.000154368 1.04336 1.33832 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3237.71   GNORM= 151.955
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3245.096      72.238       0.001
   2    4     -3247.601      45.714       1.000
   3    5     -3250.601      34.787       1.000
   4    6     -3253.857      54.633       1.000
   5    7     -3258.147      62.870       1.000
   6    8     -3266.156      73.434       1.000
   7   10     -3269.335      26.465       0.517
   8   11     -3270.229      24.695       1.000
   9   12     -3270.842      23.726       1.000
  10   13     -3271.505      21.555       1.000
  11   14     -3272.981      33.602       1.000
  12   15     -3273.523      15.746       1.000
  13   16     -3273.732      12.336       1.000
  14   17     -3273.862      11.912       1.000
  15   18     -3274.600      36.093       1.000
  16   19     -3274.960      15.805       1.000
  17   20     -3275.018       6.200       1.000
  18   21     -3275.024       1.950       1.000
  19   22     -3275.026       2.067       1.000
  20   23     -3275.044       3.139       1.000
  21   24     -3275.063       2.686       1.000
  22   25     -3275.064       4.912       1.000
  23   26     -3275.071       8.421       1.000
  24   27     -3275.092       1.487       1.000
  25   28     -3275.093       1.386       1.000
  26   31     -3275.144       8.280       1.797
  27   33     -3275.144      11.028       0.132
  28   34     -3275.165       4.247       1.000
  29   35     -3275.172       1.228       1.000
  30   37     -3275.175       1.085       0.151
  31   38     -3275.182       2.267       1.000
  32   39     -3275.190       4.097       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.994177 0.00685507 -0.0181732 -0.0530472 
-0.00578673 1.02186 -0.0167933 -0.216646 
-0.00473048 -0.00763524 1.02443 0.962711 
0 0 0 1 

Final RAS Transform: 
0.994177 0.00685507 -0.0181732 -0.0530472 
-0.00578673 1.02186 -0.0167933 -0.216646 
-0.00473048 -0.00763524 1.02443 0.962711 
0 0 0 1 


real	0m4.501s
user	0m6.000s
sys	0m0.688s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.6715
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1414
Level     0,  Iter     1:    Energy =   0.1515
Level     0,  Iter     2:    Energy =   0.1585
Level     0,  Iter     3:    Energy =   0.1625
Level     0,  Iter     4:    Energy =   0.1639
Level     0,  Iter     5:    Energy =   0.1653
Level     0,  Iter     6:    Energy =   0.1659
Level     0,  Iter     7:    Energy =   0.1669
Level     0,  Iter     8:    Energy =   0.1671
Level     0,  Iter     9:    Energy =   0.1680
Level     0,  Iter    10:    Energy =   0.1680
Level     0,  Iter    11:    Energy =   0.1687
Level     0,  Iter    12:    Energy =   0.1687
Level     0,  Iter    13:    Energy =   0.1692
Level     0,  Iter    14:    Energy =   0.1692
Level     0,  Iter    15:    Energy =   0.1695
Level     0,  Iter    16:    Energy =   0.1693
Level     0,  Iter    17:    Energy =   0.1696
Level     0,  Iter    18:    Energy =   0.1694
Level     0,  Iter    19:    Energy =   0.1697
Level     0,  Iter    20:    Energy =   0.1695
Level     0,  Iter    21:    Energy =   0.1697
Level     0,  Iter    22:    Energy =   0.1695
Level     0,  Iter    23:    Energy =   0.1696
Level     0,  Iter    24:    Energy =   0.1693
Level     0,  Iter    25:    Energy =   0.1695
Level     0,  Iter    26:    Energy =   0.1692
Level     0,  Iter    27:    Energy =   0.1693
Level     0,  Iter    28:    Energy =   0.1693
Level     0,  Iter    29:    Energy =   0.1692
Level     0,  Iter    30:    Energy =   0.1693
Level     0,  Iter    31:    Energy =   0.1693
Level     0,  Iter    32:    Energy =   0.1693
Level     0,  Iter    33:    Energy =   0.1694
Level     0,  Iter    34:    Energy =   0.1694
Level     0,  Iter    35:    Energy =   0.1695
Level     0,  Iter    36:    Energy =   0.1696
Level     0,  Iter    37:    Energy =   0.1695
Level     0,  Iter    38:    Energy =   0.1697
Level     0,  Iter    39:    Energy =   0.1696
Level     0,  Iter    40:    Energy =   0.1697
Level     0,  Iter    41:    Energy =   0.1696
Level     0,  Iter    42:    Energy =   0.1697
Level     0,  Iter    43:    Energy =   0.1696
Level     0,  Iter    44:    Energy =   0.1698
Level     0,  Iter    45:    Energy =   0.1695
Level     0,  Iter    46:    Energy =   0.1697
Level     0,  Iter    47:    Energy =   0.1695
Level     0,  Iter    48:    Energy =   0.1698
Level     0,  Iter    49:    Energy =   0.1694
Level     0,  Iter    50:    Energy =   0.1698
Level     0,  Iter    51:    Energy =   0.1695
Level     0,  Iter    52:    Energy =   0.1699
Level     0,  Iter    53:    Energy =   0.1696
Level     0,  Iter    54:    Energy =   0.1699
Level     0,  Iter    55:    Energy =   0.1695
Level     0,  Iter    56:    Energy =   0.1699
Level     0,  Iter    57:    Energy =   0.1696
Level     0,  Iter    58:    Energy =   0.1700
Level     0,  Iter    59:    Energy =   0.1697
END OF LEVEL     0    DetJac Range:   0.4433  to   1.9191 
  Avg. Gradient Time  : 0.0056s  34.89% 
  Avg. Gaussian Time  : 0.0073s  45.57% 
  Avg. Iteration Time : 0.0159s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1170
Level     1,  Iter     1:    Energy =   0.1229
Level     1,  Iter     2:    Energy =   0.1289
Level     1,  Iter     3:    Energy =   0.1338
Level     1,  Iter     4:    Energy =   0.1369
Level     1,  Iter     5:    Energy =   0.1385
Level     1,  Iter     6:    Energy =   0.1398
Level     1,  Iter     7:    Energy =   0.1410
Level     1,  Iter     8:    Energy =   0.1418
Level     1,  Iter     9:    Energy =   0.1426
Level     1,  Iter    10:    Energy =   0.1433
Level     1,  Iter    11:    Energy =   0.1438
Level     1,  Iter    12:    Energy =   0.1444
Level     1,  Iter    13:    Energy =   0.1448
Level     1,  Iter    14:    Energy =   0.1453
Level     1,  Iter    15:    Energy =   0.1455
Level     1,  Iter    16:    Energy =   0.1460
Level     1,  Iter    17:    Energy =   0.1461
Level     1,  Iter    18:    Energy =   0.1466
Level     1,  Iter    19:    Energy =   0.1466
Level     1,  Iter    20:    Energy =   0.1471
Level     1,  Iter    21:    Energy =   0.1470
Level     1,  Iter    22:    Energy =   0.1475
Level     1,  Iter    23:    Energy =   0.1473
Level     1,  Iter    24:    Energy =   0.1477
Level     1,  Iter    25:    Energy =   0.1476
Level     1,  Iter    26:    Energy =   0.1480
Level     1,  Iter    27:    Energy =   0.1478
Level     1,  Iter    28:    Energy =   0.1482
Level     1,  Iter    29:    Energy =   0.1480
Level     1,  Iter    30:    Energy =   0.1484
Level     1,  Iter    31:    Energy =   0.1481
Level     1,  Iter    32:    Energy =   0.1485
Level     1,  Iter    33:    Energy =   0.1483
Level     1,  Iter    34:    Energy =   0.1486
Level     1,  Iter    35:    Energy =   0.1484
Level     1,  Iter    36:    Energy =   0.1487
Level     1,  Iter    37:    Energy =   0.1485
Level     1,  Iter    38:    Energy =   0.1489
Level     1,  Iter    39:    Energy =   0.1486
Level     1,  Iter    40:    Energy =   0.1490
Level     1,  Iter    41:    Energy =   0.1487
Level     1,  Iter    42:    Energy =   0.1491
Level     1,  Iter    43:    Energy =   0.1488
Level     1,  Iter    44:    Energy =   0.1492
Level     1,  Iter    45:    Energy =   0.1489
Level     1,  Iter    46:    Energy =   0.1493
Level     1,  Iter    47:    Energy =   0.1490
Level     1,  Iter    48:    Energy =   0.1493
Level     1,  Iter    49:    Energy =   0.1490
Level     1,  Iter    50:    Energy =   0.1494
Level     1,  Iter    51:    Energy =   0.1491
Level     1,  Iter    52:    Energy =   0.1494
Level     1,  Iter    53:    Energy =   0.1491
Level     1,  Iter    54:    Energy =   0.1495
Level     1,  Iter    55:    Energy =   0.1492
Level     1,  Iter    56:    Energy =   0.1496
Level     1,  Iter    57:    Energy =   0.1492
Level     1,  Iter    58:    Energy =   0.1497
Level     1,  Iter    59:    Energy =   0.1493
END OF LEVEL     1    DetJac Range:   0.0755  to   2.6258 
  Avg. Gradient Time  : 0.0244s  35.89% 
  Avg. Gaussian Time  : 0.0316s  46.40% 
  Avg. Iteration Time : 0.0681s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0828
Level     2,  Iter     1:    Energy =   0.0861
Level     2,  Iter     2:    Energy =   0.0892
Level     2,  Iter     3:    Energy =   0.0919
Level     2,  Iter     4:    Energy =   0.0948
Level     2,  Iter     5:    Energy =   0.0971
Level     2,  Iter     6:    Energy =   0.0987
Level     2,  Iter     7:    Energy =   0.0999
Level     2,  Iter     8:    Energy =   0.1005
Level     2,  Iter     9:    Energy =   0.1009
Level     2,  Iter    10:    Energy =   0.1012
Level     2,  Iter    11:    Energy =   0.1017
Level     2,  Iter    12:    Energy =   0.1018
Level     2,  Iter    13:    Energy =   0.1024
Level     2,  Iter    14:    Energy =   0.1024
Level     2,  Iter    15:    Energy =   0.1030
Level     2,  Iter    16:    Energy =   0.1030
Level     2,  Iter    17:    Energy =   0.1035
Level     2,  Iter    18:    Energy =   0.1034
Level     2,  Iter    19:    Energy =   0.1038
END OF LEVEL     2    DetJac Range:   0.0579  to   3.0788 
  Avg. Gradient Time  : 0.1157s  35.48% 
  Avg. Gaussian Time  : 0.1593s  48.83% 
  Avg. Iteration Time : 0.3262s 

real	0m13.870s
user	0m19.029s
sys	0m2.566s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=52 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=52 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.422857 0.427143
+ echo 'CHUNK 0.422857 0.427143 1'
CHUNK 0.422857 0.427143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.422857 0.427143 1
====================================
         PROGRESS: 0.422857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 018
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 018 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=018
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.632
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4268.56   GNORM= 345.731
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4315.822     197.778       0.001
   2    4     -4333.046     131.186       1.000
   3    5     -4350.039     107.258       1.000
   4    6     -4374.184     157.917       1.000
   5    7     -4413.807     213.550       1.000
   6    8     -4465.440      95.704       1.000
   7    9     -4474.192      60.554       1.000
   8   10     -4474.404     110.659       1.000
   9   11     -4478.678      52.722       1.000
  10   12     -4480.212      30.822       1.000
  11   13     -4481.964      32.877       1.000
  12   15     -4484.320      30.843       0.407
  13   16     -4485.053      54.668       1.000
  14   17     -4486.079      27.473       1.000
  15   18     -4486.512      26.683       1.000
  16   19     -4486.767      28.715       1.000
  17   20     -4487.200      13.930       1.000
  18   21     -4487.413      33.153       1.000
  19   22     -4487.770      27.056       1.000
  20   23     -4488.329      16.212       1.000
  21   24     -4489.136      23.560       1.000
  22   25     -4489.402      22.459       1.000
  23   26     -4489.520       9.116       1.000
  24   27     -4489.592       8.632       1.000
  25   28     -4489.613       5.617       1.000
  26   29     -4489.723       7.635       1.000
  27   30     -4489.763       7.594       1.000
  28   32     -4489.775       4.085       0.487
  29   33     -4489.786       2.647       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.983964 -0.00854397 -0.00615647 0.448366 
-0.057 0.984535 -0.0311063 1.44364 
-0.00246007 0.0305254 1.06311 1.0206 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3174.03   GNORM= 171.892
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3189.566      75.805       0.001
   2    4     -3192.306      67.921       1.000
   3    5     -3194.500      57.686       1.000
   4    6     -3212.149      76.700       1.000
   5    7     -3222.887      98.847       1.000
   6    8     -3230.183      50.999       1.000
   7    9     -3232.098      38.234       1.000
   8   10     -3232.929      53.228       1.000
   9   11     -3233.579      34.937       1.000
  10   12     -3234.544      22.995       1.000
  11   13     -3235.056      23.138       1.000
  12   14     -3235.579      24.322       1.000
  13   15     -3236.007      13.285       1.000
  14   16     -3236.139      10.312       1.000
  15   17     -3236.526      15.577       1.000
  16   18     -3237.303      37.994       1.000
  17   19     -3237.350      50.309       1.000
  18   20     -3237.994      15.134       1.000
  19   21     -3238.060       5.018       1.000
  20   22     -3238.072       4.074       1.000
  21   23     -3238.103       4.801       1.000
  22   24     -3238.171       6.502       1.000
  23   25     -3238.330      15.240       1.000
  24   26     -3238.492       6.735       1.000
  25   27     -3238.602       4.676       1.000
  26   29     -3238.668       2.853       0.252
  27   30     -3238.678      10.961       1.000
  28   31     -3238.705       2.066       1.000
  29   32     -3238.710       3.325       1.000
  30   33     -3238.717       2.484       1.000
  31   34     -3238.726       8.246       1.000
  32   35     -3238.740       5.471       1.000
  33   36     -3238.766       2.980       1.000
  34   37     -3238.778       2.653       1.000
  35   39     -3238.785       2.587       0.365
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.993625 -0.00895711 -0.0369418 -0.21052 
-0.0385911 0.995084 -0.0319724 0.943507 
0.00594505 0.014484 1.06719 1.18345 
0 0 0 1 

Final RAS Transform: 
0.993625 -0.00895711 -0.0369418 -0.21052 
-0.0385911 0.995084 -0.0319724 0.943507 
0.00594505 0.014484 1.06719 1.18345 
0 0 0 1 


real	0m4.416s
user	0m5.918s
sys	0m0.655s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.605975
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1362
Level     0,  Iter     1:    Energy =   0.1447
Level     0,  Iter     2:    Energy =   0.1529
Level     0,  Iter     3:    Energy =   0.1571
Level     0,  Iter     4:    Energy =   0.1603
Level     0,  Iter     5:    Energy =   0.1631
Level     0,  Iter     6:    Energy =   0.1647
Level     0,  Iter     7:    Energy =   0.1656
Level     0,  Iter     8:    Energy =   0.1668
Level     0,  Iter     9:    Energy =   0.1673
Level     0,  Iter    10:    Energy =   0.1682
Level     0,  Iter    11:    Energy =   0.1684
Level     0,  Iter    12:    Energy =   0.1690
Level     0,  Iter    13:    Energy =   0.1692
Level     0,  Iter    14:    Energy =   0.1695
Level     0,  Iter    15:    Energy =   0.1695
Level     0,  Iter    16:    Energy =   0.1694
Level     0,  Iter    17:    Energy =   0.1693
Level     0,  Iter    18:    Energy =   0.1692
Level     0,  Iter    19:    Energy =   0.1691
Level     0,  Iter    20:    Energy =   0.1691
Level     0,  Iter    21:    Energy =   0.1691
Level     0,  Iter    22:    Energy =   0.1691
Level     0,  Iter    23:    Energy =   0.1691
Level     0,  Iter    24:    Energy =   0.1691
Level     0,  Iter    25:    Energy =   0.1692
Level     0,  Iter    26:    Energy =   0.1692
Level     0,  Iter    27:    Energy =   0.1692
Level     0,  Iter    28:    Energy =   0.1692
Level     0,  Iter    29:    Energy =   0.1693
Level     0,  Iter    30:    Energy =   0.1693
Level     0,  Iter    31:    Energy =   0.1693
Level     0,  Iter    32:    Energy =   0.1693
Level     0,  Iter    33:    Energy =   0.1694
Level     0,  Iter    34:    Energy =   0.1694
Level     0,  Iter    35:    Energy =   0.1694
Level     0,  Iter    36:    Energy =   0.1694
Level     0,  Iter    37:    Energy =   0.1694
Level     0,  Iter    38:    Energy =   0.1694
Level     0,  Iter    39:    Energy =   0.1695
Level     0,  Iter    40:    Energy =   0.1694
Level     0,  Iter    41:    Energy =   0.1695
Level     0,  Iter    42:    Energy =   0.1694
Level     0,  Iter    43:    Energy =   0.1695
Level     0,  Iter    44:    Energy =   0.1695
Level     0,  Iter    45:    Energy =   0.1696
Level     0,  Iter    46:    Energy =   0.1695
Level     0,  Iter    47:    Energy =   0.1696
Level     0,  Iter    48:    Energy =   0.1695
Level     0,  Iter    49:    Energy =   0.1696
Level     0,  Iter    50:    Energy =   0.1695
Level     0,  Iter    51:    Energy =   0.1696
Level     0,  Iter    52:    Energy =   0.1695
Level     0,  Iter    53:    Energy =   0.1696
Level     0,  Iter    54:    Energy =   0.1695
Level     0,  Iter    55:    Energy =   0.1696
Level     0,  Iter    56:    Energy =   0.1695
Level     0,  Iter    57:    Energy =   0.1696
Level     0,  Iter    58:    Energy =   0.1695
Level     0,  Iter    59:    Energy =   0.1696
END OF LEVEL     0    DetJac Range:   0.3330  to   1.7718 
  Avg. Gradient Time  : 0.0054s  35.37% 
  Avg. Gaussian Time  : 0.0069s  45.24% 
  Avg. Iteration Time : 0.0152s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1190
Level     1,  Iter     1:    Energy =   0.1243
Level     1,  Iter     2:    Energy =   0.1297
Level     1,  Iter     3:    Energy =   0.1345
Level     1,  Iter     4:    Energy =   0.1380
Level     1,  Iter     5:    Energy =   0.1409
Level     1,  Iter     6:    Energy =   0.1422
Level     1,  Iter     7:    Energy =   0.1432
Level     1,  Iter     8:    Energy =   0.1435
Level     1,  Iter     9:    Energy =   0.1447
Level     1,  Iter    10:    Energy =   0.1447
Level     1,  Iter    11:    Energy =   0.1458
Level     1,  Iter    12:    Energy =   0.1457
Level     1,  Iter    13:    Energy =   0.1467
Level     1,  Iter    14:    Energy =   0.1465
Level     1,  Iter    15:    Energy =   0.1475
Level     1,  Iter    16:    Energy =   0.1472
Level     1,  Iter    17:    Energy =   0.1481
Level     1,  Iter    18:    Energy =   0.1478
Level     1,  Iter    19:    Energy =   0.1486
Level     1,  Iter    20:    Energy =   0.1482
Level     1,  Iter    21:    Energy =   0.1490
Level     1,  Iter    22:    Energy =   0.1486
Level     1,  Iter    23:    Energy =   0.1493
Level     1,  Iter    24:    Energy =   0.1489
Level     1,  Iter    25:    Energy =   0.1494
Level     1,  Iter    26:    Energy =   0.1490
Level     1,  Iter    27:    Energy =   0.1494
Level     1,  Iter    28:    Energy =   0.1490
Level     1,  Iter    29:    Energy =   0.1494
Level     1,  Iter    30:    Energy =   0.1490
Level     1,  Iter    31:    Energy =   0.1494
Level     1,  Iter    32:    Energy =   0.1491
Level     1,  Iter    33:    Energy =   0.1494
Level     1,  Iter    34:    Energy =   0.1491
Level     1,  Iter    35:    Energy =   0.1495
Level     1,  Iter    36:    Energy =   0.1491
Level     1,  Iter    37:    Energy =   0.1494
Level     1,  Iter    38:    Energy =   0.1491
Level     1,  Iter    39:    Energy =   0.1494
Level     1,  Iter    40:    Energy =   0.1491
Level     1,  Iter    41:    Energy =   0.1495
Level     1,  Iter    42:    Energy =   0.1491
Level     1,  Iter    43:    Energy =   0.1494
Level     1,  Iter    44:    Energy =   0.1492
Level     1,  Iter    45:    Energy =   0.1494
Level     1,  Iter    46:    Energy =   0.1491
Level     1,  Iter    47:    Energy =   0.1494
Level     1,  Iter    48:    Energy =   0.1492
Level     1,  Iter    49:    Energy =   0.1493
Level     1,  Iter    50:    Energy =   0.1492
Level     1,  Iter    51:    Energy =   0.1494
Level     1,  Iter    52:    Energy =   0.1492
Level     1,  Iter    53:    Energy =   0.1493
Level     1,  Iter    54:    Energy =   0.1492
Level     1,  Iter    55:    Energy =   0.1494
Level     1,  Iter    56:    Energy =   0.1492
Level     1,  Iter    57:    Energy =   0.1494
Level     1,  Iter    58:    Energy =   0.1492
Level     1,  Iter    59:    Energy =   0.1495
END OF LEVEL     1    DetJac Range:   0.1531  to   2.3747 
  Avg. Gradient Time  : 0.0243s  35.63% 
  Avg. Gaussian Time  : 0.0320s  46.95% 
  Avg. Iteration Time : 0.0681s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0817
Level     2,  Iter     1:    Energy =   0.0854
Level     2,  Iter     2:    Energy =   0.0888
Level     2,  Iter     3:    Energy =   0.0918
Level     2,  Iter     4:    Energy =   0.0943
Level     2,  Iter     5:    Energy =   0.0963
Level     2,  Iter     6:    Energy =   0.0981
Level     2,  Iter     7:    Energy =   0.0992
Level     2,  Iter     8:    Energy =   0.1002
Level     2,  Iter     9:    Energy =   0.1016
Level     2,  Iter    10:    Energy =   0.1022
Level     2,  Iter    11:    Energy =   0.1023
Level     2,  Iter    12:    Energy =   0.1030
Level     2,  Iter    13:    Energy =   0.1030
Level     2,  Iter    14:    Energy =   0.1035
Level     2,  Iter    15:    Energy =   0.1035
Level     2,  Iter    16:    Energy =   0.1040
Level     2,  Iter    17:    Energy =   0.1040
Level     2,  Iter    18:    Energy =   0.1045
Level     2,  Iter    19:    Energy =   0.1044
END OF LEVEL     2    DetJac Range:   0.1052  to   3.4915 
  Avg. Gradient Time  : 0.1158s  36.05% 
  Avg. Gaussian Time  : 0.1550s  48.25% 
  Avg. Iteration Time : 0.3212s 

real	0m13.802s
user	0m19.062s
sys	0m2.635s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=53 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=53 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.427143 0.431429
+ echo 'CHUNK 0.427143 0.431429 1'
CHUNK 0.427143 0.431429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.427143 0.431429 1
====================================
         PROGRESS: 0.427143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 019
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 019 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=019
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.667
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3913.42   GNORM= 914.436
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3954.770     846.156       0.001
   2    3     -4172.038     115.298       1.000
   3    4     -4178.958      96.508       1.000
   4    5     -4206.926     136.128       1.000
   5    6     -4230.473     201.143       1.000
   6    7     -4248.994     177.472       1.000
   7    8     -4261.158      62.322       1.000
   8    9     -4264.053      54.316       1.000
   9   10     -4266.597      88.725       1.000
  10   11     -4273.106      95.073       1.000
  11   12     -4276.090      97.425       1.000
  12   13     -4277.500     109.620       1.000
  13   14     -4281.229      29.141       1.000
  14   15     -4281.520      12.801       1.000
  15   16     -4281.659      24.925       1.000
  16   17     -4281.822      15.969       1.000
  17   18     -4282.058       9.840       1.000
  18   19     -4282.427      27.349       1.000
  19   20     -4282.617      23.982       1.000
  20   21     -4282.833      25.645       1.000
  21   22     -4283.098      15.739       1.000
  22   23     -4283.332      12.649       1.000
  23   24     -4283.412       7.983       1.000
  24   25     -4283.513      14.708       1.000
  25   26     -4283.596      12.229       1.000
  26   27     -4283.750      10.010       1.000
  27   28     -4283.853      11.800       1.000
  28   29     -4283.925      10.019       1.000
  29   30     -4283.977      13.868       1.000
  30   31     -4284.011       7.973       1.000
  31   33     -4284.032       3.498       0.502
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.961273 -0.00202673 0.0189431 1.03889 
-0.0168361 1.02626 0.00830549 0.826088 
0.0211883 -0.0168624 1.00629 0.932238 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3108.79   GNORM= 235.196
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3127.665      97.372       0.001
   2    4     -3132.306      58.471       1.000
   3    5     -3135.899      50.615       1.000
   4    6     -3140.004      59.528       1.000
   5    7     -3149.490      79.841       1.000
   6    8     -3158.615      84.658       1.000
   7   10     -3160.965      67.795       0.332
   8   11     -3163.875      44.426       1.000
   9   12     -3166.372      39.135       1.000
  10   13     -3169.123      39.922       1.000
  11   14     -3172.359      44.265       1.000
  12   16     -3173.386      41.315       0.271
  13   17     -3174.276      15.570       1.000
  14   18     -3174.637      15.829       1.000
  15   19     -3174.916      21.191       1.000
  16   20     -3175.447      27.084       1.000
  17   21     -3176.586      21.960       1.000
  18   22     -3177.295      20.057       1.000
  19   24     -3177.654      24.375       0.445
  20   25     -3178.218      20.934       1.000
  21   26     -3178.974      33.292       1.000
  22   27     -3179.757      11.733       1.000
  23   28     -3179.984      10.126       1.000
  24   29     -3180.285      10.323       1.000
  25   31     -3180.445      26.304       0.120
  26   32     -3180.700      14.623       1.000
  27   33     -3181.090      16.110       1.000
  28   34     -3181.463       7.164       1.000
  29   35     -3181.645      11.542       1.000
  30   37     -3181.797      15.614       0.207
  31   39     -3181.857       8.908       0.498
  32   40     -3181.997       8.650       1.000
  33   42     -3182.140      12.509       0.254
  34   43     -3182.172       5.800       1.000
  35   44     -3182.207       5.304       1.000
  36   45     -3182.265       3.470       1.000
  37   47     -3182.283       7.252       0.361
  38   48     -3182.342       5.791       1.000
  39   49     -3182.386       5.143       1.000
  40   50     -3182.458       6.678       1.000
  41   51     -3182.480       2.680       1.000
  42   52     -3182.504       3.940       1.000
  43   53     -3182.521       7.808       1.000
  44   54     -3182.531       4.505       1.000
  45   55     -3182.533       1.914       1.000
  46   56     -3182.551       6.347       1.000
  47   57     -3182.564       3.231       1.000
Final RAS Transform: 
0.981078 -0.00134086 -0.00886538 0.298057 
0.00908453 1.00925 -0.00312854 0.538251 
0.00227104 -0.00925993 1.02065 1.17948 
0 0 0 1 

Final RAS Transform: 
0.981078 -0.00134086 -0.00886538 0.298057 
0.00908453 1.00925 -0.00312854 0.538251 
0.00227104 -0.00925993 1.02065 1.17948 
0 0 0 1 


real	0m4.522s
user	0m6.172s
sys	0m0.634s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.649729
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1323
Level     0,  Iter     1:    Energy =   0.1382
Level     0,  Iter     2:    Energy =   0.1445
Level     0,  Iter     3:    Energy =   0.1490
Level     0,  Iter     4:    Energy =   0.1511
Level     0,  Iter     5:    Energy =   0.1521
Level     0,  Iter     6:    Energy =   0.1528
Level     0,  Iter     7:    Energy =   0.1531
Level     0,  Iter     8:    Energy =   0.1536
Level     0,  Iter     9:    Energy =   0.1539
Level     0,  Iter    10:    Energy =   0.1542
Level     0,  Iter    11:    Energy =   0.1544
Level     0,  Iter    12:    Energy =   0.1547
Level     0,  Iter    13:    Energy =   0.1547
Level     0,  Iter    14:    Energy =   0.1550
Level     0,  Iter    15:    Energy =   0.1550
Level     0,  Iter    16:    Energy =   0.1553
Level     0,  Iter    17:    Energy =   0.1552
Level     0,  Iter    18:    Energy =   0.1555
Level     0,  Iter    19:    Energy =   0.1554
Level     0,  Iter    20:    Energy =   0.1556
Level     0,  Iter    21:    Energy =   0.1555
Level     0,  Iter    22:    Energy =   0.1558
Level     0,  Iter    23:    Energy =   0.1556
Level     0,  Iter    24:    Energy =   0.1559
Level     0,  Iter    25:    Energy =   0.1557
Level     0,  Iter    26:    Energy =   0.1559
Level     0,  Iter    27:    Energy =   0.1558
Level     0,  Iter    28:    Energy =   0.1560
Level     0,  Iter    29:    Energy =   0.1558
Level     0,  Iter    30:    Energy =   0.1561
Level     0,  Iter    31:    Energy =   0.1559
Level     0,  Iter    32:    Energy =   0.1561
Level     0,  Iter    33:    Energy =   0.1559
Level     0,  Iter    34:    Energy =   0.1561
Level     0,  Iter    35:    Energy =   0.1559
Level     0,  Iter    36:    Energy =   0.1562
Level     0,  Iter    37:    Energy =   0.1559
Level     0,  Iter    38:    Energy =   0.1562
Level     0,  Iter    39:    Energy =   0.1559
Level     0,  Iter    40:    Energy =   0.1562
Level     0,  Iter    41:    Energy =   0.1559
Level     0,  Iter    42:    Energy =   0.1562
Level     0,  Iter    43:    Energy =   0.1560
Level     0,  Iter    44:    Energy =   0.1563
Level     0,  Iter    45:    Energy =   0.1560
Level     0,  Iter    46:    Energy =   0.1563
Level     0,  Iter    47:    Energy =   0.1560
Level     0,  Iter    48:    Energy =   0.1563
Level     0,  Iter    49:    Energy =   0.1560
Level     0,  Iter    50:    Energy =   0.1563
Level     0,  Iter    51:    Energy =   0.1560
Level     0,  Iter    52:    Energy =   0.1563
Level     0,  Iter    53:    Energy =   0.1560
Level     0,  Iter    54:    Energy =   0.1563
Level     0,  Iter    55:    Energy =   0.1560
Level     0,  Iter    56:    Energy =   0.1563
Level     0,  Iter    57:    Energy =   0.1560
Level     0,  Iter    58:    Energy =   0.1562
Level     0,  Iter    59:    Energy =   0.1560
END OF LEVEL     0    DetJac Range:   0.5302  to   1.6287 
  Avg. Gradient Time  : 0.0055s  34.70% 
  Avg. Gaussian Time  : 0.0073s  45.76% 
  Avg. Iteration Time : 0.0160s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1140
Level     1,  Iter     1:    Energy =   0.1199
Level     1,  Iter     2:    Energy =   0.1258
Level     1,  Iter     3:    Energy =   0.1297
Level     1,  Iter     4:    Energy =   0.1332
Level     1,  Iter     5:    Energy =   0.1358
Level     1,  Iter     6:    Energy =   0.1374
Level     1,  Iter     7:    Energy =   0.1378
Level     1,  Iter     8:    Energy =   0.1384
Level     1,  Iter     9:    Energy =   0.1385
Level     1,  Iter    10:    Energy =   0.1393
Level     1,  Iter    11:    Energy =   0.1396
Level     1,  Iter    12:    Energy =   0.1399
Level     1,  Iter    13:    Energy =   0.1398
Level     1,  Iter    14:    Energy =   0.1403
Level     1,  Iter    15:    Energy =   0.1406
Level     1,  Iter    16:    Energy =   0.1409
Level     1,  Iter    17:    Energy =   0.1407
Level     1,  Iter    18:    Energy =   0.1414
Level     1,  Iter    19:    Energy =   0.1414
Level     1,  Iter    20:    Energy =   0.1417
Level     1,  Iter    21:    Energy =   0.1415
Level     1,  Iter    22:    Energy =   0.1423
Level     1,  Iter    23:    Energy =   0.1423
Level     1,  Iter    24:    Energy =   0.1425
Level     1,  Iter    25:    Energy =   0.1422
Level     1,  Iter    26:    Energy =   0.1431
Level     1,  Iter    27:    Energy =   0.1429
Level     1,  Iter    28:    Energy =   0.1430
Level     1,  Iter    29:    Energy =   0.1428
Level     1,  Iter    30:    Energy =   0.1436
Level     1,  Iter    31:    Energy =   0.1433
Level     1,  Iter    32:    Energy =   0.1439
Level     1,  Iter    33:    Energy =   0.1436
Level     1,  Iter    34:    Energy =   0.1444
Level     1,  Iter    35:    Energy =   0.1441
Level     1,  Iter    36:    Energy =   0.1443
Level     1,  Iter    37:    Energy =   0.1439
Level     1,  Iter    38:    Energy =   0.1446
Level     1,  Iter    39:    Energy =   0.1443
Level     1,  Iter    40:    Energy =   0.1448
Level     1,  Iter    41:    Energy =   0.1444
Level     1,  Iter    42:    Energy =   0.1452
Level     1,  Iter    43:    Energy =   0.1447
Level     1,  Iter    44:    Energy =   0.1449
Level     1,  Iter    45:    Energy =   0.1445
Level     1,  Iter    46:    Energy =   0.1452
Level     1,  Iter    47:    Energy =   0.1448
Level     1,  Iter    48:    Energy =   0.1449
Level     1,  Iter    49:    Energy =   0.1445
Level     1,  Iter    50:    Energy =   0.1452
Level     1,  Iter    51:    Energy =   0.1448
Level     1,  Iter    52:    Energy =   0.1451
Level     1,  Iter    53:    Energy =   0.1447
Level     1,  Iter    54:    Energy =   0.1454
Level     1,  Iter    55:    Energy =   0.1450
Level     1,  Iter    56:    Energy =   0.1454
Level     1,  Iter    57:    Energy =   0.1450
Level     1,  Iter    58:    Energy =   0.1457
Level     1,  Iter    59:    Energy =   0.1453
END OF LEVEL     1    DetJac Range:   0.1946  to   3.2452 
  Avg. Gradient Time  : 0.0241s  35.67% 
  Avg. Gaussian Time  : 0.0315s  46.63% 
  Avg. Iteration Time : 0.0676s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0809
Level     2,  Iter     1:    Energy =   0.0839
Level     2,  Iter     2:    Energy =   0.0864
Level     2,  Iter     3:    Energy =   0.0887
Level     2,  Iter     4:    Energy =   0.0908
Level     2,  Iter     5:    Energy =   0.0925
Level     2,  Iter     6:    Energy =   0.0942
Level     2,  Iter     7:    Energy =   0.0955
Level     2,  Iter     8:    Energy =   0.0960
Level     2,  Iter     9:    Energy =   0.0966
Level     2,  Iter    10:    Energy =   0.0970
Level     2,  Iter    11:    Energy =   0.0974
Level     2,  Iter    12:    Energy =   0.0980
Level     2,  Iter    13:    Energy =   0.0980
Level     2,  Iter    14:    Energy =   0.0988
Level     2,  Iter    15:    Energy =   0.0987
Level     2,  Iter    16:    Energy =   0.0997
Level     2,  Iter    17:    Energy =   0.0995
Level     2,  Iter    18:    Energy =   0.1003
Level     2,  Iter    19:    Energy =   0.1000
END OF LEVEL     2    DetJac Range:   0.1278  to   4.1657 
  Avg. Gradient Time  : 0.1145s  35.30% 
  Avg. Gaussian Time  : 0.1578s  48.68% 
  Avg. Iteration Time : 0.3242s 

real	0m13.852s
user	0m19.113s
sys	0m2.612s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=54 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=54 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.431429 0.435714
+ echo 'CHUNK 0.431429 0.435714 1'
CHUNK 0.431429 0.435714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.431429 0.435714 1
====================================
         PROGRESS: 0.431429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 020
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 020 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=020
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.538
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4234.3   GNORM= 385.471
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4281.856     132.822       0.001
   2    4     -4291.168     100.663       1.000
   3    5     -4312.021     110.252       1.000
   4    6     -4338.283     165.885       1.000
   5    7     -4368.315     118.847       1.000
   6    8     -4375.294     149.883       1.000
   7    9     -4384.997      79.799       1.000
   8   10     -4386.991      43.243       1.000
   9   11     -4388.359      36.737       1.000
  10   12     -4392.181      42.311       1.000
  11   13     -4393.917      47.036       1.000
  12   14     -4394.019      69.387       1.000
  13   15     -4395.590      26.608       1.000
  14   17     -4395.768       9.631       0.463
  15   18     -4395.861      10.675       1.000
  16   19     -4396.079       9.119       1.000
  17   21     -4396.200      21.541       0.265
  18   22     -4396.399      13.500       1.000
  19   23     -4396.576      14.967       1.000
  20   25     -4396.600       4.262       0.434
  21   26     -4396.608       2.770       1.000
  22   27     -4396.614       4.405       1.000
  23   28     -4396.624       2.802       1.000
  24   29     -4396.650       4.553       1.000
  25   30     -4396.663       9.464       1.000
  26   31     -4396.688       4.658       1.000
  27   32     -4396.716       4.793       1.000
  28   33     -4396.737       9.779       1.000
  29   34     -4396.761       7.860       1.000
  30   36     -4396.800       4.142       0.438
  31   37     -4396.820       3.718       1.000
  32   38     -4396.836       5.135       1.000
  33   39     -4396.856       5.266       1.000
  34   41     -4396.864       6.345       0.173
  35   42     -4396.870       4.371       1.000
  36   43     -4396.872       2.659       1.000
  37   44     -4396.875       4.464       1.000
  38   45     -4396.883       3.934       1.000
  39   46     -4396.889       3.862       1.000
  40   47     -4396.902       3.359       1.000
  41   48     -4396.904       2.189       1.000
Final RAS Transform: 
0.978375 0.00395562 0.0130326 0.571802 
0.0198404 1.02478 0.00606685 0.0322519 
-0.0380852 -0.0106403 1.00871 1.39917 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3099.91   GNORM= 129.812
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3108.660      75.357       0.001
   2    4     -3111.973      42.183       1.000
   3    5     -3114.064      42.797       1.000
   4    6     -3126.890      95.605       1.000
   5    7     -3132.722      79.797       1.000
   6    9     -3135.640      50.569       0.493
   7   10     -3136.982      28.381       1.000
   8   11     -3137.594      22.487       1.000
   9   12     -3138.320      20.584       1.000
  10   13     -3139.606      25.329       1.000
  11   14     -3141.755      47.128       1.000
  12   15     -3142.114      43.685       1.000
  13   16     -3142.719      16.733       1.000
  14   17     -3142.925       8.651       1.000
  15   18     -3143.206      15.258       1.000
  16   19     -3143.679      20.611       1.000
  17   20     -3144.169      30.906       1.000
  18   21     -3144.792      17.700       1.000
  19   22     -3145.002      12.470       1.000
  20   23     -3145.068       7.593       1.000
  21   24     -3145.149       6.459       1.000
  22   25     -3145.263       9.137       1.000
  23   26     -3145.331       4.966       1.000
  24   28     -3145.371       8.643       0.492
  25   29     -3145.437       3.808       1.000
  26   30     -3145.466       3.439       1.000
  27   31     -3145.514       5.828       1.000
  28   33     -3145.548      11.422       0.487
  29   34     -3145.592      11.051       1.000
  30   35     -3145.623       2.513       1.000
  31   36     -3145.632       2.545       1.000
  32   37     -3145.638       1.835       1.000
  33   38     -3145.669       3.480       1.000
  34   39     -3145.674       7.535       1.000
  35   40     -3145.707       3.028       1.000
  36   41     -3145.712       2.231       1.000
  37   42     -3145.727       7.730       1.000
  38   43     -3145.748       5.161       1.000
  39   44     -3145.757       2.142       1.000
  40   45     -3145.770       2.428       1.000
  41   47     -3145.771       3.042       0.492
  42   48     -3145.779       1.187       1.000
Final RAS Transform: 
0.999038 -0.0049585 -0.00802654 -0.0118602 
0.0160276 1.03249 0.00283147 -0.0795269 
-0.0505957 -0.0225427 1.00841 1.78214 
0 0 0 1 

Final RAS Transform: 
0.999038 -0.0049585 -0.00802654 -0.0118602 
0.0160276 1.03249 0.00283147 -0.0795269 
-0.0505957 -0.0225427 1.00841 1.78214 
0 0 0 1 


real	0m4.581s
user	0m6.213s
sys	0m0.675s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.520103
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1335
Level     0,  Iter     1:    Energy =   0.1398
Level     0,  Iter     2:    Energy =   0.1449
Level     0,  Iter     3:    Energy =   0.1479
Level     0,  Iter     4:    Energy =   0.1502
Level     0,  Iter     5:    Energy =   0.1512
Level     0,  Iter     6:    Energy =   0.1524
Level     0,  Iter     7:    Energy =   0.1534
Level     0,  Iter     8:    Energy =   0.1542
Level     0,  Iter     9:    Energy =   0.1548
Level     0,  Iter    10:    Energy =   0.1548
Level     0,  Iter    11:    Energy =   0.1559
Level     0,  Iter    12:    Energy =   0.1566
Level     0,  Iter    13:    Energy =   0.1566
Level     0,  Iter    14:    Energy =   0.1560
Level     0,  Iter    15:    Energy =   0.1566
Level     0,  Iter    16:    Energy =   0.1565
Level     0,  Iter    17:    Energy =   0.1571
Level     0,  Iter    18:    Energy =   0.1568
Level     0,  Iter    19:    Energy =   0.1574
Level     0,  Iter    20:    Energy =   0.1571
Level     0,  Iter    21:    Energy =   0.1577
Level     0,  Iter    22:    Energy =   0.1576
Level     0,  Iter    23:    Energy =   0.1578
Level     0,  Iter    24:    Energy =   0.1570
Level     0,  Iter    25:    Energy =   0.1577
Level     0,  Iter    26:    Energy =   0.1578
Level     0,  Iter    27:    Energy =   0.1579
Level     0,  Iter    28:    Energy =   0.1572
Level     0,  Iter    29:    Energy =   0.1578
Level     0,  Iter    30:    Energy =   0.1577
Level     0,  Iter    31:    Energy =   0.1580
Level     0,  Iter    32:    Energy =   0.1573
Level     0,  Iter    33:    Energy =   0.1580
Level     0,  Iter    34:    Energy =   0.1581
Level     0,  Iter    35:    Energy =   0.1580
Level     0,  Iter    36:    Energy =   0.1574
Level     0,  Iter    37:    Energy =   0.1578
Level     0,  Iter    38:    Energy =   0.1575
Level     0,  Iter    39:    Energy =   0.1581
Level     0,  Iter    40:    Energy =   0.1578
Level     0,  Iter    41:    Energy =   0.1582
Level     0,  Iter    42:    Energy =   0.1574
Level     0,  Iter    43:    Energy =   0.1583
Level     0,  Iter    44:    Energy =   0.1585
Level     0,  Iter    45:    Energy =   0.1582
Level     0,  Iter    46:    Energy =   0.1577
Level     0,  Iter    47:    Energy =   0.1579
Level     0,  Iter    48:    Energy =   0.1573
Level     0,  Iter    49:    Energy =   0.1580
Level     0,  Iter    50:    Energy =   0.1580
Level     0,  Iter    51:    Energy =   0.1582
Level     0,  Iter    52:    Energy =   0.1575
Level     0,  Iter    53:    Energy =   0.1580
Level     0,  Iter    54:    Energy =   0.1580
Level     0,  Iter    55:    Energy =   0.1582
Level     0,  Iter    56:    Energy =   0.1574
Level     0,  Iter    57:    Energy =   0.1582
Level     0,  Iter    58:    Energy =   0.1583
Level     0,  Iter    59:    Energy =   0.1582
END OF LEVEL     0    DetJac Range:   0.2740  to   1.9398 
  Avg. Gradient Time  : 0.0054s  35.22% 
  Avg. Gaussian Time  : 0.0069s  45.40% 
  Avg. Iteration Time : 0.0152s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1123
Level     1,  Iter     1:    Energy =   0.1183
Level     1,  Iter     2:    Energy =   0.1238
Level     1,  Iter     3:    Energy =   0.1277
Level     1,  Iter     4:    Energy =   0.1311
Level     1,  Iter     5:    Energy =   0.1346
Level     1,  Iter     6:    Energy =   0.1373
Level     1,  Iter     7:    Energy =   0.1390
Level     1,  Iter     8:    Energy =   0.1404
Level     1,  Iter     9:    Energy =   0.1406
Level     1,  Iter    10:    Energy =   0.1408
Level     1,  Iter    11:    Energy =   0.1415
Level     1,  Iter    12:    Energy =   0.1414
Level     1,  Iter    13:    Energy =   0.1423
Level     1,  Iter    14:    Energy =   0.1421
Level     1,  Iter    15:    Energy =   0.1430
Level     1,  Iter    16:    Energy =   0.1428
Level     1,  Iter    17:    Energy =   0.1435
Level     1,  Iter    18:    Energy =   0.1432
Level     1,  Iter    19:    Energy =   0.1440
Level     1,  Iter    20:    Energy =   0.1437
Level     1,  Iter    21:    Energy =   0.1442
Level     1,  Iter    22:    Energy =   0.1439
Level     1,  Iter    23:    Energy =   0.1444
Level     1,  Iter    24:    Energy =   0.1442
Level     1,  Iter    25:    Energy =   0.1446
Level     1,  Iter    26:    Energy =   0.1443
Level     1,  Iter    27:    Energy =   0.1448
Level     1,  Iter    28:    Energy =   0.1445
Level     1,  Iter    29:    Energy =   0.1448
Level     1,  Iter    30:    Energy =   0.1446
Level     1,  Iter    31:    Energy =   0.1449
Level     1,  Iter    32:    Energy =   0.1447
Level     1,  Iter    33:    Energy =   0.1450
Level     1,  Iter    34:    Energy =   0.1448
Level     1,  Iter    35:    Energy =   0.1451
Level     1,  Iter    36:    Energy =   0.1449
Level     1,  Iter    37:    Energy =   0.1451
Level     1,  Iter    38:    Energy =   0.1449
Level     1,  Iter    39:    Energy =   0.1450
Level     1,  Iter    40:    Energy =   0.1448
Level     1,  Iter    41:    Energy =   0.1448
Level     1,  Iter    42:    Energy =   0.1447
Level     1,  Iter    43:    Energy =   0.1445
Level     1,  Iter    44:    Energy =   0.1446
Level     1,  Iter    45:    Energy =   0.1444
Level     1,  Iter    46:    Energy =   0.1445
Level     1,  Iter    47:    Energy =   0.1443
Level     1,  Iter    48:    Energy =   0.1444
Level     1,  Iter    49:    Energy =   0.1442
Level     1,  Iter    50:    Energy =   0.1444
Level     1,  Iter    51:    Energy =   0.1442
Level     1,  Iter    52:    Energy =   0.1444
Level     1,  Iter    53:    Energy =   0.1442
Level     1,  Iter    54:    Energy =   0.1444
Level     1,  Iter    55:    Energy =   0.1441
Level     1,  Iter    56:    Energy =   0.1444
Level     1,  Iter    57:    Energy =   0.1442
Level     1,  Iter    58:    Energy =   0.1444
Level     1,  Iter    59:    Energy =   0.1441
END OF LEVEL     1    DetJac Range:   0.1836  to   2.5446 
  Avg. Gradient Time  : 0.0244s  35.54% 
  Avg. Gaussian Time  : 0.0324s  47.14% 
  Avg. Iteration Time : 0.0686s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0782
Level     2,  Iter     1:    Energy =   0.0813
Level     2,  Iter     2:    Energy =   0.0844
Level     2,  Iter     3:    Energy =   0.0876
Level     2,  Iter     4:    Energy =   0.0901
Level     2,  Iter     5:    Energy =   0.0925
Level     2,  Iter     6:    Energy =   0.0934
Level     2,  Iter     7:    Energy =   0.0943
Level     2,  Iter     8:    Energy =   0.0950
Level     2,  Iter     9:    Energy =   0.0956
Level     2,  Iter    10:    Energy =   0.0964
Level     2,  Iter    11:    Energy =   0.0967
Level     2,  Iter    12:    Energy =   0.0975
Level     2,  Iter    13:    Energy =   0.0976
Level     2,  Iter    14:    Energy =   0.0984
Level     2,  Iter    15:    Energy =   0.0984
Level     2,  Iter    16:    Energy =   0.0991
Level     2,  Iter    17:    Energy =   0.0991
Level     2,  Iter    18:    Energy =   0.0998
Level     2,  Iter    19:    Energy =   0.0996
END OF LEVEL     2    DetJac Range:   0.0634  to   3.1650 
  Avg. Gradient Time  : 0.1154s  35.95% 
  Avg. Gaussian Time  : 0.1533s  47.77% 
  Avg. Iteration Time : 0.3208s 

real	0m13.728s
user	0m19.025s
sys	0m2.638s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=55 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=55 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.435714 0.44
+ echo 'CHUNK 0.435714 0.44 1'
CHUNK 0.435714 0.44 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.435714 0.44 1
====================================
         PROGRESS: 0.435714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 021
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 021 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=021
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 021 right 0
+ local tid=021
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.589
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4243.22   GNORM= 301.495
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4283.153     182.889       0.001
   2    4     -4297.856     128.306       1.000
   3    5     -4314.789     131.978       1.000
   4    6     -4367.311     160.804       1.000
   5    7     -4394.122     124.482       1.000
   6    8     -4403.450      92.472       1.000
   7    9     -4406.655      48.364       1.000
   8   10     -4409.325      53.289       1.000
   9   11     -4414.152      48.683       1.000
  10   13     -4415.373      52.082       0.218
  11   14     -4416.458      15.737       1.000
  12   15     -4416.657      10.399       1.000
  13   16     -4416.905      12.241       1.000
  14   17     -4417.231      30.411       1.000
  15   19     -4417.540      28.820       0.432
  16   20     -4417.858      14.384       1.000
  17   21     -4417.910       8.396       1.000
  18   22     -4417.949       7.878       1.000
  19   23     -4417.958       4.607       1.000
  20   24     -4417.971       3.948       1.000
  21   25     -4418.001       5.103       1.000
  22   26     -4418.066       5.724       1.000
  23   28     -4418.079       3.002       0.440
  24   29     -4418.089       4.561       1.000
  25   30     -4418.095       3.906       1.000
  26   31     -4418.099       2.507       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.997249 0.0041111 -0.00961557 -0.14261 
-0.00530414 1.03493 -0.0042403 -0.0180518 
-0.0133758 -0.0236967 1.03243 1.62107 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3385.74   GNORM= 82.1471
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3389.358      40.311       0.001
   2    4     -3390.174      31.209       1.000
   3    5     -3390.862      38.590       1.000
   4    6     -3394.505      59.834       1.000
   5    7     -3401.290      70.246       1.000
   6    8     -3405.485      70.064       1.000
   7    9     -3408.363      32.727       1.000
   8   10     -3409.177      37.042       1.000
   9   11     -3409.850      33.505       1.000
  10   12     -3411.785      33.129       1.000
  11   13     -3412.836      30.221       1.000
  12   14     -3413.359      13.063       1.000
  13   15     -3413.551      12.802       1.000
  14   16     -3414.397      22.349       1.000
  15   17     -3414.449      30.378       1.000
  16   18     -3414.916       6.074       1.000
  17   19     -3414.967       5.339       1.000
  18   21     -3415.121      14.274       0.450
  19   22     -3415.347       8.832       1.000
  20   23     -3415.640       9.855       1.000
  21   24     -3415.784       8.663       1.000
  22   25     -3415.854       3.523       1.000
  23   26     -3415.928       5.044       1.000
  24   28     -3415.951       6.189       0.292
  25   29     -3415.994       4.826       1.000
  26   30     -3416.021       5.112       1.000
  27   32     -3416.043       3.314       0.047
  28   33     -3416.051       2.572       1.000
  29   34     -3416.090       5.385       1.000
  30   35     -3416.146       8.386       1.000
  31   37     -3416.223       8.435       0.271
  32   39     -3416.254       6.724       0.287
  33   40     -3416.296       2.611       1.000
  34   41     -3416.303       1.795       1.000
  35   42     -3416.312       2.679       1.000
  36   43     -3416.327       4.839       1.000
  37   45     -3416.346       3.462       0.106
  38   46     -3416.385       8.363       1.000
  39   47     -3416.434       8.868       1.000
  40   48     -3416.497      10.425       1.000
  41   50     -3416.509       6.277       0.302
  42   51     -3416.526       4.155       1.000
  43   52     -3416.536       2.226       1.000
  44   54     -3416.544       1.940       0.186
  45   55     -3416.549       3.052       1.000
  46   56     -3416.560       4.850       1.000
  47   57     -3416.582       7.724       1.000
  48   58     -3416.589       4.308       1.000
  49   59     -3416.592       1.209       1.000
  50   60     -3416.601       1.251       1.000
Final RAS Transform: 
1.00761 -0.00802012 -0.0369074 -0.597929 
0.00937085 1.04829 0.0127301 -0.18964 
-0.0271436 -0.0269483 1.03352 1.93937 
0 0 0 1 

Final RAS Transform: 
1.00761 -0.00802012 -0.0369074 -0.597929 
0.00937085 1.04829 0.0127301 -0.18964 
-0.0271436 -0.0269483 1.03352 1.93937 
0 0 0 1 


real	0m4.570s
user	0m6.100s
sys	0m0.666s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.562225
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1380
Level     0,  Iter     1:    Energy =   0.1458
Level     0,  Iter     2:    Energy =   0.1534
Level     0,  Iter     3:    Energy =   0.1580
Level     0,  Iter     4:    Energy =   0.1604
Level     0,  Iter     5:    Energy =   0.1619
Level     0,  Iter     6:    Energy =   0.1628
Level     0,  Iter     7:    Energy =   0.1640
Level     0,  Iter     8:    Energy =   0.1648
Level     0,  Iter     9:    Energy =   0.1657
Level     0,  Iter    10:    Energy =   0.1659
Level     0,  Iter    11:    Energy =   0.1669
Level     0,  Iter    12:    Energy =   0.1673
Level     0,  Iter    13:    Energy =   0.1675
Level     0,  Iter    14:    Energy =   0.1671
Level     0,  Iter    15:    Energy =   0.1674
Level     0,  Iter    16:    Energy =   0.1670
Level     0,  Iter    17:    Energy =   0.1676
Level     0,  Iter    18:    Energy =   0.1673
Level     0,  Iter    19:    Energy =   0.1679
Level     0,  Iter    20:    Energy =   0.1673
Level     0,  Iter    21:    Energy =   0.1680
Level     0,  Iter    22:    Energy =   0.1681
Level     0,  Iter    23:    Energy =   0.1684
Level     0,  Iter    24:    Energy =   0.1675
Level     0,  Iter    25:    Energy =   0.1682
Level     0,  Iter    26:    Energy =   0.1683
Level     0,  Iter    27:    Energy =   0.1685
Level     0,  Iter    28:    Energy =   0.1675
Level     0,  Iter    29:    Energy =   0.1683
Level     0,  Iter    30:    Energy =   0.1684
Level     0,  Iter    31:    Energy =   0.1685
Level     0,  Iter    32:    Energy =   0.1677
Level     0,  Iter    33:    Energy =   0.1683
Level     0,  Iter    34:    Energy =   0.1684
Level     0,  Iter    35:    Energy =   0.1687
Level     0,  Iter    36:    Energy =   0.1678
Level     0,  Iter    37:    Energy =   0.1685
Level     0,  Iter    38:    Energy =   0.1687
Level     0,  Iter    39:    Energy =   0.1688
Level     0,  Iter    40:    Energy =   0.1679
Level     0,  Iter    41:    Energy =   0.1685
Level     0,  Iter    42:    Energy =   0.1681
Level     0,  Iter    43:    Energy =   0.1688
Level     0,  Iter    44:    Energy =   0.1681
Level     0,  Iter    45:    Energy =   0.1690
Level     0,  Iter    46:    Energy =   0.1694
Level     0,  Iter    47:    Energy =   0.1690
Level     0,  Iter    48:    Energy =   0.1681
Level     0,  Iter    49:    Energy =   0.1686
Level     0,  Iter    50:    Energy =   0.1680
Level     0,  Iter    51:    Energy =   0.1686
Level     0,  Iter    52:    Energy =   0.1682
Level     0,  Iter    53:    Energy =   0.1690
Level     0,  Iter    54:    Energy =   0.1682
Level     0,  Iter    55:    Energy =   0.1689
Level     0,  Iter    56:    Energy =   0.1689
Level     0,  Iter    57:    Energy =   0.1691
Level     0,  Iter    58:    Energy =   0.1681
Level     0,  Iter    59:    Energy =   0.1688
END OF LEVEL     0    DetJac Range:   0.3720  to   2.3586 
  Avg. Gradient Time  : 0.0056s  35.48% 
  Avg. Gaussian Time  : 0.0071s  45.10% 
  Avg. Iteration Time : 0.0157s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1226
Level     1,  Iter     1:    Energy =   0.1283
Level     1,  Iter     2:    Energy =   0.1336
Level     1,  Iter     3:    Energy =   0.1371
Level     1,  Iter     4:    Energy =   0.1408
Level     1,  Iter     5:    Energy =   0.1442
Level     1,  Iter     6:    Energy =   0.1456
Level     1,  Iter     7:    Energy =   0.1466
Level     1,  Iter     8:    Energy =   0.1476
Level     1,  Iter     9:    Energy =   0.1489
Level     1,  Iter    10:    Energy =   0.1494
Level     1,  Iter    11:    Energy =   0.1496
Level     1,  Iter    12:    Energy =   0.1503
Level     1,  Iter    13:    Energy =   0.1503
Level     1,  Iter    14:    Energy =   0.1511
Level     1,  Iter    15:    Energy =   0.1510
Level     1,  Iter    16:    Energy =   0.1517
Level     1,  Iter    17:    Energy =   0.1515
Level     1,  Iter    18:    Energy =   0.1522
Level     1,  Iter    19:    Energy =   0.1519
Level     1,  Iter    20:    Energy =   0.1526
Level     1,  Iter    21:    Energy =   0.1523
Level     1,  Iter    22:    Energy =   0.1530
Level     1,  Iter    23:    Energy =   0.1526
Level     1,  Iter    24:    Energy =   0.1532
Level     1,  Iter    25:    Energy =   0.1529
Level     1,  Iter    26:    Energy =   0.1534
Level     1,  Iter    27:    Energy =   0.1531
Level     1,  Iter    28:    Energy =   0.1535
Level     1,  Iter    29:    Energy =   0.1532
Level     1,  Iter    30:    Energy =   0.1537
Level     1,  Iter    31:    Energy =   0.1534
Level     1,  Iter    32:    Energy =   0.1539
Level     1,  Iter    33:    Energy =   0.1536
Level     1,  Iter    34:    Energy =   0.1541
Level     1,  Iter    35:    Energy =   0.1538
Level     1,  Iter    36:    Energy =   0.1543
Level     1,  Iter    37:    Energy =   0.1539
Level     1,  Iter    38:    Energy =   0.1545
Level     1,  Iter    39:    Energy =   0.1541
Level     1,  Iter    40:    Energy =   0.1546
Level     1,  Iter    41:    Energy =   0.1542
Level     1,  Iter    42:    Energy =   0.1547
Level     1,  Iter    43:    Energy =   0.1543
Level     1,  Iter    44:    Energy =   0.1545
Level     1,  Iter    45:    Energy =   0.1542
Level     1,  Iter    46:    Energy =   0.1544
Level     1,  Iter    47:    Energy =   0.1541
Level     1,  Iter    48:    Energy =   0.1544
Level     1,  Iter    49:    Energy =   0.1540
Level     1,  Iter    50:    Energy =   0.1544
Level     1,  Iter    51:    Energy =   0.1540
Level     1,  Iter    52:    Energy =   0.1546
Level     1,  Iter    53:    Energy =   0.1542
Level     1,  Iter    54:    Energy =   0.1547
Level     1,  Iter    55:    Energy =   0.1543
Level     1,  Iter    56:    Energy =   0.1547
Level     1,  Iter    57:    Energy =   0.1543
Level     1,  Iter    58:    Energy =   0.1548
Level     1,  Iter    59:    Energy =   0.1544
END OF LEVEL     1    DetJac Range:   0.1311  to   3.5966 
  Avg. Gradient Time  : 0.0243s  35.50% 
  Avg. Gaussian Time  : 0.0320s  46.82% 
  Avg. Iteration Time : 0.0683s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0855
Level     2,  Iter     1:    Energy =   0.0889
Level     2,  Iter     2:    Energy =   0.0918
Level     2,  Iter     3:    Energy =   0.0942
Level     2,  Iter     4:    Energy =   0.0964
Level     2,  Iter     5:    Energy =   0.0986
Level     2,  Iter     6:    Energy =   0.1000
Level     2,  Iter     7:    Energy =   0.1017
Level     2,  Iter     8:    Energy =   0.1029
Level     2,  Iter     9:    Energy =   0.1032
Level     2,  Iter    10:    Energy =   0.1043
Level     2,  Iter    11:    Energy =   0.1043
Level     2,  Iter    12:    Energy =   0.1052
Level     2,  Iter    13:    Energy =   0.1052
Level     2,  Iter    14:    Energy =   0.1060
Level     2,  Iter    15:    Energy =   0.1058
Level     2,  Iter    16:    Energy =   0.1066
Level     2,  Iter    17:    Energy =   0.1064
Level     2,  Iter    18:    Energy =   0.1071
Level     2,  Iter    19:    Energy =   0.1068
END OF LEVEL     2    DetJac Range:   0.1134  to   3.6769 
  Avg. Gradient Time  : 0.1196s  36.81% 
  Avg. Gaussian Time  : 0.1560s  48.03% 
  Avg. Iteration Time : 0.3248s 

real	0m13.948s
user	0m19.193s
sys	0m2.560s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=56 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=56 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.44 0.444286
+ echo 'CHUNK 0.44 0.444286 1'
CHUNK 0.44 0.444286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.44 0.444286 1
====================================
         PROGRESS: 0.44               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 022
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 022 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=022
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 022 right 0
+ local tid=022
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.651
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4344.17   GNORM= 616.786
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4512.597     268.688       0.001
   2    4     -4528.733     159.447       1.000
   3    5     -4534.956     100.698       1.000
   4    6     -4545.288     125.160       1.000
   5    7     -4562.943     185.910       1.000
   6    8     -4595.129     166.572       1.000
   7   10     -4597.836     146.620       0.096
   8   11     -4610.219      90.856       1.000
   9   12     -4613.260     110.723       1.000
  10   13     -4615.842      40.539       1.000
  11   14     -4616.656      30.480       1.000
  12   15     -4617.966      29.093       1.000
  13   17     -4619.342      43.452       0.149
  14   18     -4620.397      44.125       1.000
  15   19     -4621.771      28.871       1.000
  16   20     -4622.131      43.949       1.000
  17   21     -4622.576      13.387       1.000
  18   22     -4622.639       9.245       1.000
  19   23     -4622.716       9.588       1.000
  20   24     -4622.946      27.582       1.000
  21   25     -4623.103       8.953       1.000
  22   26     -4623.119       5.144       1.000
  23   27     -4623.130       4.919       1.000
  24   28     -4623.141       4.279       1.000
  25   30     -4623.184      13.324       0.381
  26   31     -4623.199      15.234       1.000
  27   32     -4623.241       5.613       1.000
  28   33     -4623.252       2.668       1.000
  29   35     -4623.253       2.996       0.343
  30   36     -4623.253       2.128       1.000
  31   37     -4623.257       2.140       1.000
  32   39     -4623.265       6.903       0.361
  33   40     -4623.266       1.837       1.000
  34   41     -4623.269       1.994       1.000
  35   43     -4623.276       4.706       0.505
Final RAS Transform: 
0.999934 -0.00490699 -0.00911522 -0.0152375 
0.000815896 1.01568 0.0120897 0.237895 
-0.0322295 0.0125214 1.03284 1.23754 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3380.65   GNORM= 146.701
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3385.719      41.010       0.000
   2    4     -3386.570      40.819       1.000
   3    5     -3392.355     108.218       1.000
   4    6     -3398.440     120.194       1.000
   5    7     -3404.491     142.541       1.000
   6    8     -3408.524      86.783       1.000
   7    9     -3412.196      19.093       1.000
   8   10     -3412.513      14.397       1.000
   9   11     -3413.028      30.779       1.000
  10   12     -3413.570      25.178       1.000
  11   13     -3414.225      24.861       1.000
  12   14     -3414.839      17.185       1.000
  13   15     -3415.190      10.160       1.000
  14   16     -3415.521      39.351       1.000
  15   17     -3415.970      14.696       1.000
  16   18     -3416.156       5.081       1.000
  17   19     -3416.184      13.766       1.000
  18   20     -3416.289       8.565       1.000
  19   21     -3416.336       5.284       1.000
  20   22     -3416.397      13.043       1.000
  21   23     -3416.490      13.179       1.000
  22   24     -3416.658       6.229       1.000
  23   25     -3416.744       8.674       1.000
  24   26     -3416.767       3.306       1.000
  25   27     -3416.791       4.005       1.000
  26   29     -3416.799       5.334       0.295
  27   30     -3416.804       6.302       1.000
  28   31     -3416.818       7.271       1.000
  29   32     -3416.840       4.134       1.000
  30   33     -3416.849       1.595       1.000
  31   35     -3416.851       1.118       0.274
  32   37     -3416.857       1.755       0.215
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.996213 -0.00153009 -0.0223836 -0.235108 
0.00259692 1.0254 0.0103001 -0.0433567 
-0.0171009 -0.0030739 1.02376 1.12068 
0 0 0 1 

Final RAS Transform: 
0.996213 -0.00153009 -0.0223836 -0.235108 
0.00259692 1.0254 0.0103001 -0.0433567 
-0.0171009 -0.0030739 1.02376 1.12068 
0 0 0 1 


real	0m4.532s
user	0m6.018s
sys	0m0.627s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.627828
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1424
Level     0,  Iter     1:    Energy =   0.1509
Level     0,  Iter     2:    Energy =   0.1576
Level     0,  Iter     3:    Energy =   0.1613
Level     0,  Iter     4:    Energy =   0.1636
Level     0,  Iter     5:    Energy =   0.1650
Level     0,  Iter     6:    Energy =   0.1661
Level     0,  Iter     7:    Energy =   0.1668
Level     0,  Iter     8:    Energy =   0.1677
Level     0,  Iter     9:    Energy =   0.1680
Level     0,  Iter    10:    Energy =   0.1682
Level     0,  Iter    11:    Energy =   0.1682
Level     0,  Iter    12:    Energy =   0.1686
Level     0,  Iter    13:    Energy =   0.1686
Level     0,  Iter    14:    Energy =   0.1686
Level     0,  Iter    15:    Energy =   0.1687
Level     0,  Iter    16:    Energy =   0.1686
Level     0,  Iter    17:    Energy =   0.1688
Level     0,  Iter    18:    Energy =   0.1687
Level     0,  Iter    19:    Energy =   0.1690
Level     0,  Iter    20:    Energy =   0.1687
Level     0,  Iter    21:    Energy =   0.1690
Level     0,  Iter    22:    Energy =   0.1687
Level     0,  Iter    23:    Energy =   0.1690
Level     0,  Iter    24:    Energy =   0.1688
Level     0,  Iter    25:    Energy =   0.1691
Level     0,  Iter    26:    Energy =   0.1688
Level     0,  Iter    27:    Energy =   0.1691
Level     0,  Iter    28:    Energy =   0.1687
Level     0,  Iter    29:    Energy =   0.1691
Level     0,  Iter    30:    Energy =   0.1688
Level     0,  Iter    31:    Energy =   0.1692
Level     0,  Iter    32:    Energy =   0.1688
Level     0,  Iter    33:    Energy =   0.1693
Level     0,  Iter    34:    Energy =   0.1688
Level     0,  Iter    35:    Energy =   0.1693
Level     0,  Iter    36:    Energy =   0.1688
Level     0,  Iter    37:    Energy =   0.1694
Level     0,  Iter    38:    Energy =   0.1689
Level     0,  Iter    39:    Energy =   0.1694
Level     0,  Iter    40:    Energy =   0.1687
Level     0,  Iter    41:    Energy =   0.1694
Level     0,  Iter    42:    Energy =   0.1690
Level     0,  Iter    43:    Energy =   0.1695
Level     0,  Iter    44:    Energy =   0.1689
Level     0,  Iter    45:    Energy =   0.1695
Level     0,  Iter    46:    Energy =   0.1690
Level     0,  Iter    47:    Energy =   0.1695
Level     0,  Iter    48:    Energy =   0.1689
Level     0,  Iter    49:    Energy =   0.1695
Level     0,  Iter    50:    Energy =   0.1691
Level     0,  Iter    51:    Energy =   0.1696
Level     0,  Iter    52:    Energy =   0.1691
Level     0,  Iter    53:    Energy =   0.1696
Level     0,  Iter    54:    Energy =   0.1690
Level     0,  Iter    55:    Energy =   0.1695
Level     0,  Iter    56:    Energy =   0.1690
Level     0,  Iter    57:    Energy =   0.1696
Level     0,  Iter    58:    Energy =   0.1690
Level     0,  Iter    59:    Energy =   0.1696
END OF LEVEL     0    DetJac Range:   0.5618  to   1.5828 
  Avg. Gradient Time  : 0.0054s  35.40% 
  Avg. Gaussian Time  : 0.0070s  45.32% 
  Avg. Iteration Time : 0.0154s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1239
Level     1,  Iter     1:    Energy =   0.1302
Level     1,  Iter     2:    Energy =   0.1361
Level     1,  Iter     3:    Energy =   0.1402
Level     1,  Iter     4:    Energy =   0.1442
Level     1,  Iter     5:    Energy =   0.1466
Level     1,  Iter     6:    Energy =   0.1482
Level     1,  Iter     7:    Energy =   0.1492
Level     1,  Iter     8:    Energy =   0.1499
Level     1,  Iter     9:    Energy =   0.1507
Level     1,  Iter    10:    Energy =   0.1515
Level     1,  Iter    11:    Energy =   0.1518
Level     1,  Iter    12:    Energy =   0.1528
Level     1,  Iter    13:    Energy =   0.1528
Level     1,  Iter    14:    Energy =   0.1539
Level     1,  Iter    15:    Energy =   0.1539
Level     1,  Iter    16:    Energy =   0.1544
Level     1,  Iter    17:    Energy =   0.1542
Level     1,  Iter    18:    Energy =   0.1549
Level     1,  Iter    19:    Energy =   0.1548
Level     1,  Iter    20:    Energy =   0.1547
Level     1,  Iter    21:    Energy =   0.1552
Level     1,  Iter    22:    Energy =   0.1550
Level     1,  Iter    23:    Energy =   0.1559
Level     1,  Iter    24:    Energy =   0.1557
Level     1,  Iter    25:    Energy =   0.1559
Level     1,  Iter    26:    Energy =   0.1556
Level     1,  Iter    27:    Energy =   0.1564
Level     1,  Iter    28:    Energy =   0.1561
Level     1,  Iter    29:    Energy =   0.1564
Level     1,  Iter    30:    Energy =   0.1562
Level     1,  Iter    31:    Energy =   0.1568
Level     1,  Iter    32:    Energy =   0.1565
Level     1,  Iter    33:    Energy =   0.1569
Level     1,  Iter    34:    Energy =   0.1567
Level     1,  Iter    35:    Energy =   0.1572
Level     1,  Iter    36:    Energy =   0.1568
Level     1,  Iter    37:    Energy =   0.1573
Level     1,  Iter    38:    Energy =   0.1569
Level     1,  Iter    39:    Energy =   0.1574
Level     1,  Iter    40:    Energy =   0.1571
Level     1,  Iter    41:    Energy =   0.1576
Level     1,  Iter    42:    Energy =   0.1573
Level     1,  Iter    43:    Energy =   0.1578
Level     1,  Iter    44:    Energy =   0.1575
Level     1,  Iter    45:    Energy =   0.1579
Level     1,  Iter    46:    Energy =   0.1575
Level     1,  Iter    47:    Energy =   0.1581
Level     1,  Iter    48:    Energy =   0.1577
Level     1,  Iter    49:    Energy =   0.1580
Level     1,  Iter    50:    Energy =   0.1577
Level     1,  Iter    51:    Energy =   0.1582
Level     1,  Iter    52:    Energy =   0.1578
Level     1,  Iter    53:    Energy =   0.1583
Level     1,  Iter    54:    Energy =   0.1579
Level     1,  Iter    55:    Energy =   0.1584
Level     1,  Iter    56:    Energy =   0.1580
Level     1,  Iter    57:    Energy =   0.1584
Level     1,  Iter    58:    Energy =   0.1580
Level     1,  Iter    59:    Energy =   0.1586
END OF LEVEL     1    DetJac Range:   0.1344  to   3.0465 
  Avg. Gradient Time  : 0.0240s  34.58% 
  Avg. Gaussian Time  : 0.0334s  48.01% 
  Avg. Iteration Time : 0.0695s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0905
Level     2,  Iter     1:    Energy =   0.0944
Level     2,  Iter     2:    Energy =   0.0980
Level     2,  Iter     3:    Energy =   0.1009
Level     2,  Iter     4:    Energy =   0.1035
Level     2,  Iter     5:    Energy =   0.1056
Level     2,  Iter     6:    Energy =   0.1075
Level     2,  Iter     7:    Energy =   0.1091
Level     2,  Iter     8:    Energy =   0.1091
Level     2,  Iter     9:    Energy =   0.1102
Level     2,  Iter    10:    Energy =   0.1101
Level     2,  Iter    11:    Energy =   0.1110
Level     2,  Iter    12:    Energy =   0.1108
Level     2,  Iter    13:    Energy =   0.1116
Level     2,  Iter    14:    Energy =   0.1114
Level     2,  Iter    15:    Energy =   0.1122
Level     2,  Iter    16:    Energy =   0.1119
Level     2,  Iter    17:    Energy =   0.1126
Level     2,  Iter    18:    Energy =   0.1123
Level     2,  Iter    19:    Energy =   0.1130
END OF LEVEL     2    DetJac Range:   0.1150  to   3.2589 
  Avg. Gradient Time  : 0.1194s  36.53% 
  Avg. Gaussian Time  : 0.1577s  48.21% 
  Avg. Iteration Time : 0.3270s 

real	0m13.954s
user	0m19.008s
sys	0m2.645s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=57 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=57 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.444286 0.448571
+ echo 'CHUNK 0.444286 0.448571 1'
CHUNK 0.444286 0.448571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.444286 0.448571 1
====================================
         PROGRESS: 0.444286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 023
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 023 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=023
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 023 right 0
+ local tid=023
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.631
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4160.36   GNORM= 380.27
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4223.462     166.716       0.001
   2    4     -4231.345     125.544       1.000
   3    5     -4236.174      96.480       1.000
   4    6     -4254.697     161.909       1.000
   5    7     -4272.407     154.327       1.000
   6    8     -4301.498     174.041       1.000
   7    9     -4310.994     128.692       1.000
   8   10     -4319.082      41.861       1.000
   9   11     -4320.499      39.462       1.000
  10   12     -4323.641      64.595       1.000
  11   13     -4326.192      39.352       1.000
  12   15     -4326.722      26.271       0.489
  13   16     -4326.983      13.434       1.000
  14   17     -4327.303      18.977       1.000
  15   18     -4327.754      44.172       1.000
  16   19     -4328.449      38.002       1.000
  17   20     -4329.092      19.665       1.000
  18   21     -4329.292      16.345       1.000
  19   23     -4329.393      11.660       0.284
  20   24     -4329.443       9.326       1.000
  21   25     -4329.515      15.243       1.000
  22   26     -4329.672       9.528       1.000
  23   27     -4329.763      14.530       1.000
  24   28     -4329.821       8.535       1.000
  25   29     -4329.853       4.893       1.000
  26   31     -4329.865       5.909       0.467
  27   32     -4329.879       4.793       1.000
  28   34     -4329.894       7.017       0.462
  29   35     -4329.903       7.489       1.000
  30   36     -4329.936      14.427       1.000
  31   37     -4329.968      13.455       1.000
  32   39     -4330.054      12.215       0.534
  33   40     -4330.084       5.485       1.000
  34   42     -4330.092       4.779       0.432
  35   43     -4330.100       5.572       1.000
  36   44     -4330.121       3.740       1.000
  37   45     -4330.153       4.840       1.000
  38   47     -4330.159       2.238       0.261
  39   48     -4330.163       1.571       1.000
  40   49     -4330.164       1.191       1.000
  41   50     -4330.165       0.960       1.000
Final RAS Transform: 
0.98396 -0.000965983 -0.0229192 -0.114095 
-0.0462357 1.01424 -0.000518002 1.12177 
-0.0275176 -0.00560034 1.01427 1.30103 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3159.43   GNORM= 145.848
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3170.189      70.672       0.001
   2    4     -3172.346      52.349       1.000
   3    5     -3173.393      35.299       1.000
   4    6     -3176.552      50.467       1.000
   5    7     -3180.365      62.786       1.000
   6    8     -3183.991      80.370       1.000
   7   10     -3185.432      45.978       0.412
   8   11     -3186.453      27.408       1.000
   9   12     -3187.535      31.586       1.000
  10   13     -3188.983      53.820       1.000
  11   14     -3191.400      45.354       1.000
  12   15     -3193.317      29.009       1.000
  13   16     -3193.623      25.844       1.000
  14   17     -3193.929      14.322       1.000
  15   18     -3194.103      19.138       1.000
  16   19     -3194.368      19.744       1.000
  17   20     -3194.687      31.286       1.000
  18   21     -3195.560      19.819       1.000
  19   22     -3196.075      17.897       1.000
  20   23     -3196.890      22.497       1.000
  21   24     -3197.276      35.918       1.000
  22   25     -3197.714      14.142       1.000
  23   26     -3197.805       6.432       1.000
  24   27     -3197.832       5.985       1.000
  25   28     -3198.047      13.936       1.000
  26   29     -3198.294       7.872       1.000
  27   30     -3198.451      24.508       1.000
  28   31     -3198.572       8.844       1.000
  29   32     -3198.632       5.081       1.000
  30   33     -3198.665       2.905       1.000
  31   34     -3198.673       4.178       1.000
  32   35     -3198.720       9.044       1.000
  33   36     -3198.778       6.105       1.000
  34   37     -3198.825       6.999       1.000
  35   39     -3198.845       6.545       0.223
  36   40     -3198.849       6.403       1.000
  37   41     -3198.855       2.657       1.000
  38   42     -3198.861       2.157       1.000
  39   43     -3198.869       2.465       1.000
  40   44     -3198.872       2.565       1.000
  41   46     -3198.884       3.324       0.332
Final RAS Transform: 
0.990793 0.00939596 -0.0290573 -0.352667 
-0.0611849 0.998155 -0.0246011 1.11149 
-0.0134901 0.00585052 1.03185 1.19505 
0 0 0 1 

Final RAS Transform: 
0.990793 0.00939596 -0.0290573 -0.352667 
-0.0611849 0.998155 -0.0246011 1.11149 
-0.0134901 0.00585052 1.03185 1.19505 
0 0 0 1 


real	0m4.632s
user	0m6.180s
sys	0m0.710s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.606366
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1356
Level     0,  Iter     1:    Energy =   0.1445
Level     0,  Iter     2:    Energy =   0.1536
Level     0,  Iter     3:    Energy =   0.1586
Level     0,  Iter     4:    Energy =   0.1625
Level     0,  Iter     5:    Energy =   0.1647
Level     0,  Iter     6:    Energy =   0.1662
Level     0,  Iter     7:    Energy =   0.1665
Level     0,  Iter     8:    Energy =   0.1675
Level     0,  Iter     9:    Energy =   0.1677
Level     0,  Iter    10:    Energy =   0.1686
Level     0,  Iter    11:    Energy =   0.1688
Level     0,  Iter    12:    Energy =   0.1694
Level     0,  Iter    13:    Energy =   0.1693
Level     0,  Iter    14:    Energy =   0.1699
Level     0,  Iter    15:    Energy =   0.1698
Level     0,  Iter    16:    Energy =   0.1703
Level     0,  Iter    17:    Energy =   0.1702
Level     0,  Iter    18:    Energy =   0.1706
Level     0,  Iter    19:    Energy =   0.1704
Level     0,  Iter    20:    Energy =   0.1708
Level     0,  Iter    21:    Energy =   0.1705
Level     0,  Iter    22:    Energy =   0.1709
Level     0,  Iter    23:    Energy =   0.1707
Level     0,  Iter    24:    Energy =   0.1711
Level     0,  Iter    25:    Energy =   0.1707
Level     0,  Iter    26:    Energy =   0.1712
Level     0,  Iter    27:    Energy =   0.1709
Level     0,  Iter    28:    Energy =   0.1712
Level     0,  Iter    29:    Energy =   0.1708
Level     0,  Iter    30:    Energy =   0.1712
Level     0,  Iter    31:    Energy =   0.1709
Level     0,  Iter    32:    Energy =   0.1713
Level     0,  Iter    33:    Energy =   0.1709
Level     0,  Iter    34:    Energy =   0.1713
Level     0,  Iter    35:    Energy =   0.1710
Level     0,  Iter    36:    Energy =   0.1714
Level     0,  Iter    37:    Energy =   0.1709
Level     0,  Iter    38:    Energy =   0.1713
Level     0,  Iter    39:    Energy =   0.1710
Level     0,  Iter    40:    Energy =   0.1714
Level     0,  Iter    41:    Energy =   0.1709
Level     0,  Iter    42:    Energy =   0.1714
Level     0,  Iter    43:    Energy =   0.1709
Level     0,  Iter    44:    Energy =   0.1714
Level     0,  Iter    45:    Energy =   0.1710
Level     0,  Iter    46:    Energy =   0.1714
Level     0,  Iter    47:    Energy =   0.1710
Level     0,  Iter    48:    Energy =   0.1714
Level     0,  Iter    49:    Energy =   0.1710
Level     0,  Iter    50:    Energy =   0.1714
Level     0,  Iter    51:    Energy =   0.1711
Level     0,  Iter    52:    Energy =   0.1714
Level     0,  Iter    53:    Energy =   0.1710
Level     0,  Iter    54:    Energy =   0.1714
Level     0,  Iter    55:    Energy =   0.1710
Level     0,  Iter    56:    Energy =   0.1714
Level     0,  Iter    57:    Energy =   0.1710
Level     0,  Iter    58:    Energy =   0.1714
Level     0,  Iter    59:    Energy =   0.1710
END OF LEVEL     0    DetJac Range:   0.4560  to   2.1949 
  Avg. Gradient Time  : 0.0057s  35.78% 
  Avg. Gaussian Time  : 0.0072s  44.96% 
  Avg. Iteration Time : 0.0160s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1201
Level     1,  Iter     1:    Energy =   0.1258
Level     1,  Iter     2:    Energy =   0.1325
Level     1,  Iter     3:    Energy =   0.1365
Level     1,  Iter     4:    Energy =   0.1395
Level     1,  Iter     5:    Energy =   0.1425
Level     1,  Iter     6:    Energy =   0.1451
Level     1,  Iter     7:    Energy =   0.1470
Level     1,  Iter     8:    Energy =   0.1481
Level     1,  Iter     9:    Energy =   0.1484
Level     1,  Iter    10:    Energy =   0.1483
Level     1,  Iter    11:    Energy =   0.1493
Level     1,  Iter    12:    Energy =   0.1494
Level     1,  Iter    13:    Energy =   0.1500
Level     1,  Iter    14:    Energy =   0.1498
Level     1,  Iter    15:    Energy =   0.1508
Level     1,  Iter    16:    Energy =   0.1509
Level     1,  Iter    17:    Energy =   0.1511
Level     1,  Iter    18:    Energy =   0.1508
Level     1,  Iter    19:    Energy =   0.1519
Level     1,  Iter    20:    Energy =   0.1518
Level     1,  Iter    21:    Energy =   0.1519
Level     1,  Iter    22:    Energy =   0.1516
Level     1,  Iter    23:    Energy =   0.1527
Level     1,  Iter    24:    Energy =   0.1525
Level     1,  Iter    25:    Energy =   0.1527
Level     1,  Iter    26:    Energy =   0.1523
Level     1,  Iter    27:    Energy =   0.1533
Level     1,  Iter    28:    Energy =   0.1531
Level     1,  Iter    29:    Energy =   0.1532
Level     1,  Iter    30:    Energy =   0.1528
Level     1,  Iter    31:    Energy =   0.1538
Level     1,  Iter    32:    Energy =   0.1536
Level     1,  Iter    33:    Energy =   0.1535
Level     1,  Iter    34:    Energy =   0.1531
Level     1,  Iter    35:    Energy =   0.1540
Level     1,  Iter    36:    Energy =   0.1536
Level     1,  Iter    37:    Energy =   0.1541
Level     1,  Iter    38:    Energy =   0.1536
Level     1,  Iter    39:    Energy =   0.1546
Level     1,  Iter    40:    Energy =   0.1545
Level     1,  Iter    41:    Energy =   0.1541
Level     1,  Iter    42:    Energy =   0.1537
Level     1,  Iter    43:    Energy =   0.1546
Level     1,  Iter    44:    Energy =   0.1541
Level     1,  Iter    45:    Energy =   0.1550
Level     1,  Iter    46:    Energy =   0.1546
Level     1,  Iter    47:    Energy =   0.1547
Level     1,  Iter    48:    Energy =   0.1542
Level     1,  Iter    49:    Energy =   0.1552
Level     1,  Iter    50:    Energy =   0.1550
Level     1,  Iter    51:    Energy =   0.1547
Level     1,  Iter    52:    Energy =   0.1542
Level     1,  Iter    53:    Energy =   0.1552
Level     1,  Iter    54:    Energy =   0.1547
Level     1,  Iter    55:    Energy =   0.1553
Level     1,  Iter    56:    Energy =   0.1547
Level     1,  Iter    57:    Energy =   0.1557
Level     1,  Iter    58:    Energy =   0.1556
Level     1,  Iter    59:    Energy =   0.1552
END OF LEVEL     1    DetJac Range:   0.2024  to   3.4179 
  Avg. Gradient Time  : 0.0243s  35.63% 
  Avg. Gaussian Time  : 0.0320s  46.91% 
  Avg. Iteration Time : 0.0682s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0850
Level     2,  Iter     1:    Energy =   0.0880
Level     2,  Iter     2:    Energy =   0.0911
Level     2,  Iter     3:    Energy =   0.0937
Level     2,  Iter     4:    Energy =   0.0963
Level     2,  Iter     5:    Energy =   0.0986
Level     2,  Iter     6:    Energy =   0.1002
Level     2,  Iter     7:    Energy =   0.1015
Level     2,  Iter     8:    Energy =   0.1023
Level     2,  Iter     9:    Energy =   0.1033
Level     2,  Iter    10:    Energy =   0.1035
Level     2,  Iter    11:    Energy =   0.1043
Level     2,  Iter    12:    Energy =   0.1046
Level     2,  Iter    13:    Energy =   0.1048
Level     2,  Iter    14:    Energy =   0.1054
Level     2,  Iter    15:    Energy =   0.1054
Level     2,  Iter    16:    Energy =   0.1062
Level     2,  Iter    17:    Energy =   0.1060
Level     2,  Iter    18:    Energy =   0.1067
Level     2,  Iter    19:    Energy =   0.1066
END OF LEVEL     2    DetJac Range:   0.0969  to   4.0508 
  Avg. Gradient Time  : 0.1185s  36.73% 
  Avg. Gaussian Time  : 0.1534s  47.52% 
  Avg. Iteration Time : 0.3227s 

real	0m13.797s
user	0m19.115s
sys	0m2.557s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=58 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=58 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.448571 0.452857
+ echo 'CHUNK 0.448571 0.452857 1'
CHUNK 0.448571 0.452857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.448571 0.452857 1
====================================
         PROGRESS: 0.448571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 024
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 024 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=024
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 024 right 0
+ local tid=024
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.671
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4317.42   GNORM= 606.33
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4407.010     217.855       0.000
   2    4     -4424.311     163.575       1.000
   3    5     -4448.430     305.906       1.000
   4    6     -4477.389     209.102       1.000
   5    7     -4572.400     113.584       1.000
   6    8     -4607.713     118.160       1.000
   7   10     -4610.835     120.423       0.130
   8   11     -4618.016      57.809       1.000
   9   12     -4620.561      51.134       1.000
  10   13     -4622.730      46.022       1.000
  11   14     -4627.162      60.424       1.000
  12   15     -4630.081      36.450       1.000
  13   16     -4630.608      20.142       1.000
  14   17     -4630.742      16.389       1.000
  15   18     -4630.894      20.022       1.000
  16   20     -4631.028      13.451       0.227
  17   21     -4631.366      10.400       1.000
  18   22     -4631.664      30.519       1.000
  19   23     -4631.807      33.603       1.000
  20   24     -4631.961       7.628       1.000
  21   25     -4631.998       5.983       1.000
  22   26     -4632.009       3.561       1.000
  23   27     -4632.023       5.002       1.000
  24   28     -4632.039       7.803       1.000
  25   29     -4632.074       4.241       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.987187 0.0104451 -0.027987 -0.462396 
-0.0393398 1.05006 0.00772751 0.572156 
-0.016583 -0.0128923 1.05414 1.42741 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3330.16   GNORM= 236.608
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3346.025      91.162       0.001
   2    4     -3349.555      63.172       1.000
   3    5     -3354.542      51.842       1.000
   4    6     -3358.261      55.761       1.000
   5    7     -3367.453      83.654       1.000
   6    9     -3370.496      35.746       0.460
   7   10     -3371.385      23.647       1.000
   8   11     -3372.010      26.383       1.000
   9   12     -3372.985      30.450       1.000
  10   13     -3374.710      44.607       1.000
  11   14     -3376.205      28.589       1.000
  12   15     -3376.857      15.141       1.000
  13   16     -3377.040      10.322       1.000
  14   17     -3377.332      16.436       1.000
  15   18     -3377.778      16.914       1.000
  16   20     -3378.000      26.214       0.114
  17   21     -3378.317      18.581       1.000
  18   22     -3378.468       5.574       1.000
  19   23     -3378.504       5.712       1.000
  20   24     -3378.627       4.846       1.000
  21   26     -3378.692       9.109       0.268
  22   27     -3378.748       7.784       1.000
  23   29     -3378.754       4.652       0.225
  24   30     -3378.764       2.847       1.000
  25   31     -3378.774       3.356       1.000
  26   32     -3378.799       2.519       1.000
  27   33     -3378.813       7.541       1.000
  28   34     -3378.839       3.074       1.000
  29   35     -3378.852       2.018       1.000
  30   36     -3378.862       4.222       1.000
  31   37     -3378.870       2.331       1.000
  32   38     -3378.873       2.115       1.000
  33   39     -3378.879       2.119       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.992005 0.00286149 -0.0522271 -0.765471 
-0.0355234 1.06163 0.0144803 0.272892 
-0.0176463 -0.017711 1.04172 1.42625 
0 0 0 1 

Final RAS Transform: 
0.992005 0.00286149 -0.0522271 -0.765471 
-0.0355234 1.06163 0.0144803 0.272892 
-0.0176463 -0.017711 1.04172 1.42625 
0 0 0 1 


real	0m4.388s
user	0m5.980s
sys	0m0.651s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.633103
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1414
Level     0,  Iter     1:    Energy =   0.1499
Level     0,  Iter     2:    Energy =   0.1566
Level     0,  Iter     3:    Energy =   0.1608
Level     0,  Iter     4:    Energy =   0.1631
Level     0,  Iter     5:    Energy =   0.1642
Level     0,  Iter     6:    Energy =   0.1654
Level     0,  Iter     7:    Energy =   0.1659
Level     0,  Iter     8:    Energy =   0.1668
Level     0,  Iter     9:    Energy =   0.1671
Level     0,  Iter    10:    Energy =   0.1677
Level     0,  Iter    11:    Energy =   0.1678
Level     0,  Iter    12:    Energy =   0.1683
Level     0,  Iter    13:    Energy =   0.1682
Level     0,  Iter    14:    Energy =   0.1687
Level     0,  Iter    15:    Energy =   0.1685
Level     0,  Iter    16:    Energy =   0.1690
Level     0,  Iter    17:    Energy =   0.1688
Level     0,  Iter    18:    Energy =   0.1693
Level     0,  Iter    19:    Energy =   0.1691
Level     0,  Iter    20:    Energy =   0.1696
Level     0,  Iter    21:    Energy =   0.1692
Level     0,  Iter    22:    Energy =   0.1697
Level     0,  Iter    23:    Energy =   0.1694
Level     0,  Iter    24:    Energy =   0.1699
Level     0,  Iter    25:    Energy =   0.1694
Level     0,  Iter    26:    Energy =   0.1699
Level     0,  Iter    27:    Energy =   0.1697
Level     0,  Iter    28:    Energy =   0.1701
Level     0,  Iter    29:    Energy =   0.1695
Level     0,  Iter    30:    Energy =   0.1700
Level     0,  Iter    31:    Energy =   0.1699
Level     0,  Iter    32:    Energy =   0.1702
Level     0,  Iter    33:    Energy =   0.1697
Level     0,  Iter    34:    Energy =   0.1701
Level     0,  Iter    35:    Energy =   0.1698
Level     0,  Iter    36:    Energy =   0.1701
Level     0,  Iter    37:    Energy =   0.1696
Level     0,  Iter    38:    Energy =   0.1701
Level     0,  Iter    39:    Energy =   0.1700
Level     0,  Iter    40:    Energy =   0.1702
Level     0,  Iter    41:    Energy =   0.1696
Level     0,  Iter    42:    Energy =   0.1702
Level     0,  Iter    43:    Energy =   0.1700
Level     0,  Iter    44:    Energy =   0.1703
Level     0,  Iter    45:    Energy =   0.1697
Level     0,  Iter    46:    Energy =   0.1703
Level     0,  Iter    47:    Energy =   0.1700
Level     0,  Iter    48:    Energy =   0.1703
Level     0,  Iter    49:    Energy =   0.1697
Level     0,  Iter    50:    Energy =   0.1703
Level     0,  Iter    51:    Energy =   0.1701
Level     0,  Iter    52:    Energy =   0.1704
Level     0,  Iter    53:    Energy =   0.1698
Level     0,  Iter    54:    Energy =   0.1703
Level     0,  Iter    55:    Energy =   0.1701
Level     0,  Iter    56:    Energy =   0.1704
Level     0,  Iter    57:    Energy =   0.1698
Level     0,  Iter    58:    Energy =   0.1704
Level     0,  Iter    59:    Energy =   0.1700
END OF LEVEL     0    DetJac Range:   0.5221  to   1.9827 
  Avg. Gradient Time  : 0.0055s  35.59% 
  Avg. Gaussian Time  : 0.0070s  45.01% 
  Avg. Iteration Time : 0.0155s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1206
Level     1,  Iter     1:    Energy =   0.1280
Level     1,  Iter     2:    Energy =   0.1333
Level     1,  Iter     3:    Energy =   0.1381
Level     1,  Iter     4:    Energy =   0.1420
Level     1,  Iter     5:    Energy =   0.1446
Level     1,  Iter     6:    Energy =   0.1464
Level     1,  Iter     7:    Energy =   0.1468
Level     1,  Iter     8:    Energy =   0.1480
Level     1,  Iter     9:    Energy =   0.1480
Level     1,  Iter    10:    Energy =   0.1492
Level     1,  Iter    11:    Energy =   0.1492
Level     1,  Iter    12:    Energy =   0.1501
Level     1,  Iter    13:    Energy =   0.1499
Level     1,  Iter    14:    Energy =   0.1509
Level     1,  Iter    15:    Energy =   0.1507
Level     1,  Iter    16:    Energy =   0.1512
Level     1,  Iter    17:    Energy =   0.1510
Level     1,  Iter    18:    Energy =   0.1515
Level     1,  Iter    19:    Energy =   0.1512
Level     1,  Iter    20:    Energy =   0.1517
Level     1,  Iter    21:    Energy =   0.1515
Level     1,  Iter    22:    Energy =   0.1518
Level     1,  Iter    23:    Energy =   0.1516
Level     1,  Iter    24:    Energy =   0.1520
Level     1,  Iter    25:    Energy =   0.1517
Level     1,  Iter    26:    Energy =   0.1520
Level     1,  Iter    27:    Energy =   0.1518
Level     1,  Iter    28:    Energy =   0.1521
Level     1,  Iter    29:    Energy =   0.1519
Level     1,  Iter    30:    Energy =   0.1521
Level     1,  Iter    31:    Energy =   0.1519
Level     1,  Iter    32:    Energy =   0.1522
Level     1,  Iter    33:    Energy =   0.1520
Level     1,  Iter    34:    Energy =   0.1523
Level     1,  Iter    35:    Energy =   0.1520
Level     1,  Iter    36:    Energy =   0.1523
Level     1,  Iter    37:    Energy =   0.1521
Level     1,  Iter    38:    Energy =   0.1524
Level     1,  Iter    39:    Energy =   0.1521
Level     1,  Iter    40:    Energy =   0.1524
Level     1,  Iter    41:    Energy =   0.1522
Level     1,  Iter    42:    Energy =   0.1525
Level     1,  Iter    43:    Energy =   0.1522
Level     1,  Iter    44:    Energy =   0.1525
Level     1,  Iter    45:    Energy =   0.1522
Level     1,  Iter    46:    Energy =   0.1525
Level     1,  Iter    47:    Energy =   0.1523
Level     1,  Iter    48:    Energy =   0.1525
Level     1,  Iter    49:    Energy =   0.1523
Level     1,  Iter    50:    Energy =   0.1526
Level     1,  Iter    51:    Energy =   0.1523
Level     1,  Iter    52:    Energy =   0.1527
Level     1,  Iter    53:    Energy =   0.1524
Level     1,  Iter    54:    Energy =   0.1527
Level     1,  Iter    55:    Energy =   0.1524
Level     1,  Iter    56:    Energy =   0.1528
Level     1,  Iter    57:    Energy =   0.1525
Level     1,  Iter    58:    Energy =   0.1529
Level     1,  Iter    59:    Energy =   0.1525
END OF LEVEL     1    DetJac Range:   0.1740  to   3.1278 
  Avg. Gradient Time  : 0.0237s  34.99% 
  Avg. Gaussian Time  : 0.0319s  47.08% 
  Avg. Iteration Time : 0.0679s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0852
Level     2,  Iter     1:    Energy =   0.0891
Level     2,  Iter     2:    Energy =   0.0920
Level     2,  Iter     3:    Energy =   0.0954
Level     2,  Iter     4:    Energy =   0.0985
Level     2,  Iter     5:    Energy =   0.1007
Level     2,  Iter     6:    Energy =   0.1028
Level     2,  Iter     7:    Energy =   0.1040
Level     2,  Iter     8:    Energy =   0.1047
Level     2,  Iter     9:    Energy =   0.1053
Level     2,  Iter    10:    Energy =   0.1059
Level     2,  Iter    11:    Energy =   0.1061
Level     2,  Iter    12:    Energy =   0.1069
Level     2,  Iter    13:    Energy =   0.1070
Level     2,  Iter    14:    Energy =   0.1077
Level     2,  Iter    15:    Energy =   0.1076
Level     2,  Iter    16:    Energy =   0.1085
Level     2,  Iter    17:    Energy =   0.1083
Level     2,  Iter    18:    Energy =   0.1090
Level     2,  Iter    19:    Energy =   0.1088
END OF LEVEL     2    DetJac Range:   0.1587  to   5.3520 
  Avg. Gradient Time  : 0.1168s  36.21% 
  Avg. Gaussian Time  : 0.1557s  48.27% 
  Avg. Iteration Time : 0.3226s 

real	0m13.797s
user	0m19.111s
sys	0m2.628s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=59 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=59 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.452857 0.457143
+ echo 'CHUNK 0.452857 0.457143 1'
CHUNK 0.452857 0.457143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.452857 0.457143 1
====================================
         PROGRESS: 0.452857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 025
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 025 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=025
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 025 right 0
+ local tid=025
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.664
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4172.11   GNORM= 406.745
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4260.935     156.584       0.001
   2    4     -4281.081     128.792       1.000
   3    5     -4337.436     188.987       1.000
   4    6     -4407.349     155.526       1.000
   5    8     -4416.419     186.610       0.154
   6    9     -4442.087      79.803       1.000
   7   10     -4445.641      67.893       1.000
   8   11     -4448.209      45.060       1.000
   9   12     -4451.028      42.999       1.000
  10   13     -4451.872      33.844       1.000
  11   14     -4452.449      11.394       1.000
  12   15     -4452.563       8.147       1.000
  13   16     -4452.678      25.549       1.000
  14   17     -4452.871      14.201       1.000
  15   18     -4453.003      10.249       1.000
  16   19     -4453.063       6.484       1.000
  17   20     -4453.139       6.910       1.000
  18   22     -4453.163       6.194       0.055
  19   23     -4453.202      10.287       1.000
  20   24     -4453.260       5.705       1.000
  21   26     -4453.271      12.455       0.157
  22   27     -4453.281       3.895       1.000
  23   28     -4453.289       2.875       1.000
  24   30     -4453.296       3.538       0.318
  25   32     -4453.296       3.136       0.132
  26   33     -4453.296       2.711       1.000
  27   37     -4453.302       2.038       0.616
  28   38     -4453.313       4.198       1.000
  29   40     -4453.320       6.575       0.297
  30   41     -4453.324       8.309       1.000
  31   42     -4453.338       2.324       1.000
Final RAS Transform: 
0.979742 -0.00935918 -0.0109302 0.423097 
-0.0111111 1.01817 -0.0607378 -0.407203 
-0.0159956 -0.0113506 1.05924 1.58175 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3255.08   GNORM= 82.545
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3261.480      41.246       0.002
   2    4     -3264.307      46.277       1.000
   3    5     -3280.339      72.059       1.000
   4    7     -3288.430     134.086       0.362
   5    8     -3298.155      57.028       1.000
   6    9     -3300.580      30.630       1.000
   7   10     -3301.816      29.504       1.000
   8   11     -3302.862      30.025       1.000
   9   12     -3305.533      40.967       1.000
  10   13     -3307.731      25.262       1.000
  11   14     -3308.722      27.007       1.000
  12   15     -3309.050      22.195       1.000
  13   16     -3309.423      17.005       1.000
  14   17     -3310.216      10.865       1.000
  15   18     -3310.283       9.003       1.000
  16   19     -3310.351       6.057       1.000
  17   21     -3310.438      14.205       0.416
  18   22     -3310.513       9.846       1.000
  19   23     -3310.573       6.047       1.000
  20   24     -3310.614       6.228       1.000
  21   25     -3310.663       5.337       1.000
  22   26     -3310.684       3.764       1.000
  23   27     -3310.691       2.959       1.000
  24   28     -3310.701       2.707       1.000
  25   31     -3310.707       3.115       0.170
  26   33     -3310.710       2.652       0.494
  27   34     -3310.713       2.584       1.000
  28   35     -3310.722       3.994       1.000
  29   36     -3310.745       4.621       1.000
  30   38     -3310.763       8.060       0.446
  31   39     -3310.780       5.887       1.000
  32   40     -3310.783       4.987       1.000
  33   41     -3310.788       1.443       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00334 -0.0155771 -0.0409072 -0.419519 
-0.01977 1.02492 -0.0445403 -0.29333 
-0.000414398 -0.0169847 1.05031 1.36709 
0 0 0 1 

Final RAS Transform: 
1.00334 -0.0155771 -0.0409072 -0.419519 
-0.01977 1.02492 -0.0445403 -0.29333 
-0.000414398 -0.0169847 1.05031 1.36709 
0 0 0 1 


real	0m4.689s
user	0m6.096s
sys	0m0.650s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.628611
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1382
Level     0,  Iter     1:    Energy =   0.1457
Level     0,  Iter     2:    Energy =   0.1535
Level     0,  Iter     3:    Energy =   0.1588
Level     0,  Iter     4:    Energy =   0.1625
Level     0,  Iter     5:    Energy =   0.1642
Level     0,  Iter     6:    Energy =   0.1650
Level     0,  Iter     7:    Energy =   0.1652
Level     0,  Iter     8:    Energy =   0.1656
Level     0,  Iter     9:    Energy =   0.1656
Level     0,  Iter    10:    Energy =   0.1659
Level     0,  Iter    11:    Energy =   0.1658
Level     0,  Iter    12:    Energy =   0.1661
Level     0,  Iter    13:    Energy =   0.1661
Level     0,  Iter    14:    Energy =   0.1663
Level     0,  Iter    15:    Energy =   0.1662
Level     0,  Iter    16:    Energy =   0.1664
Level     0,  Iter    17:    Energy =   0.1663
Level     0,  Iter    18:    Energy =   0.1666
Level     0,  Iter    19:    Energy =   0.1664
Level     0,  Iter    20:    Energy =   0.1666
Level     0,  Iter    21:    Energy =   0.1665
Level     0,  Iter    22:    Energy =   0.1667
Level     0,  Iter    23:    Energy =   0.1665
Level     0,  Iter    24:    Energy =   0.1667
Level     0,  Iter    25:    Energy =   0.1665
Level     0,  Iter    26:    Energy =   0.1667
Level     0,  Iter    27:    Energy =   0.1666
Level     0,  Iter    28:    Energy =   0.1668
Level     0,  Iter    29:    Energy =   0.1666
Level     0,  Iter    30:    Energy =   0.1668
Level     0,  Iter    31:    Energy =   0.1666
Level     0,  Iter    32:    Energy =   0.1668
Level     0,  Iter    33:    Energy =   0.1667
Level     0,  Iter    34:    Energy =   0.1668
Level     0,  Iter    35:    Energy =   0.1667
Level     0,  Iter    36:    Energy =   0.1669
Level     0,  Iter    37:    Energy =   0.1667
Level     0,  Iter    38:    Energy =   0.1669
Level     0,  Iter    39:    Energy =   0.1667
Level     0,  Iter    40:    Energy =   0.1669
Level     0,  Iter    41:    Energy =   0.1667
Level     0,  Iter    42:    Energy =   0.1668
Level     0,  Iter    43:    Energy =   0.1667
Level     0,  Iter    44:    Energy =   0.1668
Level     0,  Iter    45:    Energy =   0.1667
Level     0,  Iter    46:    Energy =   0.1668
Level     0,  Iter    47:    Energy =   0.1667
Level     0,  Iter    48:    Energy =   0.1668
Level     0,  Iter    49:    Energy =   0.1667
Level     0,  Iter    50:    Energy =   0.1668
Level     0,  Iter    51:    Energy =   0.1667
Level     0,  Iter    52:    Energy =   0.1668
Level     0,  Iter    53:    Energy =   0.1667
Level     0,  Iter    54:    Energy =   0.1668
Level     0,  Iter    55:    Energy =   0.1667
Level     0,  Iter    56:    Energy =   0.1668
Level     0,  Iter    57:    Energy =   0.1667
Level     0,  Iter    58:    Energy =   0.1668
Level     0,  Iter    59:    Energy =   0.1667
END OF LEVEL     0    DetJac Range:   0.5167  to   2.0945 
  Avg. Gradient Time  : 0.0054s  35.47% 
  Avg. Gaussian Time  : 0.0068s  45.33% 
  Avg. Iteration Time : 0.0151s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1166
Level     1,  Iter     1:    Energy =   0.1223
Level     1,  Iter     2:    Energy =   0.1283
Level     1,  Iter     3:    Energy =   0.1336
Level     1,  Iter     4:    Energy =   0.1372
Level     1,  Iter     5:    Energy =   0.1407
Level     1,  Iter     6:    Energy =   0.1432
Level     1,  Iter     7:    Energy =   0.1444
Level     1,  Iter     8:    Energy =   0.1451
Level     1,  Iter     9:    Energy =   0.1462
Level     1,  Iter    10:    Energy =   0.1465
Level     1,  Iter    11:    Energy =   0.1473
Level     1,  Iter    12:    Energy =   0.1472
Level     1,  Iter    13:    Energy =   0.1486
Level     1,  Iter    14:    Energy =   0.1485
Level     1,  Iter    15:    Energy =   0.1490
Level     1,  Iter    16:    Energy =   0.1486
Level     1,  Iter    17:    Energy =   0.1501
Level     1,  Iter    18:    Energy =   0.1500
Level     1,  Iter    19:    Energy =   0.1499
Level     1,  Iter    20:    Energy =   0.1495
Level     1,  Iter    21:    Energy =   0.1507
Level     1,  Iter    22:    Energy =   0.1506
Level     1,  Iter    23:    Energy =   0.1506
Level     1,  Iter    24:    Energy =   0.1501
Level     1,  Iter    25:    Energy =   0.1513
Level     1,  Iter    26:    Energy =   0.1512
Level     1,  Iter    27:    Energy =   0.1510
Level     1,  Iter    28:    Energy =   0.1505
Level     1,  Iter    29:    Energy =   0.1517
Level     1,  Iter    30:    Energy =   0.1513
Level     1,  Iter    31:    Energy =   0.1513
Level     1,  Iter    32:    Energy =   0.1508
Level     1,  Iter    33:    Energy =   0.1519
Level     1,  Iter    34:    Energy =   0.1516
Level     1,  Iter    35:    Energy =   0.1516
Level     1,  Iter    36:    Energy =   0.1511
Level     1,  Iter    37:    Energy =   0.1521
Level     1,  Iter    38:    Energy =   0.1518
Level     1,  Iter    39:    Energy =   0.1518
Level     1,  Iter    40:    Energy =   0.1513
Level     1,  Iter    41:    Energy =   0.1524
Level     1,  Iter    42:    Energy =   0.1522
Level     1,  Iter    43:    Energy =   0.1519
Level     1,  Iter    44:    Energy =   0.1515
Level     1,  Iter    45:    Energy =   0.1523
Level     1,  Iter    46:    Energy =   0.1519
Level     1,  Iter    47:    Energy =   0.1523
Level     1,  Iter    48:    Energy =   0.1518
Level     1,  Iter    49:    Energy =   0.1522
Level     1,  Iter    50:    Energy =   0.1517
Level     1,  Iter    51:    Energy =   0.1522
Level     1,  Iter    52:    Energy =   0.1518
Level     1,  Iter    53:    Energy =   0.1522
Level     1,  Iter    54:    Energy =   0.1517
Level     1,  Iter    55:    Energy =   0.1523
Level     1,  Iter    56:    Energy =   0.1518
Level     1,  Iter    57:    Energy =   0.1522
Level     1,  Iter    58:    Energy =   0.1517
Level     1,  Iter    59:    Energy =   0.1523
END OF LEVEL     1    DetJac Range:   0.2203  to   3.7047 
  Avg. Gradient Time  : 0.0246s  35.87% 
  Avg. Gaussian Time  : 0.0320s  46.58% 
  Avg. Iteration Time : 0.0687s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0820
Level     2,  Iter     1:    Energy =   0.0852
Level     2,  Iter     2:    Energy =   0.0873
Level     2,  Iter     3:    Energy =   0.0895
Level     2,  Iter     4:    Energy =   0.0912
Level     2,  Iter     5:    Energy =   0.0926
Level     2,  Iter     6:    Energy =   0.0938
Level     2,  Iter     7:    Energy =   0.0951
Level     2,  Iter     8:    Energy =   0.0964
Level     2,  Iter     9:    Energy =   0.0979
Level     2,  Iter    10:    Energy =   0.0995
Level     2,  Iter    11:    Energy =   0.1002
Level     2,  Iter    12:    Energy =   0.1003
Level     2,  Iter    13:    Energy =   0.1005
Level     2,  Iter    14:    Energy =   0.1010
Level     2,  Iter    15:    Energy =   0.1010
Level     2,  Iter    16:    Energy =   0.1017
Level     2,  Iter    17:    Energy =   0.1016
Level     2,  Iter    18:    Energy =   0.1023
Level     2,  Iter    19:    Energy =   0.1022
END OF LEVEL     2    DetJac Range:   0.1318  to   3.5454 
  Avg. Gradient Time  : 0.1185s  36.07% 
  Avg. Gaussian Time  : 0.1583s  48.20% 
  Avg. Iteration Time : 0.3285s 

real	0m13.971s
user	0m19.133s
sys	0m2.599s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=60 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=60 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.457143 0.461429
+ echo 'CHUNK 0.457143 0.461429 1'
CHUNK 0.457143 0.461429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.457143 0.461429 1
====================================
         PROGRESS: 0.457143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ grep Version
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=026
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 026
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 026 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=026
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 026 right 0
+ local tid=026
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 026 0
+ set -e
+ local tid=026
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.516
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3909.74   GNORM= 638.999
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -4230.230     241.581       0.002
   2    4     -4244.654     137.108       0.478
   3    5     -4251.975     122.887       1.000
   4    6     -4272.324     248.055       1.000
   5    7     -4314.394     128.886       1.000
   6    8     -4338.743      58.850       1.000
   7    9     -4342.696      50.844       1.000
   8   10     -4347.398      49.148       1.000
   9   12     -4351.217      81.402       0.471
  10   13     -4352.692      79.152       1.000
  11   14     -4353.997      19.051       1.000
  12   15     -4354.137      12.770       1.000
  13   16     -4354.259      28.284       1.000
  14   17     -4354.487      19.786       1.000
  15   18     -4355.377      18.668       1.000
  16   19     -4355.623      24.697       1.000
  17   20     -4355.852      16.195       1.000
  18   21     -4355.968      18.169       1.000
  19   22     -4356.070      15.989       1.000
  20   23     -4356.242      13.243       1.000
  21   24     -4356.386      10.774       1.000
  22   25     -4356.500      11.198       1.000
  23   26     -4356.557       7.688       1.000
  24   28     -4356.583       6.309       0.494
  25   29     -4356.598       4.943       1.000
  26   30     -4356.645       2.941       1.000
  27   32     -4356.652       2.767       0.487
  28   33     -4356.666       5.511       1.000
  29   34     -4356.685       4.431       1.000
  30   36     -4356.700       8.290       0.345
  31   38     -4356.716       4.573       0.359
  32   39     -4356.718       2.443       1.000
  33   40     -4356.725       3.134       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.988696 0.00515909 -0.00984479 0.00788582 
-0.020321 0.987146 0.0122937 0.599182 
-0.00668385 0.000455562 1.03479 1.35566 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3192.25   GNORM= 280.616
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3218.720      90.439       0.001
   2    4     -3221.892      38.712       1.000
   3    5     -3222.952      39.188       1.000
   4    6     -3226.552      67.946       1.000
   5    7     -3230.639      65.805       1.000
   6    8     -3241.712      55.530       1.000
   7   10     -3244.836      44.939       0.420
   8   11     -3246.981      44.978       1.000
   9   12     -3248.818      52.432       1.000
  10   13     -3250.563      30.384       1.000
  11   14     -3252.051      18.370       1.000
  12   15     -3252.672      18.796       1.000
  13   16     -3253.478      19.085       1.000
  14   18     -3255.374      50.557       0.202
  15   19     -3256.854      27.837       1.000
  16   20     -3257.821      24.323       1.000
  17   22     -3258.181      23.312       0.400
  18   23     -3258.487      12.701       1.000
  19   24     -3258.608       7.835       1.000
  20   25     -3258.752       6.260       1.000
  21   26     -3259.027       7.123       1.000
  22   28     -3259.084      16.373       0.264
  23   29     -3259.151       9.029       1.000
  24   30     -3259.205       6.253       1.000
  25   31     -3259.261       6.192       1.000
  26   32     -3259.402      11.736       1.000
  27   33     -3259.478       5.939       1.000
  28   34     -3259.508       5.626       1.000
  29   35     -3259.530      12.284       1.000
  30   36     -3259.574       3.380       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00164 0.00677246 -0.0203087 -0.291045 
-0.0453378 1.01744 0.0184433 0.488603 
0.00592701 -0.00949424 1.03924 1.48884 
0 0 0 1 

Final RAS Transform: 
1.00164 0.00677246 -0.0203087 -0.291045 
-0.0453378 1.01744 0.0184433 0.488603 
0.00592701 -0.00949424 1.03924 1.48884 
0 0 0 1 


real	0m4.502s
user	0m5.840s
sys	0m0.805s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.490978
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1335
Level     0,  Iter     1:    Energy =   0.1411
Level     0,  Iter     2:    Energy =   0.1480
Level     0,  Iter     3:    Energy =   0.1530
Level     0,  Iter     4:    Energy =   0.1553
Level     0,  Iter     5:    Energy =   0.1575
Level     0,  Iter     6:    Energy =   0.1591
Level     0,  Iter     7:    Energy =   0.1605
Level     0,  Iter     8:    Energy =   0.1615
Level     0,  Iter     9:    Energy =   0.1621
Level     0,  Iter    10:    Energy =   0.1627
Level     0,  Iter    11:    Energy =   0.1628
Level     0,  Iter    12:    Energy =   0.1634
Level     0,  Iter    13:    Energy =   0.1635
Level     0,  Iter    14:    Energy =   0.1640
Level     0,  Iter    15:    Energy =   0.1640
Level     0,  Iter    16:    Energy =   0.1644
Level     0,  Iter    17:    Energy =   0.1642
Level     0,  Iter    18:    Energy =   0.1646
Level     0,  Iter    19:    Energy =   0.1644
Level     0,  Iter    20:    Energy =   0.1649
Level     0,  Iter    21:    Energy =   0.1648
Level     0,  Iter    22:    Energy =   0.1652
Level     0,  Iter    23:    Energy =   0.1649
Level     0,  Iter    24:    Energy =   0.1653
Level     0,  Iter    25:    Energy =   0.1652
Level     0,  Iter    26:    Energy =   0.1655
Level     0,  Iter    27:    Energy =   0.1651
Level     0,  Iter    28:    Energy =   0.1656
Level     0,  Iter    29:    Energy =   0.1655
Level     0,  Iter    30:    Energy =   0.1657
Level     0,  Iter    31:    Energy =   0.1654
Level     0,  Iter    32:    Energy =   0.1657
Level     0,  Iter    33:    Energy =   0.1656
Level     0,  Iter    34:    Energy =   0.1658
Level     0,  Iter    35:    Energy =   0.1654
Level     0,  Iter    36:    Energy =   0.1658
Level     0,  Iter    37:    Energy =   0.1656
Level     0,  Iter    38:    Energy =   0.1659
Level     0,  Iter    39:    Energy =   0.1655
Level     0,  Iter    40:    Energy =   0.1659
Level     0,  Iter    41:    Energy =   0.1658
Level     0,  Iter    42:    Energy =   0.1660
Level     0,  Iter    43:    Energy =   0.1656
Level     0,  Iter    44:    Energy =   0.1660
Level     0,  Iter    45:    Energy =   0.1658
Level     0,  Iter    46:    Energy =   0.1661
Level     0,  Iter    47:    Energy =   0.1658
Level     0,  Iter    48:    Energy =   0.1661
Level     0,  Iter    49:    Energy =   0.1657
Level     0,  Iter    50:    Energy =   0.1661
Level     0,  Iter    51:    Energy =   0.1658
Level     0,  Iter    52:    Energy =   0.1662
Level     0,  Iter    53:    Energy =   0.1656
Level     0,  Iter    54:    Energy =   0.1661
Level     0,  Iter    55:    Energy =   0.1659
Level     0,  Iter    56:    Energy =   0.1663
Level     0,  Iter    57:    Energy =   0.1659
Level     0,  Iter    58:    Energy =   0.1662
Level     0,  Iter    59:    Energy =   0.1659
END OF LEVEL     0    DetJac Range:   0.3300  to   1.7970 
  Avg. Gradient Time  : 0.0053s  35.37% 
  Avg. Gaussian Time  : 0.0068s  45.22% 
  Avg. Iteration Time : 0.0149s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1202
Level     1,  Iter     1:    Energy =   0.1260
Level     1,  Iter     2:    Energy =   0.1313
Level     1,  Iter     3:    Energy =   0.1363
Level     1,  Iter     4:    Energy =   0.1393
Level     1,  Iter     5:    Energy =   0.1415
Level     1,  Iter     6:    Energy =   0.1432
Level     1,  Iter     7:    Energy =   0.1445
Level     1,  Iter     8:    Energy =   0.1455
Level     1,  Iter     9:    Energy =   0.1457
Level     1,  Iter    10:    Energy =   0.1466
Level     1,  Iter    11:    Energy =   0.1465
Level     1,  Iter    12:    Energy =   0.1475
Level     1,  Iter    13:    Energy =   0.1476
Level     1,  Iter    14:    Energy =   0.1485
Level     1,  Iter    15:    Energy =   0.1481
Level     1,  Iter    16:    Energy =   0.1493
Level     1,  Iter    17:    Energy =   0.1500
Level     1,  Iter    18:    Energy =   0.1497
Level     1,  Iter    19:    Energy =   0.1493
Level     1,  Iter    20:    Energy =   0.1500
Level     1,  Iter    21:    Energy =   0.1496
Level     1,  Iter    22:    Energy =   0.1503
Level     1,  Iter    23:    Energy =   0.1500
Level     1,  Iter    24:    Energy =   0.1504
Level     1,  Iter    25:    Energy =   0.1500
Level     1,  Iter    26:    Energy =   0.1506
Level     1,  Iter    27:    Energy =   0.1504
Level     1,  Iter    28:    Energy =   0.1504
Level     1,  Iter    29:    Energy =   0.1501
Level     1,  Iter    30:    Energy =   0.1506
Level     1,  Iter    31:    Energy =   0.1503
Level     1,  Iter    32:    Energy =   0.1505
Level     1,  Iter    33:    Energy =   0.1502
Level     1,  Iter    34:    Energy =   0.1506
Level     1,  Iter    35:    Energy =   0.1503
Level     1,  Iter    36:    Energy =   0.1506
Level     1,  Iter    37:    Energy =   0.1503
Level     1,  Iter    38:    Energy =   0.1507
Level     1,  Iter    39:    Energy =   0.1505
Level     1,  Iter    40:    Energy =   0.1506
Level     1,  Iter    41:    Energy =   0.1503
Level     1,  Iter    42:    Energy =   0.1507
Level     1,  Iter    43:    Energy =   0.1505
Level     1,  Iter    44:    Energy =   0.1507
Level     1,  Iter    45:    Energy =   0.1504
Level     1,  Iter    46:    Energy =   0.1507
Level     1,  Iter    47:    Energy =   0.1505
Level     1,  Iter    48:    Energy =   0.1507
Level     1,  Iter    49:    Energy =   0.1505
Level     1,  Iter    50:    Energy =   0.1508
Level     1,  Iter    51:    Energy =   0.1505
Level     1,  Iter    52:    Energy =   0.1507
Level     1,  Iter    53:    Energy =   0.1505
Level     1,  Iter    54:    Energy =   0.1508
Level     1,  Iter    55:    Energy =   0.1505
Level     1,  Iter    56:    Energy =   0.1507
Level     1,  Iter    57:    Energy =   0.1505
Level     1,  Iter    58:    Energy =   0.1508
Level     1,  Iter    59:    Energy =   0.1506
END OF LEVEL     1    DetJac Range:   0.1464  to   2.6306 
  Avg. Gradient Time  : 0.0238s  34.81% 
  Avg. Gaussian Time  : 0.0325s  47.39% 
  Avg. Iteration Time : 0.0685s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0829
Level     2,  Iter     1:    Energy =   0.0867
Level     2,  Iter     2:    Energy =   0.0901
Level     2,  Iter     3:    Energy =   0.0929
Level     2,  Iter     4:    Energy =   0.0948
Level     2,  Iter     5:    Energy =   0.0971
Level     2,  Iter     6:    Energy =   0.0988
Level     2,  Iter     7:    Energy =   0.1004
Level     2,  Iter     8:    Energy =   0.1017
Level     2,  Iter     9:    Energy =   0.1030
Level     2,  Iter    10:    Energy =   0.1037
Level     2,  Iter    11:    Energy =   0.1039
Level     2,  Iter    12:    Energy =   0.1043
Level     2,  Iter    13:    Energy =   0.1045
Level     2,  Iter    14:    Energy =   0.1047
Level     2,  Iter    15:    Energy =   0.1051
Level     2,  Iter    16:    Energy =   0.1051
Level     2,  Iter    17:    Energy =   0.1056
Level     2,  Iter    18:    Energy =   0.1056
Level     2,  Iter    19:    Energy =   0.1062
END OF LEVEL     2    DetJac Range:   0.1334  to   3.3843 
  Avg. Gradient Time  : 0.1149s  36.42% 
  Avg. Gaussian Time  : 0.1517s  48.06% 
  Avg. Iteration Time : 0.3156s 

real	0m13.691s
user	0m19.084s
sys	0m2.523s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=61 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=61 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.461429 0.465714
+ echo 'CHUNK 0.461429 0.465714 1'
CHUNK 0.461429 0.465714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.461429 0.465714 1
====================================
         PROGRESS: 0.461429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=027
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 027
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 027 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=027
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 027 right 0
+ local tid=027
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 027 0
+ set -e
+ local tid=027
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.569
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4168.83   GNORM= 538.531
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4254.796     217.105       0.001
   2    4     -4276.002     138.097       1.000
   3    5     -4292.463     129.148       1.000
   4    6     -4328.793     154.562       1.000
   5    7     -4381.974     335.191       1.000
   6    8     -4420.664     131.340       1.000
   7    9     -4433.121      52.502       1.000
   8   10     -4435.693      53.885       1.000
   9   11     -4438.150      74.489       1.000
  10   12     -4440.951      21.145       1.000
  11   13     -4441.329      11.213       1.000
  12   14     -4441.482      21.546       1.000
  13   15     -4441.790      12.691       1.000
  14   16     -4442.108      24.708       1.000
  15   17     -4442.261      16.139       1.000
  16   18     -4442.475      10.932       1.000
  17   19     -4442.535      11.898       1.000
  18   20     -4442.588      10.498       1.000
  19   21     -4442.716      10.044       1.000
  20   24     -4442.949       9.912       2.476
  21   26     -4442.991       8.116       0.542
  22   27     -4443.010       6.060       1.000
  23   29     -4443.013       6.898       0.289
  24   30     -4443.035       2.465       1.000
  25   31     -4443.059       3.167       1.000
  26   32     -4443.060       1.481       1.000
  27   34     -4443.060       1.201       0.176
  28   35     -4443.064       1.486       1.000
  29   37     -4443.067       1.432       0.188
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.985049 0.00266845 -0.00267269 0.176492 
0.00820741 1.01918 -0.00989962 -0.103965 
-0.0199095 -0.00841802 1.04599 1.98559 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3213.87   GNORM= 166.602
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3222.231      57.656       0.001
   2    4     -3223.867      36.969       1.000
   3    5     -3225.333      29.449       1.000
   4    6     -3226.737      34.733       1.000
   5    7     -3231.534      41.086       1.000
   6    9     -3233.509      35.678       0.481
   7   10     -3234.669      26.119       1.000
   8   11     -3235.008      36.848       1.000
   9   12     -3235.609      21.016       1.000
  10   13     -3236.710      14.061       1.000
  11   14     -3237.243      35.351       1.000
  12   15     -3237.815      29.597       1.000
  13   16     -3238.165      18.763       1.000
  14   17     -3238.356      10.498       1.000
  15   18     -3238.543      10.068       1.000
  16   19     -3238.744       9.284       1.000
  17   21     -3238.848      11.414       0.486
  18   22     -3238.945       7.497       1.000
  19   23     -3239.003       3.789       1.000
  20   24     -3239.041       2.689       1.000
  21   25     -3239.082       4.010       1.000
  22   27     -3239.102       4.317       0.505
  23   28     -3239.114       2.109       1.000
  24   29     -3239.118       4.576       1.000
  25   30     -3239.130       3.708       1.000
  26   31     -3239.140       1.186       1.000
  27   32     -3239.144       1.127       1.000
  28   34     -3239.151       2.074       0.386
  29   35     -3239.154       2.647       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.99506 -0.0056645 -0.0198238 -0.136725 
0.00971526 1.01677 -0.00400779 0.044456 
-0.0185758 -0.0110398 1.05604 2.08032 
0 0 0 1 

Final RAS Transform: 
0.99506 -0.0056645 -0.0198238 -0.136725 
0.00971526 1.01677 -0.00400779 0.044456 
-0.0185758 -0.0110398 1.05604 2.08032 
0 0 0 1 


real	0m4.338s
user	0m5.812s
sys	0m0.631s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.545577
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1363
Level     0,  Iter     1:    Energy =   0.1446
Level     0,  Iter     2:    Energy =   0.1513
Level     0,  Iter     3:    Energy =   0.1556
Level     0,  Iter     4:    Energy =   0.1579
Level     0,  Iter     5:    Energy =   0.1597
Level     0,  Iter     6:    Energy =   0.1612
Level     0,  Iter     7:    Energy =   0.1627
Level     0,  Iter     8:    Energy =   0.1638
Level     0,  Iter     9:    Energy =   0.1649
Level     0,  Iter    10:    Energy =   0.1645
Level     0,  Iter    11:    Energy =   0.1655
Level     0,  Iter    12:    Energy =   0.1658
Level     0,  Iter    13:    Energy =   0.1664
Level     0,  Iter    14:    Energy =   0.1649
Level     0,  Iter    15:    Energy =   0.1662
Level     0,  Iter    16:    Energy =   0.1656
Level     0,  Iter    17:    Energy =   0.1661
Level     0,  Iter    18:    Energy =   0.1657
Level     0,  Iter    19:    Energy =   0.1661
Level     0,  Iter    20:    Energy =   0.1657
Level     0,  Iter    21:    Energy =   0.1661
Level     0,  Iter    22:    Energy =   0.1657
Level     0,  Iter    23:    Energy =   0.1660
Level     0,  Iter    24:    Energy =   0.1657
Level     0,  Iter    25:    Energy =   0.1660
Level     0,  Iter    26:    Energy =   0.1657
Level     0,  Iter    27:    Energy =   0.1660
Level     0,  Iter    28:    Energy =   0.1656
Level     0,  Iter    29:    Energy =   0.1660
Level     0,  Iter    30:    Energy =   0.1657
Level     0,  Iter    31:    Energy =   0.1660
Level     0,  Iter    32:    Energy =   0.1656
Level     0,  Iter    33:    Energy =   0.1659
Level     0,  Iter    34:    Energy =   0.1656
Level     0,  Iter    35:    Energy =   0.1659
Level     0,  Iter    36:    Energy =   0.1655
Level     0,  Iter    37:    Energy =   0.1659
Level     0,  Iter    38:    Energy =   0.1655
Level     0,  Iter    39:    Energy =   0.1659
Level     0,  Iter    40:    Energy =   0.1656
Level     0,  Iter    41:    Energy =   0.1659
Level     0,  Iter    42:    Energy =   0.1655
Level     0,  Iter    43:    Energy =   0.1659
Level     0,  Iter    44:    Energy =   0.1656
Level     0,  Iter    45:    Energy =   0.1660
Level     0,  Iter    46:    Energy =   0.1656
Level     0,  Iter    47:    Energy =   0.1660
Level     0,  Iter    48:    Energy =   0.1655
Level     0,  Iter    49:    Energy =   0.1659
Level     0,  Iter    50:    Energy =   0.1655
Level     0,  Iter    51:    Energy =   0.1659
Level     0,  Iter    52:    Energy =   0.1655
Level     0,  Iter    53:    Energy =   0.1659
Level     0,  Iter    54:    Energy =   0.1655
Level     0,  Iter    55:    Energy =   0.1659
Level     0,  Iter    56:    Energy =   0.1655
Level     0,  Iter    57:    Energy =   0.1659
Level     0,  Iter    58:    Energy =   0.1655
Level     0,  Iter    59:    Energy =   0.1659
END OF LEVEL     0    DetJac Range:   0.4427  to   1.7304 
  Avg. Gradient Time  : 0.0056s  35.55% 
  Avg. Gaussian Time  : 0.0071s  45.08% 
  Avg. Iteration Time : 0.0157s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1203
Level     1,  Iter     1:    Energy =   0.1261
Level     1,  Iter     2:    Energy =   0.1313
Level     1,  Iter     3:    Energy =   0.1356
Level     1,  Iter     4:    Energy =   0.1382
Level     1,  Iter     5:    Energy =   0.1404
Level     1,  Iter     6:    Energy =   0.1429
Level     1,  Iter     7:    Energy =   0.1450
Level     1,  Iter     8:    Energy =   0.1464
Level     1,  Iter     9:    Energy =   0.1475
Level     1,  Iter    10:    Energy =   0.1482
Level     1,  Iter    11:    Energy =   0.1489
Level     1,  Iter    12:    Energy =   0.1493
Level     1,  Iter    13:    Energy =   0.1492
Level     1,  Iter    14:    Energy =   0.1498
Level     1,  Iter    15:    Energy =   0.1499
Level     1,  Iter    16:    Energy =   0.1503
Level     1,  Iter    17:    Energy =   0.1501
Level     1,  Iter    18:    Energy =   0.1506
Level     1,  Iter    19:    Energy =   0.1509
Level     1,  Iter    20:    Energy =   0.1510
Level     1,  Iter    21:    Energy =   0.1508
Level     1,  Iter    22:    Energy =   0.1514
Level     1,  Iter    23:    Energy =   0.1513
Level     1,  Iter    24:    Energy =   0.1517
Level     1,  Iter    25:    Energy =   0.1514
Level     1,  Iter    26:    Energy =   0.1519
Level     1,  Iter    27:    Energy =   0.1520
Level     1,  Iter    28:    Energy =   0.1519
Level     1,  Iter    29:    Energy =   0.1517
Level     1,  Iter    30:    Energy =   0.1524
Level     1,  Iter    31:    Energy =   0.1522
Level     1,  Iter    32:    Energy =   0.1524
Level     1,  Iter    33:    Energy =   0.1521
Level     1,  Iter    34:    Energy =   0.1528
Level     1,  Iter    35:    Energy =   0.1526
Level     1,  Iter    36:    Energy =   0.1527
Level     1,  Iter    37:    Energy =   0.1524
Level     1,  Iter    38:    Energy =   0.1530
Level     1,  Iter    39:    Energy =   0.1528
Level     1,  Iter    40:    Energy =   0.1529
Level     1,  Iter    41:    Energy =   0.1526
Level     1,  Iter    42:    Energy =   0.1532
Level     1,  Iter    43:    Energy =   0.1531
Level     1,  Iter    44:    Energy =   0.1529
Level     1,  Iter    45:    Energy =   0.1527
Level     1,  Iter    46:    Energy =   0.1533
Level     1,  Iter    47:    Energy =   0.1531
Level     1,  Iter    48:    Energy =   0.1531
Level     1,  Iter    49:    Energy =   0.1528
Level     1,  Iter    50:    Energy =   0.1534
Level     1,  Iter    51:    Energy =   0.1533
Level     1,  Iter    52:    Energy =   0.1531
Level     1,  Iter    53:    Energy =   0.1528
Level     1,  Iter    54:    Energy =   0.1534
Level     1,  Iter    55:    Energy =   0.1532
Level     1,  Iter    56:    Energy =   0.1532
Level     1,  Iter    57:    Energy =   0.1529
Level     1,  Iter    58:    Energy =   0.1535
Level     1,  Iter    59:    Energy =   0.1532
END OF LEVEL     1    DetJac Range:   0.1298  to   2.6978 
  Avg. Gradient Time  : 0.0243s  35.35% 
  Avg. Gaussian Time  : 0.0322s  46.94% 
  Avg. Iteration Time : 0.0686s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0827
Level     2,  Iter     1:    Energy =   0.0862
Level     2,  Iter     2:    Energy =   0.0889
Level     2,  Iter     3:    Energy =   0.0908
Level     2,  Iter     4:    Energy =   0.0927
Level     2,  Iter     5:    Energy =   0.0946
Level     2,  Iter     6:    Energy =   0.0963
Level     2,  Iter     7:    Energy =   0.0981
Level     2,  Iter     8:    Energy =   0.0994
Level     2,  Iter     9:    Energy =   0.1005
Level     2,  Iter    10:    Energy =   0.1004
Level     2,  Iter    11:    Energy =   0.1011
Level     2,  Iter    12:    Energy =   0.1009
Level     2,  Iter    13:    Energy =   0.1015
Level     2,  Iter    14:    Energy =   0.1013
Level     2,  Iter    15:    Energy =   0.1017
Level     2,  Iter    16:    Energy =   0.1016
Level     2,  Iter    17:    Energy =   0.1019
Level     2,  Iter    18:    Energy =   0.1018
Level     2,  Iter    19:    Energy =   0.1021
END OF LEVEL     2    DetJac Range:   0.1327  to   2.8785 
  Avg. Gradient Time  : 0.1189s  37.01% 
  Avg. Gaussian Time  : 0.1522s  47.40% 
  Avg. Iteration Time : 0.3212s 

real	0m13.796s
user	0m19.014s
sys	0m2.671s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=62 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=62 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.465714 0.47
+ echo 'CHUNK 0.465714 0.47 1'
CHUNK 0.465714 0.47 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.465714 0.47 1
====================================
         PROGRESS: 0.465714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=028
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 028
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 028 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=028
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 028 right 0
+ local tid=028
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 028 0
+ set -e
+ local tid=028
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.59
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4276.51   GNORM= 740.343
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4426.729     178.107       0.001
   2    4     -4439.705     118.804       1.000
   3    5     -4456.377     110.307       1.000
   4    6     -4466.638     113.771       1.000
   5    7     -4532.863      86.401       1.000
   6    8     -4544.338      46.627       1.000
   7   10     -4545.093      28.326       0.243
   8   11     -4545.585      13.019       1.000
   9   12     -4545.900      16.714       1.000
  10   14     -4546.224      22.666       0.379
  11   15     -4546.503      16.218       1.000
  12   16     -4546.603      17.448       1.000
  13   17     -4546.682       5.054       1.000
  14   18     -4546.695       5.234       1.000
  15   19     -4546.718       5.833       1.000
  16   20     -4546.727       3.909       1.000
  17   21     -4546.741       6.453       1.000
  18   22     -4546.755       3.718       1.000
  19   23     -4546.759       2.817       1.000
  20   24     -4546.767       5.777       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.972798 -0.000933709 0.0129252 0.851857 
-0.00136813 1.02577 0.00528718 0.478676 
-0.030318 -0.00520166 1.00377 1.30456 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3239.17   GNORM= 106.469
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3245.220      75.410       0.001
   2    4     -3248.973      48.389       1.000
   3    5     -3251.649      42.566       1.000
   4    6     -3254.002      41.231       1.000
   5    7     -3269.559      83.390       1.000
   6    9     -3275.408      55.734       0.474
   7   10     -3277.887      46.221       1.000
   8   11     -3278.650      48.403       1.000
   9   12     -3279.225      22.348       1.000
  10   13     -3279.669      17.710       1.000
  11   14     -3281.469      32.777       1.000
  12   15     -3283.294      47.902       1.000
  13   16     -3283.674      38.738       1.000
  14   17     -3284.364      19.964       1.000
  15   18     -3284.783      12.569       1.000
  16   19     -3285.225      16.173       1.000
  17   20     -3285.966      21.234       1.000
  18   22     -3286.298      24.213       0.265
  19   23     -3286.826      20.761       1.000
  20   24     -3287.072      12.688       1.000
  21   25     -3287.174       8.544       1.000
  22   26     -3287.357       6.500       1.000
  23   27     -3287.533      12.186       1.000
  24   28     -3287.659       6.409       1.000
  25   29     -3287.718      16.598       1.000
  26   30     -3287.767       6.638       1.000
  27   31     -3287.798       4.034       1.000
  28   32     -3287.803       2.453       1.000
  29   33     -3287.810       2.312       1.000
  30   34     -3287.820       3.099       1.000
  31   35     -3287.839       3.716       1.000
  32   37     -3287.867       4.116       0.433
  33   38     -3287.890       4.021       1.000
  34   39     -3287.893       4.548       1.000
  35   40     -3287.921       4.185       1.000
  36   42     -3287.933       4.007       0.256
  37   43     -3287.939       5.273       1.000
  38   44     -3287.957       3.400       1.000
  39   46     -3287.967       3.052       0.118
Final RAS Transform: 
0.988517 -0.00911638 -0.025727 -0.0621127 
-0.0163671 1.0372 0.0167197 0.530685 
-0.0173661 -0.0112331 1.01165 1.54207 
0 0 0 1 

Final RAS Transform: 
0.988517 -0.00911638 -0.025727 -0.0621127 
-0.0163671 1.0372 0.0167197 0.530685 
-0.0173661 -0.0112331 1.01165 1.54207 
0 0 0 1 


real	0m4.486s
user	0m6.074s
sys	0m0.670s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.57454
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1401
Level     0,  Iter     1:    Energy =   0.1458
Level     0,  Iter     2:    Energy =   0.1510
Level     0,  Iter     3:    Energy =   0.1536
Level     0,  Iter     4:    Energy =   0.1552
Level     0,  Iter     5:    Energy =   0.1561
Level     0,  Iter     6:    Energy =   0.1571
Level     0,  Iter     7:    Energy =   0.1574
Level     0,  Iter     8:    Energy =   0.1582
Level     0,  Iter     9:    Energy =   0.1582
Level     0,  Iter    10:    Energy =   0.1589
Level     0,  Iter    11:    Energy =   0.1587
Level     0,  Iter    12:    Energy =   0.1594
Level     0,  Iter    13:    Energy =   0.1591
Level     0,  Iter    14:    Energy =   0.1598
Level     0,  Iter    15:    Energy =   0.1595
Level     0,  Iter    16:    Energy =   0.1600
Level     0,  Iter    17:    Energy =   0.1597
Level     0,  Iter    18:    Energy =   0.1603
Level     0,  Iter    19:    Energy =   0.1599
Level     0,  Iter    20:    Energy =   0.1604
Level     0,  Iter    21:    Energy =   0.1601
Level     0,  Iter    22:    Energy =   0.1606
Level     0,  Iter    23:    Energy =   0.1603
Level     0,  Iter    24:    Energy =   0.1607
Level     0,  Iter    25:    Energy =   0.1603
Level     0,  Iter    26:    Energy =   0.1608
Level     0,  Iter    27:    Energy =   0.1604
Level     0,  Iter    28:    Energy =   0.1609
Level     0,  Iter    29:    Energy =   0.1605
Level     0,  Iter    30:    Energy =   0.1610
Level     0,  Iter    31:    Energy =   0.1605
Level     0,  Iter    32:    Energy =   0.1611
Level     0,  Iter    33:    Energy =   0.1606
Level     0,  Iter    34:    Energy =   0.1611
Level     0,  Iter    35:    Energy =   0.1607
Level     0,  Iter    36:    Energy =   0.1612
Level     0,  Iter    37:    Energy =   0.1607
Level     0,  Iter    38:    Energy =   0.1613
Level     0,  Iter    39:    Energy =   0.1609
Level     0,  Iter    40:    Energy =   0.1614
Level     0,  Iter    41:    Energy =   0.1610
Level     0,  Iter    42:    Energy =   0.1615
Level     0,  Iter    43:    Energy =   0.1612
Level     0,  Iter    44:    Energy =   0.1615
Level     0,  Iter    45:    Energy =   0.1611
Level     0,  Iter    46:    Energy =   0.1615
Level     0,  Iter    47:    Energy =   0.1612
Level     0,  Iter    48:    Energy =   0.1615
Level     0,  Iter    49:    Energy =   0.1612
Level     0,  Iter    50:    Energy =   0.1614
Level     0,  Iter    51:    Energy =   0.1611
Level     0,  Iter    52:    Energy =   0.1615
Level     0,  Iter    53:    Energy =   0.1612
Level     0,  Iter    54:    Energy =   0.1614
Level     0,  Iter    55:    Energy =   0.1612
Level     0,  Iter    56:    Energy =   0.1615
Level     0,  Iter    57:    Energy =   0.1612
Level     0,  Iter    58:    Energy =   0.1615
Level     0,  Iter    59:    Energy =   0.1612
END OF LEVEL     0    DetJac Range:   0.5196  to   1.9883 
  Avg. Gradient Time  : 0.0056s  35.29% 
  Avg. Gaussian Time  : 0.0072s  45.32% 
  Avg. Iteration Time : 0.0158s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1139
Level     1,  Iter     1:    Energy =   0.1204
Level     1,  Iter     2:    Energy =   0.1257
Level     1,  Iter     3:    Energy =   0.1294
Level     1,  Iter     4:    Energy =   0.1328
Level     1,  Iter     5:    Energy =   0.1359
Level     1,  Iter     6:    Energy =   0.1374
Level     1,  Iter     7:    Energy =   0.1386
Level     1,  Iter     8:    Energy =   0.1397
Level     1,  Iter     9:    Energy =   0.1400
Level     1,  Iter    10:    Energy =   0.1413
Level     1,  Iter    11:    Energy =   0.1413
Level     1,  Iter    12:    Energy =   0.1424
Level     1,  Iter    13:    Energy =   0.1422
Level     1,  Iter    14:    Energy =   0.1430
Level     1,  Iter    15:    Energy =   0.1428
Level     1,  Iter    16:    Energy =   0.1435
Level     1,  Iter    17:    Energy =   0.1432
Level     1,  Iter    18:    Energy =   0.1438
Level     1,  Iter    19:    Energy =   0.1435
Level     1,  Iter    20:    Energy =   0.1440
Level     1,  Iter    21:    Energy =   0.1437
Level     1,  Iter    22:    Energy =   0.1442
Level     1,  Iter    23:    Energy =   0.1439
Level     1,  Iter    24:    Energy =   0.1441
Level     1,  Iter    25:    Energy =   0.1440
Level     1,  Iter    26:    Energy =   0.1440
Level     1,  Iter    27:    Energy =   0.1440
Level     1,  Iter    28:    Energy =   0.1441
Level     1,  Iter    29:    Energy =   0.1440
Level     1,  Iter    30:    Energy =   0.1443
Level     1,  Iter    31:    Energy =   0.1441
Level     1,  Iter    32:    Energy =   0.1444
Level     1,  Iter    33:    Energy =   0.1443
Level     1,  Iter    34:    Energy =   0.1444
Level     1,  Iter    35:    Energy =   0.1443
Level     1,  Iter    36:    Energy =   0.1444
Level     1,  Iter    37:    Energy =   0.1443
Level     1,  Iter    38:    Energy =   0.1445
Level     1,  Iter    39:    Energy =   0.1444
Level     1,  Iter    40:    Energy =   0.1446
Level     1,  Iter    41:    Energy =   0.1444
Level     1,  Iter    42:    Energy =   0.1446
Level     1,  Iter    43:    Energy =   0.1444
Level     1,  Iter    44:    Energy =   0.1447
Level     1,  Iter    45:    Energy =   0.1445
Level     1,  Iter    46:    Energy =   0.1447
Level     1,  Iter    47:    Energy =   0.1445
Level     1,  Iter    48:    Energy =   0.1447
Level     1,  Iter    49:    Energy =   0.1446
Level     1,  Iter    50:    Energy =   0.1447
Level     1,  Iter    51:    Energy =   0.1445
Level     1,  Iter    52:    Energy =   0.1448
Level     1,  Iter    53:    Energy =   0.1446
Level     1,  Iter    54:    Energy =   0.1449
Level     1,  Iter    55:    Energy =   0.1446
Level     1,  Iter    56:    Energy =   0.1449
Level     1,  Iter    57:    Energy =   0.1446
Level     1,  Iter    58:    Energy =   0.1449
Level     1,  Iter    59:    Energy =   0.1446
END OF LEVEL     1    DetJac Range:   0.1654  to   2.8203 
  Avg. Gradient Time  : 0.0245s  35.37% 
  Avg. Gaussian Time  : 0.0327s  47.24% 
  Avg. Iteration Time : 0.0692s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0764
Level     2,  Iter     1:    Energy =   0.0799
Level     2,  Iter     2:    Energy =   0.0827
Level     2,  Iter     3:    Energy =   0.0851
Level     2,  Iter     4:    Energy =   0.0873
Level     2,  Iter     5:    Energy =   0.0894
Level     2,  Iter     6:    Energy =   0.0916
Level     2,  Iter     7:    Energy =   0.0934
Level     2,  Iter     8:    Energy =   0.0948
Level     2,  Iter     9:    Energy =   0.0959
Level     2,  Iter    10:    Energy =   0.0963
Level     2,  Iter    11:    Energy =   0.0971
Level     2,  Iter    12:    Energy =   0.0973
Level     2,  Iter    13:    Energy =   0.0980
Level     2,  Iter    14:    Energy =   0.0981
Level     2,  Iter    15:    Energy =   0.0988
Level     2,  Iter    16:    Energy =   0.0988
Level     2,  Iter    17:    Energy =   0.0988
Level     2,  Iter    18:    Energy =   0.0993
Level     2,  Iter    19:    Energy =   0.0991
END OF LEVEL     2    DetJac Range:   0.0721  to   3.5278 
  Avg. Gradient Time  : 0.1150s  35.58% 
  Avg. Gaussian Time  : 0.1565s  48.41% 
  Avg. Iteration Time : 0.3233s 

real	0m13.862s
user	0m19.267s
sys	0m2.663s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=63 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=63 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.47 0.474286
+ echo 'CHUNK 0.47 0.474286 1'
CHUNK 0.47 0.474286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.47 0.474286 1
====================================
         PROGRESS: 0.47               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=029
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 029
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 029 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=029
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 029 right 0
+ local tid=029
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 029 0
+ set -e
+ local tid=029
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.552
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3967.35   GNORM= 421.977
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4085.110     152.518       0.001
   2    4     -4101.448     130.949       1.000
   3    5     -4122.803     197.819       1.000
   4    6     -4191.604     236.148       1.000
   5    8     -4213.624     232.866       0.385
   6    9     -4234.645      75.227       1.000
   7   10     -4241.222      62.217       1.000
   8   11     -4247.591      98.910       1.000
   9   12     -4249.133      83.732       1.000
  10   13     -4254.695      79.524       1.000
  11   14     -4257.363      22.675       1.000
  12   15     -4258.023      21.883       1.000
  13   16     -4259.290      23.185       1.000
  14   17     -4260.917      23.116       1.000
  15   19     -4261.036      24.317       0.286
  16   20     -4261.231      12.575       1.000
  17   22     -4261.344      11.745       0.295
  18   24     -4261.418       9.817       0.411
  19   25     -4261.473       8.135       1.000
  20   26     -4261.636      10.281       1.000
  21   27     -4261.707       6.510       1.000
  22   29     -4261.736       8.620       0.481
  23   31     -4261.745       7.508       0.305
  24   32     -4261.771       9.184       1.000
  25   34     -4261.783       6.744       0.399
  26   35     -4261.790       4.009       1.000
  27   36     -4261.794       3.887       1.000
  28   37     -4261.800       2.998       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01336 0.00813971 0.00017984 -0.508301 
-0.0211878 1.03708 0.015593 -0.12629 
-0.00355069 -0.026469 1.03978 1.88141 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3242.5   GNORM= 240.471
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3271.610     106.403       0.001
   2    4     -3277.119      52.701       1.000
   3    5     -3278.772      31.804       1.000
   4    6     -3280.928      38.785       1.000
   5    7     -3283.752      54.430       1.000
   6    8     -3288.965      71.397       1.000
   7    9     -3291.135     104.785       1.000
   8   10     -3294.271      30.052       1.000
   9   11     -3295.003      28.618       1.000
  10   12     -3296.199      32.956       1.000
  11   13     -3298.824      41.785       1.000
  12   15     -3299.361      32.692       0.361
  13   16     -3299.965      13.248       1.000
  14   17     -3300.055      12.560       1.000
  15   18     -3300.117       6.861       1.000
  16   19     -3300.151       8.827       1.000
  17   20     -3300.304       8.555       1.000
  18   21     -3300.416       6.430       1.000
  19   22     -3300.563       6.930       1.000
  20   23     -3300.794       7.428       1.000
  21   25     -3300.848      13.837       0.267
  22   26     -3300.907       6.493       1.000
  23   27     -3300.924       1.906       1.000
  24   28     -3300.937       1.800       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00607 0.00576851 -0.0158702 -0.39927 
-0.0436858 1.04828 0.0165865 -0.13032 
-0.00864165 -0.0279745 1.03636 2.13625 
0 0 0 1 

Final RAS Transform: 
1.00607 0.00576851 -0.0158702 -0.39927 
-0.0436858 1.04828 0.0165865 -0.13032 
-0.00864165 -0.0279745 1.03636 2.13625 
0 0 0 1 


real	0m4.127s
user	0m5.359s
sys	0m0.569s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.519866
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1334
Level     0,  Iter     1:    Energy =   0.1412
Level     0,  Iter     2:    Energy =   0.1482
Level     0,  Iter     3:    Energy =   0.1536
Level     0,  Iter     4:    Energy =   0.1574
Level     0,  Iter     5:    Energy =   0.1591
Level     0,  Iter     6:    Energy =   0.1606
Level     0,  Iter     7:    Energy =   0.1615
Level     0,  Iter     8:    Energy =   0.1622
Level     0,  Iter     9:    Energy =   0.1627
Level     0,  Iter    10:    Energy =   0.1630
Level     0,  Iter    11:    Energy =   0.1633
Level     0,  Iter    12:    Energy =   0.1636
Level     0,  Iter    13:    Energy =   0.1638
Level     0,  Iter    14:    Energy =   0.1640
Level     0,  Iter    15:    Energy =   0.1642
Level     0,  Iter    16:    Energy =   0.1643
Level     0,  Iter    17:    Energy =   0.1645
Level     0,  Iter    18:    Energy =   0.1647
Level     0,  Iter    19:    Energy =   0.1649
Level     0,  Iter    20:    Energy =   0.1651
Level     0,  Iter    21:    Energy =   0.1652
Level     0,  Iter    22:    Energy =   0.1653
Level     0,  Iter    23:    Energy =   0.1654
Level     0,  Iter    24:    Energy =   0.1655
Level     0,  Iter    25:    Energy =   0.1654
Level     0,  Iter    26:    Energy =   0.1656
Level     0,  Iter    27:    Energy =   0.1656
Level     0,  Iter    28:    Energy =   0.1657
Level     0,  Iter    29:    Energy =   0.1657
Level     0,  Iter    30:    Energy =   0.1659
Level     0,  Iter    31:    Energy =   0.1658
Level     0,  Iter    32:    Energy =   0.1662
Level     0,  Iter    33:    Energy =   0.1663
Level     0,  Iter    34:    Energy =   0.1662
Level     0,  Iter    35:    Energy =   0.1661
Level     0,  Iter    36:    Energy =   0.1661
Level     0,  Iter    37:    Energy =   0.1660
Level     0,  Iter    38:    Energy =   0.1661
Level     0,  Iter    39:    Energy =   0.1660
Level     0,  Iter    40:    Energy =   0.1662
Level     0,  Iter    41:    Energy =   0.1662
Level     0,  Iter    42:    Energy =   0.1664
Level     0,  Iter    43:    Energy =   0.1663
Level     0,  Iter    44:    Energy =   0.1665
Level     0,  Iter    45:    Energy =   0.1663
Level     0,  Iter    46:    Energy =   0.1667
Level     0,  Iter    47:    Energy =   0.1667
Level     0,  Iter    48:    Energy =   0.1664
Level     0,  Iter    49:    Energy =   0.1664
Level     0,  Iter    50:    Energy =   0.1663
Level     0,  Iter    51:    Energy =   0.1662
Level     0,  Iter    52:    Energy =   0.1662
Level     0,  Iter    53:    Energy =   0.1663
Level     0,  Iter    54:    Energy =   0.1663
Level     0,  Iter    55:    Energy =   0.1662
Level     0,  Iter    56:    Energy =   0.1665
Level     0,  Iter    57:    Energy =   0.1666
Level     0,  Iter    58:    Energy =   0.1663
Level     0,  Iter    59:    Energy =   0.1663
END OF LEVEL     0    DetJac Range:   0.3863  to   2.0325 
  Avg. Gradient Time  : 0.0056s  35.65% 
  Avg. Gaussian Time  : 0.0070s  45.07% 
  Avg. Iteration Time : 0.0156s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1186
Level     1,  Iter     1:    Energy =   0.1252
Level     1,  Iter     2:    Energy =   0.1302
Level     1,  Iter     3:    Energy =   0.1341
Level     1,  Iter     4:    Energy =   0.1371
Level     1,  Iter     5:    Energy =   0.1402
Level     1,  Iter     6:    Energy =   0.1421
Level     1,  Iter     7:    Energy =   0.1440
Level     1,  Iter     8:    Energy =   0.1458
Level     1,  Iter     9:    Energy =   0.1471
Level     1,  Iter    10:    Energy =   0.1473
Level     1,  Iter    11:    Energy =   0.1473
Level     1,  Iter    12:    Energy =   0.1476
Level     1,  Iter    13:    Energy =   0.1473
Level     1,  Iter    14:    Energy =   0.1489
Level     1,  Iter    15:    Energy =   0.1487
Level     1,  Iter    16:    Energy =   0.1490
Level     1,  Iter    17:    Energy =   0.1484
Level     1,  Iter    18:    Energy =   0.1498
Level     1,  Iter    19:    Energy =   0.1506
Level     1,  Iter    20:    Energy =   0.1503
Level     1,  Iter    21:    Energy =   0.1496
Level     1,  Iter    22:    Energy =   0.1508
Level     1,  Iter    23:    Energy =   0.1509
Level     1,  Iter    24:    Energy =   0.1505
Level     1,  Iter    25:    Energy =   0.1499
Level     1,  Iter    26:    Energy =   0.1510
Level     1,  Iter    27:    Energy =   0.1505
Level     1,  Iter    28:    Energy =   0.1506
Level     1,  Iter    29:    Energy =   0.1500
Level     1,  Iter    30:    Energy =   0.1512
Level     1,  Iter    31:    Energy =   0.1518
Level     1,  Iter    32:    Energy =   0.1513
Level     1,  Iter    33:    Energy =   0.1506
Level     1,  Iter    34:    Energy =   0.1516
Level     1,  Iter    35:    Energy =   0.1511
Level     1,  Iter    36:    Energy =   0.1513
Level     1,  Iter    37:    Energy =   0.1506
Level     1,  Iter    38:    Energy =   0.1517
Level     1,  Iter    39:    Energy =   0.1523
Level     1,  Iter    40:    Energy =   0.1521
Level     1,  Iter    41:    Energy =   0.1514
Level     1,  Iter    42:    Energy =   0.1523
Level     1,  Iter    43:    Energy =   0.1525
Level     1,  Iter    44:    Energy =   0.1519
Level     1,  Iter    45:    Energy =   0.1513
Level     1,  Iter    46:    Energy =   0.1522
Level     1,  Iter    47:    Energy =   0.1518
Level     1,  Iter    48:    Energy =   0.1518
Level     1,  Iter    49:    Energy =   0.1512
Level     1,  Iter    50:    Energy =   0.1523
Level     1,  Iter    51:    Energy =   0.1529
Level     1,  Iter    52:    Energy =   0.1523
Level     1,  Iter    53:    Energy =   0.1516
Level     1,  Iter    54:    Energy =   0.1524
Level     1,  Iter    55:    Energy =   0.1521
Level     1,  Iter    56:    Energy =   0.1520
Level     1,  Iter    57:    Energy =   0.1514
Level     1,  Iter    58:    Energy =   0.1524
Level     1,  Iter    59:    Energy =   0.1530
END OF LEVEL     1    DetJac Range:   0.2078  to   3.3949 
  Avg. Gradient Time  : 0.0245s  36.07% 
  Avg. Gaussian Time  : 0.0317s  46.66% 
  Avg. Iteration Time : 0.0680s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0826
Level     2,  Iter     1:    Energy =   0.0856
Level     2,  Iter     2:    Energy =   0.0877
Level     2,  Iter     3:    Energy =   0.0896
Level     2,  Iter     4:    Energy =   0.0918
Level     2,  Iter     5:    Energy =   0.0935
Level     2,  Iter     6:    Energy =   0.0952
Level     2,  Iter     7:    Energy =   0.0974
Level     2,  Iter     8:    Energy =   0.0993
Level     2,  Iter     9:    Energy =   0.1006
Level     2,  Iter    10:    Energy =   0.1017
Level     2,  Iter    11:    Energy =   0.1028
Level     2,  Iter    12:    Energy =   0.1035
Level     2,  Iter    13:    Energy =   0.1034
Level     2,  Iter    14:    Energy =   0.1039
Level     2,  Iter    15:    Energy =   0.1038
Level     2,  Iter    16:    Energy =   0.1042
Level     2,  Iter    17:    Energy =   0.1041
Level     2,  Iter    18:    Energy =   0.1045
Level     2,  Iter    19:    Energy =   0.1043
END OF LEVEL     2    DetJac Range:   0.1329  to   4.1155 
  Avg. Gradient Time  : 0.1181s  36.41% 
  Avg. Gaussian Time  : 0.1539s  47.45% 
  Avg. Iteration Time : 0.3244s 

real	0m13.866s
user	0m19.108s
sys	0m2.655s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=64 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=64 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.474286 0.478571
+ echo 'CHUNK 0.474286 0.478571 1'
CHUNK 0.474286 0.478571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.474286 0.478571 1
====================================
         PROGRESS: 0.474286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=030
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 030
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 030 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=030
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 030 right 0
+ local tid=030
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 030 0
+ set -e
+ local tid=030
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.625
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4051.67   GNORM= 723.556
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4211.676     295.630       0.001
   2    4     -4247.294     179.763       1.000
   3    5     -4277.020      64.836       1.000
   4    6     -4282.943      67.695       1.000
   5    7     -4296.255     118.088       1.000
   6    8     -4316.572     122.616       1.000
   7    9     -4325.430     202.406       1.000
   8   10     -4337.027      47.587       1.000
   9   11     -4338.215      36.482       1.000
  10   12     -4342.511      47.646       1.000
  11   13     -4348.021      73.997       1.000
  12   14     -4349.157      79.637       1.000
  13   15     -4351.187      25.477       1.000
  14   16     -4351.938      20.047       1.000
  15   17     -4352.851      25.629       1.000
  16   18     -4354.949      43.493       1.000
  17   19     -4356.266      45.798       1.000
  18   20     -4357.311      17.109       1.000
  19   21     -4357.487       9.733       1.000
  20   22     -4357.591      13.770       1.000
  21   24     -4357.747       7.968       0.435
  22   25     -4357.795       4.818       1.000
  23   27     -4357.848       9.960       0.258
  24   28     -4357.866       5.506       1.000
  25   29     -4357.873       3.034       1.000
  26   30     -4357.896       4.450       1.000
  27   31     -4357.916       4.835       1.000
  28   32     -4357.922       2.235       1.000
  29   33     -4357.928       2.560       1.000
  30   34     -4357.935       2.446       1.000
  31   35     -4357.948       1.600       1.000
  32   37     -4357.949       1.718       0.189
  33   38     -4357.951       1.996       1.000
  34   39     -4357.953       2.443       1.000
  35   40     -4357.961       2.173       1.000
  36   41     -4357.973       2.553       1.000
  37   43     -4357.982       4.137       0.231
  38   44     -4358.001       2.901       1.000
  39   45     -4358.032      11.623       1.000
  40   46     -4358.046      11.814       1.000
  41   48     -4358.070       4.409       0.367
  42   49     -4358.075       2.604       1.000
Final RAS Transform: 
0.972199 -0.016748 0.0141194 1.01525 
-0.0635196 0.988024 -0.00792491 1.42398 
0.0363016 0.0202937 0.995733 -0.296573 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2958.47   GNORM= 114.553
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2966.855      80.672       0.001
   2    4     -2970.324      57.699       1.000
   3    6     -2979.144      57.707       5.000
   4    7     -3001.588      56.806       1.000
   5    8     -3014.048      79.124       1.000
   6    9     -3020.423      27.957       1.000
   7   10     -3023.151      24.161       1.000
   8   11     -3024.884      25.968       1.000
   9   13     -3025.068       9.751       0.169
  10   14     -3025.169       7.294       1.000
  11   15     -3025.243       5.096       1.000
  12   16     -3025.448      11.346       1.000
  13   17     -3025.688       8.961       1.000
  14   19     -3025.819      17.042       0.318
  15   20     -3025.922       8.045       1.000
  16   21     -3025.967       4.701       1.000
  17   22     -3026.010       2.967       1.000
  18   23     -3026.041       8.099       1.000
  19   24     -3026.065       6.522       1.000
  20   25     -3026.087       4.647       1.000
  21   26     -3026.113       9.676       1.000
  22   27     -3026.162      10.080       1.000
  23   28     -3026.384      17.615       1.000
  24   29     -3026.488      10.536       1.000
  25   30     -3026.538       8.683       1.000
  26   31     -3026.598       7.483       1.000
  27   32     -3026.623       9.123       1.000
  28   33     -3026.701       5.167       1.000
  29   34     -3026.786      11.370       1.000
  30   35     -3026.904       6.263       1.000
  31   36     -3026.971       9.469       1.000
  32   37     -3027.038       6.735       1.000
  33   39     -3027.074       5.367       0.247
  34   40     -3027.093      15.408       1.000
  35   41     -3027.135       4.451       1.000
  36   43     -3027.156       7.217       5.000
  37   44     -3027.179       3.183       1.000
  38   45     -3027.204       2.967       1.000
  39   46     -3027.218      11.927       1.000
  40   47     -3027.231       6.193       1.000
  41   48     -3027.247       2.461       1.000
  42   49     -3027.253       2.098       1.000
Final RAS Transform: 
0.988195 0.00591065 -0.00338337 0.1106 
-0.0610311 0.997352 0.0209369 1.53664 
0.0383727 0.00737043 1.01633 0.342427 
0 0 0 1 

Final RAS Transform: 
0.988195 0.00591065 -0.00338337 0.1106 
-0.0610311 0.997352 0.0209369 1.53664 
0.0383727 0.00737043 1.01633 0.342427 
0 0 0 1 


real	0m4.806s
user	0m6.259s
sys	0m0.910s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.599445
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1311
Level     0,  Iter     1:    Energy =   0.1388
Level     0,  Iter     2:    Energy =   0.1461
Level     0,  Iter     3:    Energy =   0.1514
Level     0,  Iter     4:    Energy =   0.1554
Level     0,  Iter     5:    Energy =   0.1569
Level     0,  Iter     6:    Energy =   0.1577
Level     0,  Iter     7:    Energy =   0.1584
Level     0,  Iter     8:    Energy =   0.1588
Level     0,  Iter     9:    Energy =   0.1592
Level     0,  Iter    10:    Energy =   0.1592
Level     0,  Iter    11:    Energy =   0.1596
Level     0,  Iter    12:    Energy =   0.1596
Level     0,  Iter    13:    Energy =   0.1601
Level     0,  Iter    14:    Energy =   0.1597
Level     0,  Iter    15:    Energy =   0.1606
Level     0,  Iter    16:    Energy =   0.1601
Level     0,  Iter    17:    Energy =   0.1611
Level     0,  Iter    18:    Energy =   0.1601
Level     0,  Iter    19:    Energy =   0.1615
Level     0,  Iter    20:    Energy =   0.1611
Level     0,  Iter    21:    Energy =   0.1617
Level     0,  Iter    22:    Energy =   0.1609
Level     0,  Iter    23:    Energy =   0.1615
Level     0,  Iter    24:    Energy =   0.1608
Level     0,  Iter    25:    Energy =   0.1615
Level     0,  Iter    26:    Energy =   0.1607
Level     0,  Iter    27:    Energy =   0.1618
Level     0,  Iter    28:    Energy =   0.1612
Level     0,  Iter    29:    Energy =   0.1619
Level     0,  Iter    30:    Energy =   0.1611
Level     0,  Iter    31:    Energy =   0.1618
Level     0,  Iter    32:    Energy =   0.1611
Level     0,  Iter    33:    Energy =   0.1618
Level     0,  Iter    34:    Energy =   0.1611
Level     0,  Iter    35:    Energy =   0.1619
Level     0,  Iter    36:    Energy =   0.1613
Level     0,  Iter    37:    Energy =   0.1619
Level     0,  Iter    38:    Energy =   0.1614
Level     0,  Iter    39:    Energy =   0.1618
Level     0,  Iter    40:    Energy =   0.1613
Level     0,  Iter    41:    Energy =   0.1619
Level     0,  Iter    42:    Energy =   0.1614
Level     0,  Iter    43:    Energy =   0.1618
Level     0,  Iter    44:    Energy =   0.1614
Level     0,  Iter    45:    Energy =   0.1618
Level     0,  Iter    46:    Energy =   0.1613
Level     0,  Iter    47:    Energy =   0.1618
Level     0,  Iter    48:    Energy =   0.1614
Level     0,  Iter    49:    Energy =   0.1618
Level     0,  Iter    50:    Energy =   0.1614
Level     0,  Iter    51:    Energy =   0.1618
Level     0,  Iter    52:    Energy =   0.1613
Level     0,  Iter    53:    Energy =   0.1619
Level     0,  Iter    54:    Energy =   0.1614
Level     0,  Iter    55:    Energy =   0.1620
Level     0,  Iter    56:    Energy =   0.1615
Level     0,  Iter    57:    Energy =   0.1620
Level     0,  Iter    58:    Energy =   0.1613
Level     0,  Iter    59:    Energy =   0.1621
END OF LEVEL     0    DetJac Range:   0.3325  to   1.7749 
  Avg. Gradient Time  : 0.0055s  35.28% 
  Avg. Gaussian Time  : 0.0071s  45.19% 
  Avg. Iteration Time : 0.0157s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1116
Level     1,  Iter     1:    Energy =   0.1171
Level     1,  Iter     2:    Energy =   0.1229
Level     1,  Iter     3:    Energy =   0.1277
Level     1,  Iter     4:    Energy =   0.1312
Level     1,  Iter     5:    Energy =   0.1338
Level     1,  Iter     6:    Energy =   0.1361
Level     1,  Iter     7:    Energy =   0.1382
Level     1,  Iter     8:    Energy =   0.1397
Level     1,  Iter     9:    Energy =   0.1406
Level     1,  Iter    10:    Energy =   0.1408
Level     1,  Iter    11:    Energy =   0.1417
Level     1,  Iter    12:    Energy =   0.1417
Level     1,  Iter    13:    Energy =   0.1424
Level     1,  Iter    14:    Energy =   0.1424
Level     1,  Iter    15:    Energy =   0.1429
Level     1,  Iter    16:    Energy =   0.1429
Level     1,  Iter    17:    Energy =   0.1434
Level     1,  Iter    18:    Energy =   0.1433
Level     1,  Iter    19:    Energy =   0.1437
Level     1,  Iter    20:    Energy =   0.1437
Level     1,  Iter    21:    Energy =   0.1441
Level     1,  Iter    22:    Energy =   0.1440
Level     1,  Iter    23:    Energy =   0.1445
Level     1,  Iter    24:    Energy =   0.1443
Level     1,  Iter    25:    Energy =   0.1448
Level     1,  Iter    26:    Energy =   0.1446
Level     1,  Iter    27:    Energy =   0.1450
Level     1,  Iter    28:    Energy =   0.1448
Level     1,  Iter    29:    Energy =   0.1452
Level     1,  Iter    30:    Energy =   0.1450
Level     1,  Iter    31:    Energy =   0.1454
Level     1,  Iter    32:    Energy =   0.1452
Level     1,  Iter    33:    Energy =   0.1456
Level     1,  Iter    34:    Energy =   0.1453
Level     1,  Iter    35:    Energy =   0.1456
Level     1,  Iter    36:    Energy =   0.1454
Level     1,  Iter    37:    Energy =   0.1457
Level     1,  Iter    38:    Energy =   0.1455
Level     1,  Iter    39:    Energy =   0.1457
Level     1,  Iter    40:    Energy =   0.1455
Level     1,  Iter    41:    Energy =   0.1457
Level     1,  Iter    42:    Energy =   0.1456
Level     1,  Iter    43:    Energy =   0.1458
Level     1,  Iter    44:    Energy =   0.1456
Level     1,  Iter    45:    Energy =   0.1458
Level     1,  Iter    46:    Energy =   0.1457
Level     1,  Iter    47:    Energy =   0.1459
Level     1,  Iter    48:    Energy =   0.1458
Level     1,  Iter    49:    Energy =   0.1460
Level     1,  Iter    50:    Energy =   0.1458
Level     1,  Iter    51:    Energy =   0.1460
Level     1,  Iter    52:    Energy =   0.1459
Level     1,  Iter    53:    Energy =   0.1460
Level     1,  Iter    54:    Energy =   0.1459
Level     1,  Iter    55:    Energy =   0.1461
Level     1,  Iter    56:    Energy =   0.1459
Level     1,  Iter    57:    Energy =   0.1461
Level     1,  Iter    58:    Energy =   0.1460
Level     1,  Iter    59:    Energy =   0.1462
END OF LEVEL     1    DetJac Range:   0.1238  to   2.7470 
  Avg. Gradient Time  : 0.0246s  35.95% 
  Avg. Gaussian Time  : 0.0316s  46.24% 
  Avg. Iteration Time : 0.0683s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0789
Level     2,  Iter     1:    Energy =   0.0827
Level     2,  Iter     2:    Energy =   0.0860
Level     2,  Iter     3:    Energy =   0.0887
Level     2,  Iter     4:    Energy =   0.0896
Level     2,  Iter     5:    Energy =   0.0915
Level     2,  Iter     6:    Energy =   0.0919
Level     2,  Iter     7:    Energy =   0.0936
Level     2,  Iter     8:    Energy =   0.0936
Level     2,  Iter     9:    Energy =   0.0955
Level     2,  Iter    10:    Energy =   0.0952
Level     2,  Iter    11:    Energy =   0.0970
Level     2,  Iter    12:    Energy =   0.0967
Level     2,  Iter    13:    Energy =   0.0976
Level     2,  Iter    14:    Energy =   0.0972
Level     2,  Iter    15:    Energy =   0.0986
Level     2,  Iter    16:    Energy =   0.0981
Level     2,  Iter    17:    Energy =   0.0994
Level     2,  Iter    18:    Energy =   0.0988
Level     2,  Iter    19:    Energy =   0.1001
END OF LEVEL     2    DetJac Range:   0.1118  to   3.8314 
  Avg. Gradient Time  : 0.1201s  37.11% 
  Avg. Gaussian Time  : 0.1546s  47.79% 
  Avg. Iteration Time : 0.3236s 

real	0m13.884s
user	0m19.110s
sys	0m2.530s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=65 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=65 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.478571 0.482857
+ echo 'CHUNK 0.478571 0.482857 1'
CHUNK 0.478571 0.482857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.478571 0.482857 1
====================================
         PROGRESS: 0.478571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=031
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 031
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 031 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=031
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 031 right 0
+ local tid=031
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 031 0
+ set -e
+ local tid=031
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.604
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4506.92   GNORM= 498.141
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4575.796     226.083       0.001
   2    4     -4592.981     120.495       1.000
   3    5     -4604.272     124.820       1.000
   4    6     -4632.127     220.932       1.000
   5    7     -4668.693     219.403       1.000
   6    8     -4710.308     142.557       1.000
   7   10     -4714.758     116.921       0.286
   8   11     -4720.423      37.094       1.000
   9   12     -4721.834      31.140       1.000
  10   14     -4723.094      46.901       0.346
  11   15     -4723.953      26.355       1.000
  12   16     -4724.434      23.923       1.000
  13   17     -4724.894      21.404       1.000
  14   18     -4725.694      19.884       1.000
  15   20     -4725.884      30.234       0.284
  16   21     -4726.053      12.730       1.000
  17   22     -4726.119      12.090       1.000
  18   23     -4726.129      15.324       1.000
  19   24     -4726.198      13.699       1.000
  20   26     -4726.270      20.259       0.418
  21   27     -4726.291       9.913       1.000
  22   28     -4726.312      10.623       1.000
  23   29     -4726.381      24.797       1.000
  24   30     -4726.451      13.998       1.000
  25   31     -4726.555      16.616       1.000
  26   32     -4726.689       8.701       1.000
  27   33     -4726.720      11.461       1.000
  28   34     -4726.779       7.432       1.000
  29   35     -4726.830       8.201       1.000
  30   38     -4726.831       6.498       0.043
  31   40     -4726.839       4.893       5.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.993686 0.00529219 -0.0207678 -0.216343 
-0.0147268 1.04816 0.0158167 0.224998 
-0.0197869 -0.0268563 1.01809 1.64966 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3405.9   GNORM= 199.191
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3415.587      50.921       0.000
   2    4     -3416.637      34.190       1.000
   3    5     -3417.517      33.136       1.000
   4    6     -3418.793      28.066       1.000
   5    7     -3420.936      46.620       1.000
   6    8     -3424.418      52.595       1.000
   7   10     -3426.344      54.975       0.354
   8   11     -3428.043      19.441       1.000
   9   12     -3428.339      12.789       1.000
  10   13     -3428.400      18.319       1.000
  11   14     -3428.525       9.884       1.000
  12   15     -3428.683       8.979       1.000
  13   16     -3429.021      10.258       1.000
  14   17     -3429.308      20.762       1.000
  15   18     -3429.406      22.906       1.000
  16   19     -3429.586       4.678       1.000
  17   20     -3429.620       6.678       1.000
  18   21     -3429.675       7.215       1.000
  19   22     -3429.758       7.206       1.000
  20   23     -3429.772      10.721       1.000
  21   24     -3429.798       5.157       1.000
  22   25     -3429.825       3.177       1.000
  23   26     -3429.830       1.184       1.000
  24   27     -3429.840       1.723       1.000
  25   28     -3429.841       2.281       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.0007 0.00429485 -0.0310383 -0.557964 
-0.0119877 1.03725 0.00507344 0.217584 
-0.0236691 -0.0275176 1.02024 1.64011 
0 0 0 1 

Final RAS Transform: 
1.0007 0.00429485 -0.0310383 -0.557964 
-0.0119877 1.03725 0.00507344 0.217584 
-0.0236691 -0.0275176 1.02024 1.64011 
0 0 0 1 


real	0m4.075s
user	0m5.274s
sys	0m0.608s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.578356
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1458
Level     0,  Iter     1:    Energy =   0.1546
Level     0,  Iter     2:    Energy =   0.1621
Level     0,  Iter     3:    Energy =   0.1662
Level     0,  Iter     4:    Energy =   0.1684
Level     0,  Iter     5:    Energy =   0.1699
Level     0,  Iter     6:    Energy =   0.1707
Level     0,  Iter     7:    Energy =   0.1716
Level     0,  Iter     8:    Energy =   0.1721
Level     0,  Iter     9:    Energy =   0.1727
Level     0,  Iter    10:    Energy =   0.1728
Level     0,  Iter    11:    Energy =   0.1733
Level     0,  Iter    12:    Energy =   0.1732
Level     0,  Iter    13:    Energy =   0.1737
Level     0,  Iter    14:    Energy =   0.1734
Level     0,  Iter    15:    Energy =   0.1738
Level     0,  Iter    16:    Energy =   0.1732
Level     0,  Iter    17:    Energy =   0.1739
Level     0,  Iter    18:    Energy =   0.1738
Level     0,  Iter    19:    Energy =   0.1740
Level     0,  Iter    20:    Energy =   0.1739
Level     0,  Iter    21:    Energy =   0.1740
Level     0,  Iter    22:    Energy =   0.1737
Level     0,  Iter    23:    Energy =   0.1740
Level     0,  Iter    24:    Energy =   0.1739
Level     0,  Iter    25:    Energy =   0.1741
Level     0,  Iter    26:    Energy =   0.1740
Level     0,  Iter    27:    Energy =   0.1741
Level     0,  Iter    28:    Energy =   0.1739
Level     0,  Iter    29:    Energy =   0.1741
Level     0,  Iter    30:    Energy =   0.1739
Level     0,  Iter    31:    Energy =   0.1741
Level     0,  Iter    32:    Energy =   0.1740
Level     0,  Iter    33:    Energy =   0.1742
Level     0,  Iter    34:    Energy =   0.1741
Level     0,  Iter    35:    Energy =   0.1741
Level     0,  Iter    36:    Energy =   0.1741
Level     0,  Iter    37:    Energy =   0.1742
Level     0,  Iter    38:    Energy =   0.1741
Level     0,  Iter    39:    Energy =   0.1742
Level     0,  Iter    40:    Energy =   0.1740
Level     0,  Iter    41:    Energy =   0.1741
Level     0,  Iter    42:    Energy =   0.1740
Level     0,  Iter    43:    Energy =   0.1742
Level     0,  Iter    44:    Energy =   0.1741
Level     0,  Iter    45:    Energy =   0.1742
Level     0,  Iter    46:    Energy =   0.1742
Level     0,  Iter    47:    Energy =   0.1742
Level     0,  Iter    48:    Energy =   0.1742
Level     0,  Iter    49:    Energy =   0.1742
Level     0,  Iter    50:    Energy =   0.1742
Level     0,  Iter    51:    Energy =   0.1742
Level     0,  Iter    52:    Energy =   0.1742
Level     0,  Iter    53:    Energy =   0.1743
Level     0,  Iter    54:    Energy =   0.1742
Level     0,  Iter    55:    Energy =   0.1743
Level     0,  Iter    56:    Energy =   0.1742
Level     0,  Iter    57:    Energy =   0.1742
Level     0,  Iter    58:    Energy =   0.1740
Level     0,  Iter    59:    Energy =   0.1743
END OF LEVEL     0    DetJac Range:   0.5123  to   2.1419 
  Avg. Gradient Time  : 0.0057s  35.59% 
  Avg. Gaussian Time  : 0.0072s  45.01% 
  Avg. Iteration Time : 0.0159s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1217
Level     1,  Iter     1:    Energy =   0.1280
Level     1,  Iter     2:    Energy =   0.1335
Level     1,  Iter     3:    Energy =   0.1386
Level     1,  Iter     4:    Energy =   0.1426
Level     1,  Iter     5:    Energy =   0.1455
Level     1,  Iter     6:    Energy =   0.1481
Level     1,  Iter     7:    Energy =   0.1485
Level     1,  Iter     8:    Energy =   0.1489
Level     1,  Iter     9:    Energy =   0.1496
Level     1,  Iter    10:    Energy =   0.1497
Level     1,  Iter    11:    Energy =   0.1507
Level     1,  Iter    12:    Energy =   0.1507
Level     1,  Iter    13:    Energy =   0.1517
Level     1,  Iter    14:    Energy =   0.1516
Level     1,  Iter    15:    Energy =   0.1525
Level     1,  Iter    16:    Energy =   0.1524
Level     1,  Iter    17:    Energy =   0.1531
Level     1,  Iter    18:    Energy =   0.1529
Level     1,  Iter    19:    Energy =   0.1538
Level     1,  Iter    20:    Energy =   0.1536
Level     1,  Iter    21:    Energy =   0.1542
Level     1,  Iter    22:    Energy =   0.1540
Level     1,  Iter    23:    Energy =   0.1547
Level     1,  Iter    24:    Energy =   0.1544
Level     1,  Iter    25:    Energy =   0.1549
Level     1,  Iter    26:    Energy =   0.1546
Level     1,  Iter    27:    Energy =   0.1552
Level     1,  Iter    28:    Energy =   0.1549
Level     1,  Iter    29:    Energy =   0.1555
Level     1,  Iter    30:    Energy =   0.1551
Level     1,  Iter    31:    Energy =   0.1553
Level     1,  Iter    32:    Energy =   0.1551
Level     1,  Iter    33:    Energy =   0.1552
Level     1,  Iter    34:    Energy =   0.1550
Level     1,  Iter    35:    Energy =   0.1555
Level     1,  Iter    36:    Energy =   0.1551
Level     1,  Iter    37:    Energy =   0.1557
Level     1,  Iter    38:    Energy =   0.1554
Level     1,  Iter    39:    Energy =   0.1557
Level     1,  Iter    40:    Energy =   0.1553
Level     1,  Iter    41:    Energy =   0.1562
Level     1,  Iter    42:    Energy =   0.1558
Level     1,  Iter    43:    Energy =   0.1562
Level     1,  Iter    44:    Energy =   0.1558
Level     1,  Iter    45:    Energy =   0.1566
Level     1,  Iter    46:    Energy =   0.1562
Level     1,  Iter    47:    Energy =   0.1565
Level     1,  Iter    48:    Energy =   0.1560
Level     1,  Iter    49:    Energy =   0.1569
Level     1,  Iter    50:    Energy =   0.1564
Level     1,  Iter    51:    Energy =   0.1567
Level     1,  Iter    52:    Energy =   0.1563
Level     1,  Iter    53:    Energy =   0.1570
Level     1,  Iter    54:    Energy =   0.1565
Level     1,  Iter    55:    Energy =   0.1567
Level     1,  Iter    56:    Energy =   0.1563
Level     1,  Iter    57:    Energy =   0.1570
Level     1,  Iter    58:    Energy =   0.1565
Level     1,  Iter    59:    Energy =   0.1568
END OF LEVEL     1    DetJac Range:   0.2189  to   2.8095 
  Avg. Gradient Time  : 0.0242s  35.44% 
  Avg. Gaussian Time  : 0.0322s  47.07% 
  Avg. Iteration Time : 0.0683s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0843
Level     2,  Iter     1:    Energy =   0.0881
Level     2,  Iter     2:    Energy =   0.0915
Level     2,  Iter     3:    Energy =   0.0946
Level     2,  Iter     4:    Energy =   0.0971
Level     2,  Iter     5:    Energy =   0.0993
Level     2,  Iter     6:    Energy =   0.1005
Level     2,  Iter     7:    Energy =   0.1013
Level     2,  Iter     8:    Energy =   0.1017
Level     2,  Iter     9:    Energy =   0.1029
Level     2,  Iter    10:    Energy =   0.1029
Level     2,  Iter    11:    Energy =   0.1040
Level     2,  Iter    12:    Energy =   0.1040
Level     2,  Iter    13:    Energy =   0.1050
Level     2,  Iter    14:    Energy =   0.1048
Level     2,  Iter    15:    Energy =   0.1060
Level     2,  Iter    16:    Energy =   0.1057
Level     2,  Iter    17:    Energy =   0.1066
Level     2,  Iter    18:    Energy =   0.1062
Level     2,  Iter    19:    Energy =   0.1074
END OF LEVEL     2    DetJac Range:   0.1767  to   3.6791 
  Avg. Gradient Time  : 0.1162s  36.06% 
  Avg. Gaussian Time  : 0.1557s  48.31% 
  Avg. Iteration Time : 0.3222s 

real	0m13.774s
user	0m18.947s
sys	0m2.657s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=66 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=66 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.482857 0.487143
+ echo 'CHUNK 0.482857 0.487143 1'
CHUNK 0.482857 0.487143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.482857 0.487143 1
====================================
         PROGRESS: 0.482857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=032
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 032
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 032 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=032
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 032 right 0
+ local tid=032
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 032 0
+ set -e
+ local tid=032
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.572
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4034.91   GNORM= 514.375
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4139.161     268.578       0.001
   2    4     -4170.369     127.045       1.000
   3    5     -4180.965      99.595       1.000
   4    6     -4188.916     106.803       1.000
   5    7     -4248.925     141.441       1.000
   6    8     -4265.989     150.395       1.000
   7    9     -4277.580     126.566       1.000
   8   10     -4284.129      44.100       1.000
   9   11     -4285.043      13.524       1.000
  10   12     -4285.276      12.408       1.000
  11   13     -4285.461      36.535       1.000
  12   14     -4286.111      12.568       1.000
  13   15     -4286.263      14.234       1.000
  14   16     -4286.312       5.296       1.000
  15   17     -4286.343       8.556       1.000
  16   19     -4286.344       7.771       0.221
  17   20     -4286.358       4.242       1.000
  18   21     -4286.368       6.800       1.000
  19   22     -4286.379       3.260       1.000
  20   23     -4286.386       3.601       1.000
  21   24     -4286.421      10.486       1.000
  22   25     -4286.429       6.844       1.000
  23   26     -4286.436       3.108       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.974284 -0.000182754 -0.00285447 0.475104 
-0.0238965 1.04224 0.0212754 0.323503 
-0.0161067 -0.00145541 1.02332 1.37205 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3166.67   GNORM= 186.658
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3184.975     106.708       0.001
   2    4     -3190.966      60.305       1.000
   3    5     -3194.249      59.229       1.000
   4    6     -3218.216     122.075       1.000
   5    7     -3237.716     103.393       1.000
   6    8     -3246.298      78.094       1.000
   7    9     -3249.032      39.136       1.000
   8   10     -3249.805      28.106       1.000
   9   11     -3250.345      18.128       1.000
  10   12     -3251.964      25.024       1.000
  11   13     -3255.177      21.978       1.000
  12   14     -3257.020      22.114       1.000
  13   15     -3257.148      23.482       1.000
  14   16     -3257.351       5.926       1.000
  15   17     -3257.398       5.513       1.000
  16   18     -3257.651       8.388       1.000
  17   20     -3257.924       8.819       0.430
  18   22     -3257.957      10.070       0.125
  19   23     -3257.998       7.725       1.000
  20   24     -3258.082       5.717       1.000
  21   25     -3258.202      14.184       1.000
  22   26     -3258.320      10.908       1.000
  23   27     -3258.534       8.313       1.000
  24   28     -3258.580       5.361       1.000
  25   29     -3258.602      14.376       1.000
  26   30     -3258.632       4.190       1.000
  27   31     -3258.644       2.962       1.000
  28   32     -3258.659       7.143       1.000
  29   33     -3258.671       6.112       1.000
  30   34     -3258.719       8.044       1.000
  31   35     -3258.764       2.869       1.000
  32   36     -3258.776       3.299       1.000
  33   37     -3258.792       5.125       1.000
  34   38     -3258.802       7.298       1.000
  35   39     -3258.838       3.871       1.000
  36   40     -3258.873       3.495       1.000
  37   41     -3258.895       1.394       1.000
  38   43     -3258.896       1.323       0.391
  39   45     -3258.897       0.875       0.455
  40   46     -3258.898       1.047       1.000
  41   48     -3258.900       1.087       0.473
  42   49     -3258.906       2.722       1.000
  43   51     -3258.908       2.795       0.220
Final RAS Transform: 
1.00461 0.000619918 -0.0229751 -0.323103 
-0.0282668 1.02286 -0.00598109 0.391073 
-0.0178948 -0.00584323 1.0324 1.46788 
0 0 0 1 

Final RAS Transform: 
1.00461 0.000619918 -0.0229751 -0.323103 
-0.0282668 1.02286 -0.00598109 0.391073 
-0.0178948 -0.00584323 1.0324 1.46788 
0 0 0 1 


real	0m4.522s
user	0m6.088s
sys	0m0.651s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.548841
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1331
Level     0,  Iter     1:    Energy =   0.1404
Level     0,  Iter     2:    Energy =   0.1472
Level     0,  Iter     3:    Energy =   0.1513
Level     0,  Iter     4:    Energy =   0.1551
Level     0,  Iter     5:    Energy =   0.1561
Level     0,  Iter     6:    Energy =   0.1568
Level     0,  Iter     7:    Energy =   0.1575
Level     0,  Iter     8:    Energy =   0.1580
Level     0,  Iter     9:    Energy =   0.1587
Level     0,  Iter    10:    Energy =   0.1588
Level     0,  Iter    11:    Energy =   0.1594
Level     0,  Iter    12:    Energy =   0.1592
Level     0,  Iter    13:    Energy =   0.1598
Level     0,  Iter    14:    Energy =   0.1595
Level     0,  Iter    15:    Energy =   0.1601
Level     0,  Iter    16:    Energy =   0.1598
Level     0,  Iter    17:    Energy =   0.1603
Level     0,  Iter    18:    Energy =   0.1599
Level     0,  Iter    19:    Energy =   0.1604
Level     0,  Iter    20:    Energy =   0.1600
Level     0,  Iter    21:    Energy =   0.1604
Level     0,  Iter    22:    Energy =   0.1600
Level     0,  Iter    23:    Energy =   0.1605
Level     0,  Iter    24:    Energy =   0.1601
Level     0,  Iter    25:    Energy =   0.1605
Level     0,  Iter    26:    Energy =   0.1601
Level     0,  Iter    27:    Energy =   0.1606
Level     0,  Iter    28:    Energy =   0.1601
Level     0,  Iter    29:    Energy =   0.1606
Level     0,  Iter    30:    Energy =   0.1602
Level     0,  Iter    31:    Energy =   0.1606
Level     0,  Iter    32:    Energy =   0.1602
Level     0,  Iter    33:    Energy =   0.1606
Level     0,  Iter    34:    Energy =   0.1602
Level     0,  Iter    35:    Energy =   0.1606
Level     0,  Iter    36:    Energy =   0.1602
Level     0,  Iter    37:    Energy =   0.1606
Level     0,  Iter    38:    Energy =   0.1602
Level     0,  Iter    39:    Energy =   0.1606
Level     0,  Iter    40:    Energy =   0.1603
Level     0,  Iter    41:    Energy =   0.1607
Level     0,  Iter    42:    Energy =   0.1602
Level     0,  Iter    43:    Energy =   0.1607
Level     0,  Iter    44:    Energy =   0.1602
Level     0,  Iter    45:    Energy =   0.1607
Level     0,  Iter    46:    Energy =   0.1602
Level     0,  Iter    47:    Energy =   0.1607
Level     0,  Iter    48:    Energy =   0.1603
Level     0,  Iter    49:    Energy =   0.1607
Level     0,  Iter    50:    Energy =   0.1603
Level     0,  Iter    51:    Energy =   0.1607
Level     0,  Iter    52:    Energy =   0.1602
Level     0,  Iter    53:    Energy =   0.1607
Level     0,  Iter    54:    Energy =   0.1603
Level     0,  Iter    55:    Energy =   0.1607
Level     0,  Iter    56:    Energy =   0.1603
Level     0,  Iter    57:    Energy =   0.1607
Level     0,  Iter    58:    Energy =   0.1603
Level     0,  Iter    59:    Energy =   0.1607
END OF LEVEL     0    DetJac Range:   0.4568  to   1.8460 
  Avg. Gradient Time  : 0.0055s  35.48% 
  Avg. Gaussian Time  : 0.0071s  45.33% 
  Avg. Iteration Time : 0.0156s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1151
Level     1,  Iter     1:    Energy =   0.1213
Level     1,  Iter     2:    Energy =   0.1271
Level     1,  Iter     3:    Energy =   0.1321
Level     1,  Iter     4:    Energy =   0.1360
Level     1,  Iter     5:    Energy =   0.1388
Level     1,  Iter     6:    Energy =   0.1405
Level     1,  Iter     7:    Energy =   0.1415
Level     1,  Iter     8:    Energy =   0.1428
Level     1,  Iter     9:    Energy =   0.1437
Level     1,  Iter    10:    Energy =   0.1446
Level     1,  Iter    11:    Energy =   0.1449
Level     1,  Iter    12:    Energy =   0.1455
Level     1,  Iter    13:    Energy =   0.1459
Level     1,  Iter    14:    Energy =   0.1460
Level     1,  Iter    15:    Energy =   0.1467
Level     1,  Iter    16:    Energy =   0.1466
Level     1,  Iter    17:    Energy =   0.1475
Level     1,  Iter    18:    Energy =   0.1473
Level     1,  Iter    19:    Energy =   0.1481
Level     1,  Iter    20:    Energy =   0.1479
Level     1,  Iter    21:    Energy =   0.1484
Level     1,  Iter    22:    Energy =   0.1482
Level     1,  Iter    23:    Energy =   0.1486
Level     1,  Iter    24:    Energy =   0.1484
Level     1,  Iter    25:    Energy =   0.1487
Level     1,  Iter    26:    Energy =   0.1484
Level     1,  Iter    27:    Energy =   0.1488
Level     1,  Iter    28:    Energy =   0.1485
Level     1,  Iter    29:    Energy =   0.1488
Level     1,  Iter    30:    Energy =   0.1485
Level     1,  Iter    31:    Energy =   0.1488
Level     1,  Iter    32:    Energy =   0.1485
Level     1,  Iter    33:    Energy =   0.1488
Level     1,  Iter    34:    Energy =   0.1486
Level     1,  Iter    35:    Energy =   0.1487
Level     1,  Iter    36:    Energy =   0.1485
Level     1,  Iter    37:    Energy =   0.1488
Level     1,  Iter    38:    Energy =   0.1486
Level     1,  Iter    39:    Energy =   0.1488
Level     1,  Iter    40:    Energy =   0.1485
Level     1,  Iter    41:    Energy =   0.1488
Level     1,  Iter    42:    Energy =   0.1486
Level     1,  Iter    43:    Energy =   0.1489
Level     1,  Iter    44:    Energy =   0.1486
Level     1,  Iter    45:    Energy =   0.1489
Level     1,  Iter    46:    Energy =   0.1487
Level     1,  Iter    47:    Energy =   0.1490
Level     1,  Iter    48:    Energy =   0.1487
Level     1,  Iter    49:    Energy =   0.1490
Level     1,  Iter    50:    Energy =   0.1488
Level     1,  Iter    51:    Energy =   0.1490
Level     1,  Iter    52:    Energy =   0.1488
Level     1,  Iter    53:    Energy =   0.1490
Level     1,  Iter    54:    Energy =   0.1488
Level     1,  Iter    55:    Energy =   0.1489
Level     1,  Iter    56:    Energy =   0.1488
Level     1,  Iter    57:    Energy =   0.1489
Level     1,  Iter    58:    Energy =   0.1488
Level     1,  Iter    59:    Energy =   0.1488
END OF LEVEL     1    DetJac Range:   0.1735  to   2.9562 
  Avg. Gradient Time  : 0.0239s  35.22% 
  Avg. Gaussian Time  : 0.0322s  47.37% 
  Avg. Iteration Time : 0.0680s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0827
Level     2,  Iter     1:    Energy =   0.0869
Level     2,  Iter     2:    Energy =   0.0896
Level     2,  Iter     3:    Energy =   0.0919
Level     2,  Iter     4:    Energy =   0.0935
Level     2,  Iter     5:    Energy =   0.0950
Level     2,  Iter     6:    Energy =   0.0965
Level     2,  Iter     7:    Energy =   0.0981
Level     2,  Iter     8:    Energy =   0.0987
Level     2,  Iter     9:    Energy =   0.0997
Level     2,  Iter    10:    Energy =   0.1000
Level     2,  Iter    11:    Energy =   0.1008
Level     2,  Iter    12:    Energy =   0.1010
Level     2,  Iter    13:    Energy =   0.1016
Level     2,  Iter    14:    Energy =   0.1019
Level     2,  Iter    15:    Energy =   0.1021
Level     2,  Iter    16:    Energy =   0.1026
Level     2,  Iter    17:    Energy =   0.1026
Level     2,  Iter    18:    Energy =   0.1035
Level     2,  Iter    19:    Energy =   0.1033
END OF LEVEL     2    DetJac Range:   0.0788  to   3.2993 
  Avg. Gradient Time  : 0.1174s  36.15% 
  Avg. Gaussian Time  : 0.1571s  48.38% 
  Avg. Iteration Time : 0.3247s 

real	0m13.874s
user	0m19.111s
sys	0m2.581s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=67 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=67 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.487143 0.491429
+ echo 'CHUNK 0.487143 0.491429 1'
CHUNK 0.487143 0.491429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.487143 0.491429 1
====================================
         PROGRESS: 0.487143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=033
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 033
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 033 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=033
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 033 right 0
+ local tid=033
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 033 0
+ set -e
+ local tid=033
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.541
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4273.29   GNORM= 473.57
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4345.836     223.917       0.001
   2    4     -4366.342     139.306       1.000
   3    5     -4390.801     152.279       1.000
   4    6     -4441.379     234.311       1.000
   5    7     -4488.563     181.521       1.000
   6    8     -4503.453     139.329       1.000
   7    9     -4511.647      64.806       1.000
   8   10     -4516.207      62.098       1.000
   9   11     -4520.961      41.638       1.000
  10   13     -4523.615      40.168       0.492
  11   14     -4524.771      37.251       1.000
  12   15     -4525.852      26.075       1.000
  13   16     -4526.333      13.261       1.000
  14   17     -4526.682      33.160       1.000
  15   18     -4527.487      23.385       1.000
  16   19     -4527.832      14.486       1.000
  17   20     -4527.945       9.519       1.000
  18   22     -4528.011       8.666       0.370
  19   23     -4528.066       5.754       1.000
  20   24     -4528.182       9.194       1.000
  21   25     -4528.383       9.376       1.000
  22   27     -4528.408      13.738       0.310
  23   28     -4528.461       6.739       1.000
  24   29     -4528.513       6.390       1.000
  25   30     -4528.579       6.637       1.000
  26   31     -4528.649      15.077       1.000
  27   32     -4528.726       8.935       1.000
  28   33     -4528.750       5.398       1.000
  29   34     -4528.757       6.590       1.000
  30   35     -4528.762       6.251       1.000
  31   36     -4528.770       2.963       1.000
  32   37     -4528.776       3.450       1.000
  33   38     -4528.785       3.065       1.000
  34   39     -4528.788       2.669       1.000
  35   40     -4528.788       2.806       1.000
  36   41     -4528.789       5.123       1.000
  37   42     -4528.794       2.830       1.000
  38   43     -4528.799       2.786       1.000
  39   45     -4528.802       5.899       0.218
  40   46     -4528.805       3.179       1.000
Final RAS Transform: 
0.980418 0.0145465 0.0137935 0.561305 
0.0263221 1.03364 -0.00842394 -0.549474 
-0.00723725 -0.0240474 1.03327 1.57537 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3347.95   GNORM= 92.4396
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3353.838      50.678       0.001
   2    4     -3355.703      46.951       1.000
   3    5     -3358.985      63.461       1.000
   4    6     -3368.346      89.550       1.000
   5    7     -3376.745     124.695       1.000
   6    8     -3380.086      41.422       1.000
   7    9     -3380.749      13.027       1.000
   8   10     -3380.895      12.041       1.000
   9   11     -3382.073      28.629       1.000
  10   12     -3383.395      27.797       1.000
  11   13     -3384.308      11.318       1.000
  12   14     -3384.454       9.717       1.000
  13   15     -3384.503       8.219       1.000
  14   16     -3384.528       6.368       1.000
  15   17     -3384.586       9.478       1.000
  16   18     -3384.630       6.765       1.000
  17   19     -3384.671       6.280       1.000
  18   20     -3384.691       8.446       1.000
  19   21     -3384.714       6.558       1.000
  20   23     -3384.729       2.883       0.439
  21   24     -3384.754       3.164       1.000
  22   25     -3384.755      12.309       1.000
  23   26     -3384.803       3.709       1.000
  24   27     -3384.811       2.958       1.000
  25   28     -3384.811      10.707       1.000
  26   29     -3384.847       5.772       1.000
  27   30     -3384.870       2.119       1.000
  28   31     -3384.898       5.858       1.000
  29   32     -3384.931       8.978       1.000
  30   33     -3384.989      11.923       1.000
  31   34     -3385.027       5.260       1.000
  32   35     -3385.042       4.835       1.000
  33   37     -3385.043       3.042       0.390
  34   38     -3385.048       2.910       1.000
  35   40     -3385.063       5.404       0.398
  36   41     -3385.066       2.973       1.000
  37   42     -3385.073       1.985       1.000
  38   43     -3385.075       3.049       1.000
  39   44     -3385.080       2.778       1.000
  40   45     -3385.081       1.610       1.000
  41   46     -3385.086       3.274       1.000
  42   48     -3385.088       2.548       0.135
  43   49     -3385.090       2.684       1.000
  44   51     -3385.091       0.797       0.212
Final RAS Transform: 
0.992797 0.0104771 -0.0105785 -0.0162705 
0.0307453 1.03086 -0.00670598 -0.462736 
-0.0174307 -0.0340072 1.02648 1.78444 
0 0 0 1 

Final RAS Transform: 
0.992797 0.0104771 -0.0105785 -0.0162705 
0.0307453 1.03086 -0.00670598 -0.462736 
-0.0174307 -0.0340072 1.02648 1.78444 
0 0 0 1 


real	0m4.662s
user	0m6.288s
sys	0m0.643s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.522852
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1390
Level     0,  Iter     1:    Energy =   0.1465
Level     0,  Iter     2:    Energy =   0.1530
Level     0,  Iter     3:    Energy =   0.1566
Level     0,  Iter     4:    Energy =   0.1585
Level     0,  Iter     5:    Energy =   0.1597
Level     0,  Iter     6:    Energy =   0.1608
Level     0,  Iter     7:    Energy =   0.1615
Level     0,  Iter     8:    Energy =   0.1613
Level     0,  Iter     9:    Energy =   0.1622
Level     0,  Iter    10:    Energy =   0.1618
Level     0,  Iter    11:    Energy =   0.1627
Level     0,  Iter    12:    Energy =   0.1622
Level     0,  Iter    13:    Energy =   0.1630
Level     0,  Iter    14:    Energy =   0.1624
Level     0,  Iter    15:    Energy =   0.1633
Level     0,  Iter    16:    Energy =   0.1628
Level     0,  Iter    17:    Energy =   0.1635
Level     0,  Iter    18:    Energy =   0.1630
Level     0,  Iter    19:    Energy =   0.1637
Level     0,  Iter    20:    Energy =   0.1631
Level     0,  Iter    21:    Energy =   0.1638
Level     0,  Iter    22:    Energy =   0.1632
Level     0,  Iter    23:    Energy =   0.1639
Level     0,  Iter    24:    Energy =   0.1633
Level     0,  Iter    25:    Energy =   0.1639
Level     0,  Iter    26:    Energy =   0.1633
Level     0,  Iter    27:    Energy =   0.1640
Level     0,  Iter    28:    Energy =   0.1634
Level     0,  Iter    29:    Energy =   0.1640
Level     0,  Iter    30:    Energy =   0.1634
Level     0,  Iter    31:    Energy =   0.1640
Level     0,  Iter    32:    Energy =   0.1634
Level     0,  Iter    33:    Energy =   0.1641
Level     0,  Iter    34:    Energy =   0.1635
Level     0,  Iter    35:    Energy =   0.1642
Level     0,  Iter    36:    Energy =   0.1635
Level     0,  Iter    37:    Energy =   0.1643
Level     0,  Iter    38:    Energy =   0.1637
Level     0,  Iter    39:    Energy =   0.1643
Level     0,  Iter    40:    Energy =   0.1637
Level     0,  Iter    41:    Energy =   0.1644
Level     0,  Iter    42:    Energy =   0.1636
Level     0,  Iter    43:    Energy =   0.1645
Level     0,  Iter    44:    Energy =   0.1638
Level     0,  Iter    45:    Energy =   0.1645
Level     0,  Iter    46:    Energy =   0.1637
Level     0,  Iter    47:    Energy =   0.1646
Level     0,  Iter    48:    Energy =   0.1640
Level     0,  Iter    49:    Energy =   0.1647
Level     0,  Iter    50:    Energy =   0.1640
Level     0,  Iter    51:    Energy =   0.1648
Level     0,  Iter    52:    Energy =   0.1642
Level     0,  Iter    53:    Energy =   0.1649
Level     0,  Iter    54:    Energy =   0.1643
Level     0,  Iter    55:    Energy =   0.1650
Level     0,  Iter    56:    Energy =   0.1644
Level     0,  Iter    57:    Energy =   0.1650
Level     0,  Iter    58:    Energy =   0.1644
Level     0,  Iter    59:    Energy =   0.1650
END OF LEVEL     0    DetJac Range:   0.4275  to   2.0138 
  Avg. Gradient Time  : 0.0062s  35.94% 
  Avg. Gaussian Time  : 0.0078s  45.80% 
  Avg. Iteration Time : 0.0171s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1159
Level     1,  Iter     1:    Energy =   0.1224
Level     1,  Iter     2:    Energy =   0.1281
Level     1,  Iter     3:    Energy =   0.1326
Level     1,  Iter     4:    Energy =   0.1358
Level     1,  Iter     5:    Energy =   0.1390
Level     1,  Iter     6:    Energy =   0.1410
Level     1,  Iter     7:    Energy =   0.1419
Level     1,  Iter     8:    Energy =   0.1428
Level     1,  Iter     9:    Energy =   0.1436
Level     1,  Iter    10:    Energy =   0.1443
Level     1,  Iter    11:    Energy =   0.1450
Level     1,  Iter    12:    Energy =   0.1453
Level     1,  Iter    13:    Energy =   0.1460
Level     1,  Iter    14:    Energy =   0.1462
Level     1,  Iter    15:    Energy =   0.1468
Level     1,  Iter    16:    Energy =   0.1469
Level     1,  Iter    17:    Energy =   0.1472
Level     1,  Iter    18:    Energy =   0.1472
Level     1,  Iter    19:    Energy =   0.1475
Level     1,  Iter    20:    Energy =   0.1475
Level     1,  Iter    21:    Energy =   0.1478
Level     1,  Iter    22:    Energy =   0.1478
Level     1,  Iter    23:    Energy =   0.1481
Level     1,  Iter    24:    Energy =   0.1480
Level     1,  Iter    25:    Energy =   0.1483
Level     1,  Iter    26:    Energy =   0.1482
Level     1,  Iter    27:    Energy =   0.1486
Level     1,  Iter    28:    Energy =   0.1484
Level     1,  Iter    29:    Energy =   0.1488
Level     1,  Iter    30:    Energy =   0.1487
Level     1,  Iter    31:    Energy =   0.1490
Level     1,  Iter    32:    Energy =   0.1489
Level     1,  Iter    33:    Energy =   0.1492
Level     1,  Iter    34:    Energy =   0.1490
Level     1,  Iter    35:    Energy =   0.1493
Level     1,  Iter    36:    Energy =   0.1492
Level     1,  Iter    37:    Energy =   0.1493
Level     1,  Iter    38:    Energy =   0.1492
Level     1,  Iter    39:    Energy =   0.1493
Level     1,  Iter    40:    Energy =   0.1492
Level     1,  Iter    41:    Energy =   0.1493
Level     1,  Iter    42:    Energy =   0.1492
Level     1,  Iter    43:    Energy =   0.1494
Level     1,  Iter    44:    Energy =   0.1493
Level     1,  Iter    45:    Energy =   0.1494
Level     1,  Iter    46:    Energy =   0.1493
Level     1,  Iter    47:    Energy =   0.1494
Level     1,  Iter    48:    Energy =   0.1493
Level     1,  Iter    49:    Energy =   0.1494
Level     1,  Iter    50:    Energy =   0.1493
Level     1,  Iter    51:    Energy =   0.1494
Level     1,  Iter    52:    Energy =   0.1494
Level     1,  Iter    53:    Energy =   0.1495
Level     1,  Iter    54:    Energy =   0.1494
Level     1,  Iter    55:    Energy =   0.1495
Level     1,  Iter    56:    Energy =   0.1494
Level     1,  Iter    57:    Energy =   0.1495
Level     1,  Iter    58:    Energy =   0.1494
Level     1,  Iter    59:    Energy =   0.1496
END OF LEVEL     1    DetJac Range:   0.3226  to   3.0951 
  Avg. Gradient Time  : 0.0252s  34.96% 
  Avg. Gaussian Time  : 0.0332s  46.03% 
  Avg. Iteration Time : 0.0721s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0848
Level     2,  Iter     1:    Energy =   0.0880
Level     2,  Iter     2:    Energy =   0.0908
Level     2,  Iter     3:    Energy =   0.0939
Level     2,  Iter     4:    Energy =   0.0964
Level     2,  Iter     5:    Energy =   0.0988
Level     2,  Iter     6:    Energy =   0.1011
Level     2,  Iter     7:    Energy =   0.1019
Level     2,  Iter     8:    Energy =   0.1027
Level     2,  Iter     9:    Energy =   0.1029
Level     2,  Iter    10:    Energy =   0.1030
Level     2,  Iter    11:    Energy =   0.1036
Level     2,  Iter    12:    Energy =   0.1037
Level     2,  Iter    13:    Energy =   0.1044
Level     2,  Iter    14:    Energy =   0.1043
Level     2,  Iter    15:    Energy =   0.1051
Level     2,  Iter    16:    Energy =   0.1050
Level     2,  Iter    17:    Energy =   0.1056
Level     2,  Iter    18:    Energy =   0.1054
Level     2,  Iter    19:    Energy =   0.1061
END OF LEVEL     2    DetJac Range:   0.2050  to   3.7871 
  Avg. Gradient Time  : 0.1184s  36.34% 
  Avg. Gaussian Time  : 0.1574s  48.31% 
  Avg. Iteration Time : 0.3257s 

real	0m14.276s
user	0m19.221s
sys	0m3.238s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=68 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=68 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.491429 0.495714
+ echo 'CHUNK 0.491429 0.495714 1'
CHUNK 0.491429 0.495714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.491429 0.495714 1
====================================
         PROGRESS: 0.491429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=034
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Subjob ID: 
Side: right
Training subject: 034
+ WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ ashs_ants_pairwise /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right 034 /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034 0
+ local SUBJDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local side=right
+ local tid=034
+ local WREG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034
+ local ATLAS_MODE=0
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099 right
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ side=right
+ ashs_subj_vars /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WORK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ local WANT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp
+ local WAFF=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template
+ local WFSL=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_raw.nii.gz
+ SUBJ_MPRAGE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage.nii.gz
+ SUBJ_TSE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 034 right 0
+ local tid=034
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 034 0
+ set -e
+ local tid=034
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_AFF_T2T1_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage.nii.gz
+ ATLAS_TSE=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_T1TEMP_WARP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.524
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4007.33   GNORM= 576.718
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4100.855     266.050       0.001
   2    4     -4129.862     205.752       1.000
   3    5     -4178.928     107.277       1.000
   4    6     -4193.833     120.382       1.000
   5    7     -4208.678     112.797       1.000
   6    8     -4247.774      59.592       1.000
   7    9     -4253.137     176.463       1.000
   8   10     -4258.928      47.537       1.000
   9   11     -4260.165      20.470       1.000
  10   12     -4262.158      24.710       1.000
  11   13     -4265.852      29.521       1.000
  12   15     -4266.062      38.924       0.222
  13   16     -4266.647      19.598       1.000
  14   17     -4266.880      24.002       1.000
  15   18     -4267.283      19.299       1.000
  16   19     -4267.996      55.597       1.000
  17   20     -4268.694      20.337       1.000
  18   21     -4268.966      11.409       1.000
  19   22     -4269.189      13.697       1.000
  20   23     -4269.391      10.388       1.000
  21   24     -4269.504      21.036       1.000
  22   25     -4269.869      11.482       1.000
  23   26     -4269.925       9.594       1.000
  24   27     -4269.984       6.273       1.000
  25   28     -4270.011       4.378       1.000
  26   29     -4270.041      14.337       1.000
  27   30     -4270.082       7.941       1.000
  28   31     -4270.115       6.588       1.000
  29   33     -4270.152       7.045       0.469
  30   35     -4270.172       9.665       0.309
  31   36     -4270.182       5.343       1.000
  32   37     -4270.186       3.511       1.000
  33   40     -4270.188       6.067       0.461
  34   41     -4270.198       4.793       1.000
  35   43     -4270.204       5.609       0.265
  36   46     -4270.207       4.157       0.004
Final RAS Transform: 
0.975667 -0.0196085 -0.0205635 0.105783 
-0.0293837 0.99104 0.0178571 1.14418 
0.011004 0.0175933 1.04493 0.498963 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2983.53   GNORM= 260.94
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3007.254      98.539       0.001
   2    4     -3011.257      32.234       1.000
   3    5     -3012.208      31.264       1.000
   4    6     -3016.980     126.698       1.000
   5    8     -3035.170      37.314       5.000
   6    9     -3049.591      54.685       1.000
   7   11     -3052.831      74.255       0.140
   8   12     -3055.324      19.320       1.000
   9   13     -3055.756      18.998       1.000
  10   14     -3056.978      67.694       1.000
  11   15     -3060.026      38.283       1.000
  12   16     -3062.237      67.867       1.000
  13   17     -3064.909      24.472       1.000
  14   18     -3065.388      23.834       1.000
  15   19     -3065.622      14.314       1.000
  16   20     -3065.910      21.897       1.000
  17   21     -3066.333      25.798       1.000
  18   22     -3066.736      56.970       1.000
  19   23     -3067.935      20.970       1.000
  20   24     -3068.560      15.196       1.000
  21   25     -3068.896      16.692       1.000
  22   26     -3069.556      13.892       1.000
  23   28     -3069.814      33.362       0.272
  24   29     -3070.866      28.882       1.000
  25   31     -3071.363      34.368       0.287
  26   32     -3071.917      22.445       1.000
  27   33     -3072.118      16.650       1.000
  28   34     -3072.360      12.153       1.000
  29   35     -3072.483       9.684       1.000
  30   37     -3072.662      15.575       0.495
  31   38     -3072.937       9.965       1.000
  32   39     -3073.414      14.333       1.000
  33   40     -3074.058      18.394       1.000
  34   42     -3074.156       7.034       0.058
  35   43     -3074.250       7.764       1.000
  36   45     -3074.279       4.737       0.226
  37   46     -3074.299       3.618       1.000
  38   47     -3074.314       3.794       1.000
  39   48     -3074.337       3.873       1.000
  40   49     -3074.337      10.310       1.000
  41   50     -3074.376       5.332       1.000
  42   51     -3074.397       4.775       1.000
  43   52     -3074.407       2.430       1.000
  44   53     -3074.413       2.492       1.000
Final RAS Transform: 
0.979589 -0.0142786 -0.0260568 -0.00918397 
0.00254157 1.03541 0.0162609 0.10172 
-0.0103238 -0.0118282 1.05057 1.35341 
0 0 0 1 

Final RAS Transform: 
0.979589 -0.0142786 -0.0260568 -0.00918397 
0.00254157 1.03541 0.0162609 0.10172 
-0.0103238 -0.0118282 1.05057 1.35341 
0 0 0 1 


real	0m4.645s
user	0m6.275s
sys	0m0.651s
+ greedy -d 3 -it /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat -gm /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right_regmask.nii.gz -i /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_to_chunktemp_right.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz -o /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 56
Noise on image 0 component 0: fixed = 0.539, moving = 0.49963
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.1288
Level     0,  Iter     1:    Energy =   0.1376
Level     0,  Iter     2:    Energy =   0.1456
Level     0,  Iter     3:    Energy =   0.1511
Level     0,  Iter     4:    Energy =   0.1534
Level     0,  Iter     5:    Energy =   0.1558
Level     0,  Iter     6:    Energy =   0.1575
Level     0,  Iter     7:    Energy =   0.1593
Level     0,  Iter     8:    Energy =   0.1604
Level     0,  Iter     9:    Energy =   0.1613
Level     0,  Iter    10:    Energy =   0.1619
Level     0,  Iter    11:    Energy =   0.1624
Level     0,  Iter    12:    Energy =   0.1627
Level     0,  Iter    13:    Energy =   0.1631
Level     0,  Iter    14:    Energy =   0.1633
Level     0,  Iter    15:    Energy =   0.1636
Level     0,  Iter    16:    Energy =   0.1637
Level     0,  Iter    17:    Energy =   0.1640
Level     0,  Iter    18:    Energy =   0.1640
Level     0,  Iter    19:    Energy =   0.1644
Level     0,  Iter    20:    Energy =   0.1643
Level     0,  Iter    21:    Energy =   0.1647
Level     0,  Iter    22:    Energy =   0.1646
Level     0,  Iter    23:    Energy =   0.1652
Level     0,  Iter    24:    Energy =   0.1649
Level     0,  Iter    25:    Energy =   0.1655
Level     0,  Iter    26:    Energy =   0.1652
Level     0,  Iter    27:    Energy =   0.1657
Level     0,  Iter    28:    Energy =   0.1653
Level     0,  Iter    29:    Energy =   0.1660
Level     0,  Iter    30:    Energy =   0.1656
Level     0,  Iter    31:    Energy =   0.1662
Level     0,  Iter    32:    Energy =   0.1657
Level     0,  Iter    33:    Energy =   0.1664
Level     0,  Iter    34:    Energy =   0.1659
Level     0,  Iter    35:    Energy =   0.1667
Level     0,  Iter    36:    Energy =   0.1660
Level     0,  Iter    37:    Energy =   0.1669
Level     0,  Iter    38:    Energy =   0.1664
Level     0,  Iter    39:    Energy =   0.1671
Level     0,  Iter    40:    Energy =   0.1663
Level     0,  Iter    41:    Energy =   0.1670
Level     0,  Iter    42:    Energy =   0.1664
Level     0,  Iter    43:    Energy =   0.1670
Level     0,  Iter    44:    Energy =   0.1663
Level     0,  Iter    45:    Energy =   0.1671
Level     0,  Iter    46:    Energy =   0.1665
Level     0,  Iter    47:    Energy =   0.1672
Level     0,  Iter    48:    Energy =   0.1667
Level     0,  Iter    49:    Energy =   0.1673
Level     0,  Iter    50:    Energy =   0.1665
Level     0,  Iter    51:    Energy =   0.1671
Level     0,  Iter    52:    Energy =   0.1666
Level     0,  Iter    53:    Energy =   0.1672
Level     0,  Iter    54:    Energy =   0.1667
Level     0,  Iter    55:    Energy =   0.1674
Level     0,  Iter    56:    Energy =   0.1667
Level     0,  Iter    57:    Energy =   0.1674
Level     0,  Iter    58:    Energy =   0.1668
Level     0,  Iter    59:    Energy =   0.1674
END OF LEVEL     0    DetJac Range:   0.3469  to   1.7561 
  Avg. Gradient Time  : 0.0056s  35.60% 
  Avg. Gaussian Time  : 0.0071s  45.15% 
  Avg. Iteration Time : 0.0158s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.1182
Level     1,  Iter     1:    Energy =   0.1230
Level     1,  Iter     2:    Energy =   0.1286
Level     1,  Iter     3:    Energy =   0.1329
Level     1,  Iter     4:    Energy =   0.1362
Level     1,  Iter     5:    Energy =   0.1395
Level     1,  Iter     6:    Energy =   0.1428
Level     1,  Iter     7:    Energy =   0.1449
Level     1,  Iter     8:    Energy =   0.1452
Level     1,  Iter     9:    Energy =   0.1463
Level     1,  Iter    10:    Energy =   0.1465
Level     1,  Iter    11:    Energy =   0.1472
Level     1,  Iter    12:    Energy =   0.1476
Level     1,  Iter    13:    Energy =   0.1479
Level     1,  Iter    14:    Energy =   0.1484
Level     1,  Iter    15:    Energy =   0.1486
Level     1,  Iter    16:    Energy =   0.1491
Level     1,  Iter    17:    Energy =   0.1492
Level     1,  Iter    18:    Energy =   0.1497
Level     1,  Iter    19:    Energy =   0.1498
Level     1,  Iter    20:    Energy =   0.1503
Level     1,  Iter    21:    Energy =   0.1503
Level     1,  Iter    22:    Energy =   0.1508
Level     1,  Iter    23:    Energy =   0.1507
Level     1,  Iter    24:    Energy =   0.1510
Level     1,  Iter    25:    Energy =   0.1510
Level     1,  Iter    26:    Energy =   0.1513
Level     1,  Iter    27:    Energy =   0.1512
Level     1,  Iter    28:    Energy =   0.1515
Level     1,  Iter    29:    Energy =   0.1514
Level     1,  Iter    30:    Energy =   0.1518
Level     1,  Iter    31:    Energy =   0.1516
Level     1,  Iter    32:    Energy =   0.1520
Level     1,  Iter    33:    Energy =   0.1518
Level     1,  Iter    34:    Energy =   0.1521
Level     1,  Iter    35:    Energy =   0.1520
Level     1,  Iter    36:    Energy =   0.1523
Level     1,  Iter    37:    Energy =   0.1521
Level     1,  Iter    38:    Energy =   0.1525
Level     1,  Iter    39:    Energy =   0.1523
Level     1,  Iter    40:    Energy =   0.1526
Level     1,  Iter    41:    Energy =   0.1524
Level     1,  Iter    42:    Energy =   0.1527
Level     1,  Iter    43:    Energy =   0.1525
Level     1,  Iter    44:    Energy =   0.1528
Level     1,  Iter    45:    Energy =   0.1526
Level     1,  Iter    46:    Energy =   0.1529
Level     1,  Iter    47:    Energy =   0.1526
Level     1,  Iter    48:    Energy =   0.1530
Level     1,  Iter    49:    Energy =   0.1527
Level     1,  Iter    50:    Energy =   0.1530
Level     1,  Iter    51:    Energy =   0.1527
Level     1,  Iter    52:    Energy =   0.1531
Level     1,  Iter    53:    Energy =   0.1528
Level     1,  Iter    54:    Energy =   0.1531
Level     1,  Iter    55:    Energy =   0.1528
Level     1,  Iter    56:    Energy =   0.1531
Level     1,  Iter    57:    Energy =   0.1528
Level     1,  Iter    58:    Energy =   0.1532
Level     1,  Iter    59:    Energy =   0.1529
END OF LEVEL     1    DetJac Range:   0.1604  to   2.7075 
  Avg. Gradient Time  : 0.0239s  34.89% 
  Avg. Gaussian Time  : 0.0325s  47.42% 
  Avg. Iteration Time : 0.0686s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0840
Level     2,  Iter     1:    Energy =   0.0874
Level     2,  Iter     2:    Energy =   0.0906
Level     2,  Iter     3:    Energy =   0.0935
Level     2,  Iter     4:    Energy =   0.0958
Level     2,  Iter     5:    Energy =   0.0976
Level     2,  Iter     6:    Energy =   0.0991
Level     2,  Iter     7:    Energy =   0.1005
Level     2,  Iter     8:    Energy =   0.1019
Level     2,  Iter     9:    Energy =   0.1029
Level     2,  Iter    10:    Energy =   0.1039
Level     2,  Iter    11:    Energy =   0.1041
Level     2,  Iter    12:    Energy =   0.1042
Level     2,  Iter    13:    Energy =   0.1042
Level     2,  Iter    14:    Energy =   0.1043
Level     2,  Iter    15:    Energy =   0.1043
Level     2,  Iter    16:    Energy =   0.1045
Level     2,  Iter    17:    Energy =   0.1044
Level     2,  Iter    18:    Energy =   0.1048
Level     2,  Iter    19:    Energy =   0.1046
END OF LEVEL     2    DetJac Range:   0.1032  to   2.7243 
  Avg. Gradient Time  : 0.1196s  36.45% 
  Avg. Gaussian Time  : 0.1568s  47.76% 
  Avg. Iteration Time : 0.3282s 

real	0m13.949s
user	0m19.330s
sys	0m2.518s
+ local ATLAS_RESLICE=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/tse_native_chunk_right.nii.gz -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_right_seg.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz -r /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/flirt_t2_to_t1/flirt_t2_to_t1.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/affine_t1_to_template/t1_to_template_affine_inv.mat /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 56
+ [[ -n 1 ]]
+ rm -rf /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034/greedy_atlas_to_subj_warp.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=69 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=69 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.495714 0.5
+ echo 'CHUNK 0.495714 0.5 1'
CHUNK 0.495714 0.5 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.495714 0.5 1
====================================
         PROGRESS: 0.495714               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 2 successful
------------------------------------------------
[0m
****************************************
Starting stage 3: Initial joint label fusion
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 3: Initial joint label fusion
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
++ [[ ! /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /rds/user/ccn30/hpc-work/WBIC_home/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=left
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
Side: left
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/usr/local/software/itksnap/3.8.0/bin:/usr/local/software/fsl/6.0.4/bin:/usr/local/software/spack/spack-git/opt/spack/linux-rhel7-broadwell/gcc-5/ants-2.3.4-lj6vm7ccmij4yywr4ynrttcko4aoflqt/bin:/usr/local/software/master/cmake/latest/bin:/usr/local/Cluster-Apps/intel/2020.2/debugger_2020/gdb/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/libfabric/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/mpi/intel64/bin:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin/intel64:/usr/local/Cluster-Apps/intel/2020.2/compilers_and_libraries_2020.2.254/linux/bin:/usr/local/software/global/bin:/opt/singularity/bin:/usr/local/Cluster-Apps/singularity/images:/usr/local/Cluster-Apps/vgl/2.5.1/64/bin:/usr/local/Cluster-Apps/turbovnc/2.0.1/bin:/usr/local/software/slurm/current/sbin:/usr/local/software/slurm/current/bin:/usr/lib64/qt-3.3/bin:/home/ccn30/perl5/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/ccn30/bin:.
Side: left
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas
+ mkdir -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/fusion
++ ls /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/atlas_to_native.nii.gz
+ local 'ATLASES=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/atlas_to_native.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/atlas_to_native.nii.gz'
++ ls /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz
/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz'
+ local RESULT=/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/fusion/lfseg_raw_left.nii.gz
+ label_fusion 3 -g /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/atlas_to_native.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/atlas_to_native.nii.gz -l /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x1 -rs 3x3x1 -pd 0x0x2 -p /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/fusion/posterior_left_%03d.nii.gz -raw-posteriors tse_native_chunk_left.nii.gz /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/fusion/lfseg_raw_left.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_left.nii.gz
Output image: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/fusion/lfseg_raw_left.nii.gz
Mask image  : 
Atlas images: 
    0	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
    1	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
    2	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
    3	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
    4	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
    5	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
    6	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
    7	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
    8	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
    9	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
    10	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
    11	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
    12	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
    13	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
    14	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
    15	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
    16	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
    17	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
    18	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
    19	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
    20	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
    21	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
    22	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
    23	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
    24	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
    25	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
    26	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz
    27	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz
    28	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz
    29	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz
    30	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz
    31	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz
    32	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz
    33	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz
    34	/rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/atlas_to_native.nii.gz | /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 1]
Patch Radius: [3, 3, 1]
Posterior Filename Pattern: /rds/project/rds-URQgmO1brZ0/p00500/ENCRYPT_ASHS_T2/32099/multiatlas/fusion/posterior_left_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 56
Output Requested Region: [6, 9, 0], [81, 76, 52] (320112 pixels)
Computing mask based on input segmentations
  Skipping 188250 out of 320112 voxels.
................