Changed directory to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs.

JobID: 6025730
======
Time: Thu Jan 14 21:44:47 GMT 2021
Running on master node: wbic-cs-27
Current directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Nodes allocated:
================
wbic-cs-27

numtasks=1, numnodes=1, mpi_tasks_per_node=1 (OMP_NUM_THREADS=1)

Executing command:
==================
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh /lustre/scratch/wbic-beta/ccn30/ENCRYPT 26040/20200310_U-ID48485 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Beginning ASHS for:  26040
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/Series_033_Highresolution_TSE_PAT2_100/t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 54: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/original: No such file or directory
Beginning ASHS for:  26040
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 65: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/N4T2: No such file or directory
Beginning ASHS for:  26040
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii
ashs_main execution log
  timestamp:   Thu Jan 14 21:44:49 GMT 2021
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 26040 -a /home/ccn30/ENCRYPT/atlases/utrechtatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 -N
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SKIP_ANTS=1
    ASHS_SKIP_RIGID=1
    ASHS_SUBJID=26040
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
Atlas    : /home/ccn30/ENCRYPT/atlases/utrechtatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 1
  Skip Ants: 1
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -resample 100x100x100% -region 20x20x0% 60x60x100% -type short -o /tmp/ashs.7VJvpUas/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.7VJvpUas/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 24
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1732.6   GNORM= 85.4322
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1798.868      44.429       0.012
   2    3     -1812.968      29.625       1.000
   3    4     -1820.938      18.757       1.000
   4    5     -1824.807      14.939       1.000
   5    6     -1827.743       8.774       1.000
   6    7     -1829.782       5.697       1.000
   7    8     -1830.244       1.841       1.000
   8    9     -1830.327       1.736       1.000
   9   11     -1830.390       1.240       0.239
  10   13     -1830.420       2.733       0.112
  11   15     -1830.434       3.733       0.207
  12   16     -1830.479       3.667       1.000
  13   18     -1830.535       3.006       0.247
  14   19     -1830.595       3.677       1.000
  15   20     -1830.679       4.105       1.000
  16   22     -1830.752       4.685       0.366
  17   23     -1830.944       8.378       1.000
  18   25     -1831.173       9.345       0.276
  19   26     -1831.263       5.039       1.000
  20   27     -1831.374       4.692       1.000
  21   29     -1831.412       3.124       0.343
  22   30     -1831.481       2.996       1.000
  23   32     -1831.564       2.067       0.385
  24   34     -1831.574       2.264       0.122
  25   35     -1831.579       1.491       1.000
  26   36     -1831.590       1.280       1.000
  27   37     -1831.593       0.818       1.000
  28   39     -1831.608       1.269       5.000
  29   41     -1831.610       1.659       0.030
  30   43     -1831.617       2.401       0.238
  31   44     -1831.624       2.646       1.000
  32   45     -1831.632       2.293       1.000
  33   46     -1831.643       1.239       1.000
  34   48     -1831.646       0.924       0.292
  35   51     -1831.658       0.737       3.028
  36   54     -1831.659       0.406       0.067
  37   56     -1831.661       0.849       0.386
  38   59     -1831.662       1.279       0.078
  39   62     -1831.662       1.182       0.014
  40   64     -1831.663       0.831       0.245
  41   67     -1831.663       0.874       0.012
  42   71     -1831.663       1.334       0.014
  43   72     -1831.663       0.494       1.000
  44   73     -1831.664       0.352       1.000
  45   75     -1831.664       0.592       0.244
  46   76     -1831.664       0.476       1.000
  47   78     -1831.664       0.444       0.239
  48   82     -1831.664       0.634       0.070
  49   83     -1831.664       0.289       1.000
  50   84     -1831.664       0.588       1.000
  51   85     -1831.664       1.010       1.000
  52   86     -1831.664       0.587       1.000
  53   87     -1831.664       0.595       1.000
  54   88     -1831.664       0.696       1.000
  55   89     -1831.664       0.960       1.000
  56   90     -1831.665       0.609       1.000
  57   92     -1831.665       0.532       0.190
  58   93     -1831.665       1.016       1.000
  59   94     -1831.665       0.585       1.000
  60   96     -1831.665       0.543       0.335
  61   97     -1831.665       0.429       1.000
  62  100     -1831.665       0.640       1.631
  63  101     -1831.665       0.410       1.000
Final RAS Transform: 
0.999947 -0.00669109 -0.00777968 0.368305 
0.00651785 0.999735 -0.0220842 0.688219 
0.00792539 0.0220323 0.999726 -2.84613 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1494.4   GNORM= 60.9617
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1516.890      46.149       0.016
   2    3     -1527.516      25.227       1.000
   3    4     -1538.418      26.627       1.000
   4    5     -1549.734      34.318       1.000
   5    6     -1574.804      50.174       1.000
   6    8     -1579.419      37.267       0.439
   7    9     -1584.773       5.217       1.000
   8   10     -1584.871       2.198       1.000
   9   11     -1584.895       1.876       1.000
  10   12     -1584.919       1.133       1.000
  11   13     -1584.952       1.142       1.000
  12   15     -1584.964       0.850       0.338
  13   16     -1584.965       0.661       1.000
  14   17     -1584.968       0.580       1.000
  15   19     -1584.969       0.586       0.512
  16   20     -1584.970       0.636       1.000
  17   21     -1584.970       0.438       1.000
  18   22     -1584.972       0.363       1.000
  19   24     -1584.972       0.387       0.203
  20   25     -1584.973       0.141       1.000
  21   26     -1584.973       0.138       1.000
  22   28     -1584.973       0.169       0.304
  23   30     -1584.973       0.090       0.448
  24   31     -1584.973       0.075       1.000
  25   32     -1584.973       0.061       1.000
  26   33     -1584.973       0.058       1.000
  27   35     -1584.973       0.028       0.191
  28   36     -1584.973       0.021       1.000
  29   39     -1584.973       0.016       0.053
  30   41     -1584.973       0.016       0.215
  31   42     -1584.973       0.032       1.000
  32   43     -1584.973       0.014       1.000
  33   45     -1584.973       0.019       5.000
  34   47     -1584.973       0.022       0.242
  35   49     -1584.973       0.028       0.449
  36   51     -1584.973       0.032       0.219
  37   53     -1584.973       0.009       0.304
  38   54     -1584.973       0.008       1.000
  39   57     -1584.973       0.010       1.323
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999956 0.00384903 -0.00852085 0.0323467 
-0.00370945 0.99986 0.0163374 0.270869 
0.00858253 -0.0163051 0.99983 -0.820731 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1357.67   GNORM= 106.409
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1369.230      24.900       0.002
   2    4     -1370.356      19.767       1.000
   3    5     -1372.496      28.978       1.000
   4    6     -1377.186      48.629       1.000
   5    7     -1385.532      58.814       1.000
   6    9     -1387.924      61.210       0.307
   7   10     -1392.513      25.740       1.000
   8   11     -1393.236      10.292       1.000
Final RAS Transform: 
0.999955 0.0041054 -0.00860043 -0.0163608 
-0.00386981 0.999622 0.0272326 -0.0494911 
0.00870898 -0.0271981 0.999592 -0.222157 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat ]]
+ [[ -n 1 ]]
+ echo 'Skipping Affine Registration'
Skipping Affine Registration
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 74.0966
LEVEL 1 of 4
  Smoothing sigmas: [9.11606, 9.11606, 6.92825], [3.72161, 3.72161, 2.82845]
Level     0,  Iter     0:    Energy =   0.0467
Level     0,  Iter     1:    Energy =   0.0501
Level     0,  Iter     2:    Energy =   0.0531
Level     0,  Iter     3:    Energy =   0.0551
Level     0,  Iter     4:    Energy =   0.0556
Level     0,  Iter     5:    Energy =   0.0560
Level     0,  Iter     6:    Energy =   0.0561
Level     0,  Iter     7:    Energy =   0.0564
Level     0,  Iter     8:    Energy =   0.0564
Level     0,  Iter     9:    Energy =   0.0568
Level     0,  Iter    10:    Energy =   0.0567
Level     0,  Iter    11:    Energy =   0.0571
Level     0,  Iter    12:    Energy =   0.0569
Level     0,  Iter    13:    Energy =   0.0575
Level     0,  Iter    14:    Energy =   0.0575
Level     0,  Iter    15:    Energy =   0.0577
Level     0,  Iter    16:    Energy =   0.0574
Level     0,  Iter    17:    Energy =   0.0576
Level     0,  Iter    18:    Energy =   0.0573
Level     0,  Iter    19:    Energy =   0.0576
Level     0,  Iter    20:    Energy =   0.0574
Level     0,  Iter    21:    Energy =   0.0578
Level     0,  Iter    22:    Energy =   0.0576
Level     0,  Iter    23:    Energy =   0.0582
Level     0,  Iter    24:    Energy =   0.0582
Level     0,  Iter    25:    Energy =   0.0581
Level     0,  Iter    26:    Energy =   0.0577
Level     0,  Iter    27:    Energy =   0.0579
Level     0,  Iter    28:    Energy =   0.0576
Level     0,  Iter    29:    Energy =   0.0578
Level     0,  Iter    30:    Energy =   0.0574
Level     0,  Iter    31:    Energy =   0.0578
Level     0,  Iter    32:    Energy =   0.0575
Level     0,  Iter    33:    Energy =   0.0579
Level     0,  Iter    34:    Energy =   0.0578
Level     0,  Iter    35:    Energy =   0.0582
Level     0,  Iter    36:    Energy =   0.0576
Level     0,  Iter    37:    Energy =   0.0581
Level     0,  Iter    38:    Energy =   0.0577
Level     0,  Iter    39:    Energy =   0.0581
Level     0,  Iter    40:    Energy =   0.0576
Level     0,  Iter    41:    Energy =   0.0581
Level     0,  Iter    42:    Energy =   0.0578
Level     0,  Iter    43:    Energy =   0.0582
Level     0,  Iter    44:    Energy =   0.0577
Level     0,  Iter    45:    Energy =   0.0582
Level     0,  Iter    46:    Energy =   0.0580
Level     0,  Iter    47:    Energy =   0.0582
Level     0,  Iter    48:    Energy =   0.0578
Level     0,  Iter    49:    Energy =   0.0580
Level     0,  Iter    50:    Energy =   0.0577
Level     0,  Iter    51:    Energy =   0.0581
Level     0,  Iter    52:    Energy =   0.0577
Level     0,  Iter    53:    Energy =   0.0582
Level     0,  Iter    54:    Energy =   0.0583
Level     0,  Iter    55:    Energy =   0.0584
Level     0,  Iter    56:    Energy =   0.0579
Level     0,  Iter    57:    Energy =   0.0581
Level     0,  Iter    58:    Energy =   0.0577
Level     0,  Iter    59:    Energy =   0.0581
END OF LEVEL     0    DetJac Range:   0.4696  to   1.8093 
  Avg. Gradient Time  : 0.0212s  39.26% 
  Avg. Gaussian Time  : 0.0260s  48.00% 
  Avg. Iteration Time : 0.0541s 
LEVEL 2 of 4
  Smoothing sigmas: [4.55803, 4.55803, 3.46412], [1.86081, 1.86081, 1.41422]
Level     1,  Iter     0:    Energy =   0.0512
Level     1,  Iter     1:    Energy =   0.0536
Level     1,  Iter     2:    Energy =   0.0560
Level     1,  Iter     3:    Energy =   0.0583
Level     1,  Iter     4:    Energy =   0.0602
Level     1,  Iter     5:    Energy =   0.0616
Level     1,  Iter     6:    Energy =   0.0626
Level     1,  Iter     7:    Energy =   0.0636
Level     1,  Iter     8:    Energy =   0.0644
Level     1,  Iter     9:    Energy =   0.0647
Level     1,  Iter    10:    Energy =   0.0651
Level     1,  Iter    11:    Energy =   0.0655
Level     1,  Iter    12:    Energy =   0.0657
Level     1,  Iter    13:    Energy =   0.0662
Level     1,  Iter    14:    Energy =   0.0662
Level     1,  Iter    15:    Energy =   0.0668
Level     1,  Iter    16:    Energy =   0.0668
Level     1,  Iter    17:    Energy =   0.0671
Level     1,  Iter    18:    Energy =   0.0672
Level     1,  Iter    19:    Energy =   0.0675
Level     1,  Iter    20:    Energy =   0.0674
Level     1,  Iter    21:    Energy =   0.0678
Level     1,  Iter    22:    Energy =   0.0677
Level     1,  Iter    23:    Energy =   0.0679
Level     1,  Iter    24:    Energy =   0.0678
Level     1,  Iter    25:    Energy =   0.0679
Level     1,  Iter    26:    Energy =   0.0679
Level     1,  Iter    27:    Energy =   0.0680
Level     1,  Iter    28:    Energy =   0.0680
Level     1,  Iter    29:    Energy =   0.0681
Level     1,  Iter    30:    Energy =   0.0680
Level     1,  Iter    31:    Energy =   0.0681
Level     1,  Iter    32:    Energy =   0.0681
Level     1,  Iter    33:    Energy =   0.0682
Level     1,  Iter    34:    Energy =   0.0681
Level     1,  Iter    35:    Energy =   0.0682
Level     1,  Iter    36:    Energy =   0.0681
Level     1,  Iter    37:    Energy =   0.0682
Level     1,  Iter    38:    Energy =   0.0682
Level     1,  Iter    39:    Energy =   0.0682
Level     1,  Iter    40:    Energy =   0.0682
Level     1,  Iter    41:    Energy =   0.0683
Level     1,  Iter    42:    Energy =   0.0682
Level     1,  Iter    43:    Energy =   0.0683
Level     1,  Iter    44:    Energy =   0.0683
Level     1,  Iter    45:    Energy =   0.0683
Level     1,  Iter    46:    Energy =   0.0683
Level     1,  Iter    47:    Energy =   0.0684
Level     1,  Iter    48:    Energy =   0.0683
Level     1,  Iter    49:    Energy =   0.0684
Level     1,  Iter    50:    Energy =   0.0683
Level     1,  Iter    51:    Energy =   0.0684
Level     1,  Iter    52:    Energy =   0.0684
Level     1,  Iter    53:    Energy =   0.0684
Level     1,  Iter    54:    Energy =   0.0684
Level     1,  Iter    55:    Energy =   0.0684
Level     1,  Iter    56:    Energy =   0.0684
Level     1,  Iter    57:    Energy =   0.0685
Level     1,  Iter    58:    Energy =   0.0684
Level     1,  Iter    59:    Energy =   0.0685
END OF LEVEL     1    DetJac Range:   0.1859  to   2.7287 
  Avg. Gradient Time  : 0.1426s  37.79% 
  Avg. Gaussian Time  : 0.1933s  51.24% 
  Avg. Iteration Time : 0.3772s 
LEVEL 3 of 4
  Smoothing sigmas: [2.27901, 2.27901, 1.73206], [0.930404, 0.930404, 0.707111]
Level     2,  Iter     0:    Energy =   0.0488
Level     2,  Iter     1:    Energy =   0.0509
Level     2,  Iter     2:    Energy =   0.0527
Level     2,  Iter     3:    Energy =   0.0543
Level     2,  Iter     4:    Energy =   0.0557
Level     2,  Iter     5:    Energy =   0.0569
Level     2,  Iter     6:    Energy =   0.0578
Level     2,  Iter     7:    Energy =   0.0585
Level     2,  Iter     8:    Energy =   0.0591
Level     2,  Iter     9:    Energy =   0.0596
Level     2,  Iter    10:    Energy =   0.0602
Level     2,  Iter    11:    Energy =   0.0607
Level     2,  Iter    12:    Energy =   0.0612
Level     2,  Iter    13:    Energy =   0.0617
Level     2,  Iter    14:    Energy =   0.0621
Level     2,  Iter    15:    Energy =   0.0624
Level     2,  Iter    16:    Energy =   0.0627
Level     2,  Iter    17:    Energy =   0.0631
Level     2,  Iter    18:    Energy =   0.0630
Level     2,  Iter    19:    Energy =   0.0633
END OF LEVEL     2    DetJac Range:   0.0606  to   5.3041 
  Avg. Gradient Time  : 1.2083s  32.91% 
  Avg. Gaussian Time  : 2.1569s  58.75% 
  Avg. Iteration Time : 3.6711s 
LEVEL 4 of 4
  Smoothing sigmas: [1.13951, 1.13951, 0.866031], [0.465202, 0.465202, 0.353556]

real	7m31.789s
user	13m37.836s
sys	0m22.044s
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.9
+ local PROGRESS=0.9
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.9'
CHUNK 0 0.2 0.9
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.9
====================================
         PROGRESS: 0               
====================================
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/reslice_mprage_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 24
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/reslice_tse_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 24
+ ashs_reslice_to_template /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 /home/ccn30/ENCRYPT/atlases/utrechtatlas
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local ATLAS=/home/ccn30/ENCRYPT/atlases/utrechtatlas
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ local side
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 24
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 24
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.00789
Thresholding #1
  Mapping range [0.00789, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz /tmp/ashs.7VJvpUas/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 24
+ c3d /tmp/ashs.7VJvpUas/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/seg_left.nii.gz ]]
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 24
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 24
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.00701
Thresholding #1
  Mapping range [0.00701, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz /tmp/ashs.7VJvpUas/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 24
+ c3d /tmp/ashs.7VJvpUas/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/seg_right.nii.gz ]]
+ [[ -f '' ]]
+ [[ -n '' ]]
+ for side in '$SIDES'
+ ashs_registration_qc left
+ local side=left
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_left.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_left.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.7VJvpUas/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.7VJvpUas/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.7VJvpUas/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.7VJvpUas/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.7VJvpUas/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.7VJvpUas/sag_tse_%02d.png
++ ls /tmp/ashs.7VJvpUas/cor_mprage_00.png /tmp/ashs.7VJvpUas/cor_mprage_01.png /tmp/ashs.7VJvpUas/cor_mprage_02.png /tmp/ashs.7VJvpUas/cor_mprage_03.png /tmp/ashs.7VJvpUas/cor_mprage_04.png /tmp/ashs.7VJvpUas/cor_temp_00.png /tmp/ashs.7VJvpUas/cor_temp_01.png /tmp/ashs.7VJvpUas/cor_temp_02.png /tmp/ashs.7VJvpUas/cor_temp_03.png /tmp/ashs.7VJvpUas/cor_temp_04.png /tmp/ashs.7VJvpUas/cor_tse_00.png /tmp/ashs.7VJvpUas/cor_tse_01.png /tmp/ashs.7VJvpUas/cor_tse_02.png /tmp/ashs.7VJvpUas/cor_tse_03.png /tmp/ashs.7VJvpUas/cor_tse_04.png /tmp/ashs.7VJvpUas/sag_mprage_00.png /tmp/ashs.7VJvpUas/sag_mprage_01.png /tmp/ashs.7VJvpUas/sag_temp_00.png /tmp/ashs.7VJvpUas/sag_temp_01.png /tmp/ashs.7VJvpUas/sag_tse_00.png /tmp/ashs.7VJvpUas/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_mprage_00.png /tmp/ashs.7VJvpUas/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_mprage_01.png /tmp/ashs.7VJvpUas/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_mprage_02.png /tmp/ashs.7VJvpUas/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_mprage_03.png /tmp/ashs.7VJvpUas/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_mprage_04.png /tmp/ashs.7VJvpUas/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_temp_00.png /tmp/ashs.7VJvpUas/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_temp_01.png /tmp/ashs.7VJvpUas/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_temp_02.png /tmp/ashs.7VJvpUas/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_temp_03.png /tmp/ashs.7VJvpUas/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_temp_04.png /tmp/ashs.7VJvpUas/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_tse_00.png /tmp/ashs.7VJvpUas/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_tse_01.png /tmp/ashs.7VJvpUas/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_tse_02.png /tmp/ashs.7VJvpUas/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_tse_03.png /tmp/ashs.7VJvpUas/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_tse_04.png /tmp/ashs.7VJvpUas/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/sag_mprage_00.png /tmp/ashs.7VJvpUas/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/sag_mprage_01.png /tmp/ashs.7VJvpUas/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/sag_temp_00.png /tmp/ashs.7VJvpUas/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/sag_temp_01.png /tmp/ashs.7VJvpUas/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/sag_tse_00.png /tmp/ashs.7VJvpUas/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/sag_tse_01.png /tmp/ashs.7VJvpUas/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.7VJvpUas/cor_temp_00.png /tmp/ashs.7VJvpUas/cor_temp_01.png /tmp/ashs.7VJvpUas/cor_temp_02.png /tmp/ashs.7VJvpUas/cor_temp_03.png /tmp/ashs.7VJvpUas/cor_temp_04.png /tmp/ashs.7VJvpUas/sag_temp_00.png /tmp/ashs.7VJvpUas/sag_temp_01.png /tmp/ashs.7VJvpUas/cor_mprage_00.png /tmp/ashs.7VJvpUas/cor_mprage_01.png /tmp/ashs.7VJvpUas/cor_mprage_02.png /tmp/ashs.7VJvpUas/cor_mprage_03.png /tmp/ashs.7VJvpUas/cor_mprage_04.png /tmp/ashs.7VJvpUas/sag_mprage_00.png /tmp/ashs.7VJvpUas/sag_mprage_01.png /tmp/ashs.7VJvpUas/cor_tse_00.png /tmp/ashs.7VJvpUas/cor_tse_01.png /tmp/ashs.7VJvpUas/cor_tse_02.png /tmp/ashs.7VJvpUas/cor_tse_03.png /tmp/ashs.7VJvpUas/cor_tse_04.png /tmp/ashs.7VJvpUas/sag_tse_00.png /tmp/ashs.7VJvpUas/sag_tse_01.png /tmp/ashs.7VJvpUas/qa.png
+ convert /tmp/ashs.7VJvpUas/qa.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ montage -label 26040:left /tmp/ashs.7VJvpUas/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_registration_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (left)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_registration_left_qa.png
+ for side in '$SIDES'
+ ashs_registration_qc right
+ local side=right
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_right.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_right.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.7VJvpUas/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.7VJvpUas/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.7VJvpUas/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.7VJvpUas/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.7VJvpUas/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.7VJvpUas/sag_tse_%02d.png
++ ls /tmp/ashs.7VJvpUas/cor_mprage_00.png /tmp/ashs.7VJvpUas/cor_mprage_01.png /tmp/ashs.7VJvpUas/cor_mprage_02.png /tmp/ashs.7VJvpUas/cor_mprage_03.png /tmp/ashs.7VJvpUas/cor_mprage_04.png /tmp/ashs.7VJvpUas/cor_temp_00.png /tmp/ashs.7VJvpUas/cor_temp_01.png /tmp/ashs.7VJvpUas/cor_temp_02.png /tmp/ashs.7VJvpUas/cor_temp_03.png /tmp/ashs.7VJvpUas/cor_temp_04.png /tmp/ashs.7VJvpUas/cor_tse_00.png /tmp/ashs.7VJvpUas/cor_tse_01.png /tmp/ashs.7VJvpUas/cor_tse_02.png /tmp/ashs.7VJvpUas/cor_tse_03.png /tmp/ashs.7VJvpUas/cor_tse_04.png /tmp/ashs.7VJvpUas/sag_mprage_00.png /tmp/ashs.7VJvpUas/sag_mprage_01.png /tmp/ashs.7VJvpUas/sag_temp_00.png /tmp/ashs.7VJvpUas/sag_temp_01.png /tmp/ashs.7VJvpUas/sag_tse_00.png /tmp/ashs.7VJvpUas/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_mprage_00.png /tmp/ashs.7VJvpUas/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_mprage_01.png /tmp/ashs.7VJvpUas/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_mprage_02.png /tmp/ashs.7VJvpUas/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_mprage_03.png /tmp/ashs.7VJvpUas/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_mprage_04.png /tmp/ashs.7VJvpUas/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_temp_00.png /tmp/ashs.7VJvpUas/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_temp_01.png /tmp/ashs.7VJvpUas/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_temp_02.png /tmp/ashs.7VJvpUas/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_temp_03.png /tmp/ashs.7VJvpUas/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_temp_04.png /tmp/ashs.7VJvpUas/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_tse_00.png /tmp/ashs.7VJvpUas/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_tse_01.png /tmp/ashs.7VJvpUas/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_tse_02.png /tmp/ashs.7VJvpUas/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_tse_03.png /tmp/ashs.7VJvpUas/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/cor_tse_04.png /tmp/ashs.7VJvpUas/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/sag_mprage_00.png /tmp/ashs.7VJvpUas/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/sag_mprage_01.png /tmp/ashs.7VJvpUas/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/sag_temp_00.png /tmp/ashs.7VJvpUas/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/sag_temp_01.png /tmp/ashs.7VJvpUas/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/sag_tse_00.png /tmp/ashs.7VJvpUas/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.7VJvpUas/sag_tse_01.png /tmp/ashs.7VJvpUas/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.7VJvpUas/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.7VJvpUas/cor_temp_00.png /tmp/ashs.7VJvpUas/cor_temp_01.png /tmp/ashs.7VJvpUas/cor_temp_02.png /tmp/ashs.7VJvpUas/cor_temp_03.png /tmp/ashs.7VJvpUas/cor_temp_04.png /tmp/ashs.7VJvpUas/sag_temp_00.png /tmp/ashs.7VJvpUas/sag_temp_01.png /tmp/ashs.7VJvpUas/cor_mprage_00.png /tmp/ashs.7VJvpUas/cor_mprage_01.png /tmp/ashs.7VJvpUas/cor_mprage_02.png /tmp/ashs.7VJvpUas/cor_mprage_03.png /tmp/ashs.7VJvpUas/cor_mprage_04.png /tmp/ashs.7VJvpUas/sag_mprage_00.png /tmp/ashs.7VJvpUas/sag_mprage_01.png /tmp/ashs.7VJvpUas/cor_tse_00.png /tmp/ashs.7VJvpUas/cor_tse_01.png /tmp/ashs.7VJvpUas/cor_tse_02.png /tmp/ashs.7VJvpUas/cor_tse_03.png /tmp/ashs.7VJvpUas/cor_tse_04.png /tmp/ashs.7VJvpUas/sag_tse_00.png /tmp/ashs.7VJvpUas/sag_tse_01.png /tmp/ashs.7VJvpUas/qa.png
+ convert /tmp/ashs.7VJvpUas/qa.png -bordercolor Black -border 1x1 /tmp/ashs.7VJvpUas/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ montage -label 26040:right /tmp/ashs.7VJvpUas/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_registration_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (right)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_registration_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 1'
CHUNK 0 0.2 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 1
====================================
         PROGRESS: 0               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 1 successful
------------------------------------------------
[0m
****************************************
Starting stage 2: Initial ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 2: Initial ROI registration to 
all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.789722
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3608.15   GNORM= 705.811
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3702.810     140.827       0.000
   2    4     -3710.577     136.154       1.000
   3    5     -3748.848     373.058       1.000
   4    6     -3774.829     250.558       1.000
   5    7     -3810.718      91.018       1.000
   6    8     -3817.723      94.853       1.000
   7    9     -3854.930     197.333       1.000
   8   11     -3866.720     183.079       0.383
   9   12     -3874.411      53.370       1.000
  10   13     -3876.722      66.567       1.000
  11   14     -3879.196      74.716       1.000
  12   15     -3884.893      54.405       1.000
  13   16     -3891.982      40.143       1.000
  14   17     -3897.430      95.735       1.000
  15   19     -3899.504      39.466       0.418
  16   20     -3900.292      30.724       1.000
  17   21     -3901.722      32.905       1.000
  18   22     -3902.248      42.517       1.000
  19   23     -3902.918      22.168       1.000
  20   24     -3903.518      16.928       1.000
  21   25     -3903.835      36.269       1.000
  22   26     -3904.136      11.060       1.000
  23   27     -3904.241      15.129       1.000
  24   28     -3904.353      12.321       1.000
  25   30     -3904.422      15.913       0.360
  26   31     -3904.485       6.597       1.000
  27   32     -3904.523       9.842       1.000
  28   33     -3904.533       9.518       1.000
  29   35     -3904.575      15.952       0.364
  30   36     -3904.630       5.372       1.000
  31   37     -3904.659       7.073       1.000
  32   38     -3904.692       9.159       1.000
  33   39     -3904.741       5.355       1.000
  34   40     -3904.777       6.241       1.000
  35   41     -3904.848      15.732       1.000
  36   42     -3904.900       3.640       1.000
  37   43     -3904.914       4.344       1.000
  38   44     -3904.920       6.631       1.000
  39   45     -3904.933       3.829       1.000
  40   47     -3904.935       2.119       0.310
  41   48     -3904.937       1.668       1.000
  42   50     -3904.939       2.686       0.380
  43   51     -3904.939       2.387       1.000
  44   52     -3904.941       7.664       1.000
  45   53     -3904.952       4.009       1.000
  46   54     -3904.954       5.106       1.000
  47   55     -3904.954       4.151       1.000
  48   57     -3904.959       3.795       0.494
  49   58     -3904.961       2.028       1.000
  50   59     -3904.962       1.657       1.000
Final RAS Transform: 
0.950904 -0.00575042 -0.0141815 -1.32578 
0.00974279 0.996171 -0.000446435 0.167716 
-0.0373487 0.00803567 1.06095 -0.887308 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2568.39   GNORM= 125.844
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2576.628      55.909       0.001
   2    4     -2577.152      51.462       1.000
   3    5     -2577.838      29.383       1.000
   4    6     -2578.580      24.770       1.000
   5    7     -2579.924      41.637       1.000
   6    8     -2584.485      87.573       1.000
   7    9     -2588.587     103.078       1.000
   8   10     -2590.901      66.168       1.000
   9   11     -2594.095      26.020       1.000
  10   12     -2594.620      19.691       1.000
  11   13     -2594.899      12.841       1.000
  12   14     -2595.597      25.537       1.000
  13   15     -2596.976      26.916       1.000
  14   16     -2598.686      39.065       1.000
  15   17     -2600.092      27.011       1.000
  16   18     -2600.406      32.597       1.000
  17   19     -2601.096      15.500       1.000
  18   20     -2601.397       7.635       1.000
  19   21     -2601.452       9.611       1.000
  20   22     -2601.524       4.914       1.000
  21   23     -2601.586       8.259       1.000
  22   24     -2601.695       9.384       1.000
  23   25     -2601.835       6.979       1.000
  24   26     -2601.903       5.502       1.000
  25   27     -2601.937       6.575       1.000
  26   28     -2601.992       7.189       1.000
  27   29     -2602.064       6.513       1.000
  28   30     -2602.100       8.010       1.000
  29   31     -2602.116       5.489       1.000
  30   32     -2602.135       7.213       1.000
  31   33     -2602.197       4.638       1.000
  32   34     -2602.242      12.138       1.000
  33   35     -2602.311       3.468       1.000
  34   36     -2602.328       3.777       1.000
  35   37     -2602.330       8.038       1.000
  36   38     -2602.356       5.783       1.000
  37   39     -2602.395       7.819       1.000
  38   40     -2602.409      11.249       1.000
  39   41     -2602.447       5.496       1.000
  40   42     -2602.456       2.570       1.000
  41   43     -2602.457       3.229       1.000
  42   44     -2602.463       3.925       1.000
  43   45     -2602.476       4.905       1.000
  44   46     -2602.499       6.139       1.000
  45   47     -2602.502       5.455       1.000
  46   49     -2602.508       4.750       0.151
  47   50     -2602.512       2.420       1.000
  48   51     -2602.523       1.364       1.000
Final RAS Transform: 
0.972644 0.00428687 -0.0315082 -0.47518 
0.00541918 0.990505 -0.0111021 0.025476 
-0.0320945 0.0100515 1.05456 -0.812174 
0 0 0 1 

Final RAS Transform: 
0.972644 0.00428687 -0.0315082 -0.47518 
0.00541918 0.990505 -0.0111021 0.025476 
-0.0320945 0.0100515 1.05456 -0.812174 
0 0 0 1 


real	0m10.355s
user	0m18.040s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.783501
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1138
Level     0,  Iter     1:    Energy =   0.1223
Level     0,  Iter     2:    Energy =   0.1285
Level     0,  Iter     3:    Energy =   0.1341
Level     0,  Iter     4:    Energy =   0.1385
Level     0,  Iter     5:    Energy =   0.1413
Level     0,  Iter     6:    Energy =   0.1424
Level     0,  Iter     7:    Energy =   0.1430
Level     0,  Iter     8:    Energy =   0.1438
Level     0,  Iter     9:    Energy =   0.1442
Level     0,  Iter    10:    Energy =   0.1447
Level     0,  Iter    11:    Energy =   0.1450
Level     0,  Iter    12:    Energy =   0.1454
Level     0,  Iter    13:    Energy =   0.1456
Level     0,  Iter    14:    Energy =   0.1460
Level     0,  Iter    15:    Energy =   0.1462
Level     0,  Iter    16:    Energy =   0.1465
Level     0,  Iter    17:    Energy =   0.1466
Level     0,  Iter    18:    Energy =   0.1468
Level     0,  Iter    19:    Energy =   0.1469
Level     0,  Iter    20:    Energy =   0.1471
Level     0,  Iter    21:    Energy =   0.1472
Level     0,  Iter    22:    Energy =   0.1473
Level     0,  Iter    23:    Energy =   0.1474
Level     0,  Iter    24:    Energy =   0.1476
Level     0,  Iter    25:    Energy =   0.1476
Level     0,  Iter    26:    Energy =   0.1477
Level     0,  Iter    27:    Energy =   0.1478
Level     0,  Iter    28:    Energy =   0.1478
Level     0,  Iter    29:    Energy =   0.1479
Level     0,  Iter    30:    Energy =   0.1479
Level     0,  Iter    31:    Energy =   0.1481
Level     0,  Iter    32:    Energy =   0.1481
Level     0,  Iter    33:    Energy =   0.1482
Level     0,  Iter    34:    Energy =   0.1482
Level     0,  Iter    35:    Energy =   0.1483
Level     0,  Iter    36:    Energy =   0.1484
Level     0,  Iter    37:    Energy =   0.1485
Level     0,  Iter    38:    Energy =   0.1485
Level     0,  Iter    39:    Energy =   0.1486
Level     0,  Iter    40:    Energy =   0.1485
Level     0,  Iter    41:    Energy =   0.1487
Level     0,  Iter    42:    Energy =   0.1486
Level     0,  Iter    43:    Energy =   0.1488
Level     0,  Iter    44:    Energy =   0.1488
Level     0,  Iter    45:    Energy =   0.1489
Level     0,  Iter    46:    Energy =   0.1488
Level     0,  Iter    47:    Energy =   0.1489
Level     0,  Iter    48:    Energy =   0.1488
Level     0,  Iter    49:    Energy =   0.1489
Level     0,  Iter    50:    Energy =   0.1489
Level     0,  Iter    51:    Energy =   0.1490
Level     0,  Iter    52:    Energy =   0.1489
Level     0,  Iter    53:    Energy =   0.1491
Level     0,  Iter    54:    Energy =   0.1490
Level     0,  Iter    55:    Energy =   0.1491
Level     0,  Iter    56:    Energy =   0.1490
Level     0,  Iter    57:    Energy =   0.1492
Level     0,  Iter    58:    Energy =   0.1491
Level     0,  Iter    59:    Energy =   0.1492
END OF LEVEL     0    DetJac Range:   0.4270  to   2.0550 
  Avg. Gradient Time  : 0.0083s  34.89% 
  Avg. Gaussian Time  : 0.0118s  49.43% 
  Avg. Iteration Time : 0.0239s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0952
Level     1,  Iter     1:    Energy =   0.1018
Level     1,  Iter     2:    Energy =   0.1060
Level     1,  Iter     3:    Energy =   0.1093
Level     1,  Iter     4:    Energy =   0.1123
Level     1,  Iter     5:    Energy =   0.1147
Level     1,  Iter     6:    Energy =   0.1172
Level     1,  Iter     7:    Energy =   0.1197
Level     1,  Iter     8:    Energy =   0.1217
Level     1,  Iter     9:    Energy =   0.1231
Level     1,  Iter    10:    Energy =   0.1241
Level     1,  Iter    11:    Energy =   0.1251
Level     1,  Iter    12:    Energy =   0.1260
Level     1,  Iter    13:    Energy =   0.1268
Level     1,  Iter    14:    Energy =   0.1266
Level     1,  Iter    15:    Energy =   0.1275
Level     1,  Iter    16:    Energy =   0.1276
Level     1,  Iter    17:    Energy =   0.1284
Level     1,  Iter    18:    Energy =   0.1279
Level     1,  Iter    19:    Energy =   0.1288
Level     1,  Iter    20:    Energy =   0.1293
Level     1,  Iter    21:    Energy =   0.1293
Level     1,  Iter    22:    Energy =   0.1290
Level     1,  Iter    23:    Energy =   0.1298
Level     1,  Iter    24:    Energy =   0.1293
Level     1,  Iter    25:    Energy =   0.1301
Level     1,  Iter    26:    Energy =   0.1298
Level     1,  Iter    27:    Energy =   0.1304
Level     1,  Iter    28:    Energy =   0.1298
Level     1,  Iter    29:    Energy =   0.1307
Level     1,  Iter    30:    Energy =   0.1304
Level     1,  Iter    31:    Energy =   0.1308
Level     1,  Iter    32:    Energy =   0.1302
Level     1,  Iter    33:    Energy =   0.1310
Level     1,  Iter    34:    Energy =   0.1309
Level     1,  Iter    35:    Energy =   0.1311
Level     1,  Iter    36:    Energy =   0.1305
Level     1,  Iter    37:    Energy =   0.1312
Level     1,  Iter    38:    Energy =   0.1313
Level     1,  Iter    39:    Energy =   0.1313
Level     1,  Iter    40:    Energy =   0.1307
Level     1,  Iter    41:    Energy =   0.1315
Level     1,  Iter    42:    Energy =   0.1312
Level     1,  Iter    43:    Energy =   0.1317
Level     1,  Iter    44:    Energy =   0.1311
Level     1,  Iter    45:    Energy =   0.1318
Level     1,  Iter    46:    Energy =   0.1320
Level     1,  Iter    47:    Energy =   0.1318
Level     1,  Iter    48:    Energy =   0.1313
Level     1,  Iter    49:    Energy =   0.1320
Level     1,  Iter    50:    Energy =   0.1319
Level     1,  Iter    51:    Energy =   0.1321
Level     1,  Iter    52:    Energy =   0.1315
Level     1,  Iter    53:    Energy =   0.1322
Level     1,  Iter    54:    Energy =   0.1325
Level     1,  Iter    55:    Energy =   0.1323
Level     1,  Iter    56:    Energy =   0.1318
Level     1,  Iter    57:    Energy =   0.1324
Level     1,  Iter    58:    Energy =   0.1322
Level     1,  Iter    59:    Energy =   0.1326
END OF LEVEL     1    DetJac Range:   0.0682  to   3.3529 
  Avg. Gradient Time  : 0.0480s  33.01% 
  Avg. Gaussian Time  : 0.0786s  54.08% 
  Avg. Iteration Time : 0.1454s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0664
Level     2,  Iter     1:    Energy =   0.0695
Level     2,  Iter     2:    Energy =   0.0723
Level     2,  Iter     3:    Energy =   0.0752
Level     2,  Iter     4:    Energy =   0.0777
Level     2,  Iter     5:    Energy =   0.0797
Level     2,  Iter     6:    Energy =   0.0813
Level     2,  Iter     7:    Energy =   0.0824
Level     2,  Iter     8:    Energy =   0.0833
Level     2,  Iter     9:    Energy =   0.0841
Level     2,  Iter    10:    Energy =   0.0849
Level     2,  Iter    11:    Energy =   0.0858
Level     2,  Iter    12:    Energy =   0.0867
Level     2,  Iter    13:    Energy =   0.0874
Level     2,  Iter    14:    Energy =   0.0882
Level     2,  Iter    15:    Energy =   0.0888
Level     2,  Iter    16:    Energy =   0.0891
Level     2,  Iter    17:    Energy =   0.0894
Level     2,  Iter    18:    Energy =   0.0892
Level     2,  Iter    19:    Energy =   0.0897
END OF LEVEL     2    DetJac Range:   0.0461  to   4.3347 
  Avg. Gradient Time  : 0.3341s  30.78% 
  Avg. Gaussian Time  : 0.6019s  55.46% 
  Avg. Iteration Time : 1.0853s 

real	0m37.206s
user	1m7.952s
sys	0m1.572s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.2 0.205769
+ echo 'CHUNK 0.2 0.205769 1'
CHUNK 0.2 0.205769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.2 0.205769 1
====================================
         PROGRESS: 0.2               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.744224
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3676.67   GNORM= 526.004
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3734.879     192.662       0.000
   2    4     -3749.696     161.408       1.000
   3    5     -3769.806     163.770       1.000
   4    6     -3783.029     107.096       1.000
   5    7     -3807.230      89.212       1.000
   6    8     -3818.696      85.126       1.000
   7    9     -3830.055     186.181       1.000
   8   10     -3847.202     106.523       1.000
   9   11     -3854.720      71.291       1.000
  10   12     -3861.029      78.137       1.000
  11   13     -3867.008      63.085       1.000
  12   14     -3877.446      51.111       1.000
  13   15     -3882.602      27.846       1.000
  14   17     -3883.388      44.250       0.275
  15   18     -3884.550      30.516       1.000
  16   19     -3886.179      34.214       1.000
  17   20     -3887.853      70.295       1.000
  18   21     -3889.247      49.921       1.000
  19   22     -3890.336      13.625       1.000
  20   23     -3890.564      14.524       1.000
  21   24     -3890.774      40.644       1.000
  22   25     -3891.458      42.586       1.000
  23   26     -3891.818       9.165       1.000
  24   27     -3891.877       9.132       1.000
  25   28     -3891.901      21.488       1.000
  26   29     -3892.028       9.044       1.000
  27   30     -3892.071       6.098       1.000
  28   31     -3892.120       7.935       1.000
  29   33     -3892.197      10.869       0.503
  30   35     -3892.225       6.725       0.256
  31   36     -3892.245       5.718       1.000
  32   37     -3892.252       4.542       1.000
  33   38     -3892.262       5.066       1.000
  34   39     -3892.270       2.727       1.000
  35   40     -3892.283       3.271       1.000
  36   41     -3892.288       1.394       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.957561 0.00839931 0.0776263 -0.257469 
0.00977501 1.01205 0.048631 0.561196 
-0.0126972 -0.00328038 1.02741 -0.289366 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2456.18   GNORM= 170.61
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2466.069      78.397       0.001
   2    4     -2469.355      56.702       1.000
   3    5     -2474.355      58.077       1.000
   4    6     -2484.459      97.502       1.000
   5    7     -2499.949     130.338       1.000
   6    8     -2515.033     113.311       1.000
   7   10     -2520.654      89.972       0.477
   8   11     -2525.065      28.098       1.000
   9   12     -2525.972      32.910       1.000
  10   13     -2527.569      36.078       1.000
  11   14     -2531.704      65.150       1.000
  12   15     -2538.753      74.087       1.000
  13   16     -2547.791      91.856       1.000
  14   18     -2551.196      62.401       0.374
  15   19     -2553.306      16.102       1.000
  16   20     -2553.569       9.818       1.000
  17   21     -2553.743      12.431       1.000
  18   22     -2554.029      15.231       1.000
  19   23     -2555.630      34.580       1.000
  20   24     -2556.746      32.876       1.000
  21   25     -2557.425      15.595       1.000
  22   26     -2557.778      13.684       1.000
  23   28     -2557.866       9.808       0.484
  24   29     -2557.909      10.062       1.000
  25   30     -2558.051       7.837       1.000
  26   31     -2558.158       7.666       1.000
  27   32     -2558.386       7.322       1.000
  28   33     -2558.682      14.419       1.000
  29   35     -2558.719       7.425       0.269
  30   36     -2558.749       5.004       1.000
  31   37     -2558.767       3.530       1.000
  32   38     -2558.786       8.669       1.000
  33   39     -2558.800       2.710       1.000
  34   40     -2558.808       2.666       1.000
  35   41     -2558.816       3.357       1.000
  36   42     -2558.823       7.169       1.000
  37   43     -2558.841       5.095       1.000
  38   44     -2558.866       7.877       1.000
  39   45     -2558.888       6.652       1.000
  40   46     -2558.931       3.779       1.000
  41   47     -2558.941       5.228       1.000
  42   48     -2558.945       2.674       1.000
  43   49     -2558.954       2.188       1.000
  44   50     -2558.965       6.732       1.000
  45   51     -2558.982       3.325       1.000
  46   52     -2558.998       3.414       1.000
  47   54     -2559.001       2.721       0.289
  48   55     -2559.005       3.622       1.000
  49   57     -2559.009       5.086       0.469
  50   58     -2559.028       3.303       1.000
  51   59     -2559.052       4.901       1.000
  52   61     -2559.061       3.908       0.440
Final RAS Transform: 
0.98617 0.00892592 0.0115538 0.251471 
0.0236531 1.00808 0.0298424 0.759259 
-0.00547841 0.0080927 1.01862 0.0596221 
0 0 0 1 

Final RAS Transform: 
0.98617 0.00892592 0.0115538 0.251471 
0.0236531 1.00808 0.0298424 0.759259 
-0.00547841 0.0080927 1.01862 0.0596221 
0 0 0 1 


real	0m10.457s
user	0m18.268s
sys	0m0.504s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.740793
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1116
Level     0,  Iter     1:    Energy =   0.1200
Level     0,  Iter     2:    Energy =   0.1274
Level     0,  Iter     3:    Energy =   0.1323
Level     0,  Iter     4:    Energy =   0.1353
Level     0,  Iter     5:    Energy =   0.1377
Level     0,  Iter     6:    Energy =   0.1395
Level     0,  Iter     7:    Energy =   0.1410
Level     0,  Iter     8:    Energy =   0.1421
Level     0,  Iter     9:    Energy =   0.1432
Level     0,  Iter    10:    Energy =   0.1438
Level     0,  Iter    11:    Energy =   0.1447
Level     0,  Iter    12:    Energy =   0.1451
Level     0,  Iter    13:    Energy =   0.1458
Level     0,  Iter    14:    Energy =   0.1460
Level     0,  Iter    15:    Energy =   0.1465
Level     0,  Iter    16:    Energy =   0.1467
Level     0,  Iter    17:    Energy =   0.1469
Level     0,  Iter    18:    Energy =   0.1470
Level     0,  Iter    19:    Energy =   0.1471
Level     0,  Iter    20:    Energy =   0.1474
Level     0,  Iter    21:    Energy =   0.1475
Level     0,  Iter    22:    Energy =   0.1477
Level     0,  Iter    23:    Energy =   0.1478
Level     0,  Iter    24:    Energy =   0.1479
Level     0,  Iter    25:    Energy =   0.1480
Level     0,  Iter    26:    Energy =   0.1481
Level     0,  Iter    27:    Energy =   0.1482
Level     0,  Iter    28:    Energy =   0.1483
Level     0,  Iter    29:    Energy =   0.1484
Level     0,  Iter    30:    Energy =   0.1484
Level     0,  Iter    31:    Energy =   0.1485
Level     0,  Iter    32:    Energy =   0.1486
Level     0,  Iter    33:    Energy =   0.1486
Level     0,  Iter    34:    Energy =   0.1487
Level     0,  Iter    35:    Energy =   0.1488
Level     0,  Iter    36:    Energy =   0.1488
Level     0,  Iter    37:    Energy =   0.1489
Level     0,  Iter    38:    Energy =   0.1489
Level     0,  Iter    39:    Energy =   0.1490
Level     0,  Iter    40:    Energy =   0.1490
Level     0,  Iter    41:    Energy =   0.1491
Level     0,  Iter    42:    Energy =   0.1492
Level     0,  Iter    43:    Energy =   0.1492
Level     0,  Iter    44:    Energy =   0.1493
Level     0,  Iter    45:    Energy =   0.1493
Level     0,  Iter    46:    Energy =   0.1494
Level     0,  Iter    47:    Energy =   0.1495
Level     0,  Iter    48:    Energy =   0.1496
Level     0,  Iter    49:    Energy =   0.1495
Level     0,  Iter    50:    Energy =   0.1497
Level     0,  Iter    51:    Energy =   0.1497
Level     0,  Iter    52:    Energy =   0.1497
Level     0,  Iter    53:    Energy =   0.1497
Level     0,  Iter    54:    Energy =   0.1498
Level     0,  Iter    55:    Energy =   0.1498
Level     0,  Iter    56:    Energy =   0.1499
Level     0,  Iter    57:    Energy =   0.1499
Level     0,  Iter    58:    Energy =   0.1500
Level     0,  Iter    59:    Energy =   0.1500
END OF LEVEL     0    DetJac Range:   0.3062  to   2.0270 
  Avg. Gradient Time  : 0.0073s  34.84% 
  Avg. Gaussian Time  : 0.0104s  49.53% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0951
Level     1,  Iter     1:    Energy =   0.1002
Level     1,  Iter     2:    Energy =   0.1045
Level     1,  Iter     3:    Energy =   0.1087
Level     1,  Iter     4:    Energy =   0.1119
Level     1,  Iter     5:    Energy =   0.1148
Level     1,  Iter     6:    Energy =   0.1169
Level     1,  Iter     7:    Energy =   0.1185
Level     1,  Iter     8:    Energy =   0.1198
Level     1,  Iter     9:    Energy =   0.1212
Level     1,  Iter    10:    Energy =   0.1225
Level     1,  Iter    11:    Energy =   0.1236
Level     1,  Iter    12:    Energy =   0.1240
Level     1,  Iter    13:    Energy =   0.1243
Level     1,  Iter    14:    Energy =   0.1248
Level     1,  Iter    15:    Energy =   0.1250
Level     1,  Iter    16:    Energy =   0.1253
Level     1,  Iter    17:    Energy =   0.1255
Level     1,  Iter    18:    Energy =   0.1257
Level     1,  Iter    19:    Energy =   0.1260
Level     1,  Iter    20:    Energy =   0.1261
Level     1,  Iter    21:    Energy =   0.1263
Level     1,  Iter    22:    Energy =   0.1265
Level     1,  Iter    23:    Energy =   0.1266
Level     1,  Iter    24:    Energy =   0.1268
Level     1,  Iter    25:    Energy =   0.1269
Level     1,  Iter    26:    Energy =   0.1271
Level     1,  Iter    27:    Energy =   0.1271
Level     1,  Iter    28:    Energy =   0.1273
Level     1,  Iter    29:    Energy =   0.1273
Level     1,  Iter    30:    Energy =   0.1275
Level     1,  Iter    31:    Energy =   0.1276
Level     1,  Iter    32:    Energy =   0.1276
Level     1,  Iter    33:    Energy =   0.1277
Level     1,  Iter    34:    Energy =   0.1278
Level     1,  Iter    35:    Energy =   0.1279
Level     1,  Iter    36:    Energy =   0.1279
Level     1,  Iter    37:    Energy =   0.1280
Level     1,  Iter    38:    Energy =   0.1281
Level     1,  Iter    39:    Energy =   0.1282
Level     1,  Iter    40:    Energy =   0.1282
Level     1,  Iter    41:    Energy =   0.1283
Level     1,  Iter    42:    Energy =   0.1284
Level     1,  Iter    43:    Energy =   0.1284
Level     1,  Iter    44:    Energy =   0.1285
Level     1,  Iter    45:    Energy =   0.1286
Level     1,  Iter    46:    Energy =   0.1286
Level     1,  Iter    47:    Energy =   0.1287
Level     1,  Iter    48:    Energy =   0.1287
Level     1,  Iter    49:    Energy =   0.1288
Level     1,  Iter    50:    Energy =   0.1288
Level     1,  Iter    51:    Energy =   0.1288
Level     1,  Iter    52:    Energy =   0.1289
Level     1,  Iter    53:    Energy =   0.1289
Level     1,  Iter    54:    Energy =   0.1290
Level     1,  Iter    55:    Energy =   0.1289
Level     1,  Iter    56:    Energy =   0.1293
Level     1,  Iter    57:    Energy =   0.1292
Level     1,  Iter    58:    Energy =   0.1296
Level     1,  Iter    59:    Energy =   0.1294
END OF LEVEL     1    DetJac Range:   0.1315  to   3.6489 
  Avg. Gradient Time  : 0.0423s  33.05% 
  Avg. Gaussian Time  : 0.0693s  54.20% 
  Avg. Iteration Time : 0.1279s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0651
Level     2,  Iter     1:    Energy =   0.0676
Level     2,  Iter     2:    Energy =   0.0702
Level     2,  Iter     3:    Energy =   0.0725
Level     2,  Iter     4:    Energy =   0.0746
Level     2,  Iter     5:    Energy =   0.0762
Level     2,  Iter     6:    Energy =   0.0777
Level     2,  Iter     7:    Energy =   0.0790
Level     2,  Iter     8:    Energy =   0.0802
Level     2,  Iter     9:    Energy =   0.0810
Level     2,  Iter    10:    Energy =   0.0819
Level     2,  Iter    11:    Energy =   0.0827
Level     2,  Iter    12:    Energy =   0.0835
Level     2,  Iter    13:    Energy =   0.0842
Level     2,  Iter    14:    Energy =   0.0849
Level     2,  Iter    15:    Energy =   0.0856
Level     2,  Iter    16:    Energy =   0.0862
Level     2,  Iter    17:    Energy =   0.0868
Level     2,  Iter    18:    Energy =   0.0873
Level     2,  Iter    19:    Energy =   0.0877
END OF LEVEL     2    DetJac Range:   0.0708  to   5.7668 
  Avg. Gradient Time  : 0.2972s  31.07% 
  Avg. Gaussian Time  : 0.5294s  55.34% 
  Avg. Iteration Time : 0.9565s 

real	0m32.765s
user	0m59.380s
sys	0m1.632s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.205769 0.211538
+ echo 'CHUNK 0.205769 0.211538 1'
CHUNK 0.205769 0.211538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.205769 0.211538 1
====================================
         PROGRESS: 0.205769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.546432
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3538.18   GNORM= 370.605
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3573.279     171.116       0.000
   2    4     -3584.388     121.372       1.000
   3    5     -3599.909      96.068       1.000
   4    6     -3612.358     127.202       1.000
   5    7     -3639.313     151.185       1.000
   6    8     -3676.459     233.464       1.000
   7    9     -3698.517     120.127       1.000
   8   10     -3710.213      95.597       1.000
   9   11     -3712.659      94.016       1.000
  10   12     -3714.669      39.734       1.000
  11   13     -3715.972      37.710       1.000
  12   14     -3719.252      50.706       1.000
  13   15     -3723.914      87.827       1.000
  14   16     -3724.972      62.484       1.000
  15   17     -3726.846      36.911       1.000
  16   18     -3727.696      25.841       1.000
  17   19     -3728.146      17.086       1.000
  18   20     -3729.234      34.383       1.000
  19   21     -3730.294      21.181       1.000
  20   22     -3730.724      36.493       1.000
  21   23     -3731.050      12.686       1.000
  22   24     -3731.117       6.850       1.000
  23   25     -3731.161       8.907       1.000
  24   26     -3731.231       9.562       1.000
  25   27     -3731.383      10.429       1.000
  26   28     -3731.505       8.827       1.000
  27   29     -3731.506      24.279       1.000
  28   30     -3731.575      13.773       1.000
  29   31     -3731.671       6.452       1.000
  30   32     -3731.698       3.044       1.000
  31   33     -3731.725       3.779       1.000
  32   34     -3731.761       2.777       1.000
  33   36     -3731.810       7.773       0.434
  34   38     -3731.826       7.661       0.380
  35   39     -3731.828       7.725       1.000
  36   40     -3731.872       7.446       1.000
  37   42     -3731.889       5.522       0.317
  38   43     -3731.897       5.518       1.000
Final RAS Transform: 
0.9515 -0.0262523 0.0226983 -1.55344 
0.0394377 1.0164 0.0499224 1.35122 
-0.00787031 -0.00142591 1.01724 -0.00947315 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2522.82   GNORM= 73.4797
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2529.433      80.748       0.002
   2    4     -2533.637      81.280       1.000
   3    5     -2538.018      68.323       1.000
   4    6     -2552.582      44.367       1.000
   5    7     -2553.554      67.344       1.000
   6    8     -2555.800      28.050       1.000
   7    9     -2557.252      20.015       1.000
   8   10     -2561.125      39.283       1.000
   9   12     -2561.824      39.023       0.374
  10   13     -2562.869      22.188       1.000
  11   14     -2563.242      13.292       1.000
  12   15     -2563.484      16.877       1.000
  13   16     -2564.684      27.675       1.000
  14   17     -2565.745      30.220       1.000
  15   18     -2566.428      48.743       1.000
  16   19     -2567.189      11.908       1.000
  17   20     -2567.457      15.044       1.000
  18   21     -2567.763      17.145       1.000
  19   23     -2568.028      11.678       0.524
  20   24     -2568.203       8.154       1.000
  21   25     -2568.286      13.146       1.000
  22   26     -2568.347       3.659       1.000
  23   27     -2568.382       5.309       1.000
  24   28     -2568.461       9.106       1.000
  25   29     -2568.547       6.071       1.000
  26   30     -2568.583       4.505       1.000
  27   31     -2568.629       4.454       1.000
  28   33     -2568.648       3.612       0.232
  29   34     -2568.690       3.905       1.000
  30   35     -2568.764       5.851       1.000
  31   37     -2568.776       3.444       0.088
  32   38     -2568.785       1.700       1.000
  33   40     -2568.791       1.556       0.295
  34   41     -2568.798       2.690       1.000
  35   43     -2568.806       1.658       0.429
Final RAS Transform: 
0.971303 -0.0209422 0.000572773 -0.947028 
0.036752 1.00602 0.0477516 1.07586 
0.000283672 -0.000304311 1.02266 0.245621 
0 0 0 1 

Final RAS Transform: 
0.971303 -0.0209422 0.000572773 -0.947028 
0.036752 1.00602 0.0477516 1.07586 
0.000283672 -0.000304311 1.02266 0.245621 
0 0 0 1 


real	0m9.533s
user	0m16.620s
sys	0m0.508s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.551202
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1084
Level     0,  Iter     1:    Energy =   0.1162
Level     0,  Iter     2:    Energy =   0.1218
Level     0,  Iter     3:    Energy =   0.1262
Level     0,  Iter     4:    Energy =   0.1301
Level     0,  Iter     5:    Energy =   0.1322
Level     0,  Iter     6:    Energy =   0.1331
Level     0,  Iter     7:    Energy =   0.1338
Level     0,  Iter     8:    Energy =   0.1348
Level     0,  Iter     9:    Energy =   0.1352
Level     0,  Iter    10:    Energy =   0.1362
Level     0,  Iter    11:    Energy =   0.1365
Level     0,  Iter    12:    Energy =   0.1372
Level     0,  Iter    13:    Energy =   0.1373
Level     0,  Iter    14:    Energy =   0.1378
Level     0,  Iter    15:    Energy =   0.1378
Level     0,  Iter    16:    Energy =   0.1383
Level     0,  Iter    17:    Energy =   0.1383
Level     0,  Iter    18:    Energy =   0.1384
Level     0,  Iter    19:    Energy =   0.1384
Level     0,  Iter    20:    Energy =   0.1387
Level     0,  Iter    21:    Energy =   0.1387
Level     0,  Iter    22:    Energy =   0.1389
Level     0,  Iter    23:    Energy =   0.1389
Level     0,  Iter    24:    Energy =   0.1391
Level     0,  Iter    25:    Energy =   0.1390
Level     0,  Iter    26:    Energy =   0.1392
Level     0,  Iter    27:    Energy =   0.1392
Level     0,  Iter    28:    Energy =   0.1394
Level     0,  Iter    29:    Energy =   0.1393
Level     0,  Iter    30:    Energy =   0.1395
Level     0,  Iter    31:    Energy =   0.1394
Level     0,  Iter    32:    Energy =   0.1396
Level     0,  Iter    33:    Energy =   0.1395
Level     0,  Iter    34:    Energy =   0.1397
Level     0,  Iter    35:    Energy =   0.1396
Level     0,  Iter    36:    Energy =   0.1397
Level     0,  Iter    37:    Energy =   0.1396
Level     0,  Iter    38:    Energy =   0.1398
Level     0,  Iter    39:    Energy =   0.1397
Level     0,  Iter    40:    Energy =   0.1398
Level     0,  Iter    41:    Energy =   0.1397
Level     0,  Iter    42:    Energy =   0.1398
Level     0,  Iter    43:    Energy =   0.1397
Level     0,  Iter    44:    Energy =   0.1399
Level     0,  Iter    45:    Energy =   0.1398
Level     0,  Iter    46:    Energy =   0.1399
Level     0,  Iter    47:    Energy =   0.1398
Level     0,  Iter    48:    Energy =   0.1399
Level     0,  Iter    49:    Energy =   0.1398
Level     0,  Iter    50:    Energy =   0.1400
Level     0,  Iter    51:    Energy =   0.1399
Level     0,  Iter    52:    Energy =   0.1400
Level     0,  Iter    53:    Energy =   0.1399
Level     0,  Iter    54:    Energy =   0.1400
Level     0,  Iter    55:    Energy =   0.1399
Level     0,  Iter    56:    Energy =   0.1401
Level     0,  Iter    57:    Energy =   0.1399
Level     0,  Iter    58:    Energy =   0.1401
Level     0,  Iter    59:    Energy =   0.1400
END OF LEVEL     0    DetJac Range:   0.3113  to   1.9577 
  Avg. Gradient Time  : 0.0073s  34.76% 
  Avg. Gaussian Time  : 0.0104s  49.57% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0892
Level     1,  Iter     1:    Energy =   0.0939
Level     1,  Iter     2:    Energy =   0.0978
Level     1,  Iter     3:    Energy =   0.1009
Level     1,  Iter     4:    Energy =   0.1047
Level     1,  Iter     5:    Energy =   0.1078
Level     1,  Iter     6:    Energy =   0.1100
Level     1,  Iter     7:    Energy =   0.1118
Level     1,  Iter     8:    Energy =   0.1132
Level     1,  Iter     9:    Energy =   0.1144
Level     1,  Iter    10:    Energy =   0.1159
Level     1,  Iter    11:    Energy =   0.1173
Level     1,  Iter    12:    Energy =   0.1187
Level     1,  Iter    13:    Energy =   0.1199
Level     1,  Iter    14:    Energy =   0.1209
Level     1,  Iter    15:    Energy =   0.1215
Level     1,  Iter    16:    Energy =   0.1221
Level     1,  Iter    17:    Energy =   0.1225
Level     1,  Iter    18:    Energy =   0.1229
Level     1,  Iter    19:    Energy =   0.1231
Level     1,  Iter    20:    Energy =   0.1233
Level     1,  Iter    21:    Energy =   0.1231
Level     1,  Iter    22:    Energy =   0.1237
Level     1,  Iter    23:    Energy =   0.1235
Level     1,  Iter    24:    Energy =   0.1241
Level     1,  Iter    25:    Energy =   0.1239
Level     1,  Iter    26:    Energy =   0.1243
Level     1,  Iter    27:    Energy =   0.1242
Level     1,  Iter    28:    Energy =   0.1248
Level     1,  Iter    29:    Energy =   0.1243
Level     1,  Iter    30:    Energy =   0.1250
Level     1,  Iter    31:    Energy =   0.1247
Level     1,  Iter    32:    Energy =   0.1253
Level     1,  Iter    33:    Energy =   0.1248
Level     1,  Iter    34:    Energy =   0.1255
Level     1,  Iter    35:    Energy =   0.1252
Level     1,  Iter    36:    Energy =   0.1256
Level     1,  Iter    37:    Energy =   0.1253
Level     1,  Iter    38:    Energy =   0.1258
Level     1,  Iter    39:    Energy =   0.1254
Level     1,  Iter    40:    Energy =   0.1259
Level     1,  Iter    41:    Energy =   0.1255
Level     1,  Iter    42:    Energy =   0.1260
Level     1,  Iter    43:    Energy =   0.1256
Level     1,  Iter    44:    Energy =   0.1261
Level     1,  Iter    45:    Energy =   0.1257
Level     1,  Iter    46:    Energy =   0.1262
Level     1,  Iter    47:    Energy =   0.1258
Level     1,  Iter    48:    Energy =   0.1263
Level     1,  Iter    49:    Energy =   0.1259
Level     1,  Iter    50:    Energy =   0.1264
Level     1,  Iter    51:    Energy =   0.1260
Level     1,  Iter    52:    Energy =   0.1265
Level     1,  Iter    53:    Energy =   0.1260
Level     1,  Iter    54:    Energy =   0.1266
Level     1,  Iter    55:    Energy =   0.1261
Level     1,  Iter    56:    Energy =   0.1267
Level     1,  Iter    57:    Energy =   0.1262
Level     1,  Iter    58:    Energy =   0.1269
Level     1,  Iter    59:    Energy =   0.1265
END OF LEVEL     1    DetJac Range:   0.1513  to   3.2469 
  Avg. Gradient Time  : 0.0414s  32.78% 
  Avg. Gaussian Time  : 0.0687s  54.41% 
  Avg. Iteration Time : 0.1263s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0665
Level     2,  Iter     1:    Energy =   0.0694
Level     2,  Iter     2:    Energy =   0.0723
Level     2,  Iter     3:    Energy =   0.0748
Level     2,  Iter     4:    Energy =   0.0767
Level     2,  Iter     5:    Energy =   0.0781
Level     2,  Iter     6:    Energy =   0.0794
Level     2,  Iter     7:    Energy =   0.0807
Level     2,  Iter     8:    Energy =   0.0818
Level     2,  Iter     9:    Energy =   0.0828
Level     2,  Iter    10:    Energy =   0.0837
Level     2,  Iter    11:    Energy =   0.0844
Level     2,  Iter    12:    Energy =   0.0851
Level     2,  Iter    13:    Energy =   0.0857
Level     2,  Iter    14:    Energy =   0.0858
Level     2,  Iter    15:    Energy =   0.0861
Level     2,  Iter    16:    Energy =   0.0859
Level     2,  Iter    17:    Energy =   0.0864
Level     2,  Iter    18:    Energy =   0.0861
Level     2,  Iter    19:    Energy =   0.0867
END OF LEVEL     2    DetJac Range:   0.0722  to   3.6547 
  Avg. Gradient Time  : 0.2953s  31.01% 
  Avg. Gaussian Time  : 0.5277s  55.40% 
  Avg. Iteration Time : 0.9525s 

real	0m32.590s
user	0m59.196s
sys	0m1.500s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.211538 0.217308
+ echo 'CHUNK 0.211538 0.217308 1'
CHUNK 0.211538 0.217308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.211538 0.217308 1
====================================
         PROGRESS: 0.211538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.252747
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2817   GNORM= 671.215
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2926.652      94.494       0.000
   2    4     -2930.152      71.913       1.000
   3    5     -2935.012      82.341       1.000
   4    6     -2944.027      90.442       1.000
   5    7     -2964.540     181.594       1.000
   6    8     -2986.487     156.818       1.000
   7    9     -2995.701     184.896       1.000
   8   10     -3016.048      87.919       1.000
   9   11     -3024.663      57.839       1.000
  10   12     -3034.709      57.172       1.000
  11   13     -3064.514      81.690       1.000
  12   15     -3069.357      56.379       0.413
  13   16     -3073.453      35.994       1.000
  14   17     -3074.789      61.042       1.000
  15   18     -3076.480      32.006       1.000
  16   19     -3077.264      33.352       1.000
  17   20     -3077.901      27.135       1.000
  18   21     -3079.274      28.941       1.000
  19   22     -3079.719      19.618       1.000
  20   23     -3080.012      15.111       1.000
  21   24     -3080.200      11.977       1.000
  22   25     -3080.515      16.895       1.000
  23   27     -3080.890      22.170       0.438
  24   28     -3081.317      21.275       1.000
  25   30     -3082.003      19.697       0.450
  26   31     -3082.471      16.121       1.000
  27   32     -3083.011      31.213       1.000
  28   33     -3083.604      25.011       1.000
  29   34     -3084.114      19.519       1.000
  30   35     -3084.135      27.245       1.000
  31   36     -3085.285      20.194       1.000
  32   37     -3086.035      19.265       1.000
  33   38     -3086.502       9.780       1.000
  34   40     -3086.796      12.108       0.110
  35   41     -3086.819      26.202       1.000
  36   42     -3086.924       8.558       1.000
  37   43     -3087.000       7.795       1.000
  38   44     -3087.268      10.003       1.000
  39   46     -3087.600      16.299       0.372
  40   47     -3087.712      13.399       1.000
  41   48     -3087.851      10.034       1.000
  42   49     -3087.904       9.722       1.000
  43   51     -3087.953      10.635       0.244
  44   52     -3088.028       8.318       1.000
  45   53     -3088.058       6.271       1.000
  46   56     -3088.130       8.483       1.965
  47   58     -3088.162      10.451       0.182
  48   60     -3088.200       8.512       0.301
  49   61     -3088.254      14.776       1.000
Final RAS Transform: 
0.893897 -0.00252118 0.0290661 -2.93424 
0.0330284 0.992163 -0.0314579 0.335778 
-0.0384803 0.0137428 1.03993 -0.909673 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2019.18   GNORM= 145.547
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2027.159      56.524       0.001
   2    4     -2029.856      53.659       1.000
   3    6     -2034.041      51.841       0.403
   4    8     -2046.113      32.803       5.000
   5    9     -2059.860      46.083       1.000
   6   10     -2070.450      62.132       1.000
   7   11     -2075.552     148.861       1.000
   8   12     -2082.972      27.735       1.000
   9   13     -2083.589      23.055       1.000
  10   14     -2086.120      22.979       1.000
  11   15     -2088.059      50.162       1.000
  12   16     -2092.480      53.953       1.000
  13   18     -2097.972      74.843       0.440
  14   19     -2105.697     111.780       1.000
  15   20     -2113.382      27.634       1.000
  16   21     -2115.012      15.541       1.000
  17   22     -2115.557      13.245       1.000
  18   23     -2117.309      17.181       1.000
  19   24     -2117.550      78.862       1.000
  20   25     -2121.787      54.032       1.000
  21   26     -2123.277      24.890       1.000
  22   27     -2124.393      21.770       1.000
  23   28     -2125.002      40.019       1.000
  24   29     -2126.835      13.928       1.000
  25   30     -2127.493      11.004       1.000
  26   31     -2128.419      28.735       1.000
  27   32     -2129.533      23.943       1.000
  28   34     -2130.025      27.380       0.215
  29   35     -2130.686      13.094       1.000
  30   36     -2131.096      11.630       1.000
  31   37     -2131.602      14.314       1.000
  32   38     -2132.560      14.046       1.000
  33   39     -2132.929      14.138       1.000
  34   40     -2133.290      16.746       1.000
  35   41     -2133.890      14.258       1.000
  36   42     -2134.079      37.870       1.000
  37   43     -2134.521       8.328       1.000
  38   44     -2134.551       5.418       1.000
  39   45     -2134.568       5.241       1.000
  40   47     -2134.658       8.072       0.210
  41   48     -2134.876      11.366       1.000
  42   49     -2134.986       8.373       1.000
  43   50     -2135.081      17.682       1.000
  44   51     -2135.195      15.855       1.000
  45   52     -2135.460      16.446       1.000
  46   53     -2135.702       5.938       1.000
  47   54     -2135.763       4.467       1.000
  48   56     -2135.866      11.252       0.265
  49   57     -2135.913      12.316       1.000
  50   58     -2136.005       5.692       1.000
  51   59     -2136.067       9.680       1.000
  52   60     -2136.127       4.571       1.000
  53   61     -2136.197       6.106       1.000
Final RAS Transform: 
0.965533 -0.0238209 -0.0594927 -1.59712 
0.0372118 0.987381 -0.0160851 0.282217 
-0.0212827 0.0152061 1.02565 -0.465027 
0 0 0 1 

Final RAS Transform: 
0.965533 -0.0238209 -0.0594927 -1.59712 
0.0372118 0.987381 -0.0160851 0.282217 
-0.0212827 0.0152061 1.02565 -0.465027 
0 0 0 1 


real	0m10.129s
user	0m17.620s
sys	0m0.524s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.253296
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0879
Level     0,  Iter     1:    Energy =   0.0951
Level     0,  Iter     2:    Energy =   0.1018
Level     0,  Iter     3:    Energy =   0.1077
Level     0,  Iter     4:    Energy =   0.1116
Level     0,  Iter     5:    Energy =   0.1139
Level     0,  Iter     6:    Energy =   0.1155
Level     0,  Iter     7:    Energy =   0.1168
Level     0,  Iter     8:    Energy =   0.1175
Level     0,  Iter     9:    Energy =   0.1184
Level     0,  Iter    10:    Energy =   0.1189
Level     0,  Iter    11:    Energy =   0.1197
Level     0,  Iter    12:    Energy =   0.1200
Level     0,  Iter    13:    Energy =   0.1206
Level     0,  Iter    14:    Energy =   0.1209
Level     0,  Iter    15:    Energy =   0.1213
Level     0,  Iter    16:    Energy =   0.1215
Level     0,  Iter    17:    Energy =   0.1219
Level     0,  Iter    18:    Energy =   0.1221
Level     0,  Iter    19:    Energy =   0.1224
Level     0,  Iter    20:    Energy =   0.1226
Level     0,  Iter    21:    Energy =   0.1229
Level     0,  Iter    22:    Energy =   0.1230
Level     0,  Iter    23:    Energy =   0.1233
Level     0,  Iter    24:    Energy =   0.1234
Level     0,  Iter    25:    Energy =   0.1237
Level     0,  Iter    26:    Energy =   0.1237
Level     0,  Iter    27:    Energy =   0.1239
Level     0,  Iter    28:    Energy =   0.1240
Level     0,  Iter    29:    Energy =   0.1242
Level     0,  Iter    30:    Energy =   0.1242
Level     0,  Iter    31:    Energy =   0.1244
Level     0,  Iter    32:    Energy =   0.1244
Level     0,  Iter    33:    Energy =   0.1245
Level     0,  Iter    34:    Energy =   0.1245
Level     0,  Iter    35:    Energy =   0.1247
Level     0,  Iter    36:    Energy =   0.1247
Level     0,  Iter    37:    Energy =   0.1248
Level     0,  Iter    38:    Energy =   0.1248
Level     0,  Iter    39:    Energy =   0.1249
Level     0,  Iter    40:    Energy =   0.1249
Level     0,  Iter    41:    Energy =   0.1250
Level     0,  Iter    42:    Energy =   0.1250
Level     0,  Iter    43:    Energy =   0.1251
Level     0,  Iter    44:    Energy =   0.1251
Level     0,  Iter    45:    Energy =   0.1251
Level     0,  Iter    46:    Energy =   0.1252
Level     0,  Iter    47:    Energy =   0.1253
Level     0,  Iter    48:    Energy =   0.1253
Level     0,  Iter    49:    Energy =   0.1253
Level     0,  Iter    50:    Energy =   0.1253
Level     0,  Iter    51:    Energy =   0.1253
Level     0,  Iter    52:    Energy =   0.1253
Level     0,  Iter    53:    Energy =   0.1253
Level     0,  Iter    54:    Energy =   0.1253
Level     0,  Iter    55:    Energy =   0.1254
Level     0,  Iter    56:    Energy =   0.1253
Level     0,  Iter    57:    Energy =   0.1254
Level     0,  Iter    58:    Energy =   0.1254
Level     0,  Iter    59:    Energy =   0.1255
END OF LEVEL     0    DetJac Range:   0.1872  to   2.2823 
  Avg. Gradient Time  : 0.0084s  34.83% 
  Avg. Gaussian Time  : 0.0119s  49.59% 
  Avg. Iteration Time : 0.0240s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0811
Level     1,  Iter     1:    Energy =   0.0863
Level     1,  Iter     2:    Energy =   0.0903
Level     1,  Iter     3:    Energy =   0.0946
Level     1,  Iter     4:    Energy =   0.0973
Level     1,  Iter     5:    Energy =   0.0999
Level     1,  Iter     6:    Energy =   0.1020
Level     1,  Iter     7:    Energy =   0.1036
Level     1,  Iter     8:    Energy =   0.1050
Level     1,  Iter     9:    Energy =   0.1064
Level     1,  Iter    10:    Energy =   0.1077
Level     1,  Iter    11:    Energy =   0.1087
Level     1,  Iter    12:    Energy =   0.1088
Level     1,  Iter    13:    Energy =   0.1094
Level     1,  Iter    14:    Energy =   0.1093
Level     1,  Iter    15:    Energy =   0.1099
Level     1,  Iter    16:    Energy =   0.1098
Level     1,  Iter    17:    Energy =   0.1104
Level     1,  Iter    18:    Energy =   0.1102
Level     1,  Iter    19:    Energy =   0.1108
Level     1,  Iter    20:    Energy =   0.1105
Level     1,  Iter    21:    Energy =   0.1111
Level     1,  Iter    22:    Energy =   0.1109
Level     1,  Iter    23:    Energy =   0.1114
Level     1,  Iter    24:    Energy =   0.1112
Level     1,  Iter    25:    Energy =   0.1117
Level     1,  Iter    26:    Energy =   0.1115
Level     1,  Iter    27:    Energy =   0.1119
Level     1,  Iter    28:    Energy =   0.1117
Level     1,  Iter    29:    Energy =   0.1121
Level     1,  Iter    30:    Energy =   0.1119
Level     1,  Iter    31:    Energy =   0.1123
Level     1,  Iter    32:    Energy =   0.1121
Level     1,  Iter    33:    Energy =   0.1124
Level     1,  Iter    34:    Energy =   0.1122
Level     1,  Iter    35:    Energy =   0.1126
Level     1,  Iter    36:    Energy =   0.1123
Level     1,  Iter    37:    Energy =   0.1127
Level     1,  Iter    38:    Energy =   0.1125
Level     1,  Iter    39:    Energy =   0.1128
Level     1,  Iter    40:    Energy =   0.1126
Level     1,  Iter    41:    Energy =   0.1130
Level     1,  Iter    42:    Energy =   0.1127
Level     1,  Iter    43:    Energy =   0.1130
Level     1,  Iter    44:    Energy =   0.1128
Level     1,  Iter    45:    Energy =   0.1132
Level     1,  Iter    46:    Energy =   0.1129
Level     1,  Iter    47:    Energy =   0.1133
Level     1,  Iter    48:    Energy =   0.1130
Level     1,  Iter    49:    Energy =   0.1133
Level     1,  Iter    50:    Energy =   0.1130
Level     1,  Iter    51:    Energy =   0.1135
Level     1,  Iter    52:    Energy =   0.1132
Level     1,  Iter    53:    Energy =   0.1135
Level     1,  Iter    54:    Energy =   0.1132
Level     1,  Iter    55:    Energy =   0.1137
Level     1,  Iter    56:    Energy =   0.1134
Level     1,  Iter    57:    Energy =   0.1137
Level     1,  Iter    58:    Energy =   0.1134
Level     1,  Iter    59:    Energy =   0.1138
END OF LEVEL     1    DetJac Range:   0.1498  to   4.2689 
  Avg. Gradient Time  : 0.0470s  32.64% 
  Avg. Gaussian Time  : 0.0783s  54.37% 
  Avg. Iteration Time : 0.1440s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0570
Level     2,  Iter     1:    Energy =   0.0597
Level     2,  Iter     2:    Energy =   0.0618
Level     2,  Iter     3:    Energy =   0.0638
Level     2,  Iter     4:    Energy =   0.0656
Level     2,  Iter     5:    Energy =   0.0672
Level     2,  Iter     6:    Energy =   0.0688
Level     2,  Iter     7:    Energy =   0.0702
Level     2,  Iter     8:    Energy =   0.0714
Level     2,  Iter     9:    Energy =   0.0724
Level     2,  Iter    10:    Energy =   0.0733
Level     2,  Iter    11:    Energy =   0.0741
Level     2,  Iter    12:    Energy =   0.0748
Level     2,  Iter    13:    Energy =   0.0756
Level     2,  Iter    14:    Energy =   0.0763
Level     2,  Iter    15:    Energy =   0.0770
Level     2,  Iter    16:    Energy =   0.0776
Level     2,  Iter    17:    Energy =   0.0782
Level     2,  Iter    18:    Energy =   0.0786
Level     2,  Iter    19:    Energy =   0.0788
END OF LEVEL     2    DetJac Range:   0.0811  to   5.1261 
  Avg. Gradient Time  : 0.3365s  30.92% 
  Avg. Gaussian Time  : 0.6021s  55.32% 
  Avg. Iteration Time : 1.0885s 

real	0m37.131s
user	1m7.900s
sys	0m1.496s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.217308 0.223077
+ echo 'CHUNK 0.217308 0.223077 1'
CHUNK 0.217308 0.223077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.217308 0.223077 1
====================================
         PROGRESS: 0.217308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.623432
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3708.41   GNORM= 305.698
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3747.689     182.527       0.001
   2    4     -3761.068     113.149       1.000
   3    5     -3768.543     102.307       1.000
   4    6     -3785.514     105.196       1.000
   5    7     -3820.226     136.757       1.000
   6    8     -3849.639     142.351       1.000
   7    9     -3859.303     190.119       1.000
   8   10     -3871.158      76.059       1.000
   9   11     -3874.949      59.946       1.000
  10   12     -3877.423      49.283       1.000
  11   13     -3883.282     117.421       1.000
  12   14     -3887.604     148.651       1.000
  13   15     -3891.704      33.232       1.000
  14   16     -3892.207      23.764       1.000
  15   17     -3892.639      60.101       1.000
  16   18     -3894.147      43.399       1.000
  17   19     -3894.474      31.772       1.000
  18   20     -3894.915      17.582       1.000
  19   21     -3895.226      12.696       1.000
  20   22     -3895.650      21.780       1.000
  21   23     -3895.984      16.630       1.000
  22   24     -3896.098      17.231       1.000
  23   25     -3896.274      18.399       1.000
  24   26     -3896.411      13.649       1.000
  25   27     -3896.663       7.787       1.000
  26   28     -3896.951       8.544       1.000
  27   30     -3897.022      10.769       0.409
  28   31     -3897.152       6.878       1.000
  29   32     -3897.224       8.283       1.000
  30   33     -3897.242      19.709       1.000
  31   34     -3897.307       5.480       1.000
  32   35     -3897.324       7.093       1.000
  33   37     -3897.349       4.856       0.450
  34   38     -3897.371       3.552       1.000
  35   39     -3897.379       3.928       1.000
  36   41     -3897.383       3.552       0.315
  37   42     -3897.385       4.062       1.000
  38   43     -3897.391       2.471       1.000
Final RAS Transform: 
0.949091 -0.000750547 0.0610543 -0.776448 
0.0171536 1.0186 0.0460868 0.840947 
-0.0186304 0.00259557 1.03576 -0.0195861 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2588.24   GNORM= 175.572
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2606.021      38.799       0.001
   2    4     -2606.553      40.381       1.000
   3    5     -2606.979      22.168       1.000
   4    6     -2607.703      21.326       1.000
   5    7     -2609.622      52.489       1.000
   6    8     -2611.807      68.050       1.000
   7    9     -2617.692      82.829       1.000
   8   11     -2618.675      71.569       0.228
   9   12     -2620.831      31.172       1.000
  10   13     -2622.045      30.103       1.000
  11   14     -2622.785      33.922       1.000
  12   15     -2624.943      33.803       1.000
  13   16     -2627.337      44.718       1.000
  14   17     -2628.809      42.000       1.000
  15   18     -2630.037      27.999       1.000
  16   19     -2631.598      37.412       1.000
  17   20     -2633.062      20.744       1.000
  18   21     -2634.797      13.938       1.000
  19   22     -2635.683      18.285       1.000
  20   23     -2636.642      20.250       1.000
  21   24     -2637.598      31.145       1.000
  22   25     -2638.217      24.352       1.000
  23   27     -2638.458      11.920       0.500
  24   28     -2638.674      10.592       1.000
  25   30     -2638.732       6.642       0.080
  26   31     -2638.815       6.103       1.000
  27   32     -2639.020      11.396       1.000
  28   33     -2639.630       5.583       1.000
  29   35     -2639.735      22.487       0.172
  30   36     -2639.974      14.604       1.000
  31   37     -2640.169      11.503       1.000
  32   38     -2640.249      12.514       1.000
  33   39     -2640.370       3.867       1.000
  34   40     -2640.383       2.650       1.000
  35   41     -2640.396       2.696       1.000
  36   43     -2640.415       1.867       0.245
  37   45     -2640.422       5.618       0.351
  38   46     -2640.442       3.290       1.000
  39   47     -2640.461       4.258       1.000
  40   49     -2640.469       4.051       0.415
  41   50     -2640.483       2.868       1.000
  42   51     -2640.487       2.297       1.000
  43   53     -2640.488       1.370       0.305
Final RAS Transform: 
0.979518 -0.00729133 0.018296 -0.11662 
0.0151634 1.01763 0.039401 0.813534 
0.00125579 0.00552578 1.02118 0.545423 
0 0 0 1 

Final RAS Transform: 
0.979518 -0.00729133 0.018296 -0.11662 
0.0151634 1.01763 0.039401 0.813534 
0.00125579 0.00552578 1.02118 0.545423 
0 0 0 1 


real	0m9.888s
user	0m17.220s
sys	0m0.448s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.631663
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1112
Level     0,  Iter     1:    Energy =   0.1188
Level     0,  Iter     2:    Energy =   0.1267
Level     0,  Iter     3:    Energy =   0.1329
Level     0,  Iter     4:    Energy =   0.1377
Level     0,  Iter     5:    Energy =   0.1413
Level     0,  Iter     6:    Energy =   0.1433
Level     0,  Iter     7:    Energy =   0.1442
Level     0,  Iter     8:    Energy =   0.1451
Level     0,  Iter     9:    Energy =   0.1457
Level     0,  Iter    10:    Energy =   0.1463
Level     0,  Iter    11:    Energy =   0.1469
Level     0,  Iter    12:    Energy =   0.1472
Level     0,  Iter    13:    Energy =   0.1476
Level     0,  Iter    14:    Energy =   0.1479
Level     0,  Iter    15:    Energy =   0.1482
Level     0,  Iter    16:    Energy =   0.1484
Level     0,  Iter    17:    Energy =   0.1486
Level     0,  Iter    18:    Energy =   0.1489
Level     0,  Iter    19:    Energy =   0.1491
Level     0,  Iter    20:    Energy =   0.1493
Level     0,  Iter    21:    Energy =   0.1496
Level     0,  Iter    22:    Energy =   0.1497
Level     0,  Iter    23:    Energy =   0.1499
Level     0,  Iter    24:    Energy =   0.1501
Level     0,  Iter    25:    Energy =   0.1502
Level     0,  Iter    26:    Energy =   0.1503
Level     0,  Iter    27:    Energy =   0.1503
Level     0,  Iter    28:    Energy =   0.1505
Level     0,  Iter    29:    Energy =   0.1504
Level     0,  Iter    30:    Energy =   0.1507
Level     0,  Iter    31:    Energy =   0.1506
Level     0,  Iter    32:    Energy =   0.1508
Level     0,  Iter    33:    Energy =   0.1507
Level     0,  Iter    34:    Energy =   0.1509
Level     0,  Iter    35:    Energy =   0.1508
Level     0,  Iter    36:    Energy =   0.1510
Level     0,  Iter    37:    Energy =   0.1509
Level     0,  Iter    38:    Energy =   0.1511
Level     0,  Iter    39:    Energy =   0.1511
Level     0,  Iter    40:    Energy =   0.1512
Level     0,  Iter    41:    Energy =   0.1509
Level     0,  Iter    42:    Energy =   0.1511
Level     0,  Iter    43:    Energy =   0.1513
Level     0,  Iter    44:    Energy =   0.1513
Level     0,  Iter    45:    Energy =   0.1511
Level     0,  Iter    46:    Energy =   0.1513
Level     0,  Iter    47:    Energy =   0.1514
Level     0,  Iter    48:    Energy =   0.1514
Level     0,  Iter    49:    Energy =   0.1512
Level     0,  Iter    50:    Energy =   0.1514
Level     0,  Iter    51:    Energy =   0.1514
Level     0,  Iter    52:    Energy =   0.1515
Level     0,  Iter    53:    Energy =   0.1513
Level     0,  Iter    54:    Energy =   0.1514
Level     0,  Iter    55:    Energy =   0.1516
Level     0,  Iter    56:    Energy =   0.1516
Level     0,  Iter    57:    Energy =   0.1512
Level     0,  Iter    58:    Energy =   0.1515
Level     0,  Iter    59:    Energy =   0.1516
END OF LEVEL     0    DetJac Range:   0.3434  to   2.1861 
  Avg. Gradient Time  : 0.0073s  34.75% 
  Avg. Gaussian Time  : 0.0105s  49.61% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1001
Level     1,  Iter     1:    Energy =   0.1059
Level     1,  Iter     2:    Energy =   0.1097
Level     1,  Iter     3:    Energy =   0.1126
Level     1,  Iter     4:    Energy =   0.1161
Level     1,  Iter     5:    Energy =   0.1186
Level     1,  Iter     6:    Energy =   0.1210
Level     1,  Iter     7:    Energy =   0.1235
Level     1,  Iter     8:    Energy =   0.1254
Level     1,  Iter     9:    Energy =   0.1263
Level     1,  Iter    10:    Energy =   0.1272
Level     1,  Iter    11:    Energy =   0.1280
Level     1,  Iter    12:    Energy =   0.1284
Level     1,  Iter    13:    Energy =   0.1289
Level     1,  Iter    14:    Energy =   0.1292
Level     1,  Iter    15:    Energy =   0.1298
Level     1,  Iter    16:    Energy =   0.1298
Level     1,  Iter    17:    Energy =   0.1301
Level     1,  Iter    18:    Energy =   0.1304
Level     1,  Iter    19:    Energy =   0.1301
Level     1,  Iter    20:    Energy =   0.1306
Level     1,  Iter    21:    Energy =   0.1305
Level     1,  Iter    22:    Energy =   0.1310
Level     1,  Iter    23:    Energy =   0.1306
Level     1,  Iter    24:    Energy =   0.1312
Level     1,  Iter    25:    Energy =   0.1312
Level     1,  Iter    26:    Energy =   0.1314
Level     1,  Iter    27:    Energy =   0.1310
Level     1,  Iter    28:    Energy =   0.1316
Level     1,  Iter    29:    Energy =   0.1315
Level     1,  Iter    30:    Energy =   0.1318
Level     1,  Iter    31:    Energy =   0.1314
Level     1,  Iter    32:    Energy =   0.1320
Level     1,  Iter    33:    Energy =   0.1319
Level     1,  Iter    34:    Energy =   0.1322
Level     1,  Iter    35:    Energy =   0.1317
Level     1,  Iter    36:    Energy =   0.1322
Level     1,  Iter    37:    Energy =   0.1323
Level     1,  Iter    38:    Energy =   0.1324
Level     1,  Iter    39:    Energy =   0.1319
Level     1,  Iter    40:    Energy =   0.1325
Level     1,  Iter    41:    Energy =   0.1323
Level     1,  Iter    42:    Energy =   0.1327
Level     1,  Iter    43:    Energy =   0.1321
Level     1,  Iter    44:    Energy =   0.1328
Level     1,  Iter    45:    Energy =   0.1327
Level     1,  Iter    46:    Energy =   0.1328
Level     1,  Iter    47:    Energy =   0.1323
Level     1,  Iter    48:    Energy =   0.1329
Level     1,  Iter    49:    Energy =   0.1327
Level     1,  Iter    50:    Energy =   0.1331
Level     1,  Iter    51:    Energy =   0.1325
Level     1,  Iter    52:    Energy =   0.1332
Level     1,  Iter    53:    Energy =   0.1331
Level     1,  Iter    54:    Energy =   0.1331
Level     1,  Iter    55:    Energy =   0.1326
Level     1,  Iter    56:    Energy =   0.1333
Level     1,  Iter    57:    Energy =   0.1330
Level     1,  Iter    58:    Energy =   0.1334
Level     1,  Iter    59:    Energy =   0.1328
END OF LEVEL     1    DetJac Range:   0.1048  to   3.5051 
  Avg. Gradient Time  : 0.0417s  32.84% 
  Avg. Gaussian Time  : 0.0691s  54.37% 
  Avg. Iteration Time : 0.1271s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0697
Level     2,  Iter     1:    Energy =   0.0723
Level     2,  Iter     2:    Energy =   0.0753
Level     2,  Iter     3:    Energy =   0.0776
Level     2,  Iter     4:    Energy =   0.0794
Level     2,  Iter     5:    Energy =   0.0810
Level     2,  Iter     6:    Energy =   0.0826
Level     2,  Iter     7:    Energy =   0.0839
Level     2,  Iter     8:    Energy =   0.0852
Level     2,  Iter     9:    Energy =   0.0864
Level     2,  Iter    10:    Energy =   0.0871
Level     2,  Iter    11:    Energy =   0.0876
Level     2,  Iter    12:    Energy =   0.0885
Level     2,  Iter    13:    Energy =   0.0891
Level     2,  Iter    14:    Energy =   0.0890
Level     2,  Iter    15:    Energy =   0.0896
Level     2,  Iter    16:    Energy =   0.0894
Level     2,  Iter    17:    Energy =   0.0900
Level     2,  Iter    18:    Energy =   0.0898
Level     2,  Iter    19:    Energy =   0.0902
END OF LEVEL     2    DetJac Range:   0.0983  to   4.8672 
  Avg. Gradient Time  : 0.2952s  30.96% 
  Avg. Gaussian Time  : 0.5287s  55.44% 
  Avg. Iteration Time : 0.9538s 

real	0m32.647s
user	0m59.424s
sys	0m1.428s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.223077 0.228846
+ echo 'CHUNK 0.223077 0.228846 1'
CHUNK 0.223077 0.228846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.223077 0.228846 1
====================================
         PROGRESS: 0.223077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.702135
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3283.93   GNORM= 272.317
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3334.792     173.098       0.001
   2    4     -3348.378     148.165       1.000
   3    5     -3358.458     154.118       1.000
   4    6     -3391.161      78.356       1.000
   5    7     -3399.417      67.612       1.000
   6    8     -3439.943     108.956       1.000
   7    9     -3463.578      98.823       1.000
   8   11     -3467.318      76.901       0.155
   9   12     -3471.836      48.984       1.000
  10   13     -3475.590      46.942       1.000
  11   14     -3488.978      72.984       1.000
  12   15     -3494.405     153.137       1.000
  13   16     -3500.535      35.347       1.000
  14   17     -3501.726      29.072       1.000
  15   18     -3502.711      84.768       1.000
  16   19     -3504.585      36.258       1.000
  17   20     -3505.630      30.050       1.000
  18   21     -3506.520      44.492       1.000
  19   22     -3507.734      44.787       1.000
  20   24     -3508.455      32.323       0.238
  21   25     -3509.147      20.796       1.000
  22   26     -3509.580      48.554       1.000
  23   27     -3510.179      21.794       1.000
  24   28     -3510.484      15.867       1.000
  25   29     -3510.955      28.883       1.000
  26   30     -3511.539      48.901       1.000
  27   31     -3511.954      30.731       1.000
  28   32     -3512.267      10.960       1.000
  29   33     -3512.342      16.842       1.000
  30   34     -3512.423      11.786       1.000
  31   36     -3512.561      14.915       0.499
  32   37     -3512.668      14.436       1.000
  33   38     -3512.904      11.218       1.000
  34   40     -3513.024      20.240       0.210
  35   41     -3513.248       9.255       1.000
  36   42     -3513.316      12.831       1.000
  37   43     -3513.449       8.670       1.000
  38   46     -3513.616      10.604       2.431
  39   47     -3513.653       4.901       1.000
  40   48     -3513.669       9.530       1.000
  41   49     -3513.691       6.797       1.000
  42   51     -3513.702       4.535       0.276
  43   53     -3513.743       9.882       5.000
  44   54     -3513.759       3.456       1.000
  45   55     -3513.760       6.999       1.000
  46   56     -3513.790       5.390       1.000
  47   58     -3513.830      10.053       0.350
  48   60     -3513.843       5.090       0.418
  49   61     -3513.853       5.206       1.000
Final RAS Transform: 
0.914908 -0.0267692 0.0328786 -2.23146 
0.0388158 1.0205 0.0589213 1.81402 
-0.0274528 -0.0144128 1.03311 -0.753121 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2177.53   GNORM= 209.466
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2195.246      86.639       0.001
   2    4     -2200.742      71.471       1.000
   3    5     -2202.593      77.761       1.000
   4    6     -2207.406      22.497       1.000
   5    7     -2208.345      20.852       1.000
   6    8     -2214.664      54.518       1.000
   7    9     -2221.163      56.413       1.000
   8   10     -2230.014      87.547       1.000
   9   12     -2233.952      49.402       0.410
  10   13     -2235.950      47.061       1.000
  11   14     -2239.609      42.188       1.000
  12   15     -2244.843      37.066       1.000
  13   16     -2249.035      26.062       1.000
  14   17     -2249.512      41.257       1.000
  15   18     -2250.977      12.389       1.000
  16   19     -2251.823      15.115       1.000
  17   20     -2252.559      34.562       1.000
  18   21     -2252.951      23.943       1.000
  19   22     -2253.187      12.509       1.000
  20   23     -2253.365      12.093       1.000
  21   24     -2253.601      14.972       1.000
  22   25     -2253.910      21.187       1.000
  23   26     -2254.209       7.346       1.000
  24   27     -2254.350       7.642       1.000
  25   28     -2254.503      10.487       1.000
  26   29     -2254.761      27.286       1.000
  27   30     -2255.118      16.518       1.000
  28   31     -2255.682      12.352       1.000
  29   32     -2255.874       8.439       1.000
  30   33     -2256.084       9.053       1.000
  31   34     -2256.188      18.960       1.000
  32   35     -2256.453       8.968       1.000
  33   36     -2256.522       5.645       1.000
  34   37     -2256.581       6.798       1.000
  35   38     -2256.805       6.090       1.000
  36   39     -2256.866       6.737       1.000
  37   40     -2256.932       5.199       1.000
  38   41     -2256.967      13.497       1.000
  39   42     -2257.021       6.303       1.000
  40   43     -2257.052       5.710       1.000
  41   44     -2257.098       8.993       1.000
  42   45     -2257.239       5.865       1.000
  43   46     -2257.360      10.290       1.000
  44   47     -2257.415      12.871       1.000
  45   49     -2257.445       7.285       0.146
  46   50     -2257.453       4.771       1.000
  47   51     -2257.468       3.068       1.000
  48   52     -2257.471       3.354       1.000
  49   54     -2257.475       3.563       0.461
  50   55     -2257.482       2.439       1.000
  51   56     -2257.496       4.497       1.000
  52   57     -2257.510       4.688       1.000
  53   59     -2257.540       8.191       0.416
  54   60     -2257.563       3.655       1.000
  55   61     -2257.570       3.543       1.000
Final RAS Transform: 
0.959513 -0.0321973 -0.00935477 -1.23332 
0.0181019 1.01326 0.032301 0.797467 
-0.0208031 -0.0138285 1.02822 -0.668297 
0 0 0 1 

Final RAS Transform: 
0.959513 -0.0321973 -0.00935477 -1.23332 
0.0181019 1.01326 0.032301 0.797467 
-0.0208031 -0.0138285 1.02822 -0.668297 
0 0 0 1 


real	0m10.347s
user	0m18.068s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.702054
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0984
Level     0,  Iter     1:    Energy =   0.1078
Level     0,  Iter     2:    Energy =   0.1164
Level     0,  Iter     3:    Energy =   0.1232
Level     0,  Iter     4:    Energy =   0.1273
Level     0,  Iter     5:    Energy =   0.1300
Level     0,  Iter     6:    Energy =   0.1309
Level     0,  Iter     7:    Energy =   0.1320
Level     0,  Iter     8:    Energy =   0.1326
Level     0,  Iter     9:    Energy =   0.1333
Level     0,  Iter    10:    Energy =   0.1338
Level     0,  Iter    11:    Energy =   0.1345
Level     0,  Iter    12:    Energy =   0.1349
Level     0,  Iter    13:    Energy =   0.1354
Level     0,  Iter    14:    Energy =   0.1358
Level     0,  Iter    15:    Energy =   0.1362
Level     0,  Iter    16:    Energy =   0.1365
Level     0,  Iter    17:    Energy =   0.1370
Level     0,  Iter    18:    Energy =   0.1373
Level     0,  Iter    19:    Energy =   0.1376
Level     0,  Iter    20:    Energy =   0.1379
Level     0,  Iter    21:    Energy =   0.1382
Level     0,  Iter    22:    Energy =   0.1385
Level     0,  Iter    23:    Energy =   0.1387
Level     0,  Iter    24:    Energy =   0.1389
Level     0,  Iter    25:    Energy =   0.1391
Level     0,  Iter    26:    Energy =   0.1392
Level     0,  Iter    27:    Energy =   0.1394
Level     0,  Iter    28:    Energy =   0.1395
Level     0,  Iter    29:    Energy =   0.1396
Level     0,  Iter    30:    Energy =   0.1396
Level     0,  Iter    31:    Energy =   0.1398
Level     0,  Iter    32:    Energy =   0.1398
Level     0,  Iter    33:    Energy =   0.1399
Level     0,  Iter    34:    Energy =   0.1399
Level     0,  Iter    35:    Energy =   0.1400
Level     0,  Iter    36:    Energy =   0.1401
Level     0,  Iter    37:    Energy =   0.1402
Level     0,  Iter    38:    Energy =   0.1402
Level     0,  Iter    39:    Energy =   0.1403
Level     0,  Iter    40:    Energy =   0.1403
Level     0,  Iter    41:    Energy =   0.1404
Level     0,  Iter    42:    Energy =   0.1404
Level     0,  Iter    43:    Energy =   0.1406
Level     0,  Iter    44:    Energy =   0.1406
Level     0,  Iter    45:    Energy =   0.1407
Level     0,  Iter    46:    Energy =   0.1407
Level     0,  Iter    47:    Energy =   0.1408
Level     0,  Iter    48:    Energy =   0.1408
Level     0,  Iter    49:    Energy =   0.1409
Level     0,  Iter    50:    Energy =   0.1409
Level     0,  Iter    51:    Energy =   0.1409
Level     0,  Iter    52:    Energy =   0.1409
Level     0,  Iter    53:    Energy =   0.1410
Level     0,  Iter    54:    Energy =   0.1409
Level     0,  Iter    55:    Energy =   0.1410
Level     0,  Iter    56:    Energy =   0.1410
Level     0,  Iter    57:    Energy =   0.1411
Level     0,  Iter    58:    Energy =   0.1410
Level     0,  Iter    59:    Energy =   0.1411
END OF LEVEL     0    DetJac Range:   0.4220  to   2.3202 
  Avg. Gradient Time  : 0.0073s  34.72% 
  Avg. Gaussian Time  : 0.0104s  49.60% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0890
Level     1,  Iter     1:    Energy =   0.0926
Level     1,  Iter     2:    Energy =   0.0968
Level     1,  Iter     3:    Energy =   0.1002
Level     1,  Iter     4:    Energy =   0.1038
Level     1,  Iter     5:    Energy =   0.1064
Level     1,  Iter     6:    Energy =   0.1089
Level     1,  Iter     7:    Energy =   0.1108
Level     1,  Iter     8:    Energy =   0.1126
Level     1,  Iter     9:    Energy =   0.1140
Level     1,  Iter    10:    Energy =   0.1156
Level     1,  Iter    11:    Energy =   0.1166
Level     1,  Iter    12:    Energy =   0.1174
Level     1,  Iter    13:    Energy =   0.1183
Level     1,  Iter    14:    Energy =   0.1194
Level     1,  Iter    15:    Energy =   0.1195
Level     1,  Iter    16:    Energy =   0.1196
Level     1,  Iter    17:    Energy =   0.1203
Level     1,  Iter    18:    Energy =   0.1202
Level     1,  Iter    19:    Energy =   0.1203
Level     1,  Iter    20:    Energy =   0.1204
Level     1,  Iter    21:    Energy =   0.1205
Level     1,  Iter    22:    Energy =   0.1206
Level     1,  Iter    23:    Energy =   0.1208
Level     1,  Iter    24:    Energy =   0.1208
Level     1,  Iter    25:    Energy =   0.1210
Level     1,  Iter    26:    Energy =   0.1210
Level     1,  Iter    27:    Energy =   0.1213
Level     1,  Iter    28:    Energy =   0.1211
Level     1,  Iter    29:    Energy =   0.1214
Level     1,  Iter    30:    Energy =   0.1213
Level     1,  Iter    31:    Energy =   0.1216
Level     1,  Iter    32:    Energy =   0.1215
Level     1,  Iter    33:    Energy =   0.1218
Level     1,  Iter    34:    Energy =   0.1216
Level     1,  Iter    35:    Energy =   0.1218
Level     1,  Iter    36:    Energy =   0.1217
Level     1,  Iter    37:    Energy =   0.1219
Level     1,  Iter    38:    Energy =   0.1218
Level     1,  Iter    39:    Energy =   0.1221
Level     1,  Iter    40:    Energy =   0.1219
Level     1,  Iter    41:    Energy =   0.1222
Level     1,  Iter    42:    Energy =   0.1220
Level     1,  Iter    43:    Energy =   0.1223
Level     1,  Iter    44:    Energy =   0.1220
Level     1,  Iter    45:    Energy =   0.1223
Level     1,  Iter    46:    Energy =   0.1221
Level     1,  Iter    47:    Energy =   0.1223
Level     1,  Iter    48:    Energy =   0.1221
Level     1,  Iter    49:    Energy =   0.1223
Level     1,  Iter    50:    Energy =   0.1221
Level     1,  Iter    51:    Energy =   0.1224
Level     1,  Iter    52:    Energy =   0.1222
Level     1,  Iter    53:    Energy =   0.1224
Level     1,  Iter    54:    Energy =   0.1222
Level     1,  Iter    55:    Energy =   0.1223
Level     1,  Iter    56:    Energy =   0.1222
Level     1,  Iter    57:    Energy =   0.1224
Level     1,  Iter    58:    Energy =   0.1223
Level     1,  Iter    59:    Energy =   0.1224
END OF LEVEL     1    DetJac Range:   0.1543  to   3.3068 
  Avg. Gradient Time  : 0.0417s  32.87% 
  Avg. Gaussian Time  : 0.0688s  54.31% 
  Avg. Iteration Time : 0.1267s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0619
Level     2,  Iter     1:    Energy =   0.0642
Level     2,  Iter     2:    Energy =   0.0670
Level     2,  Iter     3:    Energy =   0.0691
Level     2,  Iter     4:    Energy =   0.0709
Level     2,  Iter     5:    Energy =   0.0725
Level     2,  Iter     6:    Energy =   0.0738
Level     2,  Iter     7:    Energy =   0.0750
Level     2,  Iter     8:    Energy =   0.0760
Level     2,  Iter     9:    Energy =   0.0767
Level     2,  Iter    10:    Energy =   0.0774
Level     2,  Iter    11:    Energy =   0.0780
Level     2,  Iter    12:    Energy =   0.0785
Level     2,  Iter    13:    Energy =   0.0791
Level     2,  Iter    14:    Energy =   0.0798
Level     2,  Iter    15:    Energy =   0.0806
Level     2,  Iter    16:    Energy =   0.0812
Level     2,  Iter    17:    Energy =   0.0818
Level     2,  Iter    18:    Energy =   0.0821
Level     2,  Iter    19:    Energy =   0.0825
END OF LEVEL     2    DetJac Range:   0.0821  to   4.5359 
  Avg. Gradient Time  : 0.2978s  31.18% 
  Avg. Gaussian Time  : 0.5282s  55.29% 
  Avg. Iteration Time : 0.9553s 

real	0m32.667s
user	0m59.460s
sys	0m1.376s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.228846 0.234615
+ echo 'CHUNK 0.228846 0.234615 1'
CHUNK 0.228846 0.234615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.228846 0.234615 1
====================================
         PROGRESS: 0.228846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.572046
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3183.59   GNORM= 272.697
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3203.942     125.116       0.001
   2    4     -3210.590     105.261       1.000
   3    5     -3244.920     127.206       1.000
   4    6     -3277.144     110.566       1.000
   5    7     -3307.814     114.567       1.000
   6    8     -3341.766      83.961       1.000
   7   10     -3350.257     210.103       0.254
   8   11     -3363.951      83.025       1.000
   9   12     -3370.033      52.012       1.000
  10   13     -3375.898      69.148       1.000
  11   14     -3380.752      77.232       1.000
  12   15     -3397.442      84.358       1.000
  13   17     -3402.036      96.959       0.462
  14   18     -3405.466     110.845       1.000
  15   19     -3411.422      40.834       1.000
  16   20     -3413.292      35.755       1.000
  17   21     -3416.938      48.092       1.000
  18   22     -3419.699      58.116       1.000
  19   24     -3420.546      76.208       0.355
  20   25     -3421.867      18.247       1.000
  21   26     -3422.167      20.246       1.000
  22   27     -3422.420      31.198       1.000
  23   28     -3422.967      21.143       1.000
  24   29     -3423.324      15.135       1.000
  25   30     -3423.491      11.655       1.000
  26   31     -3423.669      13.145       1.000
  27   33     -3424.774      40.544       5.000
  28   34     -3424.883      22.999       1.000
  29   35     -3425.458      17.716       1.000
  30   36     -3425.537      13.261       1.000
  31   37     -3425.614       4.802       1.000
  32   38     -3425.665       7.552       1.000
  33   40     -3425.680       9.034       0.341
  34   41     -3425.699       6.177       1.000
  35   42     -3425.726       4.835       1.000
  36   43     -3425.738       6.182       1.000
  37   44     -3425.765       4.920       1.000
  38   45     -3425.772       3.298       1.000
  39   46     -3425.783       5.667       1.000
  40   47     -3425.787       4.311       1.000
  41   49     -3425.789       2.465       0.315
  42   50     -3425.790       5.104       1.000
  43   51     -3425.799       1.888       1.000
  44   52     -3425.802       1.381       1.000
  45   53     -3425.802       1.947       1.000
  46   55     -3425.804       1.205       0.171
Final RAS Transform: 
0.907025 -0.0235506 0.0326363 -3.06722 
-0.000618281 1.00144 0.0323677 -0.0107189 
-0.0104684 0.00380573 1.04688 0.072676 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2271.6   GNORM= 290.261
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2299.643      98.868       0.001
   2    4     -2305.151      66.718       1.000
   3    5     -2308.675      23.238       1.000
   4    7     -2311.583      29.671       5.000
   5    8     -2319.329      45.885       1.000
   6    9     -2326.125      47.898       1.000
   7   11     -2327.066      24.347       0.152
   8   12     -2327.848      24.362       1.000
   9   13     -2331.172      39.230       1.000
  10   14     -2334.465      19.095       1.000
  11   15     -2337.145      31.802       1.000
  12   16     -2339.916      43.788       1.000
  13   17     -2343.049      31.198       1.000
  14   18     -2347.776      35.942       1.000
  15   20     -2348.632      24.458       0.324
  16   21     -2349.035      19.747       1.000
  17   22     -2349.729      10.710       1.000
  18   23     -2350.010      15.943       1.000
  19   24     -2350.473       7.523       1.000
  20   25     -2350.969      16.082       1.000
  21   26     -2351.615      14.188       1.000
  22   27     -2352.468      13.198       1.000
  23   29     -2352.937      32.476       0.225
  24   30     -2353.629      22.346       1.000
  25   31     -2353.838      10.756       1.000
  26   32     -2353.925       8.189       1.000
  27   33     -2353.957       7.985       1.000
  28   34     -2354.214      11.797       1.000
  29   35     -2354.478      24.957       1.000
  30   36     -2354.717      10.994       1.000
  31   37     -2354.822       9.469       1.000
  32   38     -2354.921       2.775       1.000
  33   39     -2354.956       2.776       1.000
  34   40     -2354.981       8.707       1.000
  35   41     -2355.018       4.154       1.000
  36   42     -2355.058       4.644       1.000
  37   43     -2355.080       9.896       1.000
  38   44     -2355.114       3.302       1.000
  39   45     -2355.130       5.032       1.000
  40   46     -2355.153       7.409       1.000
  41   47     -2355.196       4.724       1.000
  42   48     -2355.228       4.331       1.000
  43   49     -2355.242       6.559       1.000
  44   50     -2355.267       4.693       1.000
  45   51     -2355.336       3.226       1.000
  46   52     -2355.378      12.573       1.000
  47   53     -2355.479       4.903       1.000
  48   55     -2355.491       5.499       0.437
  49   56     -2355.505       2.362       1.000
  50   57     -2355.524       4.439       1.000
  51   58     -2355.544       2.936       1.000
  52   59     -2355.600       5.019       1.000
  53   60     -2355.684       8.529       1.000
Final RAS Transform: 
0.962807 -0.0159984 0.026301 -1.0765 
0.0270402 0.992368 0.016545 0.531718 
-0.00754158 0.00746276 1.04161 0.0990861 
0 0 0 1 

Final RAS Transform: 
0.962807 -0.0159984 0.026301 -1.0765 
0.0270402 0.992368 0.016545 0.531718 
-0.00754158 0.00746276 1.04161 0.0990861 
0 0 0 1 


real	0m10.251s
user	0m17.900s
sys	0m0.484s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.578189
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0980
Level     0,  Iter     1:    Energy =   0.1047
Level     0,  Iter     2:    Energy =   0.1118
Level     0,  Iter     3:    Energy =   0.1174
Level     0,  Iter     4:    Energy =   0.1210
Level     0,  Iter     5:    Energy =   0.1223
Level     0,  Iter     6:    Energy =   0.1240
Level     0,  Iter     7:    Energy =   0.1248
Level     0,  Iter     8:    Energy =   0.1261
Level     0,  Iter     9:    Energy =   0.1266
Level     0,  Iter    10:    Energy =   0.1275
Level     0,  Iter    11:    Energy =   0.1278
Level     0,  Iter    12:    Energy =   0.1286
Level     0,  Iter    13:    Energy =   0.1288
Level     0,  Iter    14:    Energy =   0.1295
Level     0,  Iter    15:    Energy =   0.1296
Level     0,  Iter    16:    Energy =   0.1303
Level     0,  Iter    17:    Energy =   0.1303
Level     0,  Iter    18:    Energy =   0.1308
Level     0,  Iter    19:    Energy =   0.1308
Level     0,  Iter    20:    Energy =   0.1312
Level     0,  Iter    21:    Energy =   0.1312
Level     0,  Iter    22:    Energy =   0.1315
Level     0,  Iter    23:    Energy =   0.1315
Level     0,  Iter    24:    Energy =   0.1317
Level     0,  Iter    25:    Energy =   0.1317
Level     0,  Iter    26:    Energy =   0.1320
Level     0,  Iter    27:    Energy =   0.1319
Level     0,  Iter    28:    Energy =   0.1321
Level     0,  Iter    29:    Energy =   0.1321
Level     0,  Iter    30:    Energy =   0.1323
Level     0,  Iter    31:    Energy =   0.1322
Level     0,  Iter    32:    Energy =   0.1326
Level     0,  Iter    33:    Energy =   0.1324
Level     0,  Iter    34:    Energy =   0.1327
Level     0,  Iter    35:    Energy =   0.1325
Level     0,  Iter    36:    Energy =   0.1328
Level     0,  Iter    37:    Energy =   0.1326
Level     0,  Iter    38:    Energy =   0.1328
Level     0,  Iter    39:    Energy =   0.1327
Level     0,  Iter    40:    Energy =   0.1329
Level     0,  Iter    41:    Energy =   0.1328
Level     0,  Iter    42:    Energy =   0.1330
Level     0,  Iter    43:    Energy =   0.1328
Level     0,  Iter    44:    Energy =   0.1331
Level     0,  Iter    45:    Energy =   0.1329
Level     0,  Iter    46:    Energy =   0.1331
Level     0,  Iter    47:    Energy =   0.1330
Level     0,  Iter    48:    Energy =   0.1332
Level     0,  Iter    49:    Energy =   0.1330
Level     0,  Iter    50:    Energy =   0.1333
Level     0,  Iter    51:    Energy =   0.1331
Level     0,  Iter    52:    Energy =   0.1334
Level     0,  Iter    53:    Energy =   0.1332
Level     0,  Iter    54:    Energy =   0.1334
Level     0,  Iter    55:    Energy =   0.1332
Level     0,  Iter    56:    Energy =   0.1335
Level     0,  Iter    57:    Energy =   0.1333
Level     0,  Iter    58:    Energy =   0.1336
Level     0,  Iter    59:    Energy =   0.1334
END OF LEVEL     0    DetJac Range:   0.2985  to   2.1058 
  Avg. Gradient Time  : 0.0073s  34.87% 
  Avg. Gaussian Time  : 0.0104s  49.42% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0889
Level     1,  Iter     1:    Energy =   0.0937
Level     1,  Iter     2:    Energy =   0.0973
Level     1,  Iter     3:    Energy =   0.1006
Level     1,  Iter     4:    Energy =   0.1039
Level     1,  Iter     5:    Energy =   0.1063
Level     1,  Iter     6:    Energy =   0.1081
Level     1,  Iter     7:    Energy =   0.1097
Level     1,  Iter     8:    Energy =   0.1112
Level     1,  Iter     9:    Energy =   0.1128
Level     1,  Iter    10:    Energy =   0.1144
Level     1,  Iter    11:    Energy =   0.1146
Level     1,  Iter    12:    Energy =   0.1156
Level     1,  Iter    13:    Energy =   0.1156
Level     1,  Iter    14:    Energy =   0.1163
Level     1,  Iter    15:    Energy =   0.1164
Level     1,  Iter    16:    Energy =   0.1169
Level     1,  Iter    17:    Energy =   0.1169
Level     1,  Iter    18:    Energy =   0.1172
Level     1,  Iter    19:    Energy =   0.1176
Level     1,  Iter    20:    Energy =   0.1174
Level     1,  Iter    21:    Energy =   0.1180
Level     1,  Iter    22:    Energy =   0.1178
Level     1,  Iter    23:    Energy =   0.1184
Level     1,  Iter    24:    Energy =   0.1181
Level     1,  Iter    25:    Energy =   0.1188
Level     1,  Iter    26:    Energy =   0.1185
Level     1,  Iter    27:    Energy =   0.1190
Level     1,  Iter    28:    Energy =   0.1187
Level     1,  Iter    29:    Energy =   0.1193
Level     1,  Iter    30:    Energy =   0.1189
Level     1,  Iter    31:    Energy =   0.1195
Level     1,  Iter    32:    Energy =   0.1192
Level     1,  Iter    33:    Energy =   0.1197
Level     1,  Iter    34:    Energy =   0.1194
Level     1,  Iter    35:    Energy =   0.1199
Level     1,  Iter    36:    Energy =   0.1196
Level     1,  Iter    37:    Energy =   0.1201
Level     1,  Iter    38:    Energy =   0.1198
Level     1,  Iter    39:    Energy =   0.1203
Level     1,  Iter    40:    Energy =   0.1199
Level     1,  Iter    41:    Energy =   0.1204
Level     1,  Iter    42:    Energy =   0.1201
Level     1,  Iter    43:    Energy =   0.1206
Level     1,  Iter    44:    Energy =   0.1203
Level     1,  Iter    45:    Energy =   0.1207
Level     1,  Iter    46:    Energy =   0.1205
Level     1,  Iter    47:    Energy =   0.1208
Level     1,  Iter    48:    Energy =   0.1205
Level     1,  Iter    49:    Energy =   0.1209
Level     1,  Iter    50:    Energy =   0.1207
Level     1,  Iter    51:    Energy =   0.1210
Level     1,  Iter    52:    Energy =   0.1207
Level     1,  Iter    53:    Energy =   0.1211
Level     1,  Iter    54:    Energy =   0.1208
Level     1,  Iter    55:    Energy =   0.1212
Level     1,  Iter    56:    Energy =   0.1209
Level     1,  Iter    57:    Energy =   0.1213
Level     1,  Iter    58:    Energy =   0.1210
Level     1,  Iter    59:    Energy =   0.1214
END OF LEVEL     1    DetJac Range:   0.1803  to   4.0392 
  Avg. Gradient Time  : 0.0418s  32.92% 
  Avg. Gaussian Time  : 0.0689s  54.29% 
  Avg. Iteration Time : 0.1270s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0630
Level     2,  Iter     1:    Energy =   0.0653
Level     2,  Iter     2:    Energy =   0.0677
Level     2,  Iter     3:    Energy =   0.0696
Level     2,  Iter     4:    Energy =   0.0712
Level     2,  Iter     5:    Energy =   0.0728
Level     2,  Iter     6:    Energy =   0.0743
Level     2,  Iter     7:    Energy =   0.0754
Level     2,  Iter     8:    Energy =   0.0763
Level     2,  Iter     9:    Energy =   0.0770
Level     2,  Iter    10:    Energy =   0.0776
Level     2,  Iter    11:    Energy =   0.0783
Level     2,  Iter    12:    Energy =   0.0789
Level     2,  Iter    13:    Energy =   0.0795
Level     2,  Iter    14:    Energy =   0.0802
Level     2,  Iter    15:    Energy =   0.0808
Level     2,  Iter    16:    Energy =   0.0815
Level     2,  Iter    17:    Energy =   0.0821
Level     2,  Iter    18:    Energy =   0.0825
Level     2,  Iter    19:    Energy =   0.0828
END OF LEVEL     2    DetJac Range:   0.0847  to   5.1301 
  Avg. Gradient Time  : 0.2945s  30.84% 
  Avg. Gaussian Time  : 0.5309s  55.59% 
  Avg. Iteration Time : 0.9550s 

real	0m32.661s
user	0m59.488s
sys	0m1.388s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.234615 0.240385
+ echo 'CHUNK 0.234615 0.240385 1'
CHUNK 0.234615 0.240385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.234615 0.240385 1
====================================
         PROGRESS: 0.234615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.41663
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2634.89   GNORM= 325.488
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2670.978     353.307       0.003
   2    3     -2743.685      92.903       1.000
   3    4     -2750.369      87.281       1.000
   4    5     -2762.163     122.661       1.000
   5    6     -2794.953     255.787       1.000
   6    7     -2815.323     134.549       1.000
   7    8     -2826.011      49.043       1.000
   8    9     -2828.237      60.768       1.000
   9   10     -2833.442      52.121       1.000
  10   11     -2837.246      98.145       1.000
  11   12     -2843.684      42.055       1.000
  12   13     -2847.232      52.368       1.000
  13   14     -2850.364      52.881       1.000
  14   15     -2853.727      44.543       1.000
  15   16     -2856.107      34.645       1.000
  16   17     -2856.574      21.927       1.000
  17   18     -2857.227      23.815       1.000
  18   19     -2857.658      25.719       1.000
  19   20     -2858.351      41.699       1.000
  20   21     -2859.172      18.057       1.000
  21   22     -2859.565      14.044       1.000
  22   23     -2859.990      10.515       1.000
  23   24     -2860.220      25.890       1.000
  24   26     -2860.337      16.678       0.395
  25   27     -2860.397      15.679       1.000
  26   28     -2860.498       7.075       1.000
  27   29     -2860.555       6.116       1.000
  28   30     -2860.623      10.735       1.000
  29   31     -2860.707      11.349       1.000
  30   32     -2860.758       5.791       1.000
  31   33     -2860.772       3.398       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.985705 -0.0377102 -0.00167276 -0.749616 
0.0455128 1.025 0.07818 1.46734 
0.014784 -0.00209252 0.999065 0.869232 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2134.26   GNORM= 84.9855
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2143.329      79.677       0.003
   2    4     -2150.881      64.103       1.000
   3    6     -2163.146     127.201       0.501
   4    7     -2168.703      61.828       1.000
   5    8     -2171.113      23.389       1.000
   6    9     -2171.870      22.780       1.000
   7   10     -2174.137      35.008       1.000
   8   11     -2177.637      63.375       1.000
   9   12     -2180.937      43.743       1.000
  10   13     -2182.997      42.323       1.000
  11   15     -2183.707      18.280       0.278
  12   16     -2183.961      11.600       1.000
  13   17     -2184.229      11.024       1.000
  14   18     -2186.755      13.859       1.000
  15   19     -2189.137      31.930       1.000
  16   20     -2189.811      13.653       1.000
  17   21     -2189.913      33.763       1.000
  18   22     -2190.287      11.580       1.000
  19   23     -2190.438      10.047       1.000
  20   24     -2190.523       6.163       1.000
  21   25     -2190.596       7.867       1.000
  22   26     -2190.674       6.502       1.000
  23   27     -2190.757       9.343       1.000
  24   28     -2191.071       9.397       1.000
  25   30     -2191.153      12.864       0.444
  26   31     -2191.271       8.722       1.000
  27   32     -2191.479       7.705       1.000
  28   33     -2191.891      31.807       1.000
  29   34     -2192.597      18.704       1.000
  30   35     -2193.076      16.485       1.000
  31   37     -2193.333      15.020       0.468
  32   38     -2193.477       6.252       1.000
  33   39     -2193.537       6.183       1.000
  34   40     -2193.553       3.063       1.000
  35   41     -2193.583       7.099       1.000
  36   42     -2193.598       4.044       1.000
  37   43     -2193.613       2.333       1.000
  38   44     -2193.616       2.823       1.000
  39   45     -2193.622       4.421       1.000
  40   46     -2193.636       2.505       1.000
  41   47     -2193.659       4.283       1.000
  42   48     -2193.680       4.298       1.000
  43   49     -2193.708       3.810       1.000
  44   50     -2193.720       3.207       1.000
  45   51     -2193.735       2.110       1.000
  46   53     -2193.742       2.539       0.385
Final RAS Transform: 
0.980295 -0.0240154 -0.0228802 -0.782824 
0.034527 1.00523 0.0455001 0.7999 
-0.00323944 0.0009686 1.01251 0.320787 
0 0 0 1 

Final RAS Transform: 
0.980295 -0.0240154 -0.0228802 -0.782824 
0.034527 1.00523 0.0455001 0.7999 
-0.00323944 0.0009686 1.01251 0.320787 
0 0 0 1 


real	0m10.102s
user	0m17.668s
sys	0m0.408s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.4244
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0824
Level     0,  Iter     1:    Energy =   0.0893
Level     0,  Iter     2:    Energy =   0.0954
Level     0,  Iter     3:    Energy =   0.0999
Level     0,  Iter     4:    Energy =   0.1026
Level     0,  Iter     5:    Energy =   0.1040
Level     0,  Iter     6:    Energy =   0.1056
Level     0,  Iter     7:    Energy =   0.1064
Level     0,  Iter     8:    Energy =   0.1076
Level     0,  Iter     9:    Energy =   0.1081
Level     0,  Iter    10:    Energy =   0.1090
Level     0,  Iter    11:    Energy =   0.1093
Level     0,  Iter    12:    Energy =   0.1099
Level     0,  Iter    13:    Energy =   0.1101
Level     0,  Iter    14:    Energy =   0.1106
Level     0,  Iter    15:    Energy =   0.1107
Level     0,  Iter    16:    Energy =   0.1112
Level     0,  Iter    17:    Energy =   0.1112
Level     0,  Iter    18:    Energy =   0.1116
Level     0,  Iter    19:    Energy =   0.1117
Level     0,  Iter    20:    Energy =   0.1120
Level     0,  Iter    21:    Energy =   0.1120
Level     0,  Iter    22:    Energy =   0.1123
Level     0,  Iter    23:    Energy =   0.1123
Level     0,  Iter    24:    Energy =   0.1126
Level     0,  Iter    25:    Energy =   0.1126
Level     0,  Iter    26:    Energy =   0.1129
Level     0,  Iter    27:    Energy =   0.1129
Level     0,  Iter    28:    Energy =   0.1132
Level     0,  Iter    29:    Energy =   0.1132
Level     0,  Iter    30:    Energy =   0.1135
Level     0,  Iter    31:    Energy =   0.1135
Level     0,  Iter    32:    Energy =   0.1137
Level     0,  Iter    33:    Energy =   0.1137
Level     0,  Iter    34:    Energy =   0.1139
Level     0,  Iter    35:    Energy =   0.1138
Level     0,  Iter    36:    Energy =   0.1142
Level     0,  Iter    37:    Energy =   0.1142
Level     0,  Iter    38:    Energy =   0.1142
Level     0,  Iter    39:    Energy =   0.1141
Level     0,  Iter    40:    Energy =   0.1143
Level     0,  Iter    41:    Energy =   0.1143
Level     0,  Iter    42:    Energy =   0.1145
Level     0,  Iter    43:    Energy =   0.1144
Level     0,  Iter    44:    Energy =   0.1146
Level     0,  Iter    45:    Energy =   0.1146
Level     0,  Iter    46:    Energy =   0.1146
Level     0,  Iter    47:    Energy =   0.1145
Level     0,  Iter    48:    Energy =   0.1147
Level     0,  Iter    49:    Energy =   0.1146
Level     0,  Iter    50:    Energy =   0.1149
Level     0,  Iter    51:    Energy =   0.1147
Level     0,  Iter    52:    Energy =   0.1149
Level     0,  Iter    53:    Energy =   0.1148
Level     0,  Iter    54:    Energy =   0.1150
Level     0,  Iter    55:    Energy =   0.1149
Level     0,  Iter    56:    Energy =   0.1150
Level     0,  Iter    57:    Energy =   0.1149
Level     0,  Iter    58:    Energy =   0.1150
Level     0,  Iter    59:    Energy =   0.1149
END OF LEVEL     0    DetJac Range:   0.1689  to   2.1945 
  Avg. Gradient Time  : 0.0073s  34.59% 
  Avg. Gaussian Time  : 0.0106s  49.93% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0810
Level     1,  Iter     1:    Energy =   0.0847
Level     1,  Iter     2:    Energy =   0.0892
Level     1,  Iter     3:    Energy =   0.0929
Level     1,  Iter     4:    Energy =   0.0950
Level     1,  Iter     5:    Energy =   0.0969
Level     1,  Iter     6:    Energy =   0.0989
Level     1,  Iter     7:    Energy =   0.1005
Level     1,  Iter     8:    Energy =   0.1017
Level     1,  Iter     9:    Energy =   0.1023
Level     1,  Iter    10:    Energy =   0.1027
Level     1,  Iter    11:    Energy =   0.1031
Level     1,  Iter    12:    Energy =   0.1045
Level     1,  Iter    13:    Energy =   0.1064
Level     1,  Iter    14:    Energy =   0.1079
Level     1,  Iter    15:    Energy =   0.1091
Level     1,  Iter    16:    Energy =   0.1102
Level     1,  Iter    17:    Energy =   0.1110
Level     1,  Iter    18:    Energy =   0.1115
Level     1,  Iter    19:    Energy =   0.1116
Level     1,  Iter    20:    Energy =   0.1114
Level     1,  Iter    21:    Energy =   0.1119
Level     1,  Iter    22:    Energy =   0.1116
Level     1,  Iter    23:    Energy =   0.1125
Level     1,  Iter    24:    Energy =   0.1121
Level     1,  Iter    25:    Energy =   0.1130
Level     1,  Iter    26:    Energy =   0.1126
Level     1,  Iter    27:    Energy =   0.1134
Level     1,  Iter    28:    Energy =   0.1129
Level     1,  Iter    29:    Energy =   0.1138
Level     1,  Iter    30:    Energy =   0.1133
Level     1,  Iter    31:    Energy =   0.1141
Level     1,  Iter    32:    Energy =   0.1136
Level     1,  Iter    33:    Energy =   0.1144
Level     1,  Iter    34:    Energy =   0.1139
Level     1,  Iter    35:    Energy =   0.1147
Level     1,  Iter    36:    Energy =   0.1142
Level     1,  Iter    37:    Energy =   0.1149
Level     1,  Iter    38:    Energy =   0.1144
Level     1,  Iter    39:    Energy =   0.1151
Level     1,  Iter    40:    Energy =   0.1146
Level     1,  Iter    41:    Energy =   0.1152
Level     1,  Iter    42:    Energy =   0.1147
Level     1,  Iter    43:    Energy =   0.1154
Level     1,  Iter    44:    Energy =   0.1149
Level     1,  Iter    45:    Energy =   0.1155
Level     1,  Iter    46:    Energy =   0.1149
Level     1,  Iter    47:    Energy =   0.1156
Level     1,  Iter    48:    Energy =   0.1151
Level     1,  Iter    49:    Energy =   0.1158
Level     1,  Iter    50:    Energy =   0.1152
Level     1,  Iter    51:    Energy =   0.1159
Level     1,  Iter    52:    Energy =   0.1154
Level     1,  Iter    53:    Energy =   0.1160
Level     1,  Iter    54:    Energy =   0.1154
Level     1,  Iter    55:    Energy =   0.1161
Level     1,  Iter    56:    Energy =   0.1156
Level     1,  Iter    57:    Energy =   0.1162
Level     1,  Iter    58:    Energy =   0.1157
Level     1,  Iter    59:    Energy =   0.1163
END OF LEVEL     1    DetJac Range:   0.0859  to   3.9878 
  Avg. Gradient Time  : 0.0418s  32.86% 
  Avg. Gaussian Time  : 0.0691s  54.36% 
  Avg. Iteration Time : 0.1272s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0618
Level     2,  Iter     1:    Energy =   0.0646
Level     2,  Iter     2:    Energy =   0.0672
Level     2,  Iter     3:    Energy =   0.0691
Level     2,  Iter     4:    Energy =   0.0706
Level     2,  Iter     5:    Energy =   0.0720
Level     2,  Iter     6:    Energy =   0.0731
Level     2,  Iter     7:    Energy =   0.0740
Level     2,  Iter     8:    Energy =   0.0749
Level     2,  Iter     9:    Energy =   0.0756
Level     2,  Iter    10:    Energy =   0.0763
Level     2,  Iter    11:    Energy =   0.0770
Level     2,  Iter    12:    Energy =   0.0776
Level     2,  Iter    13:    Energy =   0.0783
Level     2,  Iter    14:    Energy =   0.0789
Level     2,  Iter    15:    Energy =   0.0794
Level     2,  Iter    16:    Energy =   0.0800
Level     2,  Iter    17:    Energy =   0.0805
Level     2,  Iter    18:    Energy =   0.0810
Level     2,  Iter    19:    Energy =   0.0814
END OF LEVEL     2    DetJac Range:   0.0596  to   4.4186 
  Avg. Gradient Time  : 0.2933s  30.92% 
  Avg. Gaussian Time  : 0.5264s  55.49% 
  Avg. Iteration Time : 0.9487s 

real	0m32.554s
user	0m59.280s
sys	0m1.424s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.240385 0.246154
+ echo 'CHUNK 0.240385 0.246154 1'
CHUNK 0.240385 0.246154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.240385 0.246154 1
====================================
         PROGRESS: 0.240385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.418438
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2296.29   GNORM= 129.746
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2312.177     121.161       0.002
   2    4     -2324.575      76.048       1.000
   3    5     -2338.412      79.582       1.000
   4    6     -2363.548      98.689       1.000
   5    7     -2385.106      82.593       1.000
   6    8     -2409.638      80.897       1.000
   7    9     -2418.380     141.760       1.000
   8   10     -2427.208      56.819       1.000
   9   11     -2431.655      35.698       1.000
  10   12     -2438.498      39.860       1.000
  11   13     -2448.665      38.542       1.000
  12   15     -2451.517      42.864       0.473
  13   16     -2453.143      17.321       1.000
  14   17     -2453.714      13.569       1.000
  15   18     -2454.977      17.142       1.000
  16   19     -2455.443       7.157       1.000
  17   20     -2455.698       7.402       1.000
  18   21     -2455.860       9.712       1.000
  19   22     -2456.025      10.785       1.000
  20   23     -2456.184      17.071       1.000
  21   24     -2456.326      15.868       1.000
  22   26     -2456.469      14.375       0.433
  23   27     -2456.563       8.443       1.000
  24   29     -2456.688       5.346       0.323
  25   30     -2456.789       4.805       1.000
  26   32     -2456.937       5.002       0.453
  27   34     -2457.040       7.017       0.156
  28   36     -2457.051      12.471       0.156
  29   38     -2457.078       4.080       0.442
  30   39     -2457.099       2.325       1.000
  31   40     -2457.112       2.197       1.000
  32   41     -2457.118       3.336       1.000
  33   43     -2457.137       4.677       5.000
  34   44     -2457.162       2.870       1.000
  35   45     -2457.166       5.622       1.000
  36   46     -2457.173       3.141       1.000
  37   48     -2457.184       2.500       0.479
  38   50     -2457.185       1.969       0.338
  39   52     -2457.189       2.944       0.383
  40   53     -2457.191       2.323       1.000
  41   54     -2457.192       1.664       1.000
  42   55     -2457.194       1.283       1.000
  43   57     -2457.199       1.392       0.389
  44   59     -2457.202       2.824       0.188
Final RAS Transform: 
0.924706 -0.0472397 0.0383881 -3.02143 
0.0197209 0.996116 0.0325606 0.431704 
0.00757013 -0.018753 1.03287 0.127475 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1727.04   GNORM= 70.853
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1733.748      58.404       0.003
   2    4     -1736.474      47.029       1.000
   3    6     -1745.474      37.818       5.000
   4    7     -1772.620      91.465       1.000
   5    8     -1781.338      62.275       1.000
   6    9     -1785.840      18.913       1.000
   7   10     -1786.948      36.535       1.000
   8   11     -1788.184      42.616       1.000
   9   12     -1801.448      84.353       1.000
  10   13     -1809.951      83.955       1.000
  11   14     -1814.496      43.485       1.000
  12   15     -1817.051      26.457       1.000
  13   17     -1817.687      20.234       0.278
  14   18     -1818.172      15.605       1.000
  15   19     -1819.021      22.036       1.000
  16   20     -1820.307      25.301       1.000
  17   21     -1821.990      48.858       1.000
  18   22     -1823.346      22.255       1.000
  19   23     -1823.931      10.273       1.000
  20   24     -1824.181      10.764       1.000
  21   25     -1824.495      33.689       1.000
  22   26     -1825.165      23.560       1.000
  23   27     -1826.760      24.732       1.000
  24   28     -1827.486      17.982       1.000
  25   30     -1828.822       9.482       0.434
  26   31     -1829.456      22.603       1.000
  27   33     -1829.682      13.625       0.375
  28   34     -1829.803      10.701       1.000
  29   35     -1830.261       9.229       1.000
  30   36     -1832.100      38.310       1.000
  31   37     -1833.925      57.684       1.000
  32   38     -1837.033      27.475       1.000
  33   39     -1838.391      50.826       1.000
  34   40     -1839.061      53.923       1.000
  35   41     -1839.880      12.153       1.000
  36   42     -1840.002      11.643       1.000
  37   43     -1840.969      17.907       1.000
  38   44     -1842.530      19.150       1.000
  39   46     -1843.558      38.247       0.337
  40   47     -1845.453      25.849       1.000
  41   48     -1846.605      57.002       1.000
  42   49     -1848.246      22.288       1.000
  43   50     -1848.518       9.769       1.000
  44   51     -1848.638      11.569       1.000
  45   52     -1848.736       8.438       1.000
  46   53     -1848.944       8.021       1.000
  47   54     -1849.074      12.112       1.000
  48   55     -1849.254       8.178       1.000
  49   56     -1849.448      11.741       1.000
  50   58     -1849.572       5.829       0.318
  51   59     -1849.614       4.890       1.000
  52   60     -1849.677       4.678       1.000
  53   61     -1850.020       8.455       1.000
Final RAS Transform: 
0.972598 -0.0357464 -0.0174116 -1.41897 
0.033488 0.952995 -0.065674 -0.0919852 
0.00709466 0.0101372 1.07592 0.809001 
0 0 0 1 

Final RAS Transform: 
0.972598 -0.0357464 -0.0174116 -1.41897 
0.033488 0.952995 -0.065674 -0.0919852 
0.00709466 0.0101372 1.07592 0.809001 
0 0 0 1 


real	0m10.274s
user	0m17.852s
sys	0m0.520s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.426061
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0699
Level     0,  Iter     1:    Energy =   0.0763
Level     0,  Iter     2:    Energy =   0.0830
Level     0,  Iter     3:    Energy =   0.0880
Level     0,  Iter     4:    Energy =   0.0922
Level     0,  Iter     5:    Energy =   0.0956
Level     0,  Iter     6:    Energy =   0.0975
Level     0,  Iter     7:    Energy =   0.0987
Level     0,  Iter     8:    Energy =   0.0997
Level     0,  Iter     9:    Energy =   0.1005
Level     0,  Iter    10:    Energy =   0.1011
Level     0,  Iter    11:    Energy =   0.1016
Level     0,  Iter    12:    Energy =   0.1024
Level     0,  Iter    13:    Energy =   0.1025
Level     0,  Iter    14:    Energy =   0.1034
Level     0,  Iter    15:    Energy =   0.1034
Level     0,  Iter    16:    Energy =   0.1041
Level     0,  Iter    17:    Energy =   0.1041
Level     0,  Iter    18:    Energy =   0.1047
Level     0,  Iter    19:    Energy =   0.1046
Level     0,  Iter    20:    Energy =   0.1052
Level     0,  Iter    21:    Energy =   0.1050
Level     0,  Iter    22:    Energy =   0.1056
Level     0,  Iter    23:    Energy =   0.1055
Level     0,  Iter    24:    Energy =   0.1060
Level     0,  Iter    25:    Energy =   0.1058
Level     0,  Iter    26:    Energy =   0.1063
Level     0,  Iter    27:    Energy =   0.1060
Level     0,  Iter    28:    Energy =   0.1065
Level     0,  Iter    29:    Energy =   0.1063
Level     0,  Iter    30:    Energy =   0.1067
Level     0,  Iter    31:    Energy =   0.1065
Level     0,  Iter    32:    Energy =   0.1069
Level     0,  Iter    33:    Energy =   0.1067
Level     0,  Iter    34:    Energy =   0.1071
Level     0,  Iter    35:    Energy =   0.1069
Level     0,  Iter    36:    Energy =   0.1072
Level     0,  Iter    37:    Energy =   0.1070
Level     0,  Iter    38:    Energy =   0.1073
Level     0,  Iter    39:    Energy =   0.1072
Level     0,  Iter    40:    Energy =   0.1075
Level     0,  Iter    41:    Energy =   0.1073
Level     0,  Iter    42:    Energy =   0.1076
Level     0,  Iter    43:    Energy =   0.1074
Level     0,  Iter    44:    Energy =   0.1077
Level     0,  Iter    45:    Energy =   0.1075
Level     0,  Iter    46:    Energy =   0.1078
Level     0,  Iter    47:    Energy =   0.1076
Level     0,  Iter    48:    Energy =   0.1079
Level     0,  Iter    49:    Energy =   0.1076
Level     0,  Iter    50:    Energy =   0.1079
Level     0,  Iter    51:    Energy =   0.1077
Level     0,  Iter    52:    Energy =   0.1080
Level     0,  Iter    53:    Energy =   0.1078
Level     0,  Iter    54:    Energy =   0.1082
Level     0,  Iter    55:    Energy =   0.1079
Level     0,  Iter    56:    Energy =   0.1083
Level     0,  Iter    57:    Energy =   0.1080
Level     0,  Iter    58:    Energy =   0.1084
Level     0,  Iter    59:    Energy =   0.1081
END OF LEVEL     0    DetJac Range:   0.2062  to   2.9710 
  Avg. Gradient Time  : 0.0073s  34.58% 
  Avg. Gaussian Time  : 0.0106s  49.96% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0729
Level     1,  Iter     1:    Energy =   0.0773
Level     1,  Iter     2:    Energy =   0.0809
Level     1,  Iter     3:    Energy =   0.0838
Level     1,  Iter     4:    Energy =   0.0861
Level     1,  Iter     5:    Energy =   0.0881
Level     1,  Iter     6:    Energy =   0.0903
Level     1,  Iter     7:    Energy =   0.0925
Level     1,  Iter     8:    Energy =   0.0941
Level     1,  Iter     9:    Energy =   0.0953
Level     1,  Iter    10:    Energy =   0.0964
Level     1,  Iter    11:    Energy =   0.0973
Level     1,  Iter    12:    Energy =   0.0980
Level     1,  Iter    13:    Energy =   0.0987
Level     1,  Iter    14:    Energy =   0.0993
Level     1,  Iter    15:    Energy =   0.0999
Level     1,  Iter    16:    Energy =   0.1004
Level     1,  Iter    17:    Energy =   0.1009
Level     1,  Iter    18:    Energy =   0.1014
Level     1,  Iter    19:    Energy =   0.1016
Level     1,  Iter    20:    Energy =   0.1014
Level     1,  Iter    21:    Energy =   0.1018
Level     1,  Iter    22:    Energy =   0.1019
Level     1,  Iter    23:    Energy =   0.1022
Level     1,  Iter    24:    Energy =   0.1020
Level     1,  Iter    25:    Energy =   0.1024
Level     1,  Iter    26:    Energy =   0.1024
Level     1,  Iter    27:    Energy =   0.1027
Level     1,  Iter    28:    Energy =   0.1025
Level     1,  Iter    29:    Energy =   0.1028
Level     1,  Iter    30:    Energy =   0.1029
Level     1,  Iter    31:    Energy =   0.1032
Level     1,  Iter    32:    Energy =   0.1029
Level     1,  Iter    33:    Energy =   0.1033
Level     1,  Iter    34:    Energy =   0.1033
Level     1,  Iter    35:    Energy =   0.1036
Level     1,  Iter    36:    Energy =   0.1033
Level     1,  Iter    37:    Energy =   0.1037
Level     1,  Iter    38:    Energy =   0.1036
Level     1,  Iter    39:    Energy =   0.1039
Level     1,  Iter    40:    Energy =   0.1036
Level     1,  Iter    41:    Energy =   0.1040
Level     1,  Iter    42:    Energy =   0.1039
Level     1,  Iter    43:    Energy =   0.1040
Level     1,  Iter    44:    Energy =   0.1039
Level     1,  Iter    45:    Energy =   0.1041
Level     1,  Iter    46:    Energy =   0.1040
Level     1,  Iter    47:    Energy =   0.1041
Level     1,  Iter    48:    Energy =   0.1042
Level     1,  Iter    49:    Energy =   0.1042
Level     1,  Iter    50:    Energy =   0.1044
Level     1,  Iter    51:    Energy =   0.1043
Level     1,  Iter    52:    Energy =   0.1044
Level     1,  Iter    53:    Energy =   0.1043
Level     1,  Iter    54:    Energy =   0.1044
Level     1,  Iter    55:    Energy =   0.1044
Level     1,  Iter    56:    Energy =   0.1046
Level     1,  Iter    57:    Energy =   0.1045
Level     1,  Iter    58:    Energy =   0.1047
Level     1,  Iter    59:    Energy =   0.1045
END OF LEVEL     1    DetJac Range:   0.0789  to   4.5035 
  Avg. Gradient Time  : 0.0418s  32.97% 
  Avg. Gaussian Time  : 0.0688s  54.24% 
  Avg. Iteration Time : 0.1268s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0551
Level     2,  Iter     1:    Energy =   0.0572
Level     2,  Iter     2:    Energy =   0.0591
Level     2,  Iter     3:    Energy =   0.0606
Level     2,  Iter     4:    Energy =   0.0619
Level     2,  Iter     5:    Energy =   0.0631
Level     2,  Iter     6:    Energy =   0.0641
Level     2,  Iter     7:    Energy =   0.0651
Level     2,  Iter     8:    Energy =   0.0659
Level     2,  Iter     9:    Energy =   0.0666
Level     2,  Iter    10:    Energy =   0.0672
Level     2,  Iter    11:    Energy =   0.0678
Level     2,  Iter    12:    Energy =   0.0683
Level     2,  Iter    13:    Energy =   0.0688
Level     2,  Iter    14:    Energy =   0.0694
Level     2,  Iter    15:    Energy =   0.0698
Level     2,  Iter    16:    Energy =   0.0703
Level     2,  Iter    17:    Energy =   0.0707
Level     2,  Iter    18:    Energy =   0.0711
Level     2,  Iter    19:    Energy =   0.0715
END OF LEVEL     2    DetJac Range:   0.0830  to   4.6229 
  Avg. Gradient Time  : 0.2941s  30.98% 
  Avg. Gaussian Time  : 0.5264s  55.44% 
  Avg. Iteration Time : 0.9494s 

real	0m32.592s
user	0m59.292s
sys	0m1.432s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.246154 0.251923
+ echo 'CHUNK 0.246154 0.251923 1'
CHUNK 0.246154 0.251923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.246154 0.251923 1
====================================
         PROGRESS: 0.246154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.747982
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3905.39   GNORM= 545.696
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3978.793     312.340       0.000
   2    4     -4010.219     191.907       1.000
   3    5     -4030.366      96.300       1.000
   4    6     -4039.272     116.089       1.000
   5    7     -4072.862     142.725       1.000
   6    9     -4093.227     259.483       0.479
   7   10     -4109.885     107.093       1.000
   8   11     -4117.126      68.143       1.000
   9   12     -4122.865      97.591       1.000
  10   13     -4132.503     106.446       1.000
  11   15     -4140.549     176.913       0.359
  12   16     -4151.325      55.427       1.000
  13   17     -4152.743      35.953       1.000
  14   18     -4153.968      38.536       1.000
  15   19     -4155.708      44.511       1.000
  16   20     -4156.937      76.634       1.000
  17   21     -4158.646      21.484       1.000
  18   22     -4158.955      21.631       1.000
  19   23     -4159.754      17.966       1.000
  20   24     -4160.363      53.516       1.000
  21   25     -4160.780      36.247       1.000
  22   26     -4161.144      12.708       1.000
  23   27     -4161.253      11.999       1.000
  24   28     -4161.382      16.787       1.000
  25   29     -4161.502      14.877       1.000
  26   30     -4161.640      11.054       1.000
  27   31     -4161.741      13.002       1.000
  28   32     -4161.894      12.494       1.000
  29   33     -4161.981      13.528       1.000
  30   34     -4161.997       9.365       1.000
  31   35     -4162.021       7.378       1.000
  32   37     -4162.039       5.124       0.153
  33   38     -4162.042       3.630       1.000
  34   39     -4162.076       8.297       1.000
  35   40     -4162.097       7.024       1.000
  36   42     -4162.114       5.906       0.454
  37   43     -4162.128       4.919       1.000
  38   45     -4162.132       6.702       0.394
  39   46     -4162.141       4.688       1.000
  40   47     -4162.145       6.229       1.000
  41   49     -4162.149       2.205       0.362
  42   51     -4162.151       2.247       0.071
  43   52     -4162.153       2.635       1.000
Final RAS Transform: 
0.943154 -0.0169058 0.00208823 -1.55381 
0.0164121 1.0099 0.0368381 0.653505 
-0.021084 0.0065961 1.01905 0.0916082 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2857.91   GNORM= 172.862
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2870.257      91.410       0.001
   2    4     -2873.109      61.795       1.000
   3    5     -2874.187      34.896       1.000
   4    6     -2875.721      36.999       1.000
   5    7     -2878.987      60.285       1.000
   6    8     -2881.172      47.307       1.000
   7   10     -2882.022      58.583       0.423
   8   11     -2883.168      22.994       1.000
   9   12     -2883.984      34.544       1.000
  10   13     -2885.531      65.394       1.000
  11   14     -2887.732      84.830       1.000
  12   15     -2891.192      69.054       1.000
  13   17     -2892.346      25.936       0.478
  14   18     -2892.802      17.443       1.000
  15   19     -2893.444      26.620       1.000
  16   20     -2894.656      52.712       1.000
  17   21     -2896.155      54.276       1.000
  18   22     -2898.930      31.247       1.000
  19   24     -2899.409      40.465       0.456
  20   25     -2899.923      10.893       1.000
  21   26     -2900.017       8.624       1.000
  22   28     -2900.133      12.535       0.368
  23   29     -2900.266      12.076       1.000
  24   30     -2900.399       8.526       1.000
  25   31     -2900.489       7.186       1.000
  26   32     -2900.518      16.420       1.000
  27   33     -2900.596      13.277       1.000
  28   34     -2900.999      21.939       1.000
  29   35     -2901.232      21.112       1.000
  30   37     -2901.409      24.960       0.114
  31   38     -2901.591       6.647       1.000
  32   39     -2901.635       4.907       1.000
  33   40     -2901.639       2.621       1.000
  34   41     -2901.648       6.059       1.000
  35   42     -2901.655       4.296       1.000
  36   43     -2901.656       4.590       1.000
  37   44     -2901.684       4.587       1.000
  38   45     -2901.694       9.987       1.000
  39   46     -2901.737       5.476       1.000
  40   48     -2901.748       2.721       0.353
  41   49     -2901.753       3.004       1.000
  42   50     -2901.766       2.417       1.000
  43   51     -2901.786       3.552       1.000
  44   52     -2901.822       4.796       1.000
  45   53     -2901.828       9.394       1.000
  46   54     -2901.842       2.142       1.000
  47   55     -2901.842       2.277       1.000
  48   56     -2901.849       1.409       1.000
  49   58     -2901.850       4.614       0.264
  50   59     -2901.861       3.873       1.000
  51   60     -2901.875       5.647       1.000
Final RAS Transform: 
0.964234 -0.0108138 -0.00743095 -0.722103 
0.033679 1.0111 0.0288238 1.03404 
-0.010275 0.00430387 1.01762 0.373294 
0 0 0 1 

Final RAS Transform: 
0.964234 -0.0108138 -0.00743095 -0.722103 
0.033679 1.0111 0.0288238 1.03404 
-0.010275 0.00430387 1.01762 0.373294 
0 0 0 1 


real	0m10.333s
user	0m17.944s
sys	0m0.524s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.746787
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1228
Level     0,  Iter     1:    Energy =   0.1302
Level     0,  Iter     2:    Energy =   0.1363
Level     0,  Iter     3:    Energy =   0.1413
Level     0,  Iter     4:    Energy =   0.1448
Level     0,  Iter     5:    Energy =   0.1462
Level     0,  Iter     6:    Energy =   0.1479
Level     0,  Iter     7:    Energy =   0.1485
Level     0,  Iter     8:    Energy =   0.1496
Level     0,  Iter     9:    Energy =   0.1498
Level     0,  Iter    10:    Energy =   0.1504
Level     0,  Iter    11:    Energy =   0.1506
Level     0,  Iter    12:    Energy =   0.1510
Level     0,  Iter    13:    Energy =   0.1511
Level     0,  Iter    14:    Energy =   0.1514
Level     0,  Iter    15:    Energy =   0.1514
Level     0,  Iter    16:    Energy =   0.1516
Level     0,  Iter    17:    Energy =   0.1517
Level     0,  Iter    18:    Energy =   0.1518
Level     0,  Iter    19:    Energy =   0.1519
Level     0,  Iter    20:    Energy =   0.1520
Level     0,  Iter    21:    Energy =   0.1520
Level     0,  Iter    22:    Energy =   0.1522
Level     0,  Iter    23:    Energy =   0.1521
Level     0,  Iter    24:    Energy =   0.1523
Level     0,  Iter    25:    Energy =   0.1522
Level     0,  Iter    26:    Energy =   0.1524
Level     0,  Iter    27:    Energy =   0.1523
Level     0,  Iter    28:    Energy =   0.1524
Level     0,  Iter    29:    Energy =   0.1524
Level     0,  Iter    30:    Energy =   0.1525
Level     0,  Iter    31:    Energy =   0.1525
Level     0,  Iter    32:    Energy =   0.1526
Level     0,  Iter    33:    Energy =   0.1525
Level     0,  Iter    34:    Energy =   0.1526
Level     0,  Iter    35:    Energy =   0.1526
Level     0,  Iter    36:    Energy =   0.1527
Level     0,  Iter    37:    Energy =   0.1526
Level     0,  Iter    38:    Energy =   0.1527
Level     0,  Iter    39:    Energy =   0.1526
Level     0,  Iter    40:    Energy =   0.1528
Level     0,  Iter    41:    Energy =   0.1527
Level     0,  Iter    42:    Energy =   0.1528
Level     0,  Iter    43:    Energy =   0.1527
Level     0,  Iter    44:    Energy =   0.1528
Level     0,  Iter    45:    Energy =   0.1528
Level     0,  Iter    46:    Energy =   0.1529
Level     0,  Iter    47:    Energy =   0.1528
Level     0,  Iter    48:    Energy =   0.1529
Level     0,  Iter    49:    Energy =   0.1529
Level     0,  Iter    50:    Energy =   0.1530
Level     0,  Iter    51:    Energy =   0.1529
Level     0,  Iter    52:    Energy =   0.1531
Level     0,  Iter    53:    Energy =   0.1530
Level     0,  Iter    54:    Energy =   0.1531
Level     0,  Iter    55:    Energy =   0.1530
Level     0,  Iter    56:    Energy =   0.1531
Level     0,  Iter    57:    Energy =   0.1531
Level     0,  Iter    58:    Energy =   0.1532
Level     0,  Iter    59:    Energy =   0.1531
END OF LEVEL     0    DetJac Range:   0.3689  to   1.9704 
  Avg. Gradient Time  : 0.0073s  34.54% 
  Avg. Gaussian Time  : 0.0106s  50.00% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1009
Level     1,  Iter     1:    Energy =   0.1068
Level     1,  Iter     2:    Energy =   0.1112
Level     1,  Iter     3:    Energy =   0.1153
Level     1,  Iter     4:    Energy =   0.1186
Level     1,  Iter     5:    Energy =   0.1207
Level     1,  Iter     6:    Energy =   0.1227
Level     1,  Iter     7:    Energy =   0.1247
Level     1,  Iter     8:    Energy =   0.1264
Level     1,  Iter     9:    Energy =   0.1270
Level     1,  Iter    10:    Energy =   0.1271
Level     1,  Iter    11:    Energy =   0.1278
Level     1,  Iter    12:    Energy =   0.1278
Level     1,  Iter    13:    Energy =   0.1283
Level     1,  Iter    14:    Energy =   0.1283
Level     1,  Iter    15:    Energy =   0.1288
Level     1,  Iter    16:    Energy =   0.1288
Level     1,  Iter    17:    Energy =   0.1291
Level     1,  Iter    18:    Energy =   0.1291
Level     1,  Iter    19:    Energy =   0.1295
Level     1,  Iter    20:    Energy =   0.1294
Level     1,  Iter    21:    Energy =   0.1297
Level     1,  Iter    22:    Energy =   0.1297
Level     1,  Iter    23:    Energy =   0.1300
Level     1,  Iter    24:    Energy =   0.1299
Level     1,  Iter    25:    Energy =   0.1302
Level     1,  Iter    26:    Energy =   0.1301
Level     1,  Iter    27:    Energy =   0.1304
Level     1,  Iter    28:    Energy =   0.1302
Level     1,  Iter    29:    Energy =   0.1306
Level     1,  Iter    30:    Energy =   0.1304
Level     1,  Iter    31:    Energy =   0.1307
Level     1,  Iter    32:    Energy =   0.1305
Level     1,  Iter    33:    Energy =   0.1308
Level     1,  Iter    34:    Energy =   0.1307
Level     1,  Iter    35:    Energy =   0.1309
Level     1,  Iter    36:    Energy =   0.1308
Level     1,  Iter    37:    Energy =   0.1310
Level     1,  Iter    38:    Energy =   0.1308
Level     1,  Iter    39:    Energy =   0.1311
Level     1,  Iter    40:    Energy =   0.1309
Level     1,  Iter    41:    Energy =   0.1311
Level     1,  Iter    42:    Energy =   0.1310
Level     1,  Iter    43:    Energy =   0.1312
Level     1,  Iter    44:    Energy =   0.1311
Level     1,  Iter    45:    Energy =   0.1312
Level     1,  Iter    46:    Energy =   0.1311
Level     1,  Iter    47:    Energy =   0.1313
Level     1,  Iter    48:    Energy =   0.1312
Level     1,  Iter    49:    Energy =   0.1313
Level     1,  Iter    50:    Energy =   0.1312
Level     1,  Iter    51:    Energy =   0.1314
Level     1,  Iter    52:    Energy =   0.1313
Level     1,  Iter    53:    Energy =   0.1314
Level     1,  Iter    54:    Energy =   0.1313
Level     1,  Iter    55:    Energy =   0.1314
Level     1,  Iter    56:    Energy =   0.1313
Level     1,  Iter    57:    Energy =   0.1315
Level     1,  Iter    58:    Energy =   0.1314
Level     1,  Iter    59:    Energy =   0.1315
END OF LEVEL     1    DetJac Range:   0.2508  to   3.7447 
  Avg. Gradient Time  : 0.0422s  33.16% 
  Avg. Gaussian Time  : 0.0688s  54.12% 
  Avg. Iteration Time : 0.1271s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0649
Level     2,  Iter     1:    Energy =   0.0682
Level     2,  Iter     2:    Energy =   0.0711
Level     2,  Iter     3:    Energy =   0.0735
Level     2,  Iter     4:    Energy =   0.0756
Level     2,  Iter     5:    Energy =   0.0776
Level     2,  Iter     6:    Energy =   0.0795
Level     2,  Iter     7:    Energy =   0.0812
Level     2,  Iter     8:    Energy =   0.0827
Level     2,  Iter     9:    Energy =   0.0840
Level     2,  Iter    10:    Energy =   0.0852
Level     2,  Iter    11:    Energy =   0.0861
Level     2,  Iter    12:    Energy =   0.0867
Level     2,  Iter    13:    Energy =   0.0873
Level     2,  Iter    14:    Energy =   0.0878
Level     2,  Iter    15:    Energy =   0.0884
Level     2,  Iter    16:    Energy =   0.0888
Level     2,  Iter    17:    Energy =   0.0892
Level     2,  Iter    18:    Energy =   0.0897
Level     2,  Iter    19:    Energy =   0.0901
END OF LEVEL     2    DetJac Range:   0.1090  to   5.5036 
  Avg. Gradient Time  : 0.2917s  30.76% 
  Avg. Gaussian Time  : 0.5274s  55.63% 
  Avg. Iteration Time : 0.9480s 

real	0m32.544s
user	0m59.168s
sys	0m1.452s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.251923 0.257692
+ echo 'CHUNK 0.251923 0.257692 1'
CHUNK 0.251923 0.257692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.251923 0.257692 1
====================================
         PROGRESS: 0.251923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.461945
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3442   GNORM= 473.118
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3588.167     279.791       0.002
   2    3     -3620.115     226.768       1.000
   3    4     -3629.578     100.953       1.000
   4    5     -3632.852      70.595       1.000
   5    6     -3640.858      86.265       1.000
   6    7     -3654.231     146.570       1.000
   7    8     -3665.614     134.743       1.000
   8    9     -3678.125     104.354       1.000
   9   10     -3683.674      53.655       1.000
  10   11     -3686.288      54.041       1.000
  11   12     -3692.334      69.970       1.000
  12   13     -3695.805      42.006       1.000
  13   14     -3699.599      58.796       1.000
  14   15     -3702.894      95.505       1.000
  15   16     -3708.559      41.748       1.000
  16   17     -3710.783      39.183       1.000
  17   18     -3711.667      45.341       1.000
  18   19     -3712.794      16.863       1.000
  19   20     -3713.093      11.934       1.000
  20   21     -3713.597      22.254       1.000
  21   22     -3714.542      30.585       1.000
  22   23     -3715.708      37.684       1.000
  23   24     -3716.449      30.216       1.000
  24   26     -3716.743      20.635       0.496
  25   27     -3717.078      20.099       1.000
  26   28     -3717.291      18.700       1.000
  27   29     -3717.714      14.737       1.000
  28   30     -3717.981      14.975       1.000
  29   31     -3718.609       6.365       1.000
  30   32     -3718.721       7.343       1.000
  31   33     -3718.748       3.871       1.000
  32   36     -3718.790       9.801       1.813
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.967249 -0.00839793 0.0124279 -0.597873 
0.0605067 1.02361 0.0286786 1.58633 
-0.0304785 -0.00819743 1.0268 -0.4419 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2411.92   GNORM= 60.3524
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2413.700      43.446       0.001
   2    4     -2415.049      47.781       1.000
   3    5     -2427.811      95.018       1.000
   4    6     -2434.483      80.826       1.000
   5    7     -2436.031      51.569       1.000
   6    8     -2438.152      16.965       1.000
   7    9     -2438.692      18.814       1.000
   8   10     -2439.259      19.255       1.000
   9   12     -2439.803      38.934       0.521
  10   13     -2440.632      22.745       1.000
  11   14     -2440.994      10.435       1.000
  12   15     -2441.042       7.884       1.000
  13   16     -2441.186      23.042       1.000
  14   17     -2441.346      17.979       1.000
  15   18     -2441.923      11.695       1.000
  16   19     -2441.967      23.110       1.000
  17   20     -2442.121       6.940       1.000
  18   21     -2442.177       6.212       1.000
  19   22     -2442.281      10.314       1.000
  20   23     -2442.426      13.274       1.000
  21   24     -2442.438      14.582       1.000
  22   25     -2442.540       4.388       1.000
  23   26     -2442.569       2.959       1.000
  24   28     -2442.569       3.482       0.415
  25   29     -2442.582       5.500       1.000
  26   30     -2442.610       4.096       1.000
  27   31     -2442.647       4.507       1.000
  28   32     -2442.654       4.540       1.000
  29   33     -2442.661       3.161       1.000
  30   34     -2442.673       2.938       1.000
  31   35     -2442.687       3.835       1.000
  32   37     -2442.692       1.898       0.450
  33   38     -2442.694       0.907       1.000
  34   39     -2442.695       1.332       1.000
  35   40     -2442.702       1.014       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.97912 0.00232693 0.000669823 -0.122429 
0.063338 1.01685 0.0306375 1.62276 
-0.0286217 -0.00193839 1.03928 -0.174644 
0 0 0 1 

Final RAS Transform: 
0.97912 0.00232693 0.000669823 -0.122429 
0.063338 1.01685 0.0306375 1.62276 
-0.0286217 -0.00193839 1.03928 -0.174644 
0 0 0 1 


real	0m10.056s
user	0m17.548s
sys	0m0.444s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.465814
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1067
Level     0,  Iter     1:    Energy =   0.1158
Level     0,  Iter     2:    Energy =   0.1227
Level     0,  Iter     3:    Energy =   0.1280
Level     0,  Iter     4:    Energy =   0.1312
Level     0,  Iter     5:    Energy =   0.1336
Level     0,  Iter     6:    Energy =   0.1353
Level     0,  Iter     7:    Energy =   0.1362
Level     0,  Iter     8:    Energy =   0.1372
Level     0,  Iter     9:    Energy =   0.1378
Level     0,  Iter    10:    Energy =   0.1386
Level     0,  Iter    11:    Energy =   0.1390
Level     0,  Iter    12:    Energy =   0.1397
Level     0,  Iter    13:    Energy =   0.1400
Level     0,  Iter    14:    Energy =   0.1407
Level     0,  Iter    15:    Energy =   0.1408
Level     0,  Iter    16:    Energy =   0.1413
Level     0,  Iter    17:    Energy =   0.1414
Level     0,  Iter    18:    Energy =   0.1419
Level     0,  Iter    19:    Energy =   0.1419
Level     0,  Iter    20:    Energy =   0.1424
Level     0,  Iter    21:    Energy =   0.1423
Level     0,  Iter    22:    Energy =   0.1428
Level     0,  Iter    23:    Energy =   0.1428
Level     0,  Iter    24:    Energy =   0.1432
Level     0,  Iter    25:    Energy =   0.1431
Level     0,  Iter    26:    Energy =   0.1434
Level     0,  Iter    27:    Energy =   0.1433
Level     0,  Iter    28:    Energy =   0.1435
Level     0,  Iter    29:    Energy =   0.1435
Level     0,  Iter    30:    Energy =   0.1437
Level     0,  Iter    31:    Energy =   0.1437
Level     0,  Iter    32:    Energy =   0.1438
Level     0,  Iter    33:    Energy =   0.1438
Level     0,  Iter    34:    Energy =   0.1440
Level     0,  Iter    35:    Energy =   0.1440
Level     0,  Iter    36:    Energy =   0.1440
Level     0,  Iter    37:    Energy =   0.1440
Level     0,  Iter    38:    Energy =   0.1442
Level     0,  Iter    39:    Energy =   0.1442
Level     0,  Iter    40:    Energy =   0.1443
Level     0,  Iter    41:    Energy =   0.1443
Level     0,  Iter    42:    Energy =   0.1444
Level     0,  Iter    43:    Energy =   0.1443
Level     0,  Iter    44:    Energy =   0.1443
Level     0,  Iter    45:    Energy =   0.1443
Level     0,  Iter    46:    Energy =   0.1444
Level     0,  Iter    47:    Energy =   0.1443
Level     0,  Iter    48:    Energy =   0.1444
Level     0,  Iter    49:    Energy =   0.1443
Level     0,  Iter    50:    Energy =   0.1444
Level     0,  Iter    51:    Energy =   0.1443
Level     0,  Iter    52:    Energy =   0.1444
Level     0,  Iter    53:    Energy =   0.1443
Level     0,  Iter    54:    Energy =   0.1444
Level     0,  Iter    55:    Energy =   0.1443
Level     0,  Iter    56:    Energy =   0.1444
Level     0,  Iter    57:    Energy =   0.1443
Level     0,  Iter    58:    Energy =   0.1444
Level     0,  Iter    59:    Energy =   0.1442
END OF LEVEL     0    DetJac Range:   0.2104  to   2.2172 
  Avg. Gradient Time  : 0.0073s  34.91% 
  Avg. Gaussian Time  : 0.0103s  49.34% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0923
Level     1,  Iter     1:    Energy =   0.0976
Level     1,  Iter     2:    Energy =   0.1016
Level     1,  Iter     3:    Energy =   0.1048
Level     1,  Iter     4:    Energy =   0.1076
Level     1,  Iter     5:    Energy =   0.1110
Level     1,  Iter     6:    Energy =   0.1136
Level     1,  Iter     7:    Energy =   0.1155
Level     1,  Iter     8:    Energy =   0.1172
Level     1,  Iter     9:    Energy =   0.1185
Level     1,  Iter    10:    Energy =   0.1195
Level     1,  Iter    11:    Energy =   0.1195
Level     1,  Iter    12:    Energy =   0.1205
Level     1,  Iter    13:    Energy =   0.1203
Level     1,  Iter    14:    Energy =   0.1210
Level     1,  Iter    15:    Energy =   0.1211
Level     1,  Iter    16:    Energy =   0.1216
Level     1,  Iter    17:    Energy =   0.1212
Level     1,  Iter    18:    Energy =   0.1221
Level     1,  Iter    19:    Energy =   0.1221
Level     1,  Iter    20:    Energy =   0.1221
Level     1,  Iter    21:    Energy =   0.1221
Level     1,  Iter    22:    Energy =   0.1224
Level     1,  Iter    23:    Energy =   0.1222
Level     1,  Iter    24:    Energy =   0.1229
Level     1,  Iter    25:    Energy =   0.1226
Level     1,  Iter    26:    Energy =   0.1234
Level     1,  Iter    27:    Energy =   0.1231
Level     1,  Iter    28:    Energy =   0.1234
Level     1,  Iter    29:    Energy =   0.1232
Level     1,  Iter    30:    Energy =   0.1235
Level     1,  Iter    31:    Energy =   0.1233
Level     1,  Iter    32:    Energy =   0.1238
Level     1,  Iter    33:    Energy =   0.1235
Level     1,  Iter    34:    Energy =   0.1242
Level     1,  Iter    35:    Energy =   0.1238
Level     1,  Iter    36:    Energy =   0.1243
Level     1,  Iter    37:    Energy =   0.1239
Level     1,  Iter    38:    Energy =   0.1244
Level     1,  Iter    39:    Energy =   0.1240
Level     1,  Iter    40:    Energy =   0.1245
Level     1,  Iter    41:    Energy =   0.1241
Level     1,  Iter    42:    Energy =   0.1247
Level     1,  Iter    43:    Energy =   0.1243
Level     1,  Iter    44:    Energy =   0.1249
Level     1,  Iter    45:    Energy =   0.1245
Level     1,  Iter    46:    Energy =   0.1250
Level     1,  Iter    47:    Energy =   0.1246
Level     1,  Iter    48:    Energy =   0.1252
Level     1,  Iter    49:    Energy =   0.1248
Level     1,  Iter    50:    Energy =   0.1250
Level     1,  Iter    51:    Energy =   0.1247
Level     1,  Iter    52:    Energy =   0.1250
Level     1,  Iter    53:    Energy =   0.1246
Level     1,  Iter    54:    Energy =   0.1251
Level     1,  Iter    55:    Energy =   0.1247
Level     1,  Iter    56:    Energy =   0.1253
Level     1,  Iter    57:    Energy =   0.1249
Level     1,  Iter    58:    Energy =   0.1252
Level     1,  Iter    59:    Energy =   0.1248
END OF LEVEL     1    DetJac Range:   0.0743  to   3.2461 
  Avg. Gradient Time  : 0.0417s  32.85% 
  Avg. Gaussian Time  : 0.0689s  54.36% 
  Avg. Iteration Time : 0.1268s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0644
Level     2,  Iter     1:    Energy =   0.0669
Level     2,  Iter     2:    Energy =   0.0694
Level     2,  Iter     3:    Energy =   0.0717
Level     2,  Iter     4:    Energy =   0.0739
Level     2,  Iter     5:    Energy =   0.0760
Level     2,  Iter     6:    Energy =   0.0776
Level     2,  Iter     7:    Energy =   0.0790
Level     2,  Iter     8:    Energy =   0.0801
Level     2,  Iter     9:    Energy =   0.0812
Level     2,  Iter    10:    Energy =   0.0821
Level     2,  Iter    11:    Energy =   0.0831
Level     2,  Iter    12:    Energy =   0.0840
Level     2,  Iter    13:    Energy =   0.0846
Level     2,  Iter    14:    Energy =   0.0851
Level     2,  Iter    15:    Energy =   0.0848
Level     2,  Iter    16:    Energy =   0.0855
Level     2,  Iter    17:    Energy =   0.0855
Level     2,  Iter    18:    Energy =   0.0861
Level     2,  Iter    19:    Energy =   0.0860
END OF LEVEL     2    DetJac Range:   0.0440  to   4.7940 
  Avg. Gradient Time  : 0.2937s  30.90% 
  Avg. Gaussian Time  : 0.5277s  55.51% 
  Avg. Iteration Time : 0.9505s 

real	0m32.586s
user	0m59.220s
sys	0m1.428s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.257692 0.263462
+ echo 'CHUNK 0.257692 0.263462 1'
CHUNK 0.257692 0.263462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.257692 0.263462 1
====================================
         PROGRESS: 0.257692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.452227
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3078.9   GNORM= 513.82
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3209.605     323.433       0.001
   2    4     -3235.101     160.137       1.000
   3    5     -3242.800      85.880       1.000
   4    6     -3249.578      81.266       1.000
   5    7     -3261.344     129.243       1.000
   6    8     -3276.839     112.124       1.000
   7    9     -3286.707     215.518       1.000
   8   10     -3298.341      65.919       1.000
   9   11     -3302.558      76.060       1.000
  10   12     -3304.012      44.148       1.000
  11   13     -3305.173      29.590       1.000
  12   14     -3305.567      25.336       1.000
  13   15     -3307.050      28.416       1.000
  14   16     -3308.189      44.765       1.000
  15   17     -3309.426      21.124       1.000
  16   18     -3310.179      17.084       1.000
  17   20     -3310.424      34.699       0.292
  18   21     -3310.895      25.763       1.000
  19   22     -3311.259      12.209       1.000
  20   23     -3311.507      11.360       1.000
  21   24     -3311.814      18.574       1.000
  22   25     -3312.139      15.726       1.000
  23   26     -3312.457      12.327       1.000
  24   28     -3312.611      17.515       0.439
  25   29     -3312.711       3.904       1.000
  26   30     -3312.735       3.662       1.000
  27   31     -3312.746       6.715       1.000
  28   32     -3312.751       4.192       1.000
  29   33     -3312.780       8.681       1.000
  30   34     -3312.825       9.774       1.000
  31   35     -3312.849       9.668       1.000
  32   36     -3312.880      10.580       1.000
  33   37     -3312.926       5.474       1.000
  34   38     -3312.938       7.739       1.000
  35   39     -3312.947       2.868       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.986593 -0.00714958 0.0368874 0.357404 
0.0184508 1.00891 0.0351912 0.503021 
-0.00896649 0.00196537 1.03134 0.217889 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2373.21   GNORM= 111.487
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2379.013      65.468       0.001
   2    4     -2381.833      50.169       1.000
   3    5     -2386.792      61.931       1.000
   4    6     -2397.295      83.797       1.000
   5    7     -2403.760      62.430       1.000
   6    8     -2405.870      25.625       1.000
   7    9     -2406.679      27.219       1.000
   8   10     -2408.126      38.391       1.000
   9   11     -2411.245      39.494       1.000
  10   13     -2412.557      38.667       0.431
  11   14     -2413.175      23.240       1.000
  12   15     -2413.410       7.283       1.000
  13   17     -2413.645      12.129       5.000
  14   18     -2413.951      18.236       1.000
  15   19     -2414.464      11.148       1.000
  16   20     -2414.931       7.341       1.000
  17   21     -2415.222      15.177       1.000
  18   22     -2415.524      14.719       1.000
  19   23     -2415.675      18.793       1.000
  20   24     -2415.859       6.529       1.000
  21   25     -2415.919       4.871       1.000
  22   26     -2415.978       6.464       1.000
  23   28     -2416.065      13.768       0.476
  24   29     -2416.190       8.850       1.000
  25   30     -2416.369      10.448       1.000
  26   31     -2416.549      10.295       1.000
  27   33     -2416.613       4.615       0.220
  28   34     -2416.694       6.495       1.000
  29   35     -2416.811      15.227       1.000
  30   36     -2416.866      14.419       1.000
  31   37     -2416.925       5.278       1.000
  32   38     -2416.946       4.910       1.000
  33   39     -2416.979       7.848       1.000
  34   40     -2417.039       5.446       1.000
  35   41     -2417.096       4.139       1.000
  36   42     -2417.133       6.418       1.000
  37   43     -2417.151       5.749       1.000
  38   44     -2417.186       3.183       1.000
  39   45     -2417.241       4.359       1.000
  40   46     -2417.354       5.543       1.000
  41   48     -2417.422      12.270       0.296
  42   49     -2417.549       9.958       1.000
  43   50     -2417.595      11.022       1.000
  44   51     -2417.655       5.486       1.000
  45   53     -2417.656       4.457       0.241
  46   54     -2417.663       4.356       1.000
  47   55     -2417.666       3.950       1.000
  48   57     -2417.686       8.518       0.357
  49   58     -2417.701       6.585       1.000
  50   59     -2417.737       4.693       1.000
  51   60     -2417.753       4.716       1.000
  52   61     -2417.761       3.352       1.000
Final RAS Transform: 
0.993235 -0.00802227 0.0155895 0.445082 
0.0345418 1.00498 0.033883 0.87838 
-0.0198815 0.00551367 1.05262 0.183633 
0 0 0 1 

Final RAS Transform: 
0.993235 -0.00802227 0.0155895 0.445082 
0.0345418 1.00498 0.033883 0.87838 
-0.0198815 0.00551367 1.05262 0.183633 
0 0 0 1 


real	0m10.253s
user	0m17.900s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.46096
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0962
Level     0,  Iter     1:    Energy =   0.1031
Level     0,  Iter     2:    Energy =   0.1090
Level     0,  Iter     3:    Energy =   0.1137
Level     0,  Iter     4:    Energy =   0.1177
Level     0,  Iter     5:    Energy =   0.1205
Level     0,  Iter     6:    Energy =   0.1215
Level     0,  Iter     7:    Energy =   0.1224
Level     0,  Iter     8:    Energy =   0.1233
Level     0,  Iter     9:    Energy =   0.1239
Level     0,  Iter    10:    Energy =   0.1244
Level     0,  Iter    11:    Energy =   0.1249
Level     0,  Iter    12:    Energy =   0.1253
Level     0,  Iter    13:    Energy =   0.1256
Level     0,  Iter    14:    Energy =   0.1258
Level     0,  Iter    15:    Energy =   0.1261
Level     0,  Iter    16:    Energy =   0.1262
Level     0,  Iter    17:    Energy =   0.1265
Level     0,  Iter    18:    Energy =   0.1265
Level     0,  Iter    19:    Energy =   0.1268
Level     0,  Iter    20:    Energy =   0.1268
Level     0,  Iter    21:    Energy =   0.1270
Level     0,  Iter    22:    Energy =   0.1270
Level     0,  Iter    23:    Energy =   0.1272
Level     0,  Iter    24:    Energy =   0.1272
Level     0,  Iter    25:    Energy =   0.1275
Level     0,  Iter    26:    Energy =   0.1274
Level     0,  Iter    27:    Energy =   0.1276
Level     0,  Iter    28:    Energy =   0.1276
Level     0,  Iter    29:    Energy =   0.1278
Level     0,  Iter    30:    Energy =   0.1277
Level     0,  Iter    31:    Energy =   0.1280
Level     0,  Iter    32:    Energy =   0.1279
Level     0,  Iter    33:    Energy =   0.1281
Level     0,  Iter    34:    Energy =   0.1280
Level     0,  Iter    35:    Energy =   0.1282
Level     0,  Iter    36:    Energy =   0.1281
Level     0,  Iter    37:    Energy =   0.1283
Level     0,  Iter    38:    Energy =   0.1282
Level     0,  Iter    39:    Energy =   0.1284
Level     0,  Iter    40:    Energy =   0.1282
Level     0,  Iter    41:    Energy =   0.1285
Level     0,  Iter    42:    Energy =   0.1283
Level     0,  Iter    43:    Energy =   0.1286
Level     0,  Iter    44:    Energy =   0.1284
Level     0,  Iter    45:    Energy =   0.1287
Level     0,  Iter    46:    Energy =   0.1285
Level     0,  Iter    47:    Energy =   0.1287
Level     0,  Iter    48:    Energy =   0.1285
Level     0,  Iter    49:    Energy =   0.1288
Level     0,  Iter    50:    Energy =   0.1286
Level     0,  Iter    51:    Energy =   0.1287
Level     0,  Iter    52:    Energy =   0.1285
Level     0,  Iter    53:    Energy =   0.1288
Level     0,  Iter    54:    Energy =   0.1286
Level     0,  Iter    55:    Energy =   0.1287
Level     0,  Iter    56:    Energy =   0.1286
Level     0,  Iter    57:    Energy =   0.1287
Level     0,  Iter    58:    Energy =   0.1286
Level     0,  Iter    59:    Energy =   0.1288
END OF LEVEL     0    DetJac Range:   0.2532  to   2.0050 
  Avg. Gradient Time  : 0.0072s  34.95% 
  Avg. Gaussian Time  : 0.0101s  49.17% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0888
Level     1,  Iter     1:    Energy =   0.0931
Level     1,  Iter     2:    Energy =   0.0962
Level     1,  Iter     3:    Energy =   0.0990
Level     1,  Iter     4:    Energy =   0.1019
Level     1,  Iter     5:    Energy =   0.1052
Level     1,  Iter     6:    Energy =   0.1071
Level     1,  Iter     7:    Energy =   0.1084
Level     1,  Iter     8:    Energy =   0.1097
Level     1,  Iter     9:    Energy =   0.1111
Level     1,  Iter    10:    Energy =   0.1130
Level     1,  Iter    11:    Energy =   0.1144
Level     1,  Iter    12:    Energy =   0.1156
Level     1,  Iter    13:    Energy =   0.1165
Level     1,  Iter    14:    Energy =   0.1173
Level     1,  Iter    15:    Energy =   0.1179
Level     1,  Iter    16:    Energy =   0.1178
Level     1,  Iter    17:    Energy =   0.1181
Level     1,  Iter    18:    Energy =   0.1180
Level     1,  Iter    19:    Energy =   0.1179
Level     1,  Iter    20:    Energy =   0.1184
Level     1,  Iter    21:    Energy =   0.1182
Level     1,  Iter    22:    Energy =   0.1186
Level     1,  Iter    23:    Energy =   0.1185
Level     1,  Iter    24:    Energy =   0.1188
Level     1,  Iter    25:    Energy =   0.1187
Level     1,  Iter    26:    Energy =   0.1190
Level     1,  Iter    27:    Energy =   0.1188
Level     1,  Iter    28:    Energy =   0.1192
Level     1,  Iter    29:    Energy =   0.1190
Level     1,  Iter    30:    Energy =   0.1194
Level     1,  Iter    31:    Energy =   0.1192
Level     1,  Iter    32:    Energy =   0.1195
Level     1,  Iter    33:    Energy =   0.1193
Level     1,  Iter    34:    Energy =   0.1196
Level     1,  Iter    35:    Energy =   0.1194
Level     1,  Iter    36:    Energy =   0.1197
Level     1,  Iter    37:    Energy =   0.1195
Level     1,  Iter    38:    Energy =   0.1198
Level     1,  Iter    39:    Energy =   0.1196
Level     1,  Iter    40:    Energy =   0.1199
Level     1,  Iter    41:    Energy =   0.1197
Level     1,  Iter    42:    Energy =   0.1200
Level     1,  Iter    43:    Energy =   0.1198
Level     1,  Iter    44:    Energy =   0.1200
Level     1,  Iter    45:    Energy =   0.1199
Level     1,  Iter    46:    Energy =   0.1201
Level     1,  Iter    47:    Energy =   0.1200
Level     1,  Iter    48:    Energy =   0.1202
Level     1,  Iter    49:    Energy =   0.1201
Level     1,  Iter    50:    Energy =   0.1203
Level     1,  Iter    51:    Energy =   0.1201
Level     1,  Iter    52:    Energy =   0.1203
Level     1,  Iter    53:    Energy =   0.1202
Level     1,  Iter    54:    Energy =   0.1204
Level     1,  Iter    55:    Energy =   0.1203
Level     1,  Iter    56:    Energy =   0.1205
Level     1,  Iter    57:    Energy =   0.1204
Level     1,  Iter    58:    Energy =   0.1205
Level     1,  Iter    59:    Energy =   0.1204
END OF LEVEL     1    DetJac Range:   0.1111  to   3.3846 
  Avg. Gradient Time  : 0.0417s  32.96% 
  Avg. Gaussian Time  : 0.0686s  54.23% 
  Avg. Iteration Time : 0.1265s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0627
Level     2,  Iter     1:    Energy =   0.0658
Level     2,  Iter     2:    Energy =   0.0678
Level     2,  Iter     3:    Energy =   0.0698
Level     2,  Iter     4:    Energy =   0.0716
Level     2,  Iter     5:    Energy =   0.0731
Level     2,  Iter     6:    Energy =   0.0743
Level     2,  Iter     7:    Energy =   0.0754
Level     2,  Iter     8:    Energy =   0.0764
Level     2,  Iter     9:    Energy =   0.0772
Level     2,  Iter    10:    Energy =   0.0780
Level     2,  Iter    11:    Energy =   0.0786
Level     2,  Iter    12:    Energy =   0.0792
Level     2,  Iter    13:    Energy =   0.0798
Level     2,  Iter    14:    Energy =   0.0803
Level     2,  Iter    15:    Energy =   0.0808
Level     2,  Iter    16:    Energy =   0.0812
Level     2,  Iter    17:    Energy =   0.0816
Level     2,  Iter    18:    Energy =   0.0819
Level     2,  Iter    19:    Energy =   0.0822
END OF LEVEL     2    DetJac Range:   0.0632  to   4.0014 
  Avg. Gradient Time  : 0.2950s  31.00% 
  Avg. Gaussian Time  : 0.5273s  55.42% 
  Avg. Iteration Time : 0.9515s 

real	0m32.538s
user	0m58.952s
sys	0m1.672s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.263462 0.269231
+ echo 'CHUNK 0.263462 0.269231 1'
CHUNK 0.263462 0.269231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.263462 0.269231 1
====================================
         PROGRESS: 0.263462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.815522
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3213.37   GNORM= 338.69
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3289.415     279.053       0.001
   2    4     -3313.353     112.876       1.000
   3    5     -3318.517      78.966       1.000
   4    6     -3331.026     118.316       1.000
   5    7     -3343.555     165.492       1.000
   6    8     -3360.413     150.161       1.000
   7    9     -3376.219      60.898       1.000
   8   10     -3380.891      48.563       1.000
   9   11     -3388.508      95.589       1.000
  10   12     -3395.650      27.361       1.000
  11   13     -3396.752      25.451       1.000
  12   15     -3400.480      33.122       0.471
  13   17     -3400.859      17.495       0.325
  14   18     -3401.071      15.165       1.000
  15   19     -3401.478      13.033       1.000
  16   20     -3401.756      28.010       1.000
  17   21     -3402.200      10.552       1.000
  18   22     -3402.317       8.539       1.000
  19   24     -3402.366      10.534       0.348
  20   25     -3402.458      10.042       1.000
  21   27     -3402.530      20.044       0.162
  22   28     -3402.566      15.033       1.000
  23   29     -3402.638       9.858       1.000
  24   30     -3402.687       6.358       1.000
  25   31     -3402.722       4.676       1.000
  26   32     -3402.790       4.766       1.000
  27   33     -3402.827       6.979       1.000
  28   34     -3402.827       3.783       1.000
  29   35     -3402.846       6.128       1.000
  30   36     -3402.854       3.899       1.000
  31   38     -3402.855       4.734       0.260
  32   39     -3402.862       2.284       1.000
  33   40     -3402.874       3.568       1.000
  34   41     -3402.886       4.620       1.000
  35   42     -3402.893       2.974       1.000
  36   44     -3402.894       2.776       0.174
Final RAS Transform: 
0.990578 -0.0175988 0.00829137 -0.19082 
0.0236901 1.02466 0.0645172 0.778617 
0.0190974 -0.000988504 1.01195 1.01472 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2281.24   GNORM= 150.794
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2288.392      39.863       0.001
   2    4     -2289.367      32.510       1.000
   3    5     -2291.096      31.084       1.000
   4    6     -2292.633      31.621       1.000
   5    7     -2295.082      37.231       1.000
   6    9     -2296.091      30.666       0.510
   7   10     -2296.927      12.935       1.000
   8   11     -2297.189      12.714       1.000
   9   12     -2297.419      14.216       1.000
  10   13     -2297.914      16.674       1.000
  11   14     -2299.214      26.469       1.000
  12   15     -2299.642      13.334       1.000
  13   16     -2299.763       6.531       1.000
  14   17     -2299.837       7.835       1.000
  15   18     -2300.079      13.327       1.000
  16   19     -2300.559      15.195       1.000
  17   21     -2300.774      31.906       0.257
  18   22     -2301.434      30.451       1.000
  19   24     -2301.565      36.391       0.230
  20   25     -2301.952       5.306       1.000
  21   26     -2301.995       5.780       1.000
  22   27     -2302.054       9.760       1.000
  23   28     -2302.148       6.690       1.000
  24   29     -2302.223       7.369       1.000
  25   30     -2302.313       7.213       1.000
  26   31     -2302.446      13.375       1.000
  27   32     -2302.646       7.021       1.000
  28   33     -2302.842       6.699       1.000
  29   34     -2303.014      14.929       1.000
  30   35     -2303.265      10.377       1.000
  31   36     -2303.506       9.050       1.000
  32   38     -2303.580      11.775       0.447
  33   39     -2303.664       9.696       1.000
  34   40     -2303.764      13.383       1.000
  35   41     -2303.824      10.711       1.000
  36   42     -2303.845       3.373       1.000
  37   44     -2303.884       6.649       5.000
  38   45     -2303.915       4.377       1.000
  39   46     -2303.958       4.584       1.000
  40   47     -2304.042       7.463       1.000
  41   48     -2304.155      11.202       1.000
  42   49     -2304.224       8.637       1.000
  43   50     -2304.249      12.535       1.000
  44   51     -2304.315       4.461       1.000
  45   52     -2304.345       3.363       1.000
  46   53     -2304.375       5.879       1.000
  47   54     -2304.404       6.873       1.000
  48   56     -2304.454       5.983       0.308
  49   57     -2304.482       2.752       1.000
  50   58     -2304.483       2.214       1.000
  51   60     -2304.492       3.845       0.287
  52   61     -2304.505       4.087       1.000
Final RAS Transform: 
0.995357 -0.0167593 -0.0108688 -0.077618 
0.0493224 1.01958 0.0419651 1.3577 
0.0106236 -0.00216712 1.01663 0.616696 
0 0 0 1 

Final RAS Transform: 
0.995357 -0.0167593 -0.0108688 -0.077618 
0.0493224 1.01958 0.0419651 1.3577 
0.0106236 -0.00216712 1.01663 0.616696 
0 0 0 1 


real	0m10.646s
user	0m18.492s
sys	0m0.580s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.822064
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0980
Level     0,  Iter     1:    Energy =   0.1060
Level     0,  Iter     2:    Energy =   0.1146
Level     0,  Iter     3:    Energy =   0.1205
Level     0,  Iter     4:    Energy =   0.1248
Level     0,  Iter     5:    Energy =   0.1280
Level     0,  Iter     6:    Energy =   0.1302
Level     0,  Iter     7:    Energy =   0.1316
Level     0,  Iter     8:    Energy =   0.1325
Level     0,  Iter     9:    Energy =   0.1338
Level     0,  Iter    10:    Energy =   0.1343
Level     0,  Iter    11:    Energy =   0.1356
Level     0,  Iter    12:    Energy =   0.1359
Level     0,  Iter    13:    Energy =   0.1372
Level     0,  Iter    14:    Energy =   0.1374
Level     0,  Iter    15:    Energy =   0.1386
Level     0,  Iter    16:    Energy =   0.1387
Level     0,  Iter    17:    Energy =   0.1396
Level     0,  Iter    18:    Energy =   0.1396
Level     0,  Iter    19:    Energy =   0.1402
Level     0,  Iter    20:    Energy =   0.1402
Level     0,  Iter    21:    Energy =   0.1408
Level     0,  Iter    22:    Energy =   0.1407
Level     0,  Iter    23:    Energy =   0.1412
Level     0,  Iter    24:    Energy =   0.1412
Level     0,  Iter    25:    Energy =   0.1417
Level     0,  Iter    26:    Energy =   0.1416
Level     0,  Iter    27:    Energy =   0.1420
Level     0,  Iter    28:    Energy =   0.1419
Level     0,  Iter    29:    Energy =   0.1423
Level     0,  Iter    30:    Energy =   0.1422
Level     0,  Iter    31:    Energy =   0.1424
Level     0,  Iter    32:    Energy =   0.1423
Level     0,  Iter    33:    Energy =   0.1426
Level     0,  Iter    34:    Energy =   0.1425
Level     0,  Iter    35:    Energy =   0.1426
Level     0,  Iter    36:    Energy =   0.1425
Level     0,  Iter    37:    Energy =   0.1426
Level     0,  Iter    38:    Energy =   0.1426
Level     0,  Iter    39:    Energy =   0.1428
Level     0,  Iter    40:    Energy =   0.1427
Level     0,  Iter    41:    Energy =   0.1427
Level     0,  Iter    42:    Energy =   0.1427
Level     0,  Iter    43:    Energy =   0.1429
Level     0,  Iter    44:    Energy =   0.1428
Level     0,  Iter    45:    Energy =   0.1429
Level     0,  Iter    46:    Energy =   0.1428
Level     0,  Iter    47:    Energy =   0.1430
Level     0,  Iter    48:    Energy =   0.1429
Level     0,  Iter    49:    Energy =   0.1430
Level     0,  Iter    50:    Energy =   0.1431
Level     0,  Iter    51:    Energy =   0.1431
Level     0,  Iter    52:    Energy =   0.1431
Level     0,  Iter    53:    Energy =   0.1432
Level     0,  Iter    54:    Energy =   0.1432
Level     0,  Iter    55:    Energy =   0.1434
Level     0,  Iter    56:    Energy =   0.1432
Level     0,  Iter    57:    Energy =   0.1429
Level     0,  Iter    58:    Energy =   0.1429
Level     0,  Iter    59:    Energy =   0.1430
END OF LEVEL     0    DetJac Range:   0.2688  to   2.2961 
  Avg. Gradient Time  : 0.0073s  34.72% 
  Avg. Gaussian Time  : 0.0104s  49.67% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0924
Level     1,  Iter     1:    Energy =   0.0980
Level     1,  Iter     2:    Energy =   0.1023
Level     1,  Iter     3:    Energy =   0.1058
Level     1,  Iter     4:    Energy =   0.1086
Level     1,  Iter     5:    Energy =   0.1111
Level     1,  Iter     6:    Energy =   0.1129
Level     1,  Iter     7:    Energy =   0.1148
Level     1,  Iter     8:    Energy =   0.1159
Level     1,  Iter     9:    Energy =   0.1165
Level     1,  Iter    10:    Energy =   0.1174
Level     1,  Iter    11:    Energy =   0.1175
Level     1,  Iter    12:    Energy =   0.1183
Level     1,  Iter    13:    Energy =   0.1189
Level     1,  Iter    14:    Energy =   0.1196
Level     1,  Iter    15:    Energy =   0.1195
Level     1,  Iter    16:    Energy =   0.1202
Level     1,  Iter    17:    Energy =   0.1205
Level     1,  Iter    18:    Energy =   0.1212
Level     1,  Iter    19:    Energy =   0.1210
Level     1,  Iter    20:    Energy =   0.1216
Level     1,  Iter    21:    Energy =   0.1218
Level     1,  Iter    22:    Energy =   0.1223
Level     1,  Iter    23:    Energy =   0.1219
Level     1,  Iter    24:    Energy =   0.1224
Level     1,  Iter    25:    Energy =   0.1229
Level     1,  Iter    26:    Energy =   0.1232
Level     1,  Iter    27:    Energy =   0.1227
Level     1,  Iter    28:    Energy =   0.1233
Level     1,  Iter    29:    Energy =   0.1239
Level     1,  Iter    30:    Energy =   0.1239
Level     1,  Iter    31:    Energy =   0.1235
Level     1,  Iter    32:    Energy =   0.1240
Level     1,  Iter    33:    Energy =   0.1239
Level     1,  Iter    34:    Energy =   0.1239
Level     1,  Iter    35:    Energy =   0.1237
Level     1,  Iter    36:    Energy =   0.1240
Level     1,  Iter    37:    Energy =   0.1238
Level     1,  Iter    38:    Energy =   0.1240
Level     1,  Iter    39:    Energy =   0.1238
Level     1,  Iter    40:    Energy =   0.1240
Level     1,  Iter    41:    Energy =   0.1238
Level     1,  Iter    42:    Energy =   0.1241
Level     1,  Iter    43:    Energy =   0.1238
Level     1,  Iter    44:    Energy =   0.1241
Level     1,  Iter    45:    Energy =   0.1239
Level     1,  Iter    46:    Energy =   0.1242
Level     1,  Iter    47:    Energy =   0.1239
Level     1,  Iter    48:    Energy =   0.1243
Level     1,  Iter    49:    Energy =   0.1240
Level     1,  Iter    50:    Energy =   0.1244
Level     1,  Iter    51:    Energy =   0.1241
Level     1,  Iter    52:    Energy =   0.1245
Level     1,  Iter    53:    Energy =   0.1241
Level     1,  Iter    54:    Energy =   0.1246
Level     1,  Iter    55:    Energy =   0.1242
Level     1,  Iter    56:    Energy =   0.1247
Level     1,  Iter    57:    Energy =   0.1243
Level     1,  Iter    58:    Energy =   0.1247
Level     1,  Iter    59:    Energy =   0.1243
END OF LEVEL     1    DetJac Range:   0.1305  to   3.3247 
  Avg. Gradient Time  : 0.0422s  33.19% 
  Avg. Gaussian Time  : 0.0688s  54.09% 
  Avg. Iteration Time : 0.1272s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0637
Level     2,  Iter     1:    Energy =   0.0662
Level     2,  Iter     2:    Energy =   0.0687
Level     2,  Iter     3:    Energy =   0.0707
Level     2,  Iter     4:    Energy =   0.0723
Level     2,  Iter     5:    Energy =   0.0736
Level     2,  Iter     6:    Energy =   0.0748
Level     2,  Iter     7:    Energy =   0.0760
Level     2,  Iter     8:    Energy =   0.0770
Level     2,  Iter     9:    Energy =   0.0778
Level     2,  Iter    10:    Energy =   0.0784
Level     2,  Iter    11:    Energy =   0.0789
Level     2,  Iter    12:    Energy =   0.0793
Level     2,  Iter    13:    Energy =   0.0799
Level     2,  Iter    14:    Energy =   0.0804
Level     2,  Iter    15:    Energy =   0.0809
Level     2,  Iter    16:    Energy =   0.0813
Level     2,  Iter    17:    Energy =   0.0816
Level     2,  Iter    18:    Energy =   0.0820
Level     2,  Iter    19:    Energy =   0.0823
END OF LEVEL     2    DetJac Range:   0.0732  to   3.8173 
  Avg. Gradient Time  : 0.2941s  30.95% 
  Avg. Gaussian Time  : 0.5272s  55.48% 
  Avg. Iteration Time : 0.9503s 

real	0m32.566s
user	0m59.152s
sys	0m1.484s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.269231 0.275
+ echo 'CHUNK 0.269231 0.275 1'
CHUNK 0.269231 0.275 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.269231 0.275 1
====================================
         PROGRESS: 0.269231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.701244
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2937.89   GNORM= 440.722
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2990.016     138.912       0.001
   2    4     -2998.972     125.532       1.000
   3    5     -3025.205     148.741       1.000
   4    6     -3041.508     117.791       1.000
   5    7     -3105.914     179.767       1.000
   6    8     -3127.742     154.617       1.000
   7   10     -3149.153     112.660       0.511
   8   11     -3165.443     118.360       1.000
   9   12     -3186.119     112.870       1.000
  10   13     -3205.302      62.555       1.000
  11   14     -3214.793      76.085       1.000
  12   15     -3233.924      53.905       1.000
  13   17     -3240.424     123.773       0.469
  14   18     -3247.226      29.270       1.000
  15   19     -3248.549      27.442       1.000
  16   21     -3250.184      35.585       0.460
  17   22     -3252.163      28.702       1.000
  18   23     -3253.060       9.731       1.000
  19   24     -3253.164       8.372       1.000
  20   25     -3253.297      15.143       1.000
  21   26     -3253.411       5.529       1.000
  22   27     -3253.489       5.956       1.000
  23   28     -3253.548       7.647       1.000
  24   29     -3253.610      14.699       1.000
  25   30     -3253.731       6.309       1.000
  26   31     -3253.745       7.493       1.000
  27   32     -3253.776       4.714       1.000
  28   33     -3253.779       3.497       1.000
  29   34     -3253.804       5.091       1.000
  30   36     -3253.812       4.965       0.186
  31   37     -3253.828       4.464       1.000
  32   38     -3253.870       5.416       1.000
  33   40     -3253.886       4.955       0.318
  34   41     -3253.910       6.439       1.000
  35   43     -3253.928       5.926       0.394
  36   44     -3253.933       5.127       1.000
  37   45     -3253.942       4.273       1.000
  38   46     -3253.947       3.742       1.000
  39   47     -3253.951       3.736       1.000
  40   48     -3253.964       2.551       1.000
  41   50     -3253.964       2.896       0.372
  42   51     -3253.974       3.933       1.000
Final RAS Transform: 
0.896074 -0.021432 0.0409551 -3.13417 
0.0194396 1.0034 0.0415813 0.338058 
-0.0157507 0.0120155 1.05014 0.114746 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2153.98   GNORM= 144.135
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2162.311      75.252       0.001
   2    4     -2165.491      44.534       1.000
   3    5     -2167.145      28.473       1.000
   4    6     -2168.878      35.564       1.000
   5    7     -2173.810      66.517       1.000
   6    8     -2180.082      96.147       1.000
   7    9     -2187.382      70.777       1.000
   8   11     -2190.918      67.642       0.469
   9   12     -2192.965      38.264       1.000
  10   13     -2193.690      38.303       1.000
  11   14     -2198.525      32.818       1.000
  12   15     -2202.741      44.846       1.000
  13   16     -2205.495      39.424       1.000
  14   17     -2208.285      53.881       1.000
  15   18     -2210.409      44.936       1.000
  16   19     -2215.293      56.436       1.000
  17   20     -2218.850      24.188       1.000
  18   21     -2220.316      21.159       1.000
  19   22     -2220.878      43.243       1.000
  20   23     -2221.440      14.289       1.000
  21   24     -2221.521       9.449       1.000
  22   25     -2221.683       8.833       1.000
  23   26     -2222.428      33.698       1.000
  24   27     -2223.271      42.311       1.000
  25   28     -2224.950      47.964       1.000
  26   29     -2226.656      26.697       1.000
  27   30     -2227.235      10.037       1.000
  28   31     -2227.399       8.428       1.000
  29   32     -2227.526       8.305       1.000
  30   33     -2227.859      12.948       1.000
  31   34     -2228.514      16.156       1.000
  32   35     -2228.953      19.387       1.000
  33   36     -2229.107       5.439       1.000
  34   38     -2229.125       9.979       0.489
  35   40     -2229.139       7.980       0.248
  36   41     -2229.223       6.118       1.000
  37   42     -2229.377       9.018       1.000
  38   43     -2229.447       5.727       1.000
  39   44     -2229.473       6.881       1.000
  40   45     -2229.496       5.700       1.000
  41   46     -2229.537       6.933       1.000
  42   47     -2229.670      13.088       1.000
  43   48     -2229.731       5.830       1.000
  44   49     -2229.753       3.676       1.000
  45   50     -2229.762       7.090       1.000
  46   51     -2229.779       6.082       1.000
  47   52     -2229.800      10.682       1.000
  48   53     -2229.837       1.494       1.000
  49   54     -2229.846       1.766       1.000
  50   56     -2229.849       1.828       0.337
  51   58     -2229.850       1.636       0.136
Final RAS Transform: 
0.963748 -0.0212124 0.00784848 -1.18365 
0.0282875 0.997797 0.0433502 0.588846 
-0.020544 0.0124242 1.0365 -0.191753 
0 0 0 1 

Final RAS Transform: 
0.963748 -0.0212124 0.00784848 -1.18365 
0.0282875 0.997797 0.0433502 0.588846 
-0.020544 0.0124242 1.0365 -0.191753 
0 0 0 1 


real	0m10.202s
user	0m17.860s
sys	0m0.440s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.712454
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0914
Level     0,  Iter     1:    Energy =   0.0981
Level     0,  Iter     2:    Energy =   0.1051
Level     0,  Iter     3:    Energy =   0.1105
Level     0,  Iter     4:    Energy =   0.1133
Level     0,  Iter     5:    Energy =   0.1156
Level     0,  Iter     6:    Energy =   0.1171
Level     0,  Iter     7:    Energy =   0.1182
Level     0,  Iter     8:    Energy =   0.1192
Level     0,  Iter     9:    Energy =   0.1200
Level     0,  Iter    10:    Energy =   0.1207
Level     0,  Iter    11:    Energy =   0.1214
Level     0,  Iter    12:    Energy =   0.1218
Level     0,  Iter    13:    Energy =   0.1223
Level     0,  Iter    14:    Energy =   0.1226
Level     0,  Iter    15:    Energy =   0.1231
Level     0,  Iter    16:    Energy =   0.1233
Level     0,  Iter    17:    Energy =   0.1237
Level     0,  Iter    18:    Energy =   0.1239
Level     0,  Iter    19:    Energy =   0.1242
Level     0,  Iter    20:    Energy =   0.1245
Level     0,  Iter    21:    Energy =   0.1248
Level     0,  Iter    22:    Energy =   0.1249
Level     0,  Iter    23:    Energy =   0.1252
Level     0,  Iter    24:    Energy =   0.1254
Level     0,  Iter    25:    Energy =   0.1256
Level     0,  Iter    26:    Energy =   0.1258
Level     0,  Iter    27:    Energy =   0.1259
Level     0,  Iter    28:    Energy =   0.1261
Level     0,  Iter    29:    Energy =   0.1261
Level     0,  Iter    30:    Energy =   0.1264
Level     0,  Iter    31:    Energy =   0.1264
Level     0,  Iter    32:    Energy =   0.1267
Level     0,  Iter    33:    Energy =   0.1267
Level     0,  Iter    34:    Energy =   0.1270
Level     0,  Iter    35:    Energy =   0.1270
Level     0,  Iter    36:    Energy =   0.1272
Level     0,  Iter    37:    Energy =   0.1272
Level     0,  Iter    38:    Energy =   0.1274
Level     0,  Iter    39:    Energy =   0.1274
Level     0,  Iter    40:    Energy =   0.1275
Level     0,  Iter    41:    Energy =   0.1275
Level     0,  Iter    42:    Energy =   0.1277
Level     0,  Iter    43:    Energy =   0.1276
Level     0,  Iter    44:    Energy =   0.1278
Level     0,  Iter    45:    Energy =   0.1278
Level     0,  Iter    46:    Energy =   0.1280
Level     0,  Iter    47:    Energy =   0.1280
Level     0,  Iter    48:    Energy =   0.1282
Level     0,  Iter    49:    Energy =   0.1282
Level     0,  Iter    50:    Energy =   0.1285
Level     0,  Iter    51:    Energy =   0.1284
Level     0,  Iter    52:    Energy =   0.1286
Level     0,  Iter    53:    Energy =   0.1286
Level     0,  Iter    54:    Energy =   0.1288
Level     0,  Iter    55:    Energy =   0.1288
Level     0,  Iter    56:    Energy =   0.1290
Level     0,  Iter    57:    Energy =   0.1290
Level     0,  Iter    58:    Energy =   0.1292
Level     0,  Iter    59:    Energy =   0.1291
END OF LEVEL     0    DetJac Range:   0.2674  to   2.4930 
  Avg. Gradient Time  : 0.0073s  34.90% 
  Avg. Gaussian Time  : 0.0103s  49.47% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0841
Level     1,  Iter     1:    Energy =   0.0886
Level     1,  Iter     2:    Energy =   0.0922
Level     1,  Iter     3:    Energy =   0.0960
Level     1,  Iter     4:    Energy =   0.0992
Level     1,  Iter     5:    Energy =   0.1019
Level     1,  Iter     6:    Energy =   0.1043
Level     1,  Iter     7:    Energy =   0.1065
Level     1,  Iter     8:    Energy =   0.1085
Level     1,  Iter     9:    Energy =   0.1101
Level     1,  Iter    10:    Energy =   0.1114
Level     1,  Iter    11:    Energy =   0.1122
Level     1,  Iter    12:    Energy =   0.1122
Level     1,  Iter    13:    Energy =   0.1126
Level     1,  Iter    14:    Energy =   0.1128
Level     1,  Iter    15:    Energy =   0.1129
Level     1,  Iter    16:    Energy =   0.1134
Level     1,  Iter    17:    Energy =   0.1134
Level     1,  Iter    18:    Energy =   0.1141
Level     1,  Iter    19:    Energy =   0.1139
Level     1,  Iter    20:    Energy =   0.1146
Level     1,  Iter    21:    Energy =   0.1144
Level     1,  Iter    22:    Energy =   0.1151
Level     1,  Iter    23:    Energy =   0.1147
Level     1,  Iter    24:    Energy =   0.1154
Level     1,  Iter    25:    Energy =   0.1151
Level     1,  Iter    26:    Energy =   0.1156
Level     1,  Iter    27:    Energy =   0.1153
Level     1,  Iter    28:    Energy =   0.1159
Level     1,  Iter    29:    Energy =   0.1156
Level     1,  Iter    30:    Energy =   0.1161
Level     1,  Iter    31:    Energy =   0.1157
Level     1,  Iter    32:    Energy =   0.1163
Level     1,  Iter    33:    Energy =   0.1159
Level     1,  Iter    34:    Energy =   0.1164
Level     1,  Iter    35:    Energy =   0.1161
Level     1,  Iter    36:    Energy =   0.1166
Level     1,  Iter    37:    Energy =   0.1162
Level     1,  Iter    38:    Energy =   0.1167
Level     1,  Iter    39:    Energy =   0.1163
Level     1,  Iter    40:    Energy =   0.1169
Level     1,  Iter    41:    Energy =   0.1164
Level     1,  Iter    42:    Energy =   0.1170
Level     1,  Iter    43:    Energy =   0.1165
Level     1,  Iter    44:    Energy =   0.1171
Level     1,  Iter    45:    Energy =   0.1167
Level     1,  Iter    46:    Energy =   0.1172
Level     1,  Iter    47:    Energy =   0.1167
Level     1,  Iter    48:    Energy =   0.1172
Level     1,  Iter    49:    Energy =   0.1169
Level     1,  Iter    50:    Energy =   0.1173
Level     1,  Iter    51:    Energy =   0.1169
Level     1,  Iter    52:    Energy =   0.1173
Level     1,  Iter    53:    Energy =   0.1170
Level     1,  Iter    54:    Energy =   0.1174
Level     1,  Iter    55:    Energy =   0.1170
Level     1,  Iter    56:    Energy =   0.1175
Level     1,  Iter    57:    Energy =   0.1171
Level     1,  Iter    58:    Energy =   0.1176
Level     1,  Iter    59:    Energy =   0.1172
END OF LEVEL     1    DetJac Range:   0.1217  to   4.3366 
  Avg. Gradient Time  : 0.0412s  32.74% 
  Avg. Gaussian Time  : 0.0684s  54.42% 
  Avg. Iteration Time : 0.1257s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0598
Level     2,  Iter     1:    Energy =   0.0620
Level     2,  Iter     2:    Energy =   0.0639
Level     2,  Iter     3:    Energy =   0.0661
Level     2,  Iter     4:    Energy =   0.0685
Level     2,  Iter     5:    Energy =   0.0707
Level     2,  Iter     6:    Energy =   0.0724
Level     2,  Iter     7:    Energy =   0.0737
Level     2,  Iter     8:    Energy =   0.0747
Level     2,  Iter     9:    Energy =   0.0755
Level     2,  Iter    10:    Energy =   0.0762
Level     2,  Iter    11:    Energy =   0.0769
Level     2,  Iter    12:    Energy =   0.0776
Level     2,  Iter    13:    Energy =   0.0782
Level     2,  Iter    14:    Energy =   0.0788
Level     2,  Iter    15:    Energy =   0.0793
Level     2,  Iter    16:    Energy =   0.0797
Level     2,  Iter    17:    Energy =   0.0801
Level     2,  Iter    18:    Energy =   0.0805
Level     2,  Iter    19:    Energy =   0.0808
END OF LEVEL     2    DetJac Range:   0.0494  to   4.4665 
  Avg. Gradient Time  : 0.2928s  30.89% 
  Avg. Gaussian Time  : 0.5264s  55.53% 
  Avg. Iteration Time : 0.9479s 

real	0m32.432s
user	0m59.044s
sys	0m1.424s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.275 0.280769
+ echo 'CHUNK 0.275 0.280769 1'
CHUNK 0.275 0.280769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.275 0.280769 1
====================================
         PROGRESS: 0.275               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.557761
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2637.6   GNORM= 147.43
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2679.297      89.677       0.003
   2    4     -2686.218     120.365       1.000
   3    5     -2694.152      88.672       1.000
   4    6     -2705.871     237.856       1.000
   5    7     -2724.754     143.468       1.000
   6    8     -2744.517      78.072       1.000
   7    9     -2754.459      73.149       1.000
   8   10     -2769.265      88.260       1.000
   9   11     -2785.447     128.641       1.000
  10   12     -2798.925      70.305       1.000
  11   13     -2808.354      93.152       1.000
  12   14     -2812.073      49.965       1.000
  13   15     -2815.848      41.439       1.000
  14   16     -2818.762      38.060       1.000
  15   17     -2826.507      46.742       1.000
  16   19     -2828.391      30.575       0.226
  17   20     -2829.471      24.999       1.000
  18   21     -2830.427      22.421       1.000
  19   22     -2830.887      34.966       1.000
  20   23     -2831.773      11.715       1.000
  21   24     -2831.837      37.544       1.000
  22   25     -2832.163      12.178       1.000
  23   26     -2832.281      10.676       1.000
  24   27     -2832.426      16.292       1.000
  25   28     -2832.716      21.657       1.000
  26   30     -2832.865      13.067       0.394
  27   31     -2832.968      12.755       1.000
  28   32     -2833.115      10.960       1.000
  29   33     -2833.230      10.135       1.000
  30   34     -2833.374       8.667       1.000
  31   35     -2833.931      12.441       1.000
  32   37     -2834.241      12.597       0.505
  33   39     -2834.333       6.468       0.483
  34   40     -2834.428       7.325       1.000
  35   42     -2834.480       4.608       0.524
  36   43     -2834.533       6.537       1.000
  37   44     -2834.584       9.269       1.000
  38   45     -2834.609      12.872       1.000
  39   46     -2834.636       7.874       1.000
  40   47     -2834.674       3.811       1.000
  41   48     -2834.702       4.457       1.000
  42   50     -2834.716       5.125       0.253
  43   51     -2834.741       4.141       1.000
  44   52     -2834.763       8.043       1.000
  45   53     -2834.809       3.449       1.000
  46   54     -2834.816       2.689       1.000
  47   56     -2834.818       2.770       0.381
  48   58     -2834.822       1.557       0.262
  49   59     -2834.827       1.938       1.000
  50   60     -2834.835       0.853       1.000
Final RAS Transform: 
0.917086 -0.028695 0.0148661 -2.9497 
-0.0181307 0.987867 0.0283769 -1.04076 
-0.0309933 0.00299097 1.04513 -0.458094 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1884.6   GNORM= 121.301
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1890.051      52.555       0.001
   2    4     -1891.622      34.498       1.000
   3    5     -1893.782      23.722       1.000
   4    6     -1895.862      38.110       1.000
   5    7     -1899.922      40.383       1.000
   6    9     -1906.240      86.776       0.313
   7   10     -1913.410      77.912       1.000
   8   12     -1916.107      49.781       0.489
   9   13     -1917.907      26.683       1.000
  10   14     -1918.802      18.685       1.000
  11   15     -1919.204      25.062       1.000
  12   16     -1919.759      18.584       1.000
  13   17     -1921.371      22.274       1.000
  14   18     -1923.769      31.229       1.000
  15   19     -1925.769      56.756       1.000
  16   20     -1927.847      27.148       1.000
  17   21     -1929.812      28.691       1.000
  18   23     -1930.127      12.814       0.494
  19   24     -1930.305      10.812       1.000
  20   25     -1931.352       7.876       1.000
  21   27     -1931.709      17.726       0.279
  22   28     -1932.546      13.184       1.000
  23   30     -1932.857      20.147       0.339
  24   32     -1933.035      13.740       0.485
  25   33     -1933.164       8.129       1.000
  26   34     -1933.272       6.767       1.000
  27   35     -1933.367       8.513       1.000
  28   36     -1933.472       8.715       1.000
  29   37     -1933.758      10.803       1.000
  30   38     -1934.161      20.590       1.000
  31   39     -1934.371      18.468       1.000
  32   40     -1934.500      11.736       1.000
  33   41     -1934.538       7.020       1.000
  34   42     -1934.673       7.923       1.000
  35   44     -1934.723       5.541       0.175
  36   45     -1934.775       2.946       1.000
  37   46     -1934.796       3.763       1.000
  38   47     -1934.812      14.459       1.000
  39   48     -1934.885       9.314       1.000
  40   49     -1934.900      16.047       1.000
  41   50     -1934.958       9.591       1.000
  42   51     -1935.021       4.222       1.000
  43   52     -1935.096       5.606       1.000
  44   54     -1935.124       5.043       0.425
  45   55     -1935.155       3.745       1.000
  46   56     -1935.197       3.311       1.000
  47   58     -1935.216       7.215       0.215
  48   59     -1935.275       8.365       1.000
  49   61     -1935.343       5.350       0.330
Final RAS Transform: 
0.947505 -0.010485 -0.019634 -1.58335 
-0.0101701 0.986814 0.00326783 -0.673518 
-0.0268721 0.00936371 1.04012 -0.406856 
0 0 0 1 

Final RAS Transform: 
0.947505 -0.010485 -0.019634 -1.58335 
-0.0101701 0.986814 0.00326783 -0.673518 
-0.0268721 0.00936371 1.04012 -0.406856 
0 0 0 1 


real	0m10.582s
user	0m18.544s
sys	0m0.500s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.566726
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0794
Level     0,  Iter     1:    Energy =   0.0854
Level     0,  Iter     2:    Energy =   0.0919
Level     0,  Iter     3:    Energy =   0.0967
Level     0,  Iter     4:    Energy =   0.1008
Level     0,  Iter     5:    Energy =   0.1031
Level     0,  Iter     6:    Energy =   0.1047
Level     0,  Iter     7:    Energy =   0.1058
Level     0,  Iter     8:    Energy =   0.1070
Level     0,  Iter     9:    Energy =   0.1076
Level     0,  Iter    10:    Energy =   0.1086
Level     0,  Iter    11:    Energy =   0.1090
Level     0,  Iter    12:    Energy =   0.1101
Level     0,  Iter    13:    Energy =   0.1103
Level     0,  Iter    14:    Energy =   0.1110
Level     0,  Iter    15:    Energy =   0.1112
Level     0,  Iter    16:    Energy =   0.1121
Level     0,  Iter    17:    Energy =   0.1122
Level     0,  Iter    18:    Energy =   0.1128
Level     0,  Iter    19:    Energy =   0.1129
Level     0,  Iter    20:    Energy =   0.1138
Level     0,  Iter    21:    Energy =   0.1138
Level     0,  Iter    22:    Energy =   0.1142
Level     0,  Iter    23:    Energy =   0.1142
Level     0,  Iter    24:    Energy =   0.1148
Level     0,  Iter    25:    Energy =   0.1148
Level     0,  Iter    26:    Energy =   0.1152
Level     0,  Iter    27:    Energy =   0.1151
Level     0,  Iter    28:    Energy =   0.1155
Level     0,  Iter    29:    Energy =   0.1155
Level     0,  Iter    30:    Energy =   0.1159
Level     0,  Iter    31:    Energy =   0.1158
Level     0,  Iter    32:    Energy =   0.1162
Level     0,  Iter    33:    Energy =   0.1161
Level     0,  Iter    34:    Energy =   0.1165
Level     0,  Iter    35:    Energy =   0.1163
Level     0,  Iter    36:    Energy =   0.1167
Level     0,  Iter    37:    Energy =   0.1166
Level     0,  Iter    38:    Energy =   0.1170
Level     0,  Iter    39:    Energy =   0.1167
Level     0,  Iter    40:    Energy =   0.1170
Level     0,  Iter    41:    Energy =   0.1169
Level     0,  Iter    42:    Energy =   0.1172
Level     0,  Iter    43:    Energy =   0.1170
Level     0,  Iter    44:    Energy =   0.1173
Level     0,  Iter    45:    Energy =   0.1171
Level     0,  Iter    46:    Energy =   0.1175
Level     0,  Iter    47:    Energy =   0.1173
Level     0,  Iter    48:    Energy =   0.1176
Level     0,  Iter    49:    Energy =   0.1174
Level     0,  Iter    50:    Energy =   0.1177
Level     0,  Iter    51:    Energy =   0.1175
Level     0,  Iter    52:    Energy =   0.1178
Level     0,  Iter    53:    Energy =   0.1176
Level     0,  Iter    54:    Energy =   0.1179
Level     0,  Iter    55:    Energy =   0.1177
Level     0,  Iter    56:    Energy =   0.1180
Level     0,  Iter    57:    Energy =   0.1178
Level     0,  Iter    58:    Energy =   0.1181
Level     0,  Iter    59:    Energy =   0.1179
END OF LEVEL     0    DetJac Range:   0.1169  to   2.0239 
  Avg. Gradient Time  : 0.0084s  34.71% 
  Avg. Gaussian Time  : 0.0121s  49.90% 
  Avg. Iteration Time : 0.0243s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0762
Level     1,  Iter     1:    Energy =   0.0808
Level     1,  Iter     2:    Energy =   0.0844
Level     1,  Iter     3:    Energy =   0.0878
Level     1,  Iter     4:    Energy =   0.0903
Level     1,  Iter     5:    Energy =   0.0923
Level     1,  Iter     6:    Energy =   0.0942
Level     1,  Iter     7:    Energy =   0.0959
Level     1,  Iter     8:    Energy =   0.0975
Level     1,  Iter     9:    Energy =   0.0988
Level     1,  Iter    10:    Energy =   0.1001
Level     1,  Iter    11:    Energy =   0.1012
Level     1,  Iter    12:    Energy =   0.1021
Level     1,  Iter    13:    Energy =   0.1028
Level     1,  Iter    14:    Energy =   0.1035
Level     1,  Iter    15:    Energy =   0.1042
Level     1,  Iter    16:    Energy =   0.1048
Level     1,  Iter    17:    Energy =   0.1053
Level     1,  Iter    18:    Energy =   0.1058
Level     1,  Iter    19:    Energy =   0.1063
Level     1,  Iter    20:    Energy =   0.1067
Level     1,  Iter    21:    Energy =   0.1071
Level     1,  Iter    22:    Energy =   0.1073
Level     1,  Iter    23:    Energy =   0.1069
Level     1,  Iter    24:    Energy =   0.1073
Level     1,  Iter    25:    Energy =   0.1072
Level     1,  Iter    26:    Energy =   0.1076
Level     1,  Iter    27:    Energy =   0.1072
Level     1,  Iter    28:    Energy =   0.1076
Level     1,  Iter    29:    Energy =   0.1076
Level     1,  Iter    30:    Energy =   0.1080
Level     1,  Iter    31:    Energy =   0.1075
Level     1,  Iter    32:    Energy =   0.1079
Level     1,  Iter    33:    Energy =   0.1081
Level     1,  Iter    34:    Energy =   0.1083
Level     1,  Iter    35:    Energy =   0.1079
Level     1,  Iter    36:    Energy =   0.1082
Level     1,  Iter    37:    Energy =   0.1082
Level     1,  Iter    38:    Energy =   0.1086
Level     1,  Iter    39:    Energy =   0.1081
Level     1,  Iter    40:    Energy =   0.1086
Level     1,  Iter    41:    Energy =   0.1086
Level     1,  Iter    42:    Energy =   0.1090
Level     1,  Iter    43:    Energy =   0.1085
Level     1,  Iter    44:    Energy =   0.1089
Level     1,  Iter    45:    Energy =   0.1091
Level     1,  Iter    46:    Energy =   0.1095
Level     1,  Iter    47:    Energy =   0.1089
Level     1,  Iter    48:    Energy =   0.1093
Level     1,  Iter    49:    Energy =   0.1098
Level     1,  Iter    50:    Energy =   0.1099
Level     1,  Iter    51:    Energy =   0.1093
Level     1,  Iter    52:    Energy =   0.1096
Level     1,  Iter    53:    Energy =   0.1097
Level     1,  Iter    54:    Energy =   0.1097
Level     1,  Iter    55:    Energy =   0.1095
Level     1,  Iter    56:    Energy =   0.1096
Level     1,  Iter    57:    Energy =   0.1095
Level     1,  Iter    58:    Energy =   0.1096
Level     1,  Iter    59:    Energy =   0.1095
END OF LEVEL     1    DetJac Range:   0.0337  to   4.6642 
  Avg. Gradient Time  : 0.0473s  32.65% 
  Avg. Gaussian Time  : 0.0788s  54.37% 
  Avg. Iteration Time : 0.1449s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0554
Level     2,  Iter     1:    Energy =   0.0574
Level     2,  Iter     2:    Energy =   0.0591
Level     2,  Iter     3:    Energy =   0.0606
Level     2,  Iter     4:    Energy =   0.0617
Level     2,  Iter     5:    Energy =   0.0628
Level     2,  Iter     6:    Energy =   0.0637
Level     2,  Iter     7:    Energy =   0.0646
Level     2,  Iter     8:    Energy =   0.0653
Level     2,  Iter     9:    Energy =   0.0659
Level     2,  Iter    10:    Energy =   0.0664
Level     2,  Iter    11:    Energy =   0.0668
Level     2,  Iter    12:    Energy =   0.0673
Level     2,  Iter    13:    Energy =   0.0677
Level     2,  Iter    14:    Energy =   0.0682
Level     2,  Iter    15:    Energy =   0.0686
Level     2,  Iter    16:    Energy =   0.0689
Level     2,  Iter    17:    Energy =   0.0693
Level     2,  Iter    18:    Energy =   0.0696
Level     2,  Iter    19:    Energy =   0.0698
END OF LEVEL     2    DetJac Range:   0.0558  to   4.0584 
  Avg. Gradient Time  : 0.3329s  30.78% 
  Avg. Gaussian Time  : 0.5998s  55.45% 
  Avg. Iteration Time : 1.0816s 

real	0m37.103s
user	1m7.940s
sys	0m1.464s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.280769 0.286538
+ echo 'CHUNK 0.280769 0.286538 1'
CHUNK 0.280769 0.286538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.280769 0.286538 1
====================================
         PROGRESS: 0.280769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.771967
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3623.46   GNORM= 544.63
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3685.663     119.021       0.000
   2    4     -3690.937      97.228       1.000
   3    5     -3704.243      92.225       1.000
   4    6     -3721.038     133.362       1.000
   5    7     -3734.841     138.728       1.000
   6    8     -3747.762      79.038       1.000
   7    9     -3759.199     118.515       1.000
   8   10     -3767.408      85.787       1.000
   9   11     -3776.321      23.073       1.000
  10   12     -3777.933      27.506       1.000
  11   13     -3779.124      27.556       1.000
  12   14     -3779.331      81.630       1.000
  13   15     -3780.930      28.315       1.000
  14   16     -3781.292      20.182       1.000
  15   18     -3781.644      32.361       0.431
  16   19     -3781.905      14.547       1.000
  17   20     -3782.092      16.622       1.000
  18   22     -3782.417      27.469       5.000
  19   23     -3782.920      14.484       1.000
  20   24     -3783.256      17.676       1.000
  21   25     -3783.444       9.723       1.000
  22   26     -3783.473       7.699       1.000
  23   27     -3783.502       5.769       1.000
  24   28     -3783.513      12.311       1.000
  25   29     -3783.591      13.738       1.000
  26   30     -3783.665       9.878       1.000
  27   32     -3783.678      11.461       0.300
  28   35     -3783.759       9.514       2.901
  29   37     -3783.762       5.706       0.139
  30   38     -3783.772       5.266       1.000
  31   40     -3783.795       5.039       0.296
  32   41     -3783.795       5.498       1.000
  33   42     -3783.806       3.267       1.000
  34   43     -3783.807       2.962       1.000
  35   45     -3783.808       7.177       0.148
  36   47     -3783.826       3.338       5.000
  37   48     -3783.835       4.080       1.000
  38   49     -3783.852       5.492       1.000
  39   51     -3783.853       7.773       0.188
  40   52     -3783.863       4.592       1.000
  41   53     -3783.884       2.666       1.000
  42   54     -3783.891       6.696       1.000
  43   55     -3783.898       2.125       1.000
  44   56     -3783.903       2.429       1.000
  45   58     -3783.904       2.477       0.333
  46   59     -3783.907       2.127       1.000
  47   60     -3783.914       3.278       1.000
  48   61     -3783.915       2.398       1.000
Final RAS Transform: 
0.968539 -0.0139942 0.0343521 -0.779062 
0.00681737 1.00912 0.0319479 0.487799 
-0.00766587 0.00429271 1.03823 -0.0383056 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2625.35   GNORM= 52.516
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2628.974      50.782       0.002
   2    4     -2631.136      64.250       1.000
   3    5     -2633.518      55.845       1.000
   4    6     -2641.037      71.926       1.000
   5    7     -2643.161      24.033       1.000
   6    8     -2643.452      16.518       1.000
   7    9     -2643.905      20.250       1.000
   8   10     -2645.381      38.579       1.000
   9   11     -2646.423      36.611       1.000
  10   12     -2646.510      52.520       1.000
  11   13     -2647.254      13.017       1.000
  12   14     -2647.343       9.518       1.000
  13   15     -2647.469       7.884       1.000
  14   16     -2647.625      17.998       1.000
  15   17     -2647.918      22.441       1.000
  16   18     -2649.640      18.310       1.000
  17   20     -2649.957      21.246       0.189
  18   21     -2650.317       8.187       1.000
  19   22     -2650.345       5.126       1.000
  20   23     -2650.389       6.725       1.000
  21   24     -2650.427       8.468       1.000
  22   25     -2650.565       9.072       1.000
  23   26     -2650.623       6.910       1.000
  24   27     -2650.631       3.161       1.000
  25   28     -2650.638       1.846       1.000
  26   30     -2650.650       4.105       5.000
  27   31     -2650.660       3.960       1.000
  28   32     -2650.665       3.230       1.000
  29   33     -2650.667       2.220       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.966488 -0.00850606 0.010278 -0.951116 
0.00534411 0.995459 0.0190602 0.234835 
-0.00548155 0.00947517 1.03756 0.0302932 
0 0 0 1 

Final RAS Transform: 
0.966488 -0.00850606 0.010278 -0.951116 
0.00534411 0.995459 0.0190602 0.234835 
-0.00548155 0.00947517 1.03756 0.0302932 
0 0 0 1 


real	0m9.512s
user	0m16.436s
sys	0m0.492s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.788949
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1104
Level     0,  Iter     1:    Energy =   0.1171
Level     0,  Iter     2:    Energy =   0.1239
Level     0,  Iter     3:    Energy =   0.1288
Level     0,  Iter     4:    Energy =   0.1315
Level     0,  Iter     5:    Energy =   0.1337
Level     0,  Iter     6:    Energy =   0.1350
Level     0,  Iter     7:    Energy =   0.1369
Level     0,  Iter     8:    Energy =   0.1376
Level     0,  Iter     9:    Energy =   0.1393
Level     0,  Iter    10:    Energy =   0.1398
Level     0,  Iter    11:    Energy =   0.1411
Level     0,  Iter    12:    Energy =   0.1415
Level     0,  Iter    13:    Energy =   0.1423
Level     0,  Iter    14:    Energy =   0.1426
Level     0,  Iter    15:    Energy =   0.1434
Level     0,  Iter    16:    Energy =   0.1439
Level     0,  Iter    17:    Energy =   0.1444
Level     0,  Iter    18:    Energy =   0.1445
Level     0,  Iter    19:    Energy =   0.1447
Level     0,  Iter    20:    Energy =   0.1448
Level     0,  Iter    21:    Energy =   0.1452
Level     0,  Iter    22:    Energy =   0.1451
Level     0,  Iter    23:    Energy =   0.1451
Level     0,  Iter    24:    Energy =   0.1450
Level     0,  Iter    25:    Energy =   0.1453
Level     0,  Iter    26:    Energy =   0.1452
Level     0,  Iter    27:    Energy =   0.1453
Level     0,  Iter    28:    Energy =   0.1452
Level     0,  Iter    29:    Energy =   0.1456
Level     0,  Iter    30:    Energy =   0.1455
Level     0,  Iter    31:    Energy =   0.1458
Level     0,  Iter    32:    Energy =   0.1457
Level     0,  Iter    33:    Energy =   0.1456
Level     0,  Iter    34:    Energy =   0.1456
Level     0,  Iter    35:    Energy =   0.1458
Level     0,  Iter    36:    Energy =   0.1457
Level     0,  Iter    37:    Energy =   0.1460
Level     0,  Iter    38:    Energy =   0.1459
Level     0,  Iter    39:    Energy =   0.1458
Level     0,  Iter    40:    Energy =   0.1458
Level     0,  Iter    41:    Energy =   0.1461
Level     0,  Iter    42:    Energy =   0.1460
Level     0,  Iter    43:    Energy =   0.1460
Level     0,  Iter    44:    Energy =   0.1460
Level     0,  Iter    45:    Energy =   0.1462
Level     0,  Iter    46:    Energy =   0.1461
Level     0,  Iter    47:    Energy =   0.1462
Level     0,  Iter    48:    Energy =   0.1461
Level     0,  Iter    49:    Energy =   0.1461
Level     0,  Iter    50:    Energy =   0.1460
Level     0,  Iter    51:    Energy =   0.1461
Level     0,  Iter    52:    Energy =   0.1461
Level     0,  Iter    53:    Energy =   0.1460
Level     0,  Iter    54:    Energy =   0.1459
Level     0,  Iter    55:    Energy =   0.1461
Level     0,  Iter    56:    Energy =   0.1460
Level     0,  Iter    57:    Energy =   0.1460
Level     0,  Iter    58:    Energy =   0.1460
Level     0,  Iter    59:    Energy =   0.1460
END OF LEVEL     0    DetJac Range:   0.4279  to   1.9409 
  Avg. Gradient Time  : 0.0073s  34.55% 
  Avg. Gaussian Time  : 0.0105s  49.84% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0961
Level     1,  Iter     1:    Energy =   0.1015
Level     1,  Iter     2:    Energy =   0.1050
Level     1,  Iter     3:    Energy =   0.1081
Level     1,  Iter     4:    Energy =   0.1114
Level     1,  Iter     5:    Energy =   0.1140
Level     1,  Iter     6:    Energy =   0.1165
Level     1,  Iter     7:    Energy =   0.1184
Level     1,  Iter     8:    Energy =   0.1201
Level     1,  Iter     9:    Energy =   0.1211
Level     1,  Iter    10:    Energy =   0.1221
Level     1,  Iter    11:    Energy =   0.1227
Level     1,  Iter    12:    Energy =   0.1230
Level     1,  Iter    13:    Energy =   0.1234
Level     1,  Iter    14:    Energy =   0.1234
Level     1,  Iter    15:    Energy =   0.1236
Level     1,  Iter    16:    Energy =   0.1239
Level     1,  Iter    17:    Energy =   0.1244
Level     1,  Iter    18:    Energy =   0.1248
Level     1,  Iter    19:    Energy =   0.1252
Level     1,  Iter    20:    Energy =   0.1256
Level     1,  Iter    21:    Energy =   0.1259
Level     1,  Iter    22:    Energy =   0.1257
Level     1,  Iter    23:    Energy =   0.1261
Level     1,  Iter    24:    Energy =   0.1262
Level     1,  Iter    25:    Energy =   0.1265
Level     1,  Iter    26:    Energy =   0.1264
Level     1,  Iter    27:    Energy =   0.1267
Level     1,  Iter    28:    Energy =   0.1267
Level     1,  Iter    29:    Energy =   0.1270
Level     1,  Iter    30:    Energy =   0.1268
Level     1,  Iter    31:    Energy =   0.1270
Level     1,  Iter    32:    Energy =   0.1270
Level     1,  Iter    33:    Energy =   0.1272
Level     1,  Iter    34:    Energy =   0.1272
Level     1,  Iter    35:    Energy =   0.1273
Level     1,  Iter    36:    Energy =   0.1275
Level     1,  Iter    37:    Energy =   0.1276
Level     1,  Iter    38:    Energy =   0.1275
Level     1,  Iter    39:    Energy =   0.1277
Level     1,  Iter    40:    Energy =   0.1278
Level     1,  Iter    41:    Energy =   0.1279
Level     1,  Iter    42:    Energy =   0.1278
Level     1,  Iter    43:    Energy =   0.1279
Level     1,  Iter    44:    Energy =   0.1280
Level     1,  Iter    45:    Energy =   0.1281
Level     1,  Iter    46:    Energy =   0.1279
Level     1,  Iter    47:    Energy =   0.1281
Level     1,  Iter    48:    Energy =   0.1281
Level     1,  Iter    49:    Energy =   0.1283
Level     1,  Iter    50:    Energy =   0.1283
Level     1,  Iter    51:    Energy =   0.1283
Level     1,  Iter    52:    Energy =   0.1282
Level     1,  Iter    53:    Energy =   0.1284
Level     1,  Iter    54:    Energy =   0.1284
Level     1,  Iter    55:    Energy =   0.1285
Level     1,  Iter    56:    Energy =   0.1284
Level     1,  Iter    57:    Energy =   0.1286
Level     1,  Iter    58:    Energy =   0.1285
Level     1,  Iter    59:    Energy =   0.1286
END OF LEVEL     1    DetJac Range:   0.1670  to   3.7879 
  Avg. Gradient Time  : 0.0416s  32.86% 
  Avg. Gaussian Time  : 0.0687s  54.33% 
  Avg. Iteration Time : 0.1265s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0670
Level     2,  Iter     1:    Energy =   0.0698
Level     2,  Iter     2:    Energy =   0.0723
Level     2,  Iter     3:    Energy =   0.0747
Level     2,  Iter     4:    Energy =   0.0765
Level     2,  Iter     5:    Energy =   0.0780
Level     2,  Iter     6:    Energy =   0.0797
Level     2,  Iter     7:    Energy =   0.0813
Level     2,  Iter     8:    Energy =   0.0825
Level     2,  Iter     9:    Energy =   0.0835
Level     2,  Iter    10:    Energy =   0.0845
Level     2,  Iter    11:    Energy =   0.0855
Level     2,  Iter    12:    Energy =   0.0863
Level     2,  Iter    13:    Energy =   0.0861
Level     2,  Iter    14:    Energy =   0.0869
Level     2,  Iter    15:    Energy =   0.0868
Level     2,  Iter    16:    Energy =   0.0875
Level     2,  Iter    17:    Energy =   0.0873
Level     2,  Iter    18:    Energy =   0.0879
Level     2,  Iter    19:    Energy =   0.0877
END OF LEVEL     2    DetJac Range:   0.1159  to   4.7552 
  Avg. Gradient Time  : 0.2956s  30.99% 
  Avg. Gaussian Time  : 0.5283s  55.38% 
  Avg. Iteration Time : 0.9539s 

real	0m32.618s
user	0m59.256s
sys	0m1.492s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.286538 0.292308
+ echo 'CHUNK 0.286538 0.292308 1'
CHUNK 0.286538 0.292308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.286538 0.292308 1
====================================
         PROGRESS: 0.286538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.696052
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2964.14   GNORM= 394.593
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3013.618     239.983       0.001
   2    4     -3037.882     169.813       1.000
   3    5     -3068.052     103.598       1.000
   4    6     -3083.745      95.572       1.000
   5    7     -3102.823      77.325       1.000
   6    8     -3117.308     107.197       1.000
   7    9     -3123.353      72.970       1.000
   8   10     -3126.113      38.631       1.000
   9   11     -3126.635      22.833       1.000
  10   12     -3127.124      22.564       1.000
  11   13     -3129.199      47.688       1.000
  12   14     -3131.439      41.848       1.000
  13   15     -3133.730      42.599       1.000
  14   16     -3134.984      50.818       1.000
  15   17     -3135.961      17.285       1.000
  16   18     -3136.242      22.685       1.000
  17   19     -3136.538      23.439       1.000
  18   20     -3136.964      22.683       1.000
  19   21     -3137.840      11.249       1.000
  20   22     -3138.342      13.489       1.000
  21   24     -3138.675      12.161       0.399
  22   26     -3138.773       8.830       0.428
  23   27     -3138.806      20.864       1.000
  24   28     -3138.883       7.781       1.000
  25   29     -3138.886       6.474       1.000
  26   30     -3138.899       4.402       1.000
  27   32     -3138.905       7.903       0.326
  28   33     -3138.930       5.392       1.000
  29   34     -3139.003       6.606       1.000
  30   35     -3139.079      11.187       1.000
  31   36     -3139.194       8.709       1.000
  32   38     -3139.224      17.673       0.101
  33   39     -3139.272       9.189       1.000
  34   40     -3139.349       3.780       1.000
  35   42     -3139.360       4.413       0.219
  36   43     -3139.374       4.380       1.000
  37   45     -3139.391      15.755       0.323
  38   46     -3139.427      11.019       1.000
  39   47     -3139.465       5.274       1.000
  40   48     -3139.466       2.874       1.000
  41   49     -3139.482       3.198       1.000
Final RAS Transform: 
0.978528 -0.00773202 -0.00696028 -0.316449 
0.0403236 1.00934 0.0382415 0.968617 
-0.0102641 0.00655306 1.01755 0.136395 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2305.25   GNORM= 51.7436
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2307.411      31.969       0.001
   2    4     -2308.640      30.612       1.000
   3    5     -2309.041      51.034       1.000
   4    6     -2309.881      22.593       1.000
   5    7     -2310.424      19.620       1.000
   6    8     -2311.214      24.143       1.000
   7    9     -2311.938      18.588       1.000
   8   10     -2312.340      13.917       1.000
   9   11     -2313.025      23.237       1.000
  10   12     -2314.771      31.038       1.000
  11   13     -2316.198      41.534       1.000
  12   14     -2317.740      56.549       1.000
  13   15     -2318.844      19.159       1.000
  14   16     -2319.138      12.111       1.000
  15   17     -2319.329      15.628       1.000
  16   18     -2319.635      22.522       1.000
  17   19     -2320.169      11.307       1.000
  18   20     -2320.929       7.248       1.000
  19   22     -2321.376      21.590       0.419
  20   23     -2321.493      35.004       1.000
  21   24     -2321.888       9.823       1.000
  22   25     -2321.924       4.706       1.000
  23   26     -2321.953       5.672       1.000
  24   27     -2321.963       5.313       1.000
  25   28     -2321.998       4.443       1.000
  26   29     -2322.103       3.191       1.000
  27   31     -2322.133      10.303       0.090
  28   32     -2322.220       6.874       1.000
  29   33     -2322.225      10.797       1.000
  30   34     -2322.262       2.990       1.000
  31   35     -2322.280       2.378       1.000
  32   36     -2322.318       4.222       1.000
  33   38     -2322.331       4.851       0.338
  34   39     -2322.336       6.599       1.000
  35   40     -2322.355       3.403       1.000
  36   41     -2322.375       3.462       1.000
  37   42     -2322.413       7.579       1.000
  38   43     -2322.425       4.520       1.000
  39   44     -2322.436       2.955       1.000
  40   45     -2322.442       1.347       1.000
  41   47     -2322.447       1.614       0.501
  42   48     -2322.454       1.292       1.000
  43   49     -2322.455       1.320       1.000
  44   51     -2322.456       4.031       0.230
  45   52     -2322.465       1.916       1.000
  46   53     -2322.469       1.139       1.000
  47   54     -2322.472       1.018       1.000
Final RAS Transform: 
0.983398 -0.0119987 -0.0260172 -0.403672 
0.030608 0.99946 0.0168835 0.526768 
0.0063724 0.00924556 1.0222 0.626835 
0 0 0 1 

Final RAS Transform: 
0.983398 -0.0119987 -0.0260172 -0.403672 
0.030608 0.99946 0.0168835 0.526768 
0.0063724 0.00924556 1.0222 0.626835 
0 0 0 1 


real	0m9.452s
user	0m16.472s
sys	0m0.508s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.698909
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0915
Level     0,  Iter     1:    Energy =   0.0991
Level     0,  Iter     2:    Energy =   0.1044
Level     0,  Iter     3:    Energy =   0.1085
Level     0,  Iter     4:    Energy =   0.1107
Level     0,  Iter     5:    Energy =   0.1121
Level     0,  Iter     6:    Energy =   0.1141
Level     0,  Iter     7:    Energy =   0.1148
Level     0,  Iter     8:    Energy =   0.1162
Level     0,  Iter     9:    Energy =   0.1166
Level     0,  Iter    10:    Energy =   0.1176
Level     0,  Iter    11:    Energy =   0.1179
Level     0,  Iter    12:    Energy =   0.1188
Level     0,  Iter    13:    Energy =   0.1189
Level     0,  Iter    14:    Energy =   0.1197
Level     0,  Iter    15:    Energy =   0.1198
Level     0,  Iter    16:    Energy =   0.1203
Level     0,  Iter    17:    Energy =   0.1203
Level     0,  Iter    18:    Energy =   0.1208
Level     0,  Iter    19:    Energy =   0.1207
Level     0,  Iter    20:    Energy =   0.1212
Level     0,  Iter    21:    Energy =   0.1211
Level     0,  Iter    22:    Energy =   0.1215
Level     0,  Iter    23:    Energy =   0.1214
Level     0,  Iter    24:    Energy =   0.1218
Level     0,  Iter    25:    Energy =   0.1217
Level     0,  Iter    26:    Energy =   0.1222
Level     0,  Iter    27:    Energy =   0.1221
Level     0,  Iter    28:    Energy =   0.1225
Level     0,  Iter    29:    Energy =   0.1223
Level     0,  Iter    30:    Energy =   0.1228
Level     0,  Iter    31:    Energy =   0.1225
Level     0,  Iter    32:    Energy =   0.1229
Level     0,  Iter    33:    Energy =   0.1227
Level     0,  Iter    34:    Energy =   0.1232
Level     0,  Iter    35:    Energy =   0.1230
Level     0,  Iter    36:    Energy =   0.1235
Level     0,  Iter    37:    Energy =   0.1232
Level     0,  Iter    38:    Energy =   0.1236
Level     0,  Iter    39:    Energy =   0.1234
Level     0,  Iter    40:    Energy =   0.1239
Level     0,  Iter    41:    Energy =   0.1237
Level     0,  Iter    42:    Energy =   0.1241
Level     0,  Iter    43:    Energy =   0.1238
Level     0,  Iter    44:    Energy =   0.1242
Level     0,  Iter    45:    Energy =   0.1239
Level     0,  Iter    46:    Energy =   0.1242
Level     0,  Iter    47:    Energy =   0.1240
Level     0,  Iter    48:    Energy =   0.1244
Level     0,  Iter    49:    Energy =   0.1242
Level     0,  Iter    50:    Energy =   0.1245
Level     0,  Iter    51:    Energy =   0.1242
Level     0,  Iter    52:    Energy =   0.1246
Level     0,  Iter    53:    Energy =   0.1244
Level     0,  Iter    54:    Energy =   0.1247
Level     0,  Iter    55:    Energy =   0.1244
Level     0,  Iter    56:    Energy =   0.1247
Level     0,  Iter    57:    Energy =   0.1245
Level     0,  Iter    58:    Energy =   0.1249
Level     0,  Iter    59:    Energy =   0.1246
END OF LEVEL     0    DetJac Range:   0.3088  to   2.4902 
  Avg. Gradient Time  : 0.0073s  34.56% 
  Avg. Gaussian Time  : 0.0105s  49.91% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0859
Level     1,  Iter     1:    Energy =   0.0912
Level     1,  Iter     2:    Energy =   0.0951
Level     1,  Iter     3:    Energy =   0.0982
Level     1,  Iter     4:    Energy =   0.1014
Level     1,  Iter     5:    Energy =   0.1041
Level     1,  Iter     6:    Energy =   0.1066
Level     1,  Iter     7:    Energy =   0.1085
Level     1,  Iter     8:    Energy =   0.1100
Level     1,  Iter     9:    Energy =   0.1111
Level     1,  Iter    10:    Energy =   0.1120
Level     1,  Iter    11:    Energy =   0.1128
Level     1,  Iter    12:    Energy =   0.1136
Level     1,  Iter    13:    Energy =   0.1144
Level     1,  Iter    14:    Energy =   0.1143
Level     1,  Iter    15:    Energy =   0.1151
Level     1,  Iter    16:    Energy =   0.1155
Level     1,  Iter    17:    Energy =   0.1160
Level     1,  Iter    18:    Energy =   0.1158
Level     1,  Iter    19:    Energy =   0.1164
Level     1,  Iter    20:    Energy =   0.1165
Level     1,  Iter    21:    Energy =   0.1171
Level     1,  Iter    22:    Energy =   0.1167
Level     1,  Iter    23:    Energy =   0.1173
Level     1,  Iter    24:    Energy =   0.1173
Level     1,  Iter    25:    Energy =   0.1178
Level     1,  Iter    26:    Energy =   0.1174
Level     1,  Iter    27:    Energy =   0.1180
Level     1,  Iter    28:    Energy =   0.1181
Level     1,  Iter    29:    Energy =   0.1179
Level     1,  Iter    30:    Energy =   0.1181
Level     1,  Iter    31:    Energy =   0.1181
Level     1,  Iter    32:    Energy =   0.1179
Level     1,  Iter    33:    Energy =   0.1184
Level     1,  Iter    34:    Energy =   0.1181
Level     1,  Iter    35:    Energy =   0.1185
Level     1,  Iter    36:    Energy =   0.1184
Level     1,  Iter    37:    Energy =   0.1184
Level     1,  Iter    38:    Energy =   0.1185
Level     1,  Iter    39:    Energy =   0.1187
Level     1,  Iter    40:    Energy =   0.1184
Level     1,  Iter    41:    Energy =   0.1188
Level     1,  Iter    42:    Energy =   0.1188
Level     1,  Iter    43:    Energy =   0.1189
Level     1,  Iter    44:    Energy =   0.1186
Level     1,  Iter    45:    Energy =   0.1189
Level     1,  Iter    46:    Energy =   0.1189
Level     1,  Iter    47:    Energy =   0.1188
Level     1,  Iter    48:    Energy =   0.1189
Level     1,  Iter    49:    Energy =   0.1190
Level     1,  Iter    50:    Energy =   0.1188
Level     1,  Iter    51:    Energy =   0.1190
Level     1,  Iter    52:    Energy =   0.1190
Level     1,  Iter    53:    Energy =   0.1190
Level     1,  Iter    54:    Energy =   0.1190
Level     1,  Iter    55:    Energy =   0.1191
Level     1,  Iter    56:    Energy =   0.1190
Level     1,  Iter    57:    Energy =   0.1192
Level     1,  Iter    58:    Energy =   0.1191
Level     1,  Iter    59:    Energy =   0.1191
END OF LEVEL     1    DetJac Range:   0.0743  to   4.0480 
  Avg. Gradient Time  : 0.0416s  32.85% 
  Avg. Gaussian Time  : 0.0688s  54.33% 
  Avg. Iteration Time : 0.1267s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0635
Level     2,  Iter     1:    Energy =   0.0659
Level     2,  Iter     2:    Energy =   0.0682
Level     2,  Iter     3:    Energy =   0.0707
Level     2,  Iter     4:    Energy =   0.0728
Level     2,  Iter     5:    Energy =   0.0746
Level     2,  Iter     6:    Energy =   0.0758
Level     2,  Iter     7:    Energy =   0.0770
Level     2,  Iter     8:    Energy =   0.0784
Level     2,  Iter     9:    Energy =   0.0795
Level     2,  Iter    10:    Energy =   0.0805
Level     2,  Iter    11:    Energy =   0.0812
Level     2,  Iter    12:    Energy =   0.0815
Level     2,  Iter    13:    Energy =   0.0816
Level     2,  Iter    14:    Energy =   0.0821
Level     2,  Iter    15:    Energy =   0.0822
Level     2,  Iter    16:    Energy =   0.0826
Level     2,  Iter    17:    Energy =   0.0826
Level     2,  Iter    18:    Energy =   0.0831
Level     2,  Iter    19:    Energy =   0.0830
END OF LEVEL     2    DetJac Range:   0.0503  to   5.8066 
  Avg. Gradient Time  : 0.2948s  30.96% 
  Avg. Gaussian Time  : 0.5279s  55.44% 
  Avg. Iteration Time : 0.9522s 

real	0m32.564s
user	0m59.204s
sys	0m1.480s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.292308 0.298077
+ echo 'CHUNK 0.292308 0.298077 1'
CHUNK 0.292308 0.298077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.292308 0.298077 1
====================================
         PROGRESS: 0.292308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.410941
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2998.16   GNORM= 508.958
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3056.874     133.301       0.000
   2    4     -3064.322     107.786       1.000
   3    5     -3075.613      78.427       1.000
   4    6     -3081.574      65.589       1.000
   5    7     -3090.976      71.333       1.000
   6    8     -3112.825     121.559       1.000
   7    9     -3127.118     129.453       1.000
   8   10     -3140.739      58.407       1.000
   9   11     -3148.943      65.187       1.000
  10   12     -3157.438      61.667       1.000
  11   13     -3162.636      37.061       1.000
  12   14     -3167.690      29.112       1.000
  13   15     -3170.286      81.005       1.000
  14   16     -3170.363      76.231       1.000
  15   17     -3172.155      25.513       1.000
  16   18     -3172.382      17.269       1.000
  17   19     -3172.507      15.247       1.000
  18   20     -3173.000      23.066       1.000
  19   21     -3173.004      30.991       1.000
  20   23     -3173.317      20.608       0.295
  21   24     -3173.655      12.703       1.000
  22   25     -3173.851      24.684       1.000
  23   26     -3174.158      11.546       1.000
  24   27     -3174.473      20.607       1.000
  25   28     -3174.693      13.982       1.000
  26   29     -3174.879      14.426       1.000
  27   30     -3175.069       7.205       1.000
  28   31     -3175.122       7.123       1.000
  29   32     -3175.211       9.473       1.000
  30   33     -3175.308      20.464       1.000
  31   34     -3175.562      18.230       1.000
  32   35     -3175.692      10.744       1.000
  33   36     -3175.824      15.040       1.000
  34   37     -3175.857      16.637       1.000
  35   38     -3175.887       9.198       1.000
  36   39     -3175.921       6.307       1.000
  37   42     -3175.923       5.821       0.105
  38   43     -3175.929       9.501       1.000
  39   44     -3175.936       5.402       1.000
  40   45     -3175.938       8.004       1.000
  41   46     -3175.952       4.207       1.000
  42   47     -3175.970       7.492       1.000
  43   48     -3175.972       2.144       1.000
  44   50     -3175.988       5.900       5.000
  45   52     -3175.990       3.914       0.187
  46   54     -3175.991       2.917       0.188
Final RAS Transform: 
0.933544 -0.00874117 0.0479512 -1.77173 
0.0324023 1.00129 -0.0017355 0.514767 
-0.0218587 0.0045568 1.03527 -0.365763 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2162.59   GNORM= 138.283
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2177.705      49.669       0.001
   2    4     -2180.348      59.610       1.000
   3    5     -2183.401      52.957       1.000
   4    6     -2190.570      56.572       1.000
   5    7     -2198.732      56.264       1.000
   6    8     -2212.315      54.454       1.000
   7   10     -2216.449      38.847       0.418
   8   11     -2219.006      24.960       1.000
   9   12     -2219.650      47.161       1.000
  10   13     -2220.480      17.938       1.000
  11   14     -2220.969      19.668       1.000
  12   15     -2221.880      26.751       1.000
  13   16     -2224.088      43.908       1.000
  14   17     -2227.797      65.004       1.000
  15   18     -2228.321      74.329       1.000
  16   19     -2230.901      23.911       1.000
  17   20     -2231.745      13.410       1.000
  18   21     -2232.302      18.379       1.000
  19   22     -2232.798      12.652       1.000
  20   23     -2234.331      36.290       1.000
  21   24     -2235.714      32.992       1.000
  22   25     -2237.624      25.661       1.000
  23   26     -2238.444      24.732       1.000
  24   27     -2238.932      17.012       1.000
  25   28     -2239.248      16.642       1.000
  26   29     -2239.444      15.172       1.000
  27   30     -2239.675       9.205       1.000
  28   31     -2239.759      24.692       1.000
  29   32     -2239.969       5.025       1.000
  30   33     -2239.991       3.790       1.000
  31   34     -2240.000      12.454       1.000
  32   35     -2240.045      10.756       1.000
  33   37     -2240.075       4.727       0.125
  34   38     -2240.094       4.588       1.000
  35   39     -2240.188      28.018       1.000
  36   40     -2240.440       9.251       1.000
  37   41     -2240.576       4.080       1.000
  38   42     -2240.655      11.425       1.000
  39   43     -2240.797      11.916       1.000
  40   44     -2240.846       7.104       1.000
  41   45     -2240.882       4.855       1.000
  42   46     -2240.920       5.156       1.000
  43   47     -2240.986       8.490       1.000
  44   48     -2241.065       6.515       1.000
  45   49     -2241.123       5.301       1.000
  46   50     -2241.205      14.854       1.000
  47   51     -2241.294      11.350       1.000
  48   52     -2241.333       2.597       1.000
  49   54     -2241.337       2.472       0.147
Final RAS Transform: 
0.978176 -0.00660769 0.00941729 -0.401846 
0.0225437 1.00164 0.0242867 0.381554 
-0.00973179 0.00600182 1.03571 0.0573773 
0 0 0 1 

Final RAS Transform: 
0.978176 -0.00660769 0.00941729 -0.401846 
0.0225437 1.00164 0.0242867 0.381554 
-0.00973179 0.00600182 1.03571 0.0573773 
0 0 0 1 


real	0m10.492s
user	0m18.240s
sys	0m0.588s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.423993
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0905
Level     0,  Iter     1:    Energy =   0.0989
Level     0,  Iter     2:    Energy =   0.1065
Level     0,  Iter     3:    Energy =   0.1113
Level     0,  Iter     4:    Energy =   0.1146
Level     0,  Iter     5:    Energy =   0.1162
Level     0,  Iter     6:    Energy =   0.1174
Level     0,  Iter     7:    Energy =   0.1181
Level     0,  Iter     8:    Energy =   0.1192
Level     0,  Iter     9:    Energy =   0.1196
Level     0,  Iter    10:    Energy =   0.1205
Level     0,  Iter    11:    Energy =   0.1208
Level     0,  Iter    12:    Energy =   0.1215
Level     0,  Iter    13:    Energy =   0.1217
Level     0,  Iter    14:    Energy =   0.1224
Level     0,  Iter    15:    Energy =   0.1226
Level     0,  Iter    16:    Energy =   0.1232
Level     0,  Iter    17:    Energy =   0.1233
Level     0,  Iter    18:    Energy =   0.1238
Level     0,  Iter    19:    Energy =   0.1239
Level     0,  Iter    20:    Energy =   0.1245
Level     0,  Iter    21:    Energy =   0.1245
Level     0,  Iter    22:    Energy =   0.1247
Level     0,  Iter    23:    Energy =   0.1247
Level     0,  Iter    24:    Energy =   0.1253
Level     0,  Iter    25:    Energy =   0.1253
Level     0,  Iter    26:    Energy =   0.1258
Level     0,  Iter    27:    Energy =   0.1259
Level     0,  Iter    28:    Energy =   0.1266
Level     0,  Iter    29:    Energy =   0.1264
Level     0,  Iter    30:    Energy =   0.1265
Level     0,  Iter    31:    Energy =   0.1263
Level     0,  Iter    32:    Energy =   0.1269
Level     0,  Iter    33:    Energy =   0.1267
Level     0,  Iter    34:    Energy =   0.1271
Level     0,  Iter    35:    Energy =   0.1270
Level     0,  Iter    36:    Energy =   0.1276
Level     0,  Iter    37:    Energy =   0.1274
Level     0,  Iter    38:    Energy =   0.1274
Level     0,  Iter    39:    Energy =   0.1272
Level     0,  Iter    40:    Energy =   0.1276
Level     0,  Iter    41:    Energy =   0.1274
Level     0,  Iter    42:    Energy =   0.1279
Level     0,  Iter    43:    Energy =   0.1277
Level     0,  Iter    44:    Energy =   0.1281
Level     0,  Iter    45:    Energy =   0.1279
Level     0,  Iter    46:    Energy =   0.1285
Level     0,  Iter    47:    Energy =   0.1283
Level     0,  Iter    48:    Energy =   0.1288
Level     0,  Iter    49:    Energy =   0.1285
Level     0,  Iter    50:    Energy =   0.1287
Level     0,  Iter    51:    Energy =   0.1285
Level     0,  Iter    52:    Energy =   0.1289
Level     0,  Iter    53:    Energy =   0.1287
Level     0,  Iter    54:    Energy =   0.1289
Level     0,  Iter    55:    Energy =   0.1286
Level     0,  Iter    56:    Energy =   0.1289
Level     0,  Iter    57:    Energy =   0.1286
Level     0,  Iter    58:    Energy =   0.1289
Level     0,  Iter    59:    Energy =   0.1287
END OF LEVEL     0    DetJac Range:   0.2294  to   2.6298 
  Avg. Gradient Time  : 0.0074s  34.73% 
  Avg. Gaussian Time  : 0.0105s  49.65% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0844
Level     1,  Iter     1:    Energy =   0.0897
Level     1,  Iter     2:    Energy =   0.0926
Level     1,  Iter     3:    Energy =   0.0951
Level     1,  Iter     4:    Energy =   0.0972
Level     1,  Iter     5:    Energy =   0.0998
Level     1,  Iter     6:    Energy =   0.1029
Level     1,  Iter     7:    Energy =   0.1056
Level     1,  Iter     8:    Energy =   0.1075
Level     1,  Iter     9:    Energy =   0.1093
Level     1,  Iter    10:    Energy =   0.1102
Level     1,  Iter    11:    Energy =   0.1105
Level     1,  Iter    12:    Energy =   0.1104
Level     1,  Iter    13:    Energy =   0.1111
Level     1,  Iter    14:    Energy =   0.1110
Level     1,  Iter    15:    Energy =   0.1115
Level     1,  Iter    16:    Energy =   0.1115
Level     1,  Iter    17:    Energy =   0.1116
Level     1,  Iter    18:    Energy =   0.1117
Level     1,  Iter    19:    Energy =   0.1119
Level     1,  Iter    20:    Energy =   0.1120
Level     1,  Iter    21:    Energy =   0.1121
Level     1,  Iter    22:    Energy =   0.1122
Level     1,  Iter    23:    Energy =   0.1123
Level     1,  Iter    24:    Energy =   0.1124
Level     1,  Iter    25:    Energy =   0.1124
Level     1,  Iter    26:    Energy =   0.1125
Level     1,  Iter    27:    Energy =   0.1126
Level     1,  Iter    28:    Energy =   0.1126
Level     1,  Iter    29:    Energy =   0.1127
Level     1,  Iter    30:    Energy =   0.1127
Level     1,  Iter    31:    Energy =   0.1128
Level     1,  Iter    32:    Energy =   0.1128
Level     1,  Iter    33:    Energy =   0.1129
Level     1,  Iter    34:    Energy =   0.1129
Level     1,  Iter    35:    Energy =   0.1130
Level     1,  Iter    36:    Energy =   0.1130
Level     1,  Iter    37:    Energy =   0.1130
Level     1,  Iter    38:    Energy =   0.1130
Level     1,  Iter    39:    Energy =   0.1131
Level     1,  Iter    40:    Energy =   0.1130
Level     1,  Iter    41:    Energy =   0.1131
Level     1,  Iter    42:    Energy =   0.1131
Level     1,  Iter    43:    Energy =   0.1133
Level     1,  Iter    44:    Energy =   0.1132
Level     1,  Iter    45:    Energy =   0.1133
Level     1,  Iter    46:    Energy =   0.1132
Level     1,  Iter    47:    Energy =   0.1134
Level     1,  Iter    48:    Energy =   0.1133
Level     1,  Iter    49:    Energy =   0.1134
Level     1,  Iter    50:    Energy =   0.1133
Level     1,  Iter    51:    Energy =   0.1135
Level     1,  Iter    52:    Energy =   0.1134
Level     1,  Iter    53:    Energy =   0.1135
Level     1,  Iter    54:    Energy =   0.1134
Level     1,  Iter    55:    Energy =   0.1136
Level     1,  Iter    56:    Energy =   0.1134
Level     1,  Iter    57:    Energy =   0.1136
Level     1,  Iter    58:    Energy =   0.1135
Level     1,  Iter    59:    Energy =   0.1136
END OF LEVEL     1    DetJac Range:   0.1433  to   3.4062 
  Avg. Gradient Time  : 0.0418s  32.80% 
  Avg. Gaussian Time  : 0.0693s  54.36% 
  Avg. Iteration Time : 0.1276s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0575
Level     2,  Iter     1:    Energy =   0.0606
Level     2,  Iter     2:    Energy =   0.0632
Level     2,  Iter     3:    Energy =   0.0656
Level     2,  Iter     4:    Energy =   0.0677
Level     2,  Iter     5:    Energy =   0.0694
Level     2,  Iter     6:    Energy =   0.0709
Level     2,  Iter     7:    Energy =   0.0722
Level     2,  Iter     8:    Energy =   0.0733
Level     2,  Iter     9:    Energy =   0.0744
Level     2,  Iter    10:    Energy =   0.0755
Level     2,  Iter    11:    Energy =   0.0765
Level     2,  Iter    12:    Energy =   0.0775
Level     2,  Iter    13:    Energy =   0.0783
Level     2,  Iter    14:    Energy =   0.0792
Level     2,  Iter    15:    Energy =   0.0801
Level     2,  Iter    16:    Energy =   0.0808
Level     2,  Iter    17:    Energy =   0.0815
Level     2,  Iter    18:    Energy =   0.0821
Level     2,  Iter    19:    Energy =   0.0826
END OF LEVEL     2    DetJac Range:   0.0607  to   4.8524 
  Avg. Gradient Time  : 0.2969s  31.07% 
  Avg. Gaussian Time  : 0.5290s  55.36% 
  Avg. Iteration Time : 0.9557s 

real	0m32.754s
user	0m59.524s
sys	0m1.476s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.298077 0.303846
+ echo 'CHUNK 0.298077 0.303846 1'
CHUNK 0.298077 0.303846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.298077 0.303846 1
====================================
         PROGRESS: 0.298077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.628946
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3710.84   GNORM= 221.946
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3721.993     112.010       0.000
   2    4     -3727.591     113.830       1.000
   3    6     -3744.080     157.756       0.403
   4    8     -3820.708      83.354       5.000
   5    9     -3850.236      97.208       1.000
   6   11     -3856.756     109.802       0.254
   7   12     -3866.542     123.368       1.000
   8   13     -3870.882     109.498       1.000
   9   14     -3875.566      43.854       1.000
  10   15     -3883.787      62.705       1.000
  11   16     -3886.809      49.217       1.000
  12   17     -3889.263      30.048       1.000
  13   18     -3891.454      45.854       1.000
  14   19     -3893.044      57.931       1.000
  15   21     -3893.836      27.934       0.434
  16   22     -3894.340      40.781       1.000
  17   24     -3894.662      23.616       0.235
  18   25     -3894.859      12.643       1.000
  19   26     -3894.958      18.405       1.000
  20   27     -3895.260      13.368       1.000
  21   28     -3895.624      15.703       1.000
  22   29     -3895.813      34.731       1.000
  23   30     -3896.077      19.164       1.000
  24   31     -3896.362      12.880       1.000
  25   32     -3896.471      32.961       1.000
  26   33     -3896.696      16.800       1.000
  27   34     -3896.758       7.933       1.000
  28   35     -3896.816       7.758       1.000
  29   36     -3896.908      11.678       1.000
  30   37     -3896.970      15.901       1.000
  31   38     -3897.048       7.053       1.000
  32   39     -3897.109      10.881       1.000
  33   40     -3897.151      12.833       1.000
  34   41     -3897.202       7.646       1.000
  35   43     -3897.277      18.933       5.000
  36   44     -3897.364      10.108       1.000
  37   46     -3897.376       4.524       0.323
  38   47     -3897.407       6.108       1.000
  39   48     -3897.432       6.401       1.000
  40   49     -3897.446       5.331       1.000
  41   50     -3897.464       2.814       1.000
Final RAS Transform: 
0.946936 -0.0108005 0.0553449 -1.46486 
0.039225 0.995594 -0.0107907 0.674153 
-0.0154526 0.0149043 1.04163 0.237996 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2509.18   GNORM= 203.396
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2523.711     100.239       0.001
   2    4     -2527.885      45.562       1.000
   3    5     -2530.060      44.937       1.000
   4    6     -2534.061      61.942       1.000
   5    7     -2544.520      83.449       1.000
   6    8     -2550.991     107.875       1.000
   7    9     -2558.325      50.041       1.000
   8   10     -2560.250      67.716       1.000
   9   11     -2561.635      39.509       1.000
  10   12     -2563.305      36.755       1.000
  11   13     -2566.243      46.557       1.000
  12   14     -2567.756      34.724       1.000
  13   15     -2569.060      25.817       1.000
  14   16     -2570.449      41.946       1.000
  15   17     -2572.380      78.957       1.000
  16   18     -2575.411      71.906       1.000
  17   19     -2580.435      34.020       1.000
  18   20     -2582.065      29.266       1.000
  19   21     -2583.585      20.798       1.000
  20   23     -2584.083      23.496       0.499
  21   24     -2584.329      19.501       1.000
  22   25     -2584.439       7.302       1.000
  23   26     -2584.484       7.903       1.000
  24   27     -2584.564      13.524       1.000
  25   28     -2584.770      21.711       1.000
  26   29     -2585.226      27.873       1.000
  27   30     -2585.812      25.407       1.000
  28   32     -2585.852      16.678       0.043
  29   33     -2585.969      10.451       1.000
  30   34     -2586.100      11.262       1.000
  31   35     -2586.138       6.696       1.000
  32   36     -2586.190       3.945       1.000
  33   37     -2586.333       9.270       1.000
  34   38     -2586.393       7.557       1.000
  35   40     -2586.465       6.525       0.317
  36   41     -2586.506       3.899       1.000
  37   42     -2586.535       3.134       1.000
  38   43     -2586.610      10.091       1.000
  39   44     -2586.739       9.566       1.000
  40   45     -2586.812      11.792       1.000
  41   47     -2586.871       6.650       0.188
  42   48     -2586.902       4.659       1.000
  43   49     -2586.924       4.103       1.000
  44   51     -2586.941       5.808       0.215
  45   52     -2586.950       4.418       1.000
  46   53     -2586.956       4.811       1.000
  47   54     -2586.967       2.367       1.000
  48   55     -2586.970       2.938       1.000
  49   56     -2586.978       3.173       1.000
  50   57     -2587.026       6.171       1.000
  51   59     -2587.053       3.460       0.461
  52   60     -2587.061       2.792       1.000
  53   61     -2587.064       1.927       1.000
Final RAS Transform: 
0.976271 -0.00816731 0.0121417 -0.548122 
0.0237621 0.995767 0.00672223 0.452656 
0.000740176 0.0174143 1.03861 0.658678 
0 0 0 1 

Final RAS Transform: 
0.976271 -0.00816731 0.0121417 -0.548122 
0.0237621 0.995767 0.00672223 0.452656 
0.000740176 0.0174143 1.03861 0.658678 
0 0 0 1 


real	0m10.188s
user	0m17.708s
sys	0m0.512s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.646111
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1109
Level     0,  Iter     1:    Energy =   0.1197
Level     0,  Iter     2:    Energy =   0.1266
Level     0,  Iter     3:    Energy =   0.1316
Level     0,  Iter     4:    Energy =   0.1355
Level     0,  Iter     5:    Energy =   0.1386
Level     0,  Iter     6:    Energy =   0.1396
Level     0,  Iter     7:    Energy =   0.1404
Level     0,  Iter     8:    Energy =   0.1409
Level     0,  Iter     9:    Energy =   0.1415
Level     0,  Iter    10:    Energy =   0.1420
Level     0,  Iter    11:    Energy =   0.1424
Level     0,  Iter    12:    Energy =   0.1427
Level     0,  Iter    13:    Energy =   0.1430
Level     0,  Iter    14:    Energy =   0.1433
Level     0,  Iter    15:    Energy =   0.1435
Level     0,  Iter    16:    Energy =   0.1436
Level     0,  Iter    17:    Energy =   0.1438
Level     0,  Iter    18:    Energy =   0.1438
Level     0,  Iter    19:    Energy =   0.1441
Level     0,  Iter    20:    Energy =   0.1440
Level     0,  Iter    21:    Energy =   0.1443
Level     0,  Iter    22:    Energy =   0.1441
Level     0,  Iter    23:    Energy =   0.1444
Level     0,  Iter    24:    Energy =   0.1443
Level     0,  Iter    25:    Energy =   0.1446
Level     0,  Iter    26:    Energy =   0.1444
Level     0,  Iter    27:    Energy =   0.1447
Level     0,  Iter    28:    Energy =   0.1445
Level     0,  Iter    29:    Energy =   0.1448
Level     0,  Iter    30:    Energy =   0.1446
Level     0,  Iter    31:    Energy =   0.1450
Level     0,  Iter    32:    Energy =   0.1447
Level     0,  Iter    33:    Energy =   0.1450
Level     0,  Iter    34:    Energy =   0.1448
Level     0,  Iter    35:    Energy =   0.1451
Level     0,  Iter    36:    Energy =   0.1449
Level     0,  Iter    37:    Energy =   0.1452
Level     0,  Iter    38:    Energy =   0.1449
Level     0,  Iter    39:    Energy =   0.1452
Level     0,  Iter    40:    Energy =   0.1450
Level     0,  Iter    41:    Energy =   0.1453
Level     0,  Iter    42:    Energy =   0.1450
Level     0,  Iter    43:    Energy =   0.1453
Level     0,  Iter    44:    Energy =   0.1450
Level     0,  Iter    45:    Energy =   0.1453
Level     0,  Iter    46:    Energy =   0.1451
Level     0,  Iter    47:    Energy =   0.1454
Level     0,  Iter    48:    Energy =   0.1451
Level     0,  Iter    49:    Energy =   0.1454
Level     0,  Iter    50:    Energy =   0.1452
Level     0,  Iter    51:    Energy =   0.1454
Level     0,  Iter    52:    Energy =   0.1451
Level     0,  Iter    53:    Energy =   0.1454
Level     0,  Iter    54:    Energy =   0.1452
Level     0,  Iter    55:    Energy =   0.1454
Level     0,  Iter    56:    Energy =   0.1452
Level     0,  Iter    57:    Energy =   0.1454
Level     0,  Iter    58:    Energy =   0.1451
Level     0,  Iter    59:    Energy =   0.1453
END OF LEVEL     0    DetJac Range:   0.4034  to   2.2806 
  Avg. Gradient Time  : 0.0073s  35.14% 
  Avg. Gaussian Time  : 0.0102s  49.16% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0925
Level     1,  Iter     1:    Energy =   0.0982
Level     1,  Iter     2:    Energy =   0.1021
Level     1,  Iter     3:    Energy =   0.1056
Level     1,  Iter     4:    Energy =   0.1088
Level     1,  Iter     5:    Energy =   0.1113
Level     1,  Iter     6:    Energy =   0.1134
Level     1,  Iter     7:    Energy =   0.1152
Level     1,  Iter     8:    Energy =   0.1164
Level     1,  Iter     9:    Energy =   0.1178
Level     1,  Iter    10:    Energy =   0.1188
Level     1,  Iter    11:    Energy =   0.1201
Level     1,  Iter    12:    Energy =   0.1209
Level     1,  Iter    13:    Energy =   0.1216
Level     1,  Iter    14:    Energy =   0.1219
Level     1,  Iter    15:    Energy =   0.1223
Level     1,  Iter    16:    Energy =   0.1224
Level     1,  Iter    17:    Energy =   0.1227
Level     1,  Iter    18:    Energy =   0.1227
Level     1,  Iter    19:    Energy =   0.1228
Level     1,  Iter    20:    Energy =   0.1229
Level     1,  Iter    21:    Energy =   0.1230
Level     1,  Iter    22:    Energy =   0.1231
Level     1,  Iter    23:    Energy =   0.1233
Level     1,  Iter    24:    Energy =   0.1234
Level     1,  Iter    25:    Energy =   0.1235
Level     1,  Iter    26:    Energy =   0.1235
Level     1,  Iter    27:    Energy =   0.1237
Level     1,  Iter    28:    Energy =   0.1237
Level     1,  Iter    29:    Energy =   0.1240
Level     1,  Iter    30:    Energy =   0.1239
Level     1,  Iter    31:    Energy =   0.1241
Level     1,  Iter    32:    Energy =   0.1240
Level     1,  Iter    33:    Energy =   0.1241
Level     1,  Iter    34:    Energy =   0.1242
Level     1,  Iter    35:    Energy =   0.1242
Level     1,  Iter    36:    Energy =   0.1244
Level     1,  Iter    37:    Energy =   0.1244
Level     1,  Iter    38:    Energy =   0.1244
Level     1,  Iter    39:    Energy =   0.1246
Level     1,  Iter    40:    Energy =   0.1245
Level     1,  Iter    41:    Energy =   0.1248
Level     1,  Iter    42:    Energy =   0.1246
Level     1,  Iter    43:    Energy =   0.1248
Level     1,  Iter    44:    Energy =   0.1247
Level     1,  Iter    45:    Energy =   0.1249
Level     1,  Iter    46:    Energy =   0.1248
Level     1,  Iter    47:    Energy =   0.1249
Level     1,  Iter    48:    Energy =   0.1250
Level     1,  Iter    49:    Energy =   0.1249
Level     1,  Iter    50:    Energy =   0.1251
Level     1,  Iter    51:    Energy =   0.1250
Level     1,  Iter    52:    Energy =   0.1252
Level     1,  Iter    53:    Energy =   0.1251
Level     1,  Iter    54:    Energy =   0.1253
Level     1,  Iter    55:    Energy =   0.1252
Level     1,  Iter    56:    Energy =   0.1254
Level     1,  Iter    57:    Energy =   0.1253
Level     1,  Iter    58:    Energy =   0.1254
Level     1,  Iter    59:    Energy =   0.1253
END OF LEVEL     1    DetJac Range:   0.1283  to   2.7585 
  Avg. Gradient Time  : 0.0416s  32.79% 
  Avg. Gaussian Time  : 0.0690s  54.40% 
  Avg. Iteration Time : 0.1268s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0657
Level     2,  Iter     1:    Energy =   0.0686
Level     2,  Iter     2:    Energy =   0.0710
Level     2,  Iter     3:    Energy =   0.0731
Level     2,  Iter     4:    Energy =   0.0749
Level     2,  Iter     5:    Energy =   0.0763
Level     2,  Iter     6:    Energy =   0.0776
Level     2,  Iter     7:    Energy =   0.0788
Level     2,  Iter     8:    Energy =   0.0800
Level     2,  Iter     9:    Energy =   0.0810
Level     2,  Iter    10:    Energy =   0.0819
Level     2,  Iter    11:    Energy =   0.0826
Level     2,  Iter    12:    Energy =   0.0832
Level     2,  Iter    13:    Energy =   0.0837
Level     2,  Iter    14:    Energy =   0.0841
Level     2,  Iter    15:    Energy =   0.0845
Level     2,  Iter    16:    Energy =   0.0847
Level     2,  Iter    17:    Energy =   0.0849
Level     2,  Iter    18:    Energy =   0.0853
Level     2,  Iter    19:    Energy =   0.0856
END OF LEVEL     2    DetJac Range:   0.0551  to   4.5509 
  Avg. Gradient Time  : 0.2941s  30.95% 
  Avg. Gaussian Time  : 0.5269s  55.46% 
  Avg. Iteration Time : 0.9502s 

real	0m32.557s
user	0m59.156s
sys	0m1.500s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.303846 0.309615
+ echo 'CHUNK 0.303846 0.309615 1'
CHUNK 0.303846 0.309615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.303846 0.309615 1
====================================
         PROGRESS: 0.303846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.456454
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2993.13   GNORM= 370.403
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3023.701     125.993       0.000
   2    4     -3030.490     118.366       1.000
   3    5     -3055.990     122.191       1.000
   4    6     -3091.915     182.705       1.000
   5    7     -3129.934     179.419       1.000
   6    8     -3160.436     177.673       1.000
   7   10     -3178.611     168.818       0.453
   8   11     -3192.793      73.213       1.000
   9   12     -3198.293      47.388       1.000
  10   13     -3206.600      54.460       1.000
  11   14     -3213.878      96.684       1.000
  12   15     -3225.783      59.652       1.000
  13   16     -3240.427     106.077       1.000
  14   18     -3243.584      43.441       0.413
  15   19     -3244.915      27.339       1.000
  16   20     -3246.665      24.793       1.000
  17   22     -3250.122      33.112       0.422
  18   24     -3251.409      43.990       0.369
  19   25     -3252.805      37.202       1.000
  20   27     -3253.354      18.326       0.415
  21   28     -3253.497      13.171       1.000
  22   29     -3253.637      11.117       1.000
  23   30     -3253.720      13.894       1.000
  24   31     -3253.828      12.345       1.000
  25   32     -3253.918      20.401       1.000
  26   33     -3253.958      12.902       1.000
  27   34     -3254.007       8.798       1.000
  28   35     -3254.058       7.435       1.000
  29   36     -3254.152       6.740       1.000
  30   38     -3254.301      13.310       0.441
  31   39     -3254.400      10.855       1.000
  32   41     -3254.445       5.019       0.447
  33   42     -3254.456       4.245       1.000
  34   43     -3254.462       6.782       1.000
  35   44     -3254.478       4.783       1.000
  36   45     -3254.488       4.664       1.000
  37   46     -3254.489       2.431       1.000
  38   47     -3254.503       3.579       1.000
  39   48     -3254.508       2.098       1.000
  40   50     -3254.510       2.431       0.283
  41   51     -3254.519       1.931       1.000
  42   53     -3254.521       3.628       0.245
  43   54     -3254.535       4.129       1.000
Final RAS Transform: 
0.914228 -0.0178725 0.065856 -2.3884 
0.0322242 0.999578 0.0102176 0.656681 
-0.0162202 0.00686683 1.05479 0.0422151 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2164.75   GNORM= 120.195
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2173.530      90.981       0.001
   2    4     -2179.602      80.894       1.000
   3    5     -2183.501      42.965       1.000
   4    6     -2185.263      56.043       1.000
   5    7     -2192.622      71.566       1.000
   6    8     -2202.909      59.571       1.000
   7    9     -2206.300      66.993       1.000
   8   10     -2211.128      33.843       1.000
   9   11     -2215.139      51.813       1.000
  10   12     -2218.142     113.643       1.000
  11   13     -2221.798      48.071       1.000
  12   14     -2224.539      39.693       1.000
  13   15     -2226.091      20.095       1.000
  14   16     -2227.109      18.705       1.000
  15   17     -2228.519      42.110       1.000
  16   18     -2230.613      36.610       1.000
  17   19     -2236.537      75.639       1.000
  18   20     -2237.724     107.401       1.000
  19   21     -2240.767      18.385       1.000
  20   22     -2240.966       9.257       1.000
  21   23     -2241.078       9.384       1.000
  22   24     -2242.102      20.631       1.000
  23   25     -2242.995      18.880       1.000
  24   26     -2247.282      27.233       1.000
  25   27     -2247.564      66.891       1.000
  26   28     -2248.655      19.517       1.000
  27   29     -2248.847       9.801       1.000
  28   30     -2249.010       6.954       1.000
  29   31     -2249.100      12.787       1.000
  30   32     -2249.569       6.708       1.000
  31   33     -2250.059       9.500       1.000
  32   35     -2250.154      16.194       0.192
  33   36     -2250.301       9.116       1.000
  34   37     -2250.375       7.688       1.000
  35   38     -2250.508       6.324       1.000
  36   39     -2250.660      14.063       1.000
  37   40     -2250.916      14.753       1.000
  38   42     -2250.985       4.825       0.076
  39   43     -2251.020       4.240       1.000
  40   44     -2251.034       6.544       1.000
  41   45     -2251.077       4.285       1.000
  42   46     -2251.159       9.685       1.000
  43   47     -2251.239       4.594       1.000
  44   48     -2251.260       5.282       1.000
  45   50     -2251.283       5.343       0.221
  46   51     -2251.300       7.346       1.000
  47   52     -2251.324       2.617       1.000
  48   53     -2251.348       3.361       1.000
  49   54     -2251.353       7.140       1.000
  50   55     -2251.376       1.790       1.000
  51   56     -2251.382       2.022       1.000
  52   57     -2251.388       1.683       1.000
  53   59     -2251.389       2.754       0.076
  54   61     -2251.391       2.548       0.314
Final RAS Transform: 
0.967532 -0.0221319 0.0108005 -0.986449 
0.0143461 0.994495 0.0233755 0.282516 
-0.00973842 0.00673556 1.05376 0.0822722 
0 0 0 1 

Final RAS Transform: 
0.967532 -0.0221319 0.0108005 -0.986449 
0.0143461 0.994495 0.0233755 0.282516 
-0.00973842 0.00673556 1.05376 0.0822722 
0 0 0 1 


real	0m10.335s
user	0m17.932s
sys	0m0.596s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.468757
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0906
Level     0,  Iter     1:    Energy =   0.0980
Level     0,  Iter     2:    Energy =   0.1040
Level     0,  Iter     3:    Energy =   0.1087
Level     0,  Iter     4:    Energy =   0.1111
Level     0,  Iter     5:    Energy =   0.1127
Level     0,  Iter     6:    Energy =   0.1142
Level     0,  Iter     7:    Energy =   0.1154
Level     0,  Iter     8:    Energy =   0.1164
Level     0,  Iter     9:    Energy =   0.1172
Level     0,  Iter    10:    Energy =   0.1179
Level     0,  Iter    11:    Energy =   0.1184
Level     0,  Iter    12:    Energy =   0.1189
Level     0,  Iter    13:    Energy =   0.1194
Level     0,  Iter    14:    Energy =   0.1197
Level     0,  Iter    15:    Energy =   0.1201
Level     0,  Iter    16:    Energy =   0.1203
Level     0,  Iter    17:    Energy =   0.1206
Level     0,  Iter    18:    Energy =   0.1209
Level     0,  Iter    19:    Energy =   0.1213
Level     0,  Iter    20:    Energy =   0.1215
Level     0,  Iter    21:    Energy =   0.1218
Level     0,  Iter    22:    Energy =   0.1220
Level     0,  Iter    23:    Energy =   0.1222
Level     0,  Iter    24:    Energy =   0.1224
Level     0,  Iter    25:    Energy =   0.1227
Level     0,  Iter    26:    Energy =   0.1228
Level     0,  Iter    27:    Energy =   0.1231
Level     0,  Iter    28:    Energy =   0.1232
Level     0,  Iter    29:    Energy =   0.1234
Level     0,  Iter    30:    Energy =   0.1235
Level     0,  Iter    31:    Energy =   0.1237
Level     0,  Iter    32:    Energy =   0.1237
Level     0,  Iter    33:    Energy =   0.1237
Level     0,  Iter    34:    Energy =   0.1239
Level     0,  Iter    35:    Energy =   0.1239
Level     0,  Iter    36:    Energy =   0.1240
Level     0,  Iter    37:    Energy =   0.1241
Level     0,  Iter    38:    Energy =   0.1242
Level     0,  Iter    39:    Energy =   0.1242
Level     0,  Iter    40:    Energy =   0.1243
Level     0,  Iter    41:    Energy =   0.1244
Level     0,  Iter    42:    Energy =   0.1245
Level     0,  Iter    43:    Energy =   0.1245
Level     0,  Iter    44:    Energy =   0.1246
Level     0,  Iter    45:    Energy =   0.1246
Level     0,  Iter    46:    Energy =   0.1247
Level     0,  Iter    47:    Energy =   0.1247
Level     0,  Iter    48:    Energy =   0.1248
Level     0,  Iter    49:    Energy =   0.1248
Level     0,  Iter    50:    Energy =   0.1249
Level     0,  Iter    51:    Energy =   0.1249
Level     0,  Iter    52:    Energy =   0.1249
Level     0,  Iter    53:    Energy =   0.1249
Level     0,  Iter    54:    Energy =   0.1250
Level     0,  Iter    55:    Energy =   0.1250
Level     0,  Iter    56:    Energy =   0.1250
Level     0,  Iter    57:    Energy =   0.1250
Level     0,  Iter    58:    Energy =   0.1251
Level     0,  Iter    59:    Energy =   0.1251
END OF LEVEL     0    DetJac Range:   0.2591  to   1.9408 
  Avg. Gradient Time  : 0.0084s  34.73% 
  Avg. Gaussian Time  : 0.0121s  49.79% 
  Avg. Iteration Time : 0.0243s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0843
Level     1,  Iter     1:    Energy =   0.0896
Level     1,  Iter     2:    Energy =   0.0941
Level     1,  Iter     3:    Energy =   0.0979
Level     1,  Iter     4:    Energy =   0.1006
Level     1,  Iter     5:    Energy =   0.1028
Level     1,  Iter     6:    Energy =   0.1047
Level     1,  Iter     7:    Energy =   0.1063
Level     1,  Iter     8:    Energy =   0.1074
Level     1,  Iter     9:    Energy =   0.1082
Level     1,  Iter    10:    Energy =   0.1089
Level     1,  Iter    11:    Energy =   0.1096
Level     1,  Iter    12:    Energy =   0.1104
Level     1,  Iter    13:    Energy =   0.1111
Level     1,  Iter    14:    Energy =   0.1119
Level     1,  Iter    15:    Energy =   0.1128
Level     1,  Iter    16:    Energy =   0.1135
Level     1,  Iter    17:    Energy =   0.1142
Level     1,  Iter    18:    Energy =   0.1148
Level     1,  Iter    19:    Energy =   0.1152
Level     1,  Iter    20:    Energy =   0.1151
Level     1,  Iter    21:    Energy =   0.1154
Level     1,  Iter    22:    Energy =   0.1153
Level     1,  Iter    23:    Energy =   0.1153
Level     1,  Iter    24:    Energy =   0.1154
Level     1,  Iter    25:    Energy =   0.1154
Level     1,  Iter    26:    Energy =   0.1154
Level     1,  Iter    27:    Energy =   0.1156
Level     1,  Iter    28:    Energy =   0.1155
Level     1,  Iter    29:    Energy =   0.1157
Level     1,  Iter    30:    Energy =   0.1156
Level     1,  Iter    31:    Energy =   0.1158
Level     1,  Iter    32:    Energy =   0.1157
Level     1,  Iter    33:    Energy =   0.1159
Level     1,  Iter    34:    Energy =   0.1158
Level     1,  Iter    35:    Energy =   0.1160
Level     1,  Iter    36:    Energy =   0.1160
Level     1,  Iter    37:    Energy =   0.1161
Level     1,  Iter    38:    Energy =   0.1161
Level     1,  Iter    39:    Energy =   0.1162
Level     1,  Iter    40:    Energy =   0.1162
Level     1,  Iter    41:    Energy =   0.1163
Level     1,  Iter    42:    Energy =   0.1163
Level     1,  Iter    43:    Energy =   0.1164
Level     1,  Iter    44:    Energy =   0.1164
Level     1,  Iter    45:    Energy =   0.1164
Level     1,  Iter    46:    Energy =   0.1165
Level     1,  Iter    47:    Energy =   0.1165
Level     1,  Iter    48:    Energy =   0.1165
Level     1,  Iter    49:    Energy =   0.1165
Level     1,  Iter    50:    Energy =   0.1166
Level     1,  Iter    51:    Energy =   0.1166
Level     1,  Iter    52:    Energy =   0.1167
Level     1,  Iter    53:    Energy =   0.1166
Level     1,  Iter    54:    Energy =   0.1167
Level     1,  Iter    55:    Energy =   0.1167
Level     1,  Iter    56:    Energy =   0.1168
Level     1,  Iter    57:    Energy =   0.1168
Level     1,  Iter    58:    Energy =   0.1168
Level     1,  Iter    59:    Energy =   0.1168
END OF LEVEL     1    DetJac Range:   0.1144  to   3.1018 
  Avg. Gradient Time  : 0.0471s  32.65% 
  Avg. Gaussian Time  : 0.0784s  54.38% 
  Avg. Iteration Time : 0.1442s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0598
Level     2,  Iter     1:    Energy =   0.0627
Level     2,  Iter     2:    Energy =   0.0652
Level     2,  Iter     3:    Energy =   0.0673
Level     2,  Iter     4:    Energy =   0.0692
Level     2,  Iter     5:    Energy =   0.0707
Level     2,  Iter     6:    Energy =   0.0721
Level     2,  Iter     7:    Energy =   0.0733
Level     2,  Iter     8:    Energy =   0.0742
Level     2,  Iter     9:    Energy =   0.0751
Level     2,  Iter    10:    Energy =   0.0759
Level     2,  Iter    11:    Energy =   0.0765
Level     2,  Iter    12:    Energy =   0.0773
Level     2,  Iter    13:    Energy =   0.0783
Level     2,  Iter    14:    Energy =   0.0791
Level     2,  Iter    15:    Energy =   0.0799
Level     2,  Iter    16:    Energy =   0.0806
Level     2,  Iter    17:    Energy =   0.0813
Level     2,  Iter    18:    Energy =   0.0819
Level     2,  Iter    19:    Energy =   0.0826
END OF LEVEL     2    DetJac Range:   0.0647  to   4.1234 
  Avg. Gradient Time  : 0.3251s  30.80% 
  Avg. Gaussian Time  : 0.5855s  55.47% 
  Avg. Iteration Time : 1.0557s 

real	0m36.221s
user	1m6.212s
sys	0m1.540s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.309615 0.315385
+ echo 'CHUNK 0.309615 0.315385 1'
CHUNK 0.309615 0.315385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.309615 0.315385 1
====================================
         PROGRESS: 0.309615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.459973
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2800.18   GNORM= 175.192
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2817.280     152.318       0.001
   2    4     -2830.585     128.668       1.000
   3    5     -2853.438     209.902       1.000
   4    6     -2875.880      91.879       1.000
   5    7     -2891.248      80.189       1.000
   6    8     -2902.337      84.782       1.000
   7    9     -2911.641     262.954       1.000
   8   10     -2937.700     107.642       1.000
   9   11     -2953.789      94.147       1.000
  10   12     -2959.602      87.324       1.000
  11   13     -2962.285      65.578       1.000
  12   14     -2967.305      66.271       1.000
  13   15     -2975.290      65.990       1.000
  14   16     -2977.038     130.827       1.000
  15   17     -2981.886      46.765       1.000
  16   18     -2983.204      28.609       1.000
  17   19     -2984.402      28.197       1.000
  18   20     -2985.523      57.027       1.000
  19   21     -2987.245      44.590       1.000
  20   22     -2988.921      16.583       1.000
  21   23     -2989.903      30.684       1.000
  22   24     -2990.293      15.301       1.000
  23   25     -2990.710      10.396       1.000
  24   26     -2990.988      20.505       1.000
  25   27     -2991.308      12.783       1.000
  26   28     -2991.400       6.735       1.000
  27   29     -2991.481       9.548       1.000
  28   30     -2991.580      13.481       1.000
  29   31     -2991.662      16.634       1.000
  30   32     -2991.728      11.970       1.000
  31   33     -2991.824       6.047       1.000
  32   34     -2991.842       6.465       1.000
  33   35     -2991.878       4.685       1.000
  34   36     -2991.966       7.020       1.000
  35   38     -2991.994       8.738       0.496
  36   39     -2992.011       5.840       1.000
  37   40     -2992.028       5.085       1.000
  38   41     -2992.044       3.918       1.000
  39   42     -2992.049       4.003       1.000
  40   43     -2992.058       2.818       1.000
  41   44     -2992.077       5.755       1.000
  42   45     -2992.098       4.980       1.000
  43   46     -2992.108       3.446       1.000
  44   47     -2992.118       4.716       1.000
  45   48     -2992.122       5.311       1.000
Final RAS Transform: 
0.932182 -0.031174 0.0214323 -2.24201 
0.0245471 1.01209 0.0093767 0.957237 
0.000526347 0.0018533 1.06819 0.599729 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1992.26   GNORM= 252.141
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2020.114     126.701       0.001
   2    4     -2030.016      74.195       1.000
   3    5     -2035.177      33.658       1.000
   4    6     -2037.036      39.334       1.000
   5    7     -2044.185      62.046       1.000
   6    8     -2050.074      43.982       1.000
   7    9     -2050.649     121.657       1.000
   8   10     -2054.590      27.281       1.000
   9   11     -2055.248      21.531       1.000
  10   12     -2057.199      46.549       1.000
  11   13     -2058.468      33.576       1.000
  12   14     -2059.511      11.736       1.000
  13   15     -2059.726       8.079       1.000
  14   16     -2060.115      29.121       1.000
  15   17     -2060.514      31.184       1.000
  16   18     -2061.897      32.129       1.000
  17   19     -2062.931      16.878       1.000
  18   20     -2063.210      11.790       1.000
  19   21     -2063.372      12.301       1.000
  20   23     -2063.703      20.324       0.222
  21   24     -2063.827      21.384       1.000
  22   25     -2064.439       7.715       1.000
  23   26     -2064.873       7.585       1.000
  24   27     -2064.959      11.145       1.000
  25   28     -2065.116       5.421       1.000
  26   29     -2065.161      12.978       1.000
  27   30     -2065.224       5.188       1.000
  28   31     -2065.242       5.377       1.000
  29   32     -2065.267       3.946       1.000
  30   33     -2065.344       5.331       1.000
  31   34     -2065.474       8.509       1.000
  32   35     -2065.988       9.639       1.000
  33   37     -2066.071      11.372       0.156
  34   38     -2066.292       9.241       1.000
  35   39     -2066.476       7.793       1.000
  36   40     -2066.651       6.033       1.000
  37   41     -2066.680      10.034       1.000
  38   42     -2066.743       6.646       1.000
  39   43     -2066.799       4.219       1.000
  40   44     -2066.882      14.249       1.000
  41   45     -2066.952       8.611       1.000
  42   46     -2066.989       3.984       1.000
  43   47     -2067.010       4.472       1.000
  44   48     -2067.058       8.044       1.000
  45   49     -2067.111      24.727       1.000
  46   50     -2067.189      15.397       1.000
  47   51     -2067.328       2.438       1.000
  48   52     -2067.374       3.906       1.000
  49   53     -2067.423       2.155       1.000
  50   55     -2067.427       1.854       0.429
  51   56     -2067.443       2.279       1.000
Final RAS Transform: 
0.955092 -0.0236576 0.00478696 -1.24927 
-0.0036867 1.00171 0.0323062 0.256536 
0.0122254 0.00752966 1.06749 0.907919 
0 0 0 1 

Final RAS Transform: 
0.955092 -0.0236576 0.00478696 -1.24927 
-0.0036867 1.00171 0.0323062 0.256536 
0.0122254 0.00752966 1.06749 0.907919 
0 0 0 1 


real	0m9.595s
user	0m16.680s
sys	0m0.520s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.464714
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0823
Level     0,  Iter     1:    Energy =   0.0894
Level     0,  Iter     2:    Energy =   0.0969
Level     0,  Iter     3:    Energy =   0.1019
Level     0,  Iter     4:    Energy =   0.1045
Level     0,  Iter     5:    Energy =   0.1072
Level     0,  Iter     6:    Energy =   0.1087
Level     0,  Iter     7:    Energy =   0.1106
Level     0,  Iter     8:    Energy =   0.1115
Level     0,  Iter     9:    Energy =   0.1128
Level     0,  Iter    10:    Energy =   0.1132
Level     0,  Iter    11:    Energy =   0.1141
Level     0,  Iter    12:    Energy =   0.1145
Level     0,  Iter    13:    Energy =   0.1152
Level     0,  Iter    14:    Energy =   0.1155
Level     0,  Iter    15:    Energy =   0.1162
Level     0,  Iter    16:    Energy =   0.1166
Level     0,  Iter    17:    Energy =   0.1171
Level     0,  Iter    18:    Energy =   0.1176
Level     0,  Iter    19:    Energy =   0.1180
Level     0,  Iter    20:    Energy =   0.1184
Level     0,  Iter    21:    Energy =   0.1188
Level     0,  Iter    22:    Energy =   0.1191
Level     0,  Iter    23:    Energy =   0.1194
Level     0,  Iter    24:    Energy =   0.1196
Level     0,  Iter    25:    Energy =   0.1198
Level     0,  Iter    26:    Energy =   0.1199
Level     0,  Iter    27:    Energy =   0.1201
Level     0,  Iter    28:    Energy =   0.1202
Level     0,  Iter    29:    Energy =   0.1204
Level     0,  Iter    30:    Energy =   0.1205
Level     0,  Iter    31:    Energy =   0.1207
Level     0,  Iter    32:    Energy =   0.1207
Level     0,  Iter    33:    Energy =   0.1209
Level     0,  Iter    34:    Energy =   0.1209
Level     0,  Iter    35:    Energy =   0.1212
Level     0,  Iter    36:    Energy =   0.1212
Level     0,  Iter    37:    Energy =   0.1214
Level     0,  Iter    38:    Energy =   0.1213
Level     0,  Iter    39:    Energy =   0.1215
Level     0,  Iter    40:    Energy =   0.1215
Level     0,  Iter    41:    Energy =   0.1217
Level     0,  Iter    42:    Energy =   0.1216
Level     0,  Iter    43:    Energy =   0.1218
Level     0,  Iter    44:    Energy =   0.1218
Level     0,  Iter    45:    Energy =   0.1219
Level     0,  Iter    46:    Energy =   0.1219
Level     0,  Iter    47:    Energy =   0.1222
Level     0,  Iter    48:    Energy =   0.1221
Level     0,  Iter    49:    Energy =   0.1223
Level     0,  Iter    50:    Energy =   0.1222
Level     0,  Iter    51:    Energy =   0.1225
Level     0,  Iter    52:    Energy =   0.1223
Level     0,  Iter    53:    Energy =   0.1228
Level     0,  Iter    54:    Energy =   0.1226
Level     0,  Iter    55:    Energy =   0.1229
Level     0,  Iter    56:    Energy =   0.1227
Level     0,  Iter    57:    Energy =   0.1230
Level     0,  Iter    58:    Energy =   0.1229
Level     0,  Iter    59:    Energy =   0.1230
END OF LEVEL     0    DetJac Range:   0.2086  to   2.3571 
  Avg. Gradient Time  : 0.0082s  34.99% 
  Avg. Gaussian Time  : 0.0116s  49.25% 
  Avg. Iteration Time : 0.0235s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0791
Level     1,  Iter     1:    Energy =   0.0836
Level     1,  Iter     2:    Energy =   0.0875
Level     1,  Iter     3:    Energy =   0.0913
Level     1,  Iter     4:    Energy =   0.0944
Level     1,  Iter     5:    Energy =   0.0969
Level     1,  Iter     6:    Energy =   0.0990
Level     1,  Iter     7:    Energy =   0.1013
Level     1,  Iter     8:    Energy =   0.1031
Level     1,  Iter     9:    Energy =   0.1044
Level     1,  Iter    10:    Energy =   0.1053
Level     1,  Iter    11:    Energy =   0.1063
Level     1,  Iter    12:    Energy =   0.1072
Level     1,  Iter    13:    Energy =   0.1081
Level     1,  Iter    14:    Energy =   0.1089
Level     1,  Iter    15:    Energy =   0.1098
Level     1,  Iter    16:    Energy =   0.1102
Level     1,  Iter    17:    Energy =   0.1099
Level     1,  Iter    18:    Energy =   0.1109
Level     1,  Iter    19:    Energy =   0.1108
Level     1,  Iter    20:    Energy =   0.1113
Level     1,  Iter    21:    Energy =   0.1109
Level     1,  Iter    22:    Energy =   0.1117
Level     1,  Iter    23:    Energy =   0.1119
Level     1,  Iter    24:    Energy =   0.1120
Level     1,  Iter    25:    Energy =   0.1117
Level     1,  Iter    26:    Energy =   0.1124
Level     1,  Iter    27:    Energy =   0.1123
Level     1,  Iter    28:    Energy =   0.1127
Level     1,  Iter    29:    Energy =   0.1123
Level     1,  Iter    30:    Energy =   0.1130
Level     1,  Iter    31:    Energy =   0.1131
Level     1,  Iter    32:    Energy =   0.1131
Level     1,  Iter    33:    Energy =   0.1127
Level     1,  Iter    34:    Energy =   0.1134
Level     1,  Iter    35:    Energy =   0.1132
Level     1,  Iter    36:    Energy =   0.1136
Level     1,  Iter    37:    Energy =   0.1131
Level     1,  Iter    38:    Energy =   0.1138
Level     1,  Iter    39:    Energy =   0.1139
Level     1,  Iter    40:    Energy =   0.1137
Level     1,  Iter    41:    Energy =   0.1133
Level     1,  Iter    42:    Energy =   0.1139
Level     1,  Iter    43:    Energy =   0.1136
Level     1,  Iter    44:    Energy =   0.1140
Level     1,  Iter    45:    Energy =   0.1136
Level     1,  Iter    46:    Energy =   0.1141
Level     1,  Iter    47:    Energy =   0.1139
Level     1,  Iter    48:    Energy =   0.1143
Level     1,  Iter    49:    Energy =   0.1137
Level     1,  Iter    50:    Energy =   0.1143
Level     1,  Iter    51:    Energy =   0.1144
Level     1,  Iter    52:    Energy =   0.1142
Level     1,  Iter    53:    Energy =   0.1138
Level     1,  Iter    54:    Energy =   0.1144
Level     1,  Iter    55:    Energy =   0.1142
Level     1,  Iter    56:    Energy =   0.1145
Level     1,  Iter    57:    Energy =   0.1140
Level     1,  Iter    58:    Energy =   0.1144
Level     1,  Iter    59:    Energy =   0.1146
END OF LEVEL     1    DetJac Range:   0.0916  to   4.0989 
  Avg. Gradient Time  : 0.0469s  32.70% 
  Avg. Gaussian Time  : 0.0779s  54.32% 
  Avg. Iteration Time : 0.1434s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0579
Level     2,  Iter     1:    Energy =   0.0604
Level     2,  Iter     2:    Energy =   0.0624
Level     2,  Iter     3:    Energy =   0.0641
Level     2,  Iter     4:    Energy =   0.0655
Level     2,  Iter     5:    Energy =   0.0667
Level     2,  Iter     6:    Energy =   0.0677
Level     2,  Iter     7:    Energy =   0.0686
Level     2,  Iter     8:    Energy =   0.0694
Level     2,  Iter     9:    Energy =   0.0701
Level     2,  Iter    10:    Energy =   0.0708
Level     2,  Iter    11:    Energy =   0.0714
Level     2,  Iter    12:    Energy =   0.0719
Level     2,  Iter    13:    Energy =   0.0724
Level     2,  Iter    14:    Energy =   0.0729
Level     2,  Iter    15:    Energy =   0.0733
Level     2,  Iter    16:    Energy =   0.0737
Level     2,  Iter    17:    Energy =   0.0741
Level     2,  Iter    18:    Energy =   0.0744
Level     2,  Iter    19:    Energy =   0.0747
END OF LEVEL     2    DetJac Range:   0.0647  to   4.3509 
  Avg. Gradient Time  : 0.3312s  30.66% 
  Avg. Gaussian Time  : 0.6000s  55.55% 
  Avg. Iteration Time : 1.0801s 

real	0m36.895s
user	1m7.416s
sys	0m1.572s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.315385 0.321154
+ echo 'CHUNK 0.315385 0.321154 1'
CHUNK 0.315385 0.321154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.315385 0.321154 1
====================================
         PROGRESS: 0.315385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.70117
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2702.66   GNORM= 227.779
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2720.872     125.393       0.001
   2    4     -2729.890     108.945       1.000
   3    5     -2748.887      94.756       1.000
   4    6     -2762.184     104.807       1.000
   5    7     -2794.869     105.898       1.000
   6    8     -2827.212      75.267       1.000
   7    9     -2835.066     242.678       1.000
   8   10     -2849.923      65.549       1.000
   9   11     -2854.939      52.579       1.000
  10   12     -2861.491      61.377       1.000
  11   14     -2870.931      85.130       0.344
  12   15     -2877.766     111.890       1.000
  13   16     -2884.445      37.000       1.000
  14   17     -2885.515      36.580       1.000
  15   18     -2886.637      38.704       1.000
  16   19     -2889.678      67.086       1.000
  17   20     -2891.797      84.797       1.000
  18   21     -2894.402      49.687       1.000
  19   22     -2898.146      28.724       1.000
  20   23     -2901.108      45.476       1.000
  21   24     -2901.844      18.022       1.000
  22   25     -2901.993       9.395       1.000
  23   26     -2902.094       8.730       1.000
  24   27     -2902.161      15.647       1.000
  25   28     -2902.347       8.228       1.000
  26   30     -2902.439       9.803       0.322
  27   31     -2902.556      17.244       1.000
  28   32     -2902.686       8.986       1.000
  29   33     -2902.776       8.159       1.000
  30   34     -2902.818       6.624       1.000
  31   35     -2902.873       7.179       1.000
  32   36     -2902.948      12.394       1.000
  33   37     -2903.016       9.176       1.000
  34   39     -2903.066       7.079       0.129
  35   40     -2903.080      10.102       1.000
  36   41     -2903.110       3.164       1.000
  37   42     -2903.120       3.180       1.000
  38   43     -2903.152       3.942       1.000
  39   44     -2903.175       6.817       1.000
  40   45     -2903.211       5.350       1.000
  41   46     -2903.243       3.225       1.000
  42   47     -2903.278       5.771       1.000
  43   48     -2903.301       4.253       1.000
  44   50     -2903.320       6.652       0.247
  45   51     -2903.339       6.579       1.000
  46   52     -2903.349       2.284       1.000
  47   53     -2903.355       1.847       1.000
  48   54     -2903.357       5.083       1.000
  49   55     -2903.366       2.092       1.000
  50   57     -2903.374       3.380       0.477
  51   58     -2903.377       2.422       1.000
  52   59     -2903.381       3.142       1.000
  53   60     -2903.383       2.783       1.000
  54   61     -2903.384       1.082       1.000
Final RAS Transform: 
0.912386 -0.00268571 0.0972263 -2.15184 
-0.00710531 1.01702 0.0647315 0.122477 
0.0104947 0.00839499 1.00926 0.662958 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1972.44   GNORM= 217.342
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1986.374      35.206       0.001
   2    4     -1987.000      29.326       1.000
   3    5     -1988.387      34.340       1.000
   4    6     -1992.625      81.850       1.000
   5    7     -1995.380      75.705       1.000
   6    8     -2001.507      52.056       1.000
   7    9     -2002.513      23.601       1.000
   8   10     -2003.124      23.443       1.000
   9   11     -2003.812      27.481       1.000
  10   12     -2005.776     102.921       1.000
  11   13     -2008.842      51.538       1.000
  12   14     -2011.000      15.865       1.000
  13   15     -2011.728      32.229       1.000
  14   16     -2012.048      19.138       1.000
  15   17     -2012.321      19.437       1.000
  16   18     -2012.462      15.316       1.000
  17   19     -2013.010      19.261       1.000
  18   20     -2013.759      20.072       1.000
  19   21     -2015.115      42.090       1.000
  20   22     -2017.235      25.928       1.000
  21   23     -2017.938      18.067       1.000
  22   24     -2019.713      13.544       1.000
  23   25     -2020.962      58.522       1.000
  24   26     -2022.407      21.564       1.000
  25   27     -2022.917       9.847       1.000
  26   28     -2023.134       8.179       1.000
  27   29     -2023.222       8.831       1.000
  28   30     -2023.325      14.650       1.000
  29   31     -2023.498       7.162       1.000
  30   33     -2023.617       7.305       0.443
  31   35     -2023.655       6.278       0.398
  32   37     -2023.693       6.378       0.492
  33   39     -2023.814       8.032       5.000
  34   40     -2024.032      14.216       1.000
  35   41     -2024.646       9.018       1.000
  36   43     -2025.177      15.801       0.249
  37   45     -2025.383       5.303       0.160
  38   46     -2025.446       4.604       1.000
  39   48     -2025.447       3.742       0.289
  40   50     -2025.460       5.597       0.309
  41   51     -2025.480       2.360       1.000
  42   52     -2025.488       2.123       1.000
  43   53     -2025.523       4.012       1.000
  44   55     -2025.542       4.451       0.294
  45   57     -2025.553       3.482       0.120
  46   58     -2025.558       2.749       1.000
  47   60     -2025.565       3.519       0.450
  48   61     -2025.566       5.827       1.000
Final RAS Transform: 
0.94803 0.00949754 0.0710592 -0.69105 
-0.00738744 1.03021 0.101241 0.506782 
0.00427979 0.00666376 1.02736 0.375876 
0 0 0 1 

Final RAS Transform: 
0.94803 0.00949754 0.0710592 -0.69105 
-0.00738744 1.03021 0.101241 0.506782 
0.00427979 0.00666376 1.02736 0.375876 
0 0 0 1 


real	0m9.594s
user	0m16.780s
sys	0m0.444s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.698439
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0826
Level     0,  Iter     1:    Energy =   0.0890
Level     0,  Iter     2:    Energy =   0.0951
Level     0,  Iter     3:    Energy =   0.0989
Level     0,  Iter     4:    Energy =   0.1025
Level     0,  Iter     5:    Energy =   0.1058
Level     0,  Iter     6:    Energy =   0.1081
Level     0,  Iter     7:    Energy =   0.1093
Level     0,  Iter     8:    Energy =   0.1110
Level     0,  Iter     9:    Energy =   0.1119
Level     0,  Iter    10:    Energy =   0.1134
Level     0,  Iter    11:    Energy =   0.1140
Level     0,  Iter    12:    Energy =   0.1153
Level     0,  Iter    13:    Energy =   0.1158
Level     0,  Iter    14:    Energy =   0.1167
Level     0,  Iter    15:    Energy =   0.1171
Level     0,  Iter    16:    Energy =   0.1178
Level     0,  Iter    17:    Energy =   0.1182
Level     0,  Iter    18:    Energy =   0.1189
Level     0,  Iter    19:    Energy =   0.1192
Level     0,  Iter    20:    Energy =   0.1195
Level     0,  Iter    21:    Energy =   0.1197
Level     0,  Iter    22:    Energy =   0.1200
Level     0,  Iter    23:    Energy =   0.1202
Level     0,  Iter    24:    Energy =   0.1206
Level     0,  Iter    25:    Energy =   0.1208
Level     0,  Iter    26:    Energy =   0.1208
Level     0,  Iter    27:    Energy =   0.1209
Level     0,  Iter    28:    Energy =   0.1209
Level     0,  Iter    29:    Energy =   0.1210
Level     0,  Iter    30:    Energy =   0.1211
Level     0,  Iter    31:    Energy =   0.1214
Level     0,  Iter    32:    Energy =   0.1215
Level     0,  Iter    33:    Energy =   0.1217
Level     0,  Iter    34:    Energy =   0.1220
Level     0,  Iter    35:    Energy =   0.1220
Level     0,  Iter    36:    Energy =   0.1217
Level     0,  Iter    37:    Energy =   0.1217
Level     0,  Iter    38:    Energy =   0.1218
Level     0,  Iter    39:    Energy =   0.1218
Level     0,  Iter    40:    Energy =   0.1218
Level     0,  Iter    41:    Energy =   0.1219
Level     0,  Iter    42:    Energy =   0.1220
Level     0,  Iter    43:    Energy =   0.1220
Level     0,  Iter    44:    Energy =   0.1220
Level     0,  Iter    45:    Energy =   0.1222
Level     0,  Iter    46:    Energy =   0.1222
Level     0,  Iter    47:    Energy =   0.1223
Level     0,  Iter    48:    Energy =   0.1222
Level     0,  Iter    49:    Energy =   0.1224
Level     0,  Iter    50:    Energy =   0.1224
Level     0,  Iter    51:    Energy =   0.1225
Level     0,  Iter    52:    Energy =   0.1224
Level     0,  Iter    53:    Energy =   0.1226
Level     0,  Iter    54:    Energy =   0.1227
Level     0,  Iter    55:    Energy =   0.1227
Level     0,  Iter    56:    Energy =   0.1225
Level     0,  Iter    57:    Energy =   0.1225
Level     0,  Iter    58:    Energy =   0.1225
Level     0,  Iter    59:    Energy =   0.1225
END OF LEVEL     0    DetJac Range:   0.2060  to   2.1354 
  Avg. Gradient Time  : 0.0074s  34.66% 
  Avg. Gaussian Time  : 0.0106s  49.77% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0782
Level     1,  Iter     1:    Energy =   0.0826
Level     1,  Iter     2:    Energy =   0.0871
Level     1,  Iter     3:    Energy =   0.0903
Level     1,  Iter     4:    Energy =   0.0930
Level     1,  Iter     5:    Energy =   0.0956
Level     1,  Iter     6:    Energy =   0.0976
Level     1,  Iter     7:    Energy =   0.0994
Level     1,  Iter     8:    Energy =   0.1009
Level     1,  Iter     9:    Energy =   0.1020
Level     1,  Iter    10:    Energy =   0.1029
Level     1,  Iter    11:    Energy =   0.1039
Level     1,  Iter    12:    Energy =   0.1045
Level     1,  Iter    13:    Energy =   0.1046
Level     1,  Iter    14:    Energy =   0.1049
Level     1,  Iter    15:    Energy =   0.1050
Level     1,  Iter    16:    Energy =   0.1054
Level     1,  Iter    17:    Energy =   0.1054
Level     1,  Iter    18:    Energy =   0.1058
Level     1,  Iter    19:    Energy =   0.1058
Level     1,  Iter    20:    Energy =   0.1062
Level     1,  Iter    21:    Energy =   0.1061
Level     1,  Iter    22:    Energy =   0.1065
Level     1,  Iter    23:    Energy =   0.1064
Level     1,  Iter    24:    Energy =   0.1068
Level     1,  Iter    25:    Energy =   0.1067
Level     1,  Iter    26:    Energy =   0.1071
Level     1,  Iter    27:    Energy =   0.1069
Level     1,  Iter    28:    Energy =   0.1073
Level     1,  Iter    29:    Energy =   0.1071
Level     1,  Iter    30:    Energy =   0.1075
Level     1,  Iter    31:    Energy =   0.1074
Level     1,  Iter    32:    Energy =   0.1077
Level     1,  Iter    33:    Energy =   0.1075
Level     1,  Iter    34:    Energy =   0.1079
Level     1,  Iter    35:    Energy =   0.1077
Level     1,  Iter    36:    Energy =   0.1080
Level     1,  Iter    37:    Energy =   0.1078
Level     1,  Iter    38:    Energy =   0.1081
Level     1,  Iter    39:    Energy =   0.1080
Level     1,  Iter    40:    Energy =   0.1083
Level     1,  Iter    41:    Energy =   0.1081
Level     1,  Iter    42:    Energy =   0.1084
Level     1,  Iter    43:    Energy =   0.1082
Level     1,  Iter    44:    Energy =   0.1085
Level     1,  Iter    45:    Energy =   0.1083
Level     1,  Iter    46:    Energy =   0.1087
Level     1,  Iter    47:    Energy =   0.1084
Level     1,  Iter    48:    Energy =   0.1088
Level     1,  Iter    49:    Energy =   0.1086
Level     1,  Iter    50:    Energy =   0.1089
Level     1,  Iter    51:    Energy =   0.1086
Level     1,  Iter    52:    Energy =   0.1090
Level     1,  Iter    53:    Energy =   0.1087
Level     1,  Iter    54:    Energy =   0.1090
Level     1,  Iter    55:    Energy =   0.1088
Level     1,  Iter    56:    Energy =   0.1091
Level     1,  Iter    57:    Energy =   0.1089
Level     1,  Iter    58:    Energy =   0.1092
Level     1,  Iter    59:    Energy =   0.1089
END OF LEVEL     1    DetJac Range:   0.1161  to   3.2970 
  Avg. Gradient Time  : 0.0415s  32.75% 
  Avg. Gaussian Time  : 0.0690s  54.43% 
  Avg. Iteration Time : 0.1267s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0553
Level     2,  Iter     1:    Energy =   0.0572
Level     2,  Iter     2:    Energy =   0.0589
Level     2,  Iter     3:    Energy =   0.0610
Level     2,  Iter     4:    Energy =   0.0628
Level     2,  Iter     5:    Energy =   0.0644
Level     2,  Iter     6:    Energy =   0.0657
Level     2,  Iter     7:    Energy =   0.0669
Level     2,  Iter     8:    Energy =   0.0679
Level     2,  Iter     9:    Energy =   0.0688
Level     2,  Iter    10:    Energy =   0.0696
Level     2,  Iter    11:    Energy =   0.0704
Level     2,  Iter    12:    Energy =   0.0710
Level     2,  Iter    13:    Energy =   0.0716
Level     2,  Iter    14:    Energy =   0.0721
Level     2,  Iter    15:    Energy =   0.0726
Level     2,  Iter    16:    Energy =   0.0731
Level     2,  Iter    17:    Energy =   0.0735
Level     2,  Iter    18:    Energy =   0.0739
Level     2,  Iter    19:    Energy =   0.0742
END OF LEVEL     2    DetJac Range:   0.0545  to   4.5190 
  Avg. Gradient Time  : 0.2946s  30.93% 
  Avg. Gaussian Time  : 0.5285s  55.50% 
  Avg. Iteration Time : 0.9523s 

real	0m32.621s
user	0m59.252s
sys	0m1.436s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.321154 0.326923
+ echo 'CHUNK 0.321154 0.326923 1'
CHUNK 0.321154 0.326923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.321154 0.326923 1
====================================
         PROGRESS: 0.321154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.593068
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3236.81   GNORM= 215.719
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3260.467     199.388       0.001
   2    4     -3276.450      95.746       1.000
   3    5     -3285.581      76.540       1.000
   4    6     -3296.170     147.503       1.000
   5    7     -3312.414     134.363       1.000
   6    8     -3338.116      72.850       1.000
   7    9     -3351.782     102.870       1.000
   8   10     -3359.670     251.029       1.000
   9   11     -3378.637      96.623       1.000
  10   12     -3384.578      64.514       1.000
  11   13     -3388.096      49.658       1.000
  12   14     -3397.551      82.770       1.000
  13   15     -3406.783      79.104       1.000
  14   16     -3412.786      62.017       1.000
  15   17     -3418.229      42.280       1.000
  16   19     -3419.815      74.698       0.399
  17   20     -3422.005      27.352       1.000
  18   21     -3423.022      33.789       1.000
  19   22     -3424.003      13.133       1.000
  20   23     -3424.367      31.209       1.000
  21   24     -3424.718      15.220       1.000
  22   25     -3424.972      11.888       1.000
  23   26     -3425.122      16.582       1.000
  24   27     -3425.255       4.084       1.000
  25   29     -3425.361       6.029       5.000
  26   31     -3425.389      10.123       0.269
  27   32     -3425.405       7.204       1.000
  28   33     -3425.452       8.034       1.000
  29   35     -3425.480       6.044       0.203
  30   36     -3425.507       6.002       1.000
  31   38     -3425.538       4.501       0.252
  32   39     -3425.561       4.356       1.000
  33   40     -3425.632       7.171       1.000
  34   42     -3425.662      13.646       0.352
  35   43     -3425.704       4.231       1.000
  36   44     -3425.711       4.151       1.000
  37   45     -3425.719       3.143       1.000
  38   47     -3425.756       4.394       5.000
  39   49     -3425.806       3.556       0.148
  40   51     -3425.827       8.833       0.102
  41   52     -3425.858      11.410       1.000
  42   54     -3425.880       5.040       0.386
  43   55     -3425.885       4.931       1.000
  44   57     -3425.890       6.258       0.104
  45   58     -3425.901       5.246       1.000
  46   59     -3425.912      10.380       1.000
  47   60     -3425.931       5.740       1.000
  48   61     -3425.934       2.551       1.000
Final RAS Transform: 
0.925026 -0.00659233 0.0580313 -1.8171 
0.00690626 1.01448 0.0504518 0.436971 
-0.0128117 -0.00206293 1.03123 -0.0556391 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2350.47   GNORM= 198.933
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2367.679     109.729       0.001
   2    4     -2374.229      45.613       1.000
   3    5     -2376.595      38.271       1.000
   4    6     -2379.163      42.623       1.000
   5    7     -2388.927      60.972       1.000
   6    8     -2393.371      61.739       1.000
   7    9     -2397.801      72.897       1.000
   8   10     -2401.507      83.520       1.000
   9   11     -2405.068      63.649       1.000
  10   12     -2415.140      59.869       1.000
  11   13     -2418.796      36.935       1.000
  12   14     -2420.616      27.914       1.000
  13   15     -2423.838      53.163       1.000
  14   16     -2428.617      62.986       1.000
  15   17     -2433.884      88.339       1.000
  16   19     -2435.654      65.160       0.337
  17   20     -2438.068      23.426       1.000
  18   21     -2438.881      11.056       1.000
  19   22     -2439.258      14.640       1.000
  20   23     -2439.461       9.673       1.000
  21   24     -2439.851      10.489       1.000
  22   25     -2440.482      25.256       1.000
  23   26     -2441.039      45.932       1.000
  24   27     -2442.018      24.330       1.000
  25   28     -2442.730      12.334       1.000
  26   29     -2442.821       6.952       1.000
  27   30     -2442.877       9.776       1.000
  28   31     -2442.949       8.770       1.000
  29   32     -2443.195      16.826       1.000
  30   33     -2443.499       6.989       1.000
  31   34     -2443.714      14.456       1.000
  32   36     -2443.795       9.101       0.482
  33   37     -2443.853       4.108       1.000
  34   38     -2443.866       8.091       1.000
  35   39     -2443.937       4.351       1.000
  36   40     -2443.956       6.216       1.000
  37   41     -2443.969       2.543       1.000
  38   42     -2443.975       3.881       1.000
  39   43     -2443.982       4.946       1.000
  40   44     -2444.005       4.907       1.000
  41   46     -2444.010       7.140       0.107
  42   47     -2444.025       3.421       1.000
  43   48     -2444.030       4.604       1.000
  44   49     -2444.038       2.173       1.000
  45   51     -2444.039       2.037       0.226
  46   52     -2444.047       4.295       1.000
  47   53     -2444.048       1.783       1.000
  48   54     -2444.051       2.095       1.000
  49   55     -2444.053       2.231       1.000
  50   56     -2444.058       2.323       1.000
Final RAS Transform: 
0.966269 -0.0219767 -0.00932432 -0.992615 
0.000578245 1.01507 0.0564791 0.289542 
-0.00211182 -0.00456717 1.02854 0.108082 
0 0 0 1 

Final RAS Transform: 
0.966269 -0.0219767 -0.00932432 -0.992615 
0.000578245 1.01507 0.0564791 0.289542 
-0.00211182 -0.00456717 1.02854 0.108082 
0 0 0 1 


real	0m9.459s
user	0m16.500s
sys	0m0.484s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.594328
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0982
Level     0,  Iter     1:    Energy =   0.1064
Level     0,  Iter     2:    Energy =   0.1134
Level     0,  Iter     3:    Energy =   0.1178
Level     0,  Iter     4:    Energy =   0.1208
Level     0,  Iter     5:    Energy =   0.1226
Level     0,  Iter     6:    Energy =   0.1254
Level     0,  Iter     7:    Energy =   0.1264
Level     0,  Iter     8:    Energy =   0.1281
Level     0,  Iter     9:    Energy =   0.1288
Level     0,  Iter    10:    Energy =   0.1298
Level     0,  Iter    11:    Energy =   0.1302
Level     0,  Iter    12:    Energy =   0.1311
Level     0,  Iter    13:    Energy =   0.1314
Level     0,  Iter    14:    Energy =   0.1318
Level     0,  Iter    15:    Energy =   0.1321
Level     0,  Iter    16:    Energy =   0.1324
Level     0,  Iter    17:    Energy =   0.1326
Level     0,  Iter    18:    Energy =   0.1329
Level     0,  Iter    19:    Energy =   0.1331
Level     0,  Iter    20:    Energy =   0.1334
Level     0,  Iter    21:    Energy =   0.1336
Level     0,  Iter    22:    Energy =   0.1339
Level     0,  Iter    23:    Energy =   0.1341
Level     0,  Iter    24:    Energy =   0.1342
Level     0,  Iter    25:    Energy =   0.1344
Level     0,  Iter    26:    Energy =   0.1348
Level     0,  Iter    27:    Energy =   0.1349
Level     0,  Iter    28:    Energy =   0.1352
Level     0,  Iter    29:    Energy =   0.1353
Level     0,  Iter    30:    Energy =   0.1355
Level     0,  Iter    31:    Energy =   0.1357
Level     0,  Iter    32:    Energy =   0.1360
Level     0,  Iter    33:    Energy =   0.1362
Level     0,  Iter    34:    Energy =   0.1362
Level     0,  Iter    35:    Energy =   0.1364
Level     0,  Iter    36:    Energy =   0.1366
Level     0,  Iter    37:    Energy =   0.1368
Level     0,  Iter    38:    Energy =   0.1367
Level     0,  Iter    39:    Energy =   0.1370
Level     0,  Iter    40:    Energy =   0.1370
Level     0,  Iter    41:    Energy =   0.1372
Level     0,  Iter    42:    Energy =   0.1372
Level     0,  Iter    43:    Energy =   0.1374
Level     0,  Iter    44:    Energy =   0.1374
Level     0,  Iter    45:    Energy =   0.1375
Level     0,  Iter    46:    Energy =   0.1373
Level     0,  Iter    47:    Energy =   0.1375
Level     0,  Iter    48:    Energy =   0.1376
Level     0,  Iter    49:    Energy =   0.1378
Level     0,  Iter    50:    Energy =   0.1375
Level     0,  Iter    51:    Energy =   0.1377
Level     0,  Iter    52:    Energy =   0.1378
Level     0,  Iter    53:    Energy =   0.1379
Level     0,  Iter    54:    Energy =   0.1377
Level     0,  Iter    55:    Energy =   0.1379
Level     0,  Iter    56:    Energy =   0.1380
Level     0,  Iter    57:    Energy =   0.1381
Level     0,  Iter    58:    Energy =   0.1379
Level     0,  Iter    59:    Energy =   0.1381
END OF LEVEL     0    DetJac Range:   0.3467  to   2.4630 
  Avg. Gradient Time  : 0.0073s  34.68% 
  Avg. Gaussian Time  : 0.0105s  49.79% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0930
Level     1,  Iter     1:    Energy =   0.0982
Level     1,  Iter     2:    Energy =   0.1016
Level     1,  Iter     3:    Energy =   0.1048
Level     1,  Iter     4:    Energy =   0.1077
Level     1,  Iter     5:    Energy =   0.1103
Level     1,  Iter     6:    Energy =   0.1123
Level     1,  Iter     7:    Energy =   0.1140
Level     1,  Iter     8:    Energy =   0.1154
Level     1,  Iter     9:    Energy =   0.1167
Level     1,  Iter    10:    Energy =   0.1173
Level     1,  Iter    11:    Energy =   0.1178
Level     1,  Iter    12:    Energy =   0.1183
Level     1,  Iter    13:    Energy =   0.1188
Level     1,  Iter    14:    Energy =   0.1189
Level     1,  Iter    15:    Energy =   0.1194
Level     1,  Iter    16:    Energy =   0.1193
Level     1,  Iter    17:    Energy =   0.1203
Level     1,  Iter    18:    Energy =   0.1201
Level     1,  Iter    19:    Energy =   0.1209
Level     1,  Iter    20:    Energy =   0.1207
Level     1,  Iter    21:    Energy =   0.1215
Level     1,  Iter    22:    Energy =   0.1212
Level     1,  Iter    23:    Energy =   0.1218
Level     1,  Iter    24:    Energy =   0.1216
Level     1,  Iter    25:    Energy =   0.1221
Level     1,  Iter    26:    Energy =   0.1219
Level     1,  Iter    27:    Energy =   0.1221
Level     1,  Iter    28:    Energy =   0.1219
Level     1,  Iter    29:    Energy =   0.1223
Level     1,  Iter    30:    Energy =   0.1221
Level     1,  Iter    31:    Energy =   0.1224
Level     1,  Iter    32:    Energy =   0.1223
Level     1,  Iter    33:    Energy =   0.1226
Level     1,  Iter    34:    Energy =   0.1224
Level     1,  Iter    35:    Energy =   0.1227
Level     1,  Iter    36:    Energy =   0.1226
Level     1,  Iter    37:    Energy =   0.1229
Level     1,  Iter    38:    Energy =   0.1226
Level     1,  Iter    39:    Energy =   0.1232
Level     1,  Iter    40:    Energy =   0.1228
Level     1,  Iter    41:    Energy =   0.1232
Level     1,  Iter    42:    Energy =   0.1230
Level     1,  Iter    43:    Energy =   0.1232
Level     1,  Iter    44:    Energy =   0.1230
Level     1,  Iter    45:    Energy =   0.1233
Level     1,  Iter    46:    Energy =   0.1231
Level     1,  Iter    47:    Energy =   0.1233
Level     1,  Iter    48:    Energy =   0.1231
Level     1,  Iter    49:    Energy =   0.1235
Level     1,  Iter    50:    Energy =   0.1232
Level     1,  Iter    51:    Energy =   0.1235
Level     1,  Iter    52:    Energy =   0.1234
Level     1,  Iter    53:    Energy =   0.1236
Level     1,  Iter    54:    Energy =   0.1234
Level     1,  Iter    55:    Energy =   0.1236
Level     1,  Iter    56:    Energy =   0.1235
Level     1,  Iter    57:    Energy =   0.1236
Level     1,  Iter    58:    Energy =   0.1235
Level     1,  Iter    59:    Energy =   0.1236
END OF LEVEL     1    DetJac Range:   0.1818  to   2.8106 
  Avg. Gradient Time  : 0.0417s  32.89% 
  Avg. Gaussian Time  : 0.0688s  54.29% 
  Avg. Iteration Time : 0.1267s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0620
Level     2,  Iter     1:    Energy =   0.0644
Level     2,  Iter     2:    Energy =   0.0669
Level     2,  Iter     3:    Energy =   0.0689
Level     2,  Iter     4:    Energy =   0.0705
Level     2,  Iter     5:    Energy =   0.0720
Level     2,  Iter     6:    Energy =   0.0734
Level     2,  Iter     7:    Energy =   0.0747
Level     2,  Iter     8:    Energy =   0.0759
Level     2,  Iter     9:    Energy =   0.0770
Level     2,  Iter    10:    Energy =   0.0780
Level     2,  Iter    11:    Energy =   0.0787
Level     2,  Iter    12:    Energy =   0.0792
Level     2,  Iter    13:    Energy =   0.0795
Level     2,  Iter    14:    Energy =   0.0799
Level     2,  Iter    15:    Energy =   0.0802
Level     2,  Iter    16:    Energy =   0.0806
Level     2,  Iter    17:    Energy =   0.0809
Level     2,  Iter    18:    Energy =   0.0813
Level     2,  Iter    19:    Energy =   0.0816
END OF LEVEL     2    DetJac Range:   0.0808  to   3.7710 
  Avg. Gradient Time  : 0.2931s  30.86% 
  Avg. Gaussian Time  : 0.5275s  55.54% 
  Avg. Iteration Time : 0.9498s 

real	0m32.531s
user	0m59.200s
sys	0m1.396s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.326923 0.332692
+ echo 'CHUNK 0.326923 0.332692 1'
CHUNK 0.326923 0.332692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.326923 0.332692 1
====================================
         PROGRESS: 0.326923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.784759
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3180.47   GNORM= 276.801
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3189.371     432.754       0.004
   2    3     -3250.951     286.878       1.000
   3    4     -3273.469     118.641       1.000
   4    5     -3284.218     106.151       1.000
   5    6     -3313.601     230.598       1.000
   6    7     -3349.556     154.621       1.000
   7    8     -3360.461      46.093       1.000
   8    9     -3361.548      31.661       1.000
   9   10     -3362.774      46.099       1.000
  10   11     -3366.236      55.145       1.000
  11   13     -3368.850     111.530       0.231
  12   14     -3374.345      76.678       1.000
  13   15     -3378.291      54.006       1.000
  14   16     -3380.062      67.284       1.000
  15   17     -3381.461      30.794       1.000
  16   18     -3382.566      20.908       1.000
  17   19     -3383.987      22.405       1.000
  18   21     -3384.689      32.391       0.497
  19   22     -3385.127      14.051       1.000
  20   23     -3385.473      14.708       1.000
  21   25     -3385.814      19.462       0.163
  22   26     -3386.156      11.124       1.000
  23   27     -3386.450      15.182       1.000
  24   28     -3386.775      17.373       1.000
  25   29     -3387.126      28.441       1.000
  26   30     -3387.297      24.818       1.000
  27   31     -3387.439       7.884       1.000
  28   32     -3387.483       8.698       1.000
  29   33     -3387.578       9.593       1.000
  30   34     -3387.723      10.838       1.000
  31   35     -3387.903       8.813       1.000
  32   36     -3388.312      22.858       1.000
  33   37     -3388.503       8.262       1.000
  34   38     -3388.575       9.815       1.000
  35   39     -3388.789      17.136       1.000
  36   40     -3388.920      20.252       1.000
  37   41     -3389.033       6.474       1.000
  38   42     -3389.044       8.823       1.000
  39   43     -3389.064       4.612       1.000
  40   44     -3389.107       4.597       1.000
  41   45     -3389.171      11.532       1.000
  42   46     -3389.211      19.675       1.000
  43   47     -3389.311       4.048       1.000
  44   48     -3389.327       4.057       1.000
  45   49     -3389.348       3.728       1.000
  46   50     -3389.356       9.342       1.000
  47   51     -3389.395      12.073       1.000
  48   53     -3389.402      10.731       0.358
  49   54     -3389.419       5.864       1.000
  50   56     -3389.422       7.371       0.304
  51   58     -3389.422       2.742       0.317
  52   59     -3389.426       2.869       1.000
  53   61     -3389.429       2.871       0.184
Final RAS Transform: 
0.968252 -0.00557476 0.0316868 -0.71011 
0.0415985 1.00575 0.0594914 0.965107 
-0.0170984 0.0139565 1.0074 0.342527 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2230.7   GNORM= 180.241
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2262.381      96.619       0.002
   2    4     -2264.603     119.777       1.000
   3    5     -2268.759      54.492       1.000
   4    6     -2271.920      43.139       1.000
   5    7     -2279.357      65.682       1.000
   6    8     -2285.017      54.934       1.000
   7   10     -2286.390      44.898       0.500
   8   11     -2287.835      21.709       1.000
   9   12     -2289.135      36.958       1.000
  10   13     -2291.923      75.578       1.000
  11   14     -2295.931      77.444       1.000
  12   15     -2298.950      66.572       1.000
  13   16     -2300.849      15.647       1.000
  14   17     -2301.110      11.564       1.000
  15   18     -2301.508      15.758       1.000
  16   19     -2301.921       9.891       1.000
  17   20     -2302.189      16.694       1.000
  18   21     -2302.576      15.280       1.000
  19   22     -2303.735      12.198       1.000
  20   23     -2304.048       9.536       1.000
  21   25     -2304.156      10.388       0.252
  22   26     -2304.229       7.641       1.000
  23   27     -2304.266      13.084       1.000
  24   28     -2304.315       5.630       1.000
  25   29     -2304.344       4.794       1.000
  26   30     -2304.488      16.994       1.000
  27   31     -2304.624      17.796       1.000
  28   33     -2304.730      19.377       0.289
  29   34     -2304.973      14.048       1.000
  30   35     -2305.082       5.444       1.000
  31   36     -2305.119       3.399       1.000
  32   37     -2305.152       4.017       1.000
  33   38     -2305.167       7.398       1.000
  34   39     -2305.188       5.044       1.000
  35   40     -2305.205       4.021       1.000
  36   41     -2305.215       2.295       1.000
  37   42     -2305.222       4.054       1.000
  38   43     -2305.237       4.898       1.000
  39   45     -2305.269       4.803       0.181
  40   47     -2305.280       2.345       0.405
  41   48     -2305.287       2.784       1.000
  42   49     -2305.289       1.614       1.000
  43   50     -2305.291       1.872       1.000
  44   51     -2305.303       4.479       1.000
  45   52     -2305.313       3.261       1.000
  46   53     -2305.327       2.432       1.000
  47   54     -2305.335       3.614       1.000
  48   56     -2305.342       3.640       0.231
  49   57     -2305.353       1.467       1.000
  50   58     -2305.355       1.162       1.000
  51   60     -2305.359       1.131       0.435
Final RAS Transform: 
0.976979 -0.0192961 -0.00913673 -0.684148 
0.0285091 0.997034 0.0588902 0.301861 
-0.0117587 0.0111179 1.01908 0.559866 
0 0 0 1 

Final RAS Transform: 
0.976979 -0.0192961 -0.00913673 -0.684148 
0.0285091 0.997034 0.0588902 0.301861 
-0.0117587 0.0111179 1.01908 0.559866 
0 0 0 1 


real	0m10.206s
user	0m17.824s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.800713
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0964
Level     0,  Iter     1:    Energy =   0.1061
Level     0,  Iter     2:    Energy =   0.1138
Level     0,  Iter     3:    Energy =   0.1195
Level     0,  Iter     4:    Energy =   0.1242
Level     0,  Iter     5:    Energy =   0.1276
Level     0,  Iter     6:    Energy =   0.1299
Level     0,  Iter     7:    Energy =   0.1315
Level     0,  Iter     8:    Energy =   0.1323
Level     0,  Iter     9:    Energy =   0.1331
Level     0,  Iter    10:    Energy =   0.1337
Level     0,  Iter    11:    Energy =   0.1342
Level     0,  Iter    12:    Energy =   0.1347
Level     0,  Iter    13:    Energy =   0.1351
Level     0,  Iter    14:    Energy =   0.1355
Level     0,  Iter    15:    Energy =   0.1359
Level     0,  Iter    16:    Energy =   0.1363
Level     0,  Iter    17:    Energy =   0.1365
Level     0,  Iter    18:    Energy =   0.1368
Level     0,  Iter    19:    Energy =   0.1370
Level     0,  Iter    20:    Energy =   0.1372
Level     0,  Iter    21:    Energy =   0.1373
Level     0,  Iter    22:    Energy =   0.1373
Level     0,  Iter    23:    Energy =   0.1375
Level     0,  Iter    24:    Energy =   0.1376
Level     0,  Iter    25:    Energy =   0.1377
Level     0,  Iter    26:    Energy =   0.1377
Level     0,  Iter    27:    Energy =   0.1379
Level     0,  Iter    28:    Energy =   0.1378
Level     0,  Iter    29:    Energy =   0.1381
Level     0,  Iter    30:    Energy =   0.1380
Level     0,  Iter    31:    Energy =   0.1382
Level     0,  Iter    32:    Energy =   0.1382
Level     0,  Iter    33:    Energy =   0.1383
Level     0,  Iter    34:    Energy =   0.1383
Level     0,  Iter    35:    Energy =   0.1384
Level     0,  Iter    36:    Energy =   0.1382
Level     0,  Iter    37:    Energy =   0.1384
Level     0,  Iter    38:    Energy =   0.1384
Level     0,  Iter    39:    Energy =   0.1385
Level     0,  Iter    40:    Energy =   0.1383
Level     0,  Iter    41:    Energy =   0.1386
Level     0,  Iter    42:    Energy =   0.1385
Level     0,  Iter    43:    Energy =   0.1387
Level     0,  Iter    44:    Energy =   0.1384
Level     0,  Iter    45:    Energy =   0.1387
Level     0,  Iter    46:    Energy =   0.1386
Level     0,  Iter    47:    Energy =   0.1387
Level     0,  Iter    48:    Energy =   0.1385
Level     0,  Iter    49:    Energy =   0.1388
Level     0,  Iter    50:    Energy =   0.1387
Level     0,  Iter    51:    Energy =   0.1389
Level     0,  Iter    52:    Energy =   0.1388
Level     0,  Iter    53:    Energy =   0.1390
Level     0,  Iter    54:    Energy =   0.1388
Level     0,  Iter    55:    Energy =   0.1391
Level     0,  Iter    56:    Energy =   0.1389
Level     0,  Iter    57:    Energy =   0.1390
Level     0,  Iter    58:    Energy =   0.1389
Level     0,  Iter    59:    Energy =   0.1390
END OF LEVEL     0    DetJac Range:   0.3384  to   2.1901 
  Avg. Gradient Time  : 0.0073s  34.48% 
  Avg. Gaussian Time  : 0.0106s  49.98% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0908
Level     1,  Iter     1:    Energy =   0.0968
Level     1,  Iter     2:    Energy =   0.1007
Level     1,  Iter     3:    Energy =   0.1041
Level     1,  Iter     4:    Energy =   0.1069
Level     1,  Iter     5:    Energy =   0.1086
Level     1,  Iter     6:    Energy =   0.1096
Level     1,  Iter     7:    Energy =   0.1111
Level     1,  Iter     8:    Energy =   0.1127
Level     1,  Iter     9:    Energy =   0.1140
Level     1,  Iter    10:    Energy =   0.1152
Level     1,  Iter    11:    Energy =   0.1161
Level     1,  Iter    12:    Energy =   0.1170
Level     1,  Iter    13:    Energy =   0.1180
Level     1,  Iter    14:    Energy =   0.1190
Level     1,  Iter    15:    Energy =   0.1197
Level     1,  Iter    16:    Energy =   0.1206
Level     1,  Iter    17:    Energy =   0.1208
Level     1,  Iter    18:    Energy =   0.1206
Level     1,  Iter    19:    Energy =   0.1213
Level     1,  Iter    20:    Energy =   0.1212
Level     1,  Iter    21:    Energy =   0.1217
Level     1,  Iter    22:    Energy =   0.1213
Level     1,  Iter    23:    Energy =   0.1220
Level     1,  Iter    24:    Energy =   0.1220
Level     1,  Iter    25:    Energy =   0.1223
Level     1,  Iter    26:    Energy =   0.1219
Level     1,  Iter    27:    Energy =   0.1225
Level     1,  Iter    28:    Energy =   0.1223
Level     1,  Iter    29:    Energy =   0.1227
Level     1,  Iter    30:    Energy =   0.1223
Level     1,  Iter    31:    Energy =   0.1230
Level     1,  Iter    32:    Energy =   0.1227
Level     1,  Iter    33:    Energy =   0.1231
Level     1,  Iter    34:    Energy =   0.1228
Level     1,  Iter    35:    Energy =   0.1231
Level     1,  Iter    36:    Energy =   0.1230
Level     1,  Iter    37:    Energy =   0.1229
Level     1,  Iter    38:    Energy =   0.1230
Level     1,  Iter    39:    Energy =   0.1231
Level     1,  Iter    40:    Energy =   0.1229
Level     1,  Iter    41:    Energy =   0.1231
Level     1,  Iter    42:    Energy =   0.1230
Level     1,  Iter    43:    Energy =   0.1230
Level     1,  Iter    44:    Energy =   0.1231
Level     1,  Iter    45:    Energy =   0.1230
Level     1,  Iter    46:    Energy =   0.1230
Level     1,  Iter    47:    Energy =   0.1230
Level     1,  Iter    48:    Energy =   0.1231
Level     1,  Iter    49:    Energy =   0.1230
Level     1,  Iter    50:    Energy =   0.1231
Level     1,  Iter    51:    Energy =   0.1230
Level     1,  Iter    52:    Energy =   0.1231
Level     1,  Iter    53:    Energy =   0.1229
Level     1,  Iter    54:    Energy =   0.1231
Level     1,  Iter    55:    Energy =   0.1230
Level     1,  Iter    56:    Energy =   0.1231
Level     1,  Iter    57:    Energy =   0.1230
Level     1,  Iter    58:    Energy =   0.1232
Level     1,  Iter    59:    Energy =   0.1230
END OF LEVEL     1    DetJac Range:   0.1291  to   3.0360 
  Avg. Gradient Time  : 0.0423s  33.23% 
  Avg. Gaussian Time  : 0.0689s  54.07% 
  Avg. Iteration Time : 0.1275s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0637
Level     2,  Iter     1:    Energy =   0.0661
Level     2,  Iter     2:    Energy =   0.0683
Level     2,  Iter     3:    Energy =   0.0700
Level     2,  Iter     4:    Energy =   0.0714
Level     2,  Iter     5:    Energy =   0.0727
Level     2,  Iter     6:    Energy =   0.0740
Level     2,  Iter     7:    Energy =   0.0751
Level     2,  Iter     8:    Energy =   0.0762
Level     2,  Iter     9:    Energy =   0.0771
Level     2,  Iter    10:    Energy =   0.0779
Level     2,  Iter    11:    Energy =   0.0786
Level     2,  Iter    12:    Energy =   0.0793
Level     2,  Iter    13:    Energy =   0.0799
Level     2,  Iter    14:    Energy =   0.0805
Level     2,  Iter    15:    Energy =   0.0810
Level     2,  Iter    16:    Energy =   0.0815
Level     2,  Iter    17:    Energy =   0.0820
Level     2,  Iter    18:    Energy =   0.0824
Level     2,  Iter    19:    Energy =   0.0828
END OF LEVEL     2    DetJac Range:   0.0608  to   3.9970 
  Avg. Gradient Time  : 0.2955s  31.04% 
  Avg. Gaussian Time  : 0.5272s  55.38% 
  Avg. Iteration Time : 0.9519s 

real	0m32.694s
user	0m59.356s
sys	0m1.500s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.332692 0.338462
+ echo 'CHUNK 0.332692 0.338462 1'
CHUNK 0.332692 0.338462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.332692 0.338462 1
====================================
         PROGRESS: 0.332692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.679531
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2471.78   GNORM= 223.292
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2493.575      72.852       0.001
   2    5     -2509.733      76.335       5.000
   3    6     -2530.205      96.173       1.000
   4    7     -2578.782     151.939       1.000
   5    8     -2607.982     135.954       1.000
   6    9     -2632.535      73.773       1.000
   7   10     -2643.547      57.411       1.000
   8   11     -2648.801      82.082       1.000
   9   12     -2654.240      64.149       1.000
  10   13     -2666.523      62.711       1.000
  11   14     -2673.304      83.436       1.000
  12   15     -2683.612      64.016       1.000
  13   16     -2694.143      43.654       1.000
  14   17     -2698.841      70.759       1.000
  15   18     -2703.050      41.820       1.000
  16   19     -2706.410      24.910       1.000
  17   20     -2707.439      27.683       1.000
  18   21     -2709.431      17.159       1.000
  19   22     -2711.420      15.694       1.000
  20   24     -2711.682      30.255       0.153
  21   25     -2712.053      23.523       1.000
  22   26     -2712.466      21.372       1.000
  23   27     -2712.632      10.622       1.000
  24   28     -2712.773      10.822       1.000
  25   29     -2713.182      15.265       1.000
  26   30     -2713.763      19.459       1.000
  27   32     -2714.112      20.277       0.315
  28   33     -2714.424      12.150       1.000
  29   34     -2714.601       8.802       1.000
  30   37     -2714.753      10.742       1.941
  31   38     -2714.785       5.534       1.000
  32   39     -2714.834       6.028       1.000
  33   41     -2714.843       8.931       0.249
  34   42     -2714.865       5.076       1.000
  35   43     -2714.873       5.700       1.000
  36   44     -2714.889       4.043       1.000
  37   46     -2714.894       6.269       0.346
  38   47     -2714.910       3.917       1.000
  39   49     -2714.930       8.993       5.000
  40   50     -2714.988       8.959       1.000
  41   51     -2715.116       6.833       1.000
  42   53     -2715.169       5.068       0.278
  43   54     -2715.192       5.922       1.000
  44   55     -2715.219       5.660       1.000
  45   56     -2715.286       3.377       1.000
  46   57     -2715.413       7.224       1.000
  47   59     -2715.451      12.375       0.291
  48   60     -2715.572      15.656       1.000
Final RAS Transform: 
0.898235 -0.0202803 0.0787623 -2.97191 
0.0293136 0.951229 -0.0900673 -0.151806 
-0.0433906 0.0177004 1.10416 -0.668795 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1667.06   GNORM= 82.7263
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1677.852      46.916       0.003
   2    4     -1680.104      33.475       1.000
   3    5     -1681.314      22.915       1.000
   4    6     -1683.391      26.859       1.000
   5    7     -1685.004      29.233       1.000
   6    8     -1690.816      28.932       1.000
   7   10     -1691.428      28.697       0.112
   8   11     -1693.364      26.463       1.000
   9   12     -1696.919      42.333       1.000
  10   13     -1698.741      24.599       1.000
  11   14     -1699.483      18.814       1.000
  12   15     -1699.788      12.436       1.000
  13   16     -1700.058      12.887       1.000
  14   17     -1703.931      16.201       1.000
  15   19     -1705.329      26.511       0.507
  16   20     -1706.874      15.981       1.000
  17   21     -1707.313      15.346       1.000
  18   23     -1708.073      13.946       0.505
  19   24     -1708.418       6.511       1.000
  20   25     -1708.464       7.591       1.000
  21   26     -1708.617       5.162       1.000
  22   28     -1708.743       8.030       0.340
  23   29     -1708.950       7.909       1.000
  24   30     -1709.269       6.487       1.000
  25   31     -1709.799       9.665       1.000
  26   33     -1709.990      11.455       0.456
  27   34     -1710.439       8.133       1.000
  28   35     -1710.549      11.667       1.000
  29   36     -1710.635       8.182       1.000
  30   37     -1710.698       4.437       1.000
  31   38     -1710.699       5.838       1.000
  32   39     -1710.756       2.369       1.000
  33   40     -1710.782       2.120       1.000
  34   41     -1710.792       3.665       1.000
  35   42     -1710.804       4.656       1.000
  36   43     -1710.826       4.402       1.000
  37   45     -1710.848       5.302       0.209
  38   47     -1710.873       1.629       0.444
  39   49     -1710.873       1.793       0.522
  40   50     -1710.889       5.557       1.000
  41   51     -1710.934       5.938       1.000
  42   52     -1710.980       3.175       1.000
  43   53     -1710.995       2.727       1.000
  44   55     -1710.998       2.524       0.523
  45   57     -1711.001       2.209       0.232
  46   59     -1711.002       1.260       0.354
  47   60     -1711.006       1.470       1.000
  48   61     -1711.013       1.392       1.000
Final RAS Transform: 
0.930024 -0.00455211 0.067338 -1.74427 
0.00770065 0.934559 -0.130342 -0.856944 
-0.0261462 0.0303455 1.12169 -0.0452067 
0 0 0 1 

Final RAS Transform: 
0.930024 -0.00455211 0.067338 -1.74427 
0.00770065 0.934559 -0.130342 -0.856944 
-0.0261462 0.0303455 1.12169 -0.0452067 
0 0 0 1 


real	0m10.564s
user	0m18.520s
sys	0m0.480s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.680939
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0740
Level     0,  Iter     1:    Energy =   0.0805
Level     0,  Iter     2:    Energy =   0.0869
Level     0,  Iter     3:    Energy =   0.0932
Level     0,  Iter     4:    Energy =   0.0969
Level     0,  Iter     5:    Energy =   0.1001
Level     0,  Iter     6:    Energy =   0.1042
Level     0,  Iter     7:    Energy =   0.1052
Level     0,  Iter     8:    Energy =   0.1081
Level     0,  Iter     9:    Energy =   0.1086
Level     0,  Iter    10:    Energy =   0.1100
Level     0,  Iter    11:    Energy =   0.1103
Level     0,  Iter    12:    Energy =   0.1113
Level     0,  Iter    13:    Energy =   0.1114
Level     0,  Iter    14:    Energy =   0.1123
Level     0,  Iter    15:    Energy =   0.1122
Level     0,  Iter    16:    Energy =   0.1127
Level     0,  Iter    17:    Energy =   0.1126
Level     0,  Iter    18:    Energy =   0.1131
Level     0,  Iter    19:    Energy =   0.1130
Level     0,  Iter    20:    Energy =   0.1134
Level     0,  Iter    21:    Energy =   0.1133
Level     0,  Iter    22:    Energy =   0.1136
Level     0,  Iter    23:    Energy =   0.1135
Level     0,  Iter    24:    Energy =   0.1138
Level     0,  Iter    25:    Energy =   0.1137
Level     0,  Iter    26:    Energy =   0.1140
Level     0,  Iter    27:    Energy =   0.1139
Level     0,  Iter    28:    Energy =   0.1142
Level     0,  Iter    29:    Energy =   0.1140
Level     0,  Iter    30:    Energy =   0.1143
Level     0,  Iter    31:    Energy =   0.1142
Level     0,  Iter    32:    Energy =   0.1145
Level     0,  Iter    33:    Energy =   0.1143
Level     0,  Iter    34:    Energy =   0.1146
Level     0,  Iter    35:    Energy =   0.1145
Level     0,  Iter    36:    Energy =   0.1147
Level     0,  Iter    37:    Energy =   0.1146
Level     0,  Iter    38:    Energy =   0.1147
Level     0,  Iter    39:    Energy =   0.1146
Level     0,  Iter    40:    Energy =   0.1147
Level     0,  Iter    41:    Energy =   0.1147
Level     0,  Iter    42:    Energy =   0.1148
Level     0,  Iter    43:    Energy =   0.1148
Level     0,  Iter    44:    Energy =   0.1149
Level     0,  Iter    45:    Energy =   0.1148
Level     0,  Iter    46:    Energy =   0.1149
Level     0,  Iter    47:    Energy =   0.1149
Level     0,  Iter    48:    Energy =   0.1150
Level     0,  Iter    49:    Energy =   0.1150
Level     0,  Iter    50:    Energy =   0.1151
Level     0,  Iter    51:    Energy =   0.1150
Level     0,  Iter    52:    Energy =   0.1152
Level     0,  Iter    53:    Energy =   0.1151
Level     0,  Iter    54:    Energy =   0.1153
Level     0,  Iter    55:    Energy =   0.1152
Level     0,  Iter    56:    Energy =   0.1153
Level     0,  Iter    57:    Energy =   0.1153
Level     0,  Iter    58:    Energy =   0.1154
Level     0,  Iter    59:    Energy =   0.1153
END OF LEVEL     0    DetJac Range:   0.2042  to   2.2041 
  Avg. Gradient Time  : 0.0084s  34.63% 
  Avg. Gaussian Time  : 0.0121s  49.82% 
  Avg. Iteration Time : 0.0243s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0733
Level     1,  Iter     1:    Energy =   0.0775
Level     1,  Iter     2:    Energy =   0.0807
Level     1,  Iter     3:    Energy =   0.0842
Level     1,  Iter     4:    Energy =   0.0872
Level     1,  Iter     5:    Energy =   0.0898
Level     1,  Iter     6:    Energy =   0.0918
Level     1,  Iter     7:    Energy =   0.0939
Level     1,  Iter     8:    Energy =   0.0957
Level     1,  Iter     9:    Energy =   0.0970
Level     1,  Iter    10:    Energy =   0.0981
Level     1,  Iter    11:    Energy =   0.0989
Level     1,  Iter    12:    Energy =   0.0995
Level     1,  Iter    13:    Energy =   0.1002
Level     1,  Iter    14:    Energy =   0.1006
Level     1,  Iter    15:    Energy =   0.1012
Level     1,  Iter    16:    Energy =   0.1013
Level     1,  Iter    17:    Energy =   0.1017
Level     1,  Iter    18:    Energy =   0.1019
Level     1,  Iter    19:    Energy =   0.1021
Level     1,  Iter    20:    Energy =   0.1024
Level     1,  Iter    21:    Energy =   0.1025
Level     1,  Iter    22:    Energy =   0.1027
Level     1,  Iter    23:    Energy =   0.1030
Level     1,  Iter    24:    Energy =   0.1027
Level     1,  Iter    25:    Energy =   0.1031
Level     1,  Iter    26:    Energy =   0.1034
Level     1,  Iter    27:    Energy =   0.1037
Level     1,  Iter    28:    Energy =   0.1033
Level     1,  Iter    29:    Energy =   0.1037
Level     1,  Iter    30:    Energy =   0.1040
Level     1,  Iter    31:    Energy =   0.1043
Level     1,  Iter    32:    Energy =   0.1044
Level     1,  Iter    33:    Energy =   0.1046
Level     1,  Iter    34:    Energy =   0.1043
Level     1,  Iter    35:    Energy =   0.1045
Level     1,  Iter    36:    Energy =   0.1047
Level     1,  Iter    37:    Energy =   0.1048
Level     1,  Iter    38:    Energy =   0.1046
Level     1,  Iter    39:    Energy =   0.1048
Level     1,  Iter    40:    Energy =   0.1049
Level     1,  Iter    41:    Energy =   0.1050
Level     1,  Iter    42:    Energy =   0.1048
Level     1,  Iter    43:    Energy =   0.1050
Level     1,  Iter    44:    Energy =   0.1051
Level     1,  Iter    45:    Energy =   0.1053
Level     1,  Iter    46:    Energy =   0.1050
Level     1,  Iter    47:    Energy =   0.1052
Level     1,  Iter    48:    Energy =   0.1053
Level     1,  Iter    49:    Energy =   0.1055
Level     1,  Iter    50:    Energy =   0.1052
Level     1,  Iter    51:    Energy =   0.1054
Level     1,  Iter    52:    Energy =   0.1055
Level     1,  Iter    53:    Energy =   0.1057
Level     1,  Iter    54:    Energy =   0.1053
Level     1,  Iter    55:    Energy =   0.1056
Level     1,  Iter    56:    Energy =   0.1057
Level     1,  Iter    57:    Energy =   0.1059
Level     1,  Iter    58:    Energy =   0.1056
Level     1,  Iter    59:    Energy =   0.1058
END OF LEVEL     1    DetJac Range:   0.0676  to   4.8190 
  Avg. Gradient Time  : 0.0478s  33.01% 
  Avg. Gaussian Time  : 0.0782s  54.05% 
  Avg. Iteration Time : 0.1447s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0528
Level     2,  Iter     1:    Energy =   0.0552
Level     2,  Iter     2:    Energy =   0.0575
Level     2,  Iter     3:    Energy =   0.0596
Level     2,  Iter     4:    Energy =   0.0614
Level     2,  Iter     5:    Energy =   0.0629
Level     2,  Iter     6:    Energy =   0.0641
Level     2,  Iter     7:    Energy =   0.0650
Level     2,  Iter     8:    Energy =   0.0657
Level     2,  Iter     9:    Energy =   0.0664
Level     2,  Iter    10:    Energy =   0.0671
Level     2,  Iter    11:    Energy =   0.0678
Level     2,  Iter    12:    Energy =   0.0684
Level     2,  Iter    13:    Energy =   0.0691
Level     2,  Iter    14:    Energy =   0.0697
Level     2,  Iter    15:    Energy =   0.0703
Level     2,  Iter    16:    Energy =   0.0709
Level     2,  Iter    17:    Energy =   0.0714
Level     2,  Iter    18:    Energy =   0.0719
Level     2,  Iter    19:    Energy =   0.0723
END OF LEVEL     2    DetJac Range:   0.0497  to   5.2981 
  Avg. Gradient Time  : 0.3215s  30.94% 
  Avg. Gaussian Time  : 0.5747s  55.30% 
  Avg. Iteration Time : 1.0392s 

real	0m35.870s
user	1m5.568s
sys	0m1.520s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.338462 0.344231
+ echo 'CHUNK 0.338462 0.344231 1'
CHUNK 0.338462 0.344231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.338462 0.344231 1
====================================
         PROGRESS: 0.338462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=left
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.432333
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2615.53   GNORM= 384.694
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2657.102     168.079       0.001
   2    4     -2670.794     151.607       1.000
   3    5     -2720.871     117.145       1.000
   4    6     -2741.293      85.271       1.000
   5    7     -2759.525     129.206       1.000
   6    8     -2774.175      71.946       1.000
   7    9     -2787.088      93.048       1.000
   8   10     -2791.151     229.627       1.000
   9   11     -2804.639     111.864       1.000
  10   12     -2810.120      97.316       1.000
  11   13     -2815.336      93.962       1.000
  12   14     -2830.112     122.756       1.000
  13   16     -2849.616     132.669       0.292
  14   17     -2869.052     111.845       1.000
  15   18     -2879.130      42.369       1.000
  16   19     -2880.689      36.469       1.000
  17   20     -2882.407      28.276       1.000
  18   21     -2883.926      28.982       1.000
  19   22     -2885.755      19.346       1.000
  20   23     -2886.564      20.486       1.000
  21   25     -2886.950      19.575       0.481
  22   26     -2887.201      30.382       1.000
  23   27     -2887.538      13.225       1.000
  24   28     -2887.807      13.605       1.000
  25   29     -2888.134      21.854       1.000
  26   30     -2888.441      10.540       1.000
  27   31     -2888.584       8.725       1.000
  28   32     -2888.637       7.077       1.000
  29   33     -2888.699       7.169       1.000
  30   34     -2888.889      14.067       1.000
  31   35     -2889.023      10.408       1.000
  32   36     -2889.073       8.371       1.000
  33   37     -2889.144      12.401       1.000
  34   38     -2889.196       9.099       1.000
  35   39     -2889.219       3.796       1.000
  36   41     -2889.242       5.396       0.514
  37   43     -2889.266       6.945       0.417
  38   44     -2889.292      10.997       1.000
  39   45     -2889.315       6.744       1.000
  40   46     -2889.340       5.752       1.000
  41   47     -2889.355       2.700       1.000
  42   48     -2889.365       4.818       1.000
  43   49     -2889.371       4.211       1.000
  44   50     -2889.386       2.570       1.000
Final RAS Transform: 
0.898881 -0.0186569 0.0268058 -3.41951 
-0.0162898 0.997327 0.0639537 -0.600953 
-0.00991484 -0.00322688 1.01102 -0.363072 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1921.63   GNORM= 185.226
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1935.603      92.675       0.001
   2    4     -1941.333      61.993       1.000
   3    5     -1946.345      32.913       1.000
   4    6     -1949.173      41.613       1.000
   5    7     -1955.907      75.090       1.000
   6    8     -1966.299      77.358       1.000
   7   10     -1973.543      77.618       0.486
   8   12     -1976.741      93.398       0.399
   9   13     -1981.045      28.942       1.000
  10   14     -1981.735      18.425       1.000
  11   15     -1982.403      18.615       1.000
  12   16     -1984.501      22.991       1.000
  13   17     -1985.855      34.041       1.000
  14   18     -1986.652      52.710       1.000
  15   19     -1988.239      17.326       1.000
  16   20     -1989.271      29.763       1.000
  17   21     -1990.837      38.469       1.000
  18   22     -1993.281      59.895       1.000
  19   24     -1994.039      34.430       0.433
  20   25     -1994.448      16.141       1.000
  21   26     -1994.672      15.004       1.000
  22   27     -1994.738      13.574       1.000
  23   28     -1994.995      10.343       1.000
  24   29     -1995.137       9.752       1.000
  25   30     -1995.290       7.870       1.000
  26   31     -1995.607       7.867       1.000
  27   32     -1996.052      20.505       1.000
  28   34     -1996.190      16.455       0.350
  29   35     -1996.346      11.690       1.000
  30   36     -1996.623       8.945       1.000
  31   37     -1996.726       6.369       1.000
  32   38     -1997.042      15.600       1.000
  33   39     -1997.280      19.178       1.000
  34   40     -1997.649      35.726       1.000
  35   42     -1997.906      16.138       0.407
  36   43     -1998.066       7.154       1.000
  37   44     -1998.145       5.194       1.000
  38   45     -1998.195       9.027       1.000
  39   46     -1998.305       8.160       1.000
  40   47     -1998.574       7.988       1.000
  41   49     -1998.652      11.297       0.105
  42   50     -1998.669       7.090       1.000
  43   51     -1998.701       3.748       1.000
  44   52     -1998.731       3.786       1.000
  45   54     -1998.758       5.755       0.348
  46   55     -1998.811       3.508       1.000
  47   56     -1998.856       4.278       1.000
  48   57     -1998.925       6.639       1.000
  49   58     -1999.100       8.317       1.000
  50   60     -1999.191      10.861       0.329
  51   61     -1999.299       8.953       1.000
Final RAS Transform: 
0.947309 -0.0105361 -0.0153739 -1.62252 
-0.0199981 1.00281 0.0803042 -0.493755 
-0.000344317 -0.000885331 1.01185 -0.0519671 
0 0 0 1 

Final RAS Transform: 
0.947309 -0.0105361 -0.0153739 -1.62252 
-0.0199981 1.00281 0.0803042 -0.493755 
-0.000344317 -0.000885331 1.01185 -0.0519671 
0 0 0 1 


real	0m9.481s
user	0m16.572s
sys	0m0.444s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509, moving = 0.441648
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0808
Level     0,  Iter     1:    Energy =   0.0888
Level     0,  Iter     2:    Energy =   0.0960
Level     0,  Iter     3:    Energy =   0.1008
Level     0,  Iter     4:    Energy =   0.1047
Level     0,  Iter     5:    Energy =   0.1060
Level     0,  Iter     6:    Energy =   0.1094
Level     0,  Iter     7:    Energy =   0.1101
Level     0,  Iter     8:    Energy =   0.1123
Level     0,  Iter     9:    Energy =   0.1126
Level     0,  Iter    10:    Energy =   0.1140
Level     0,  Iter    11:    Energy =   0.1141
Level     0,  Iter    12:    Energy =   0.1153
Level     0,  Iter    13:    Energy =   0.1154
Level     0,  Iter    14:    Energy =   0.1164
Level     0,  Iter    15:    Energy =   0.1163
Level     0,  Iter    16:    Energy =   0.1172
Level     0,  Iter    17:    Energy =   0.1171
Level     0,  Iter    18:    Energy =   0.1179
Level     0,  Iter    19:    Energy =   0.1178
Level     0,  Iter    20:    Energy =   0.1185
Level     0,  Iter    21:    Energy =   0.1182
Level     0,  Iter    22:    Energy =   0.1188
Level     0,  Iter    23:    Energy =   0.1185
Level     0,  Iter    24:    Energy =   0.1191
Level     0,  Iter    25:    Energy =   0.1188
Level     0,  Iter    26:    Energy =   0.1192
Level     0,  Iter    27:    Energy =   0.1189
Level     0,  Iter    28:    Energy =   0.1194
Level     0,  Iter    29:    Energy =   0.1191
Level     0,  Iter    30:    Energy =   0.1195
Level     0,  Iter    31:    Energy =   0.1192
Level     0,  Iter    32:    Energy =   0.1196
Level     0,  Iter    33:    Energy =   0.1193
Level     0,  Iter    34:    Energy =   0.1197
Level     0,  Iter    35:    Energy =   0.1193
Level     0,  Iter    36:    Energy =   0.1197
Level     0,  Iter    37:    Energy =   0.1194
Level     0,  Iter    38:    Energy =   0.1197
Level     0,  Iter    39:    Energy =   0.1194
Level     0,  Iter    40:    Energy =   0.1198
Level     0,  Iter    41:    Energy =   0.1194
Level     0,  Iter    42:    Energy =   0.1198
Level     0,  Iter    43:    Energy =   0.1195
Level     0,  Iter    44:    Energy =   0.1198
Level     0,  Iter    45:    Energy =   0.1195
Level     0,  Iter    46:    Energy =   0.1199
Level     0,  Iter    47:    Energy =   0.1195
Level     0,  Iter    48:    Energy =   0.1199
Level     0,  Iter    49:    Energy =   0.1196
Level     0,  Iter    50:    Energy =   0.1199
Level     0,  Iter    51:    Energy =   0.1196
Level     0,  Iter    52:    Energy =   0.1199
Level     0,  Iter    53:    Energy =   0.1196
Level     0,  Iter    54:    Energy =   0.1200
Level     0,  Iter    55:    Energy =   0.1197
Level     0,  Iter    56:    Energy =   0.1200
Level     0,  Iter    57:    Energy =   0.1197
Level     0,  Iter    58:    Energy =   0.1200
Level     0,  Iter    59:    Energy =   0.1197
END OF LEVEL     0    DetJac Range:   0.2388  to   2.2873 
  Avg. Gradient Time  : 0.0084s  34.83% 
  Avg. Gaussian Time  : 0.0119s  49.54% 
  Avg. Iteration Time : 0.0240s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0804
Level     1,  Iter     1:    Energy =   0.0847
Level     1,  Iter     2:    Energy =   0.0879
Level     1,  Iter     3:    Energy =   0.0911
Level     1,  Iter     4:    Energy =   0.0948
Level     1,  Iter     5:    Energy =   0.0975
Level     1,  Iter     6:    Energy =   0.1000
Level     1,  Iter     7:    Energy =   0.1022
Level     1,  Iter     8:    Energy =   0.1039
Level     1,  Iter     9:    Energy =   0.1053
Level     1,  Iter    10:    Energy =   0.1065
Level     1,  Iter    11:    Energy =   0.1075
Level     1,  Iter    12:    Energy =   0.1085
Level     1,  Iter    13:    Energy =   0.1091
Level     1,  Iter    14:    Energy =   0.1097
Level     1,  Iter    15:    Energy =   0.1103
Level     1,  Iter    16:    Energy =   0.1109
Level     1,  Iter    17:    Energy =   0.1111
Level     1,  Iter    18:    Energy =   0.1117
Level     1,  Iter    19:    Energy =   0.1117
Level     1,  Iter    20:    Energy =   0.1118
Level     1,  Iter    21:    Energy =   0.1120
Level     1,  Iter    22:    Energy =   0.1121
Level     1,  Iter    23:    Energy =   0.1124
Level     1,  Iter    24:    Energy =   0.1124
Level     1,  Iter    25:    Energy =   0.1128
Level     1,  Iter    26:    Energy =   0.1127
Level     1,  Iter    27:    Energy =   0.1132
Level     1,  Iter    28:    Energy =   0.1131
Level     1,  Iter    29:    Energy =   0.1136
Level     1,  Iter    30:    Energy =   0.1133
Level     1,  Iter    31:    Energy =   0.1138
Level     1,  Iter    32:    Energy =   0.1136
Level     1,  Iter    33:    Energy =   0.1141
Level     1,  Iter    34:    Energy =   0.1138
Level     1,  Iter    35:    Energy =   0.1144
Level     1,  Iter    36:    Energy =   0.1140
Level     1,  Iter    37:    Energy =   0.1146
Level     1,  Iter    38:    Energy =   0.1142
Level     1,  Iter    39:    Energy =   0.1148
Level     1,  Iter    40:    Energy =   0.1145
Level     1,  Iter    41:    Energy =   0.1150
Level     1,  Iter    42:    Energy =   0.1146
Level     1,  Iter    43:    Energy =   0.1152
Level     1,  Iter    44:    Energy =   0.1148
Level     1,  Iter    45:    Energy =   0.1154
Level     1,  Iter    46:    Energy =   0.1149
Level     1,  Iter    47:    Energy =   0.1155
Level     1,  Iter    48:    Energy =   0.1151
Level     1,  Iter    49:    Energy =   0.1156
Level     1,  Iter    50:    Energy =   0.1152
Level     1,  Iter    51:    Energy =   0.1157
Level     1,  Iter    52:    Energy =   0.1152
Level     1,  Iter    53:    Energy =   0.1157
Level     1,  Iter    54:    Energy =   0.1153
Level     1,  Iter    55:    Energy =   0.1158
Level     1,  Iter    56:    Energy =   0.1153
Level     1,  Iter    57:    Energy =   0.1159
Level     1,  Iter    58:    Energy =   0.1155
Level     1,  Iter    59:    Energy =   0.1157
END OF LEVEL     1    DetJac Range:   0.0732  to   3.8221 
  Avg. Gradient Time  : 0.0471s  32.60% 
  Avg. Gaussian Time  : 0.0786s  54.41% 
  Avg. Iteration Time : 0.1445s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0607
Level     2,  Iter     1:    Energy =   0.0633
Level     2,  Iter     2:    Energy =   0.0655
Level     2,  Iter     3:    Energy =   0.0672
Level     2,  Iter     4:    Energy =   0.0687
Level     2,  Iter     5:    Energy =   0.0701
Level     2,  Iter     6:    Energy =   0.0713
Level     2,  Iter     7:    Energy =   0.0723
Level     2,  Iter     8:    Energy =   0.0734
Level     2,  Iter     9:    Energy =   0.0743
Level     2,  Iter    10:    Energy =   0.0751
Level     2,  Iter    11:    Energy =   0.0757
Level     2,  Iter    12:    Energy =   0.0762
Level     2,  Iter    13:    Energy =   0.0767
Level     2,  Iter    14:    Energy =   0.0772
Level     2,  Iter    15:    Energy =   0.0777
Level     2,  Iter    16:    Energy =   0.0782
Level     2,  Iter    17:    Energy =   0.0787
Level     2,  Iter    18:    Energy =   0.0792
Level     2,  Iter    19:    Energy =   0.0795
END OF LEVEL     2    DetJac Range:   0.0474  to   4.4529 
  Avg. Gradient Time  : 0.3318s  30.68% 
  Avg. Gaussian Time  : 0.6002s  55.51% 
  Avg. Iteration Time : 1.0814s 

real	0m36.981s
user	1m7.464s
sys	0m1.652s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.344231 0.35
+ echo 'CHUNK 0.344231 0.35 1'
CHUNK 0.344231 0.35 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.344231 0.35 1
====================================
         PROGRESS: 0.344231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.82766
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4050.21   GNORM= 804.927
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4181.011     127.945       0.000
   2    4     -4186.266      86.722       1.000
   3    5     -4193.101      70.805       1.000
   4    6     -4202.758     100.078       1.000
   5    7     -4216.672     120.658       1.000
   6    8     -4220.092     140.986       1.000
   7    9     -4224.807     199.106       1.000
   8   10     -4231.514      32.674       1.000
   9   11     -4232.146      28.126       1.000
  10   12     -4233.425      30.253       1.000
  11   13     -4235.661      62.536       1.000
  12   14     -4236.854      34.655       1.000
  13   15     -4238.259      38.710       1.000
  14   16     -4238.942      37.408       1.000
  15   17     -4239.897      14.614       1.000
  16   18     -4240.001      23.255       1.000
  17   19     -4240.163      10.546       1.000
  18   20     -4240.200      14.703       1.000
  19   21     -4240.272       9.967       1.000
  20   22     -4240.434       8.658       1.000
  21   24     -4240.602      17.076       0.501
  22   26     -4240.645      16.229       0.261
  23   27     -4240.712      10.151       1.000
  24   28     -4240.752       7.189       1.000
  25   29     -4240.843      12.480       1.000
  26   30     -4240.924      19.168       1.000
  27   31     -4241.100       8.121       1.000
  28   32     -4241.235       6.664       1.000
  29   33     -4241.279       5.735       1.000
  30   34     -4241.327       4.459       1.000
  31   35     -4241.399       9.857       1.000
  32   36     -4241.428       8.259       1.000
  33   37     -4241.455       5.739       1.000
  34   38     -4241.482       6.488       1.000
  35   39     -4241.498       3.954       1.000
  36   40     -4241.521       4.020       1.000
  37   41     -4241.546       6.675       1.000
  38   42     -4241.568       4.744       1.000
  39   43     -4241.577       7.665       1.000
  40   44     -4241.594       1.643       1.000
Final RAS Transform: 
0.990424 -0.000503624 -0.00678999 0.090882 
-0.0093246 1.01416 0.0322082 0.71314 
0.000870981 -0.0154582 0.968587 -0.752358 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2702.11   GNORM= 96.5166
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2705.483      53.615       0.001
   2    4     -2706.900      30.375       1.000
   3    5     -2707.969      26.392       1.000
   4    6     -2709.234      27.414       1.000
   5    7     -2714.380      65.889       1.000
   6    8     -2717.331      63.013       1.000
   7    9     -2719.348      37.834       1.000
   8   10     -2719.863      10.328       1.000
   9   11     -2719.937       9.307       1.000
  10   13     -2720.087      10.509       0.382
  11   14     -2720.286      11.496       1.000
  12   15     -2720.821      27.783       1.000
  13   16     -2721.094       8.430       1.000
  14   17     -2721.216      10.382       1.000
  15   18     -2721.586      24.420       1.000
  16   19     -2721.874      14.669       1.000
  17   20     -2722.105       7.142       1.000
  18   21     -2722.462      15.727       1.000
  19   23     -2722.933      25.603       0.446
  20   25     -2723.102       8.822       0.451
  21   26     -2723.185       4.618       1.000
  22   27     -2723.218      10.628       1.000
  23   28     -2723.293       4.583       1.000
  24   29     -2723.324       3.256       1.000
  25   30     -2723.359       8.498       1.000
  26   31     -2723.414       4.868       1.000
  27   32     -2723.516       6.377       1.000
  28   34     -2723.533       4.984       0.304
  29   35     -2723.553       3.607       1.000
  30   36     -2723.570       5.745       1.000
  31   37     -2723.609       6.842       1.000
  32   38     -2723.636       7.776       1.000
  33   39     -2723.676       4.966       1.000
  34   40     -2723.683       3.117       1.000
  35   41     -2723.700       2.435       1.000
  36   42     -2723.734       2.684       1.000
  37   44     -2723.754       7.278       0.308
  38   45     -2723.779       2.983       1.000
Final RAS Transform: 
0.9895 -0.00231939 0.0063907 0.29501 
-0.00505088 1.00277 0.0172435 0.371723 
-0.00834084 -0.00366837 0.977867 -0.288185 
0 0 0 1 

Final RAS Transform: 
0.9895 -0.00231939 0.0063907 0.29501 
-0.00505088 1.00277 0.0172435 0.371723 
-0.00834084 -0.00366837 0.977867 -0.288185 
0 0 0 1 


real	0m10.309s
user	0m18.012s
sys	0m0.488s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.817908
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1215
Level     0,  Iter     1:    Energy =   0.1283
Level     0,  Iter     2:    Energy =   0.1350
Level     0,  Iter     3:    Energy =   0.1403
Level     0,  Iter     4:    Energy =   0.1443
Level     0,  Iter     5:    Energy =   0.1480
Level     0,  Iter     6:    Energy =   0.1498
Level     0,  Iter     7:    Energy =   0.1509
Level     0,  Iter     8:    Energy =   0.1520
Level     0,  Iter     9:    Energy =   0.1525
Level     0,  Iter    10:    Energy =   0.1530
Level     0,  Iter    11:    Energy =   0.1535
Level     0,  Iter    12:    Energy =   0.1539
Level     0,  Iter    13:    Energy =   0.1542
Level     0,  Iter    14:    Energy =   0.1544
Level     0,  Iter    15:    Energy =   0.1547
Level     0,  Iter    16:    Energy =   0.1549
Level     0,  Iter    17:    Energy =   0.1552
Level     0,  Iter    18:    Energy =   0.1553
Level     0,  Iter    19:    Energy =   0.1556
Level     0,  Iter    20:    Energy =   0.1556
Level     0,  Iter    21:    Energy =   0.1558
Level     0,  Iter    22:    Energy =   0.1559
Level     0,  Iter    23:    Energy =   0.1562
Level     0,  Iter    24:    Energy =   0.1562
Level     0,  Iter    25:    Energy =   0.1564
Level     0,  Iter    26:    Energy =   0.1564
Level     0,  Iter    27:    Energy =   0.1566
Level     0,  Iter    28:    Energy =   0.1566
Level     0,  Iter    29:    Energy =   0.1567
Level     0,  Iter    30:    Energy =   0.1568
Level     0,  Iter    31:    Energy =   0.1568
Level     0,  Iter    32:    Energy =   0.1569
Level     0,  Iter    33:    Energy =   0.1570
Level     0,  Iter    34:    Energy =   0.1570
Level     0,  Iter    35:    Energy =   0.1571
Level     0,  Iter    36:    Energy =   0.1572
Level     0,  Iter    37:    Energy =   0.1571
Level     0,  Iter    38:    Energy =   0.1572
Level     0,  Iter    39:    Energy =   0.1572
Level     0,  Iter    40:    Energy =   0.1572
Level     0,  Iter    41:    Energy =   0.1572
Level     0,  Iter    42:    Energy =   0.1572
Level     0,  Iter    43:    Energy =   0.1572
Level     0,  Iter    44:    Energy =   0.1571
Level     0,  Iter    45:    Energy =   0.1571
Level     0,  Iter    46:    Energy =   0.1571
Level     0,  Iter    47:    Energy =   0.1571
Level     0,  Iter    48:    Energy =   0.1571
Level     0,  Iter    49:    Energy =   0.1571
Level     0,  Iter    50:    Energy =   0.1571
Level     0,  Iter    51:    Energy =   0.1571
Level     0,  Iter    52:    Energy =   0.1571
Level     0,  Iter    53:    Energy =   0.1571
Level     0,  Iter    54:    Energy =   0.1571
Level     0,  Iter    55:    Energy =   0.1571
Level     0,  Iter    56:    Energy =   0.1571
Level     0,  Iter    57:    Energy =   0.1571
Level     0,  Iter    58:    Energy =   0.1571
Level     0,  Iter    59:    Energy =   0.1572
END OF LEVEL     0    DetJac Range:   0.3464  to   2.3625 
  Avg. Gradient Time  : 0.0087s  34.85% 
  Avg. Gaussian Time  : 0.0123s  49.53% 
  Avg. Iteration Time : 0.0249s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0975
Level     1,  Iter     1:    Energy =   0.1025
Level     1,  Iter     2:    Energy =   0.1065
Level     1,  Iter     3:    Energy =   0.1104
Level     1,  Iter     4:    Energy =   0.1136
Level     1,  Iter     5:    Energy =   0.1161
Level     1,  Iter     6:    Energy =   0.1179
Level     1,  Iter     7:    Energy =   0.1195
Level     1,  Iter     8:    Energy =   0.1209
Level     1,  Iter     9:    Energy =   0.1219
Level     1,  Iter    10:    Energy =   0.1226
Level     1,  Iter    11:    Energy =   0.1233
Level     1,  Iter    12:    Energy =   0.1237
Level     1,  Iter    13:    Energy =   0.1238
Level     1,  Iter    14:    Energy =   0.1238
Level     1,  Iter    15:    Energy =   0.1242
Level     1,  Iter    16:    Energy =   0.1242
Level     1,  Iter    17:    Energy =   0.1246
Level     1,  Iter    18:    Energy =   0.1245
Level     1,  Iter    19:    Energy =   0.1248
Level     1,  Iter    20:    Energy =   0.1248
Level     1,  Iter    21:    Energy =   0.1248
Level     1,  Iter    22:    Energy =   0.1248
Level     1,  Iter    23:    Energy =   0.1249
Level     1,  Iter    24:    Energy =   0.1249
Level     1,  Iter    25:    Energy =   0.1250
Level     1,  Iter    26:    Energy =   0.1251
Level     1,  Iter    27:    Energy =   0.1252
Level     1,  Iter    28:    Energy =   0.1252
Level     1,  Iter    29:    Energy =   0.1253
Level     1,  Iter    30:    Energy =   0.1253
Level     1,  Iter    31:    Energy =   0.1254
Level     1,  Iter    32:    Energy =   0.1254
Level     1,  Iter    33:    Energy =   0.1255
Level     1,  Iter    34:    Energy =   0.1256
Level     1,  Iter    35:    Energy =   0.1256
Level     1,  Iter    36:    Energy =   0.1257
Level     1,  Iter    37:    Energy =   0.1257
Level     1,  Iter    38:    Energy =   0.1257
Level     1,  Iter    39:    Energy =   0.1258
Level     1,  Iter    40:    Energy =   0.1258
Level     1,  Iter    41:    Energy =   0.1258
Level     1,  Iter    42:    Energy =   0.1259
Level     1,  Iter    43:    Energy =   0.1259
Level     1,  Iter    44:    Energy =   0.1260
Level     1,  Iter    45:    Energy =   0.1260
Level     1,  Iter    46:    Energy =   0.1261
Level     1,  Iter    47:    Energy =   0.1261
Level     1,  Iter    48:    Energy =   0.1261
Level     1,  Iter    49:    Energy =   0.1261
Level     1,  Iter    50:    Energy =   0.1261
Level     1,  Iter    51:    Energy =   0.1261
Level     1,  Iter    52:    Energy =   0.1262
Level     1,  Iter    53:    Energy =   0.1262
Level     1,  Iter    54:    Energy =   0.1262
Level     1,  Iter    55:    Energy =   0.1262
Level     1,  Iter    56:    Energy =   0.1262
Level     1,  Iter    57:    Energy =   0.1262
Level     1,  Iter    58:    Energy =   0.1263
Level     1,  Iter    59:    Energy =   0.1262
END OF LEVEL     1    DetJac Range:   0.1744  to   3.4820 
  Avg. Gradient Time  : 0.0495s  32.85% 
  Avg. Gaussian Time  : 0.0816s  54.18% 
  Avg. Iteration Time : 0.1505s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0592
Level     2,  Iter     1:    Energy =   0.0616
Level     2,  Iter     2:    Energy =   0.0645
Level     2,  Iter     3:    Energy =   0.0669
Level     2,  Iter     4:    Energy =   0.0687
Level     2,  Iter     5:    Energy =   0.0704
Level     2,  Iter     6:    Energy =   0.0719
Level     2,  Iter     7:    Energy =   0.0733
Level     2,  Iter     8:    Energy =   0.0746
Level     2,  Iter     9:    Energy =   0.0757
Level     2,  Iter    10:    Energy =   0.0766
Level     2,  Iter    11:    Energy =   0.0774
Level     2,  Iter    12:    Energy =   0.0780
Level     2,  Iter    13:    Energy =   0.0786
Level     2,  Iter    14:    Energy =   0.0790
Level     2,  Iter    15:    Energy =   0.0794
Level     2,  Iter    16:    Energy =   0.0795
Level     2,  Iter    17:    Energy =   0.0799
Level     2,  Iter    18:    Energy =   0.0801
Level     2,  Iter    19:    Energy =   0.0804
END OF LEVEL     2    DetJac Range:   0.0732  to   3.7454 
  Avg. Gradient Time  : 0.3154s  26.42% 
  Avg. Gaussian Time  : 0.7360s  61.65% 
  Avg. Iteration Time : 1.1938s 

real	0m39.664s
user	1m12.016s
sys	0m2.432s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.35 0.355769
+ echo 'CHUNK 0.35 0.355769 1'
CHUNK 0.35 0.355769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.35 0.355769 1
====================================
         PROGRESS: 0.35               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.769215
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3164.8   GNORM= 206.613
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3202.601      88.087       0.002
   2    4     -3215.196      92.732       1.000
   3    5     -3286.301      74.610       1.000
   4    7     -3297.005      79.748       0.404
   5    8     -3307.874      50.691       1.000
   6    9     -3321.733      61.214       1.000
   7   10     -3329.603      96.793       1.000
   8   11     -3337.092      39.890       1.000
   9   12     -3341.560      44.796       1.000
  10   13     -3342.304     105.753       1.000
  11   14     -3348.957      44.203       1.000
  12   15     -3351.502      23.771       1.000
  13   16     -3353.038      37.692       1.000
  14   17     -3354.904      49.971       1.000
  15   19     -3357.997      46.804       0.460
  16   20     -3361.063      18.285       1.000
  17   21     -3361.871      17.358       1.000
  18   22     -3362.474      20.940       1.000
  19   23     -3363.180      21.601       1.000
  20   24     -3364.291      18.149       1.000
  21   25     -3364.440      17.692       1.000
  22   26     -3364.574       9.192       1.000
  23   27     -3364.700       9.961       1.000
  24   28     -3364.777       5.269       1.000
  25   29     -3364.800       8.987       1.000
  26   30     -3364.862       4.780       1.000
  27   31     -3364.918       5.506       1.000
  28   32     -3364.991      12.733       1.000
  29   33     -3365.093       7.190       1.000
  30   34     -3365.299       8.420       1.000
  31   35     -3365.348       3.800       1.000
  32   37     -3365.363       5.180       0.383
  33   38     -3365.382       3.058       1.000
  34   39     -3365.397       2.581       1.000
  35   40     -3365.415       2.934       1.000
  36   42     -3365.427       2.835       0.128
  37   43     -3365.442       5.141       1.000
  38   44     -3365.455       3.422       1.000
  39   45     -3365.458       2.683       1.000
Final RAS Transform: 
0.99365 0.0323795 -0.051518 0.227347 
-0.0704161 1.01742 0.0810998 1.75374 
0.0122809 -0.0245915 0.977287 -0.195772 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1955.65   GNORM= 76.2165
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1963.395      59.028       0.003
   2    4     -1966.093      28.408       1.000
   3    5     -1967.075      22.269       1.000
   4    6     -1969.323      27.002       1.000
   5    7     -1973.382      39.881       1.000
   6    8     -1980.158      56.507       1.000
   7   10     -1983.127      49.399       0.366
   8   11     -1985.562      39.548       1.000
   9   12     -1986.963      21.353       1.000
  10   13     -1987.612      19.750       1.000
  11   14     -1988.915      21.689       1.000
  12   15     -1990.451      35.396       1.000
  13   16     -1992.022      25.776       1.000
  14   17     -1992.547      11.632       1.000
  15   18     -1992.733      10.855       1.000
  16   19     -1993.309      21.630       1.000
  17   20     -1993.836      17.390       1.000
  18   21     -1995.017      12.281       1.000
  19   22     -1995.384      15.509       1.000
  20   24     -1995.548      10.126       0.406
  21   25     -1995.688       6.417       1.000
  22   26     -1996.019      10.514       1.000
  23   27     -1996.452      10.860       1.000
  24   28     -1996.672      19.814       1.000
  25   29     -1996.876       6.161       1.000
  26   30     -1997.028       6.682       1.000
  27   32     -1997.266       9.533       0.480
  28   33     -1997.429      12.736       1.000
  29   34     -1997.579       5.967       1.000
  30   35     -1997.636       3.593       1.000
  31   36     -1997.675       8.395       1.000
  32   37     -1997.728       6.081       1.000
  33   38     -1997.882       9.816       1.000
  34   39     -1998.009       3.888       1.000
  35   40     -1998.141       4.906       1.000
  36   42     -1998.169       5.419       0.440
  37   43     -1998.192       2.734       1.000
Final RAS Transform: 
1.0009 0.0232203 -0.0504615 0.155555 
-0.0462869 0.995249 0.0478955 0.811385 
-0.00603178 -0.0107704 0.982993 0.309082 
0 0 0 1 

Final RAS Transform: 
1.0009 0.0232203 -0.0504615 0.155555 
-0.0462869 0.995249 0.0478955 0.811385 
-0.00603178 -0.0107704 0.982993 0.309082 
0 0 0 1 


real	0m9.880s
user	0m17.300s
sys	0m0.516s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.766224
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0899
Level     0,  Iter     1:    Energy =   0.0978
Level     0,  Iter     2:    Energy =   0.1052
Level     0,  Iter     3:    Energy =   0.1122
Level     0,  Iter     4:    Energy =   0.1173
Level     0,  Iter     5:    Energy =   0.1205
Level     0,  Iter     6:    Energy =   0.1223
Level     0,  Iter     7:    Energy =   0.1234
Level     0,  Iter     8:    Energy =   0.1239
Level     0,  Iter     9:    Energy =   0.1251
Level     0,  Iter    10:    Energy =   0.1253
Level     0,  Iter    11:    Energy =   0.1261
Level     0,  Iter    12:    Energy =   0.1262
Level     0,  Iter    13:    Energy =   0.1269
Level     0,  Iter    14:    Energy =   0.1269
Level     0,  Iter    15:    Energy =   0.1273
Level     0,  Iter    16:    Energy =   0.1273
Level     0,  Iter    17:    Energy =   0.1277
Level     0,  Iter    18:    Energy =   0.1277
Level     0,  Iter    19:    Energy =   0.1282
Level     0,  Iter    20:    Energy =   0.1281
Level     0,  Iter    21:    Energy =   0.1284
Level     0,  Iter    22:    Energy =   0.1283
Level     0,  Iter    23:    Energy =   0.1286
Level     0,  Iter    24:    Energy =   0.1285
Level     0,  Iter    25:    Energy =   0.1288
Level     0,  Iter    26:    Energy =   0.1286
Level     0,  Iter    27:    Energy =   0.1289
Level     0,  Iter    28:    Energy =   0.1288
Level     0,  Iter    29:    Energy =   0.1290
Level     0,  Iter    30:    Energy =   0.1289
Level     0,  Iter    31:    Energy =   0.1291
Level     0,  Iter    32:    Energy =   0.1290
Level     0,  Iter    33:    Energy =   0.1293
Level     0,  Iter    34:    Energy =   0.1290
Level     0,  Iter    35:    Energy =   0.1294
Level     0,  Iter    36:    Energy =   0.1291
Level     0,  Iter    37:    Energy =   0.1294
Level     0,  Iter    38:    Energy =   0.1292
Level     0,  Iter    39:    Energy =   0.1295
Level     0,  Iter    40:    Energy =   0.1292
Level     0,  Iter    41:    Energy =   0.1296
Level     0,  Iter    42:    Energy =   0.1293
Level     0,  Iter    43:    Energy =   0.1296
Level     0,  Iter    44:    Energy =   0.1293
Level     0,  Iter    45:    Energy =   0.1297
Level     0,  Iter    46:    Energy =   0.1294
Level     0,  Iter    47:    Energy =   0.1298
Level     0,  Iter    48:    Energy =   0.1295
Level     0,  Iter    49:    Energy =   0.1298
Level     0,  Iter    50:    Energy =   0.1295
Level     0,  Iter    51:    Energy =   0.1299
Level     0,  Iter    52:    Energy =   0.1297
Level     0,  Iter    53:    Energy =   0.1300
Level     0,  Iter    54:    Energy =   0.1297
Level     0,  Iter    55:    Energy =   0.1301
Level     0,  Iter    56:    Energy =   0.1297
Level     0,  Iter    57:    Energy =   0.1301
Level     0,  Iter    58:    Energy =   0.1298
Level     0,  Iter    59:    Energy =   0.1301
END OF LEVEL     0    DetJac Range:   0.2380  to   2.0610 
  Avg. Gradient Time  : 0.0076s  35.00% 
  Avg. Gaussian Time  : 0.0106s  49.14% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0764
Level     1,  Iter     1:    Energy =   0.0804
Level     1,  Iter     2:    Energy =   0.0835
Level     1,  Iter     3:    Energy =   0.0865
Level     1,  Iter     4:    Energy =   0.0892
Level     1,  Iter     5:    Energy =   0.0915
Level     1,  Iter     6:    Energy =   0.0937
Level     1,  Iter     7:    Energy =   0.0957
Level     1,  Iter     8:    Energy =   0.0973
Level     1,  Iter     9:    Energy =   0.0986
Level     1,  Iter    10:    Energy =   0.1000
Level     1,  Iter    11:    Energy =   0.1011
Level     1,  Iter    12:    Energy =   0.1020
Level     1,  Iter    13:    Energy =   0.1025
Level     1,  Iter    14:    Energy =   0.1026
Level     1,  Iter    15:    Energy =   0.1026
Level     1,  Iter    16:    Energy =   0.1030
Level     1,  Iter    17:    Energy =   0.1029
Level     1,  Iter    18:    Energy =   0.1034
Level     1,  Iter    19:    Energy =   0.1032
Level     1,  Iter    20:    Energy =   0.1038
Level     1,  Iter    21:    Energy =   0.1037
Level     1,  Iter    22:    Energy =   0.1041
Level     1,  Iter    23:    Energy =   0.1040
Level     1,  Iter    24:    Energy =   0.1044
Level     1,  Iter    25:    Energy =   0.1043
Level     1,  Iter    26:    Energy =   0.1044
Level     1,  Iter    27:    Energy =   0.1046
Level     1,  Iter    28:    Energy =   0.1048
Level     1,  Iter    29:    Energy =   0.1048
Level     1,  Iter    30:    Energy =   0.1050
Level     1,  Iter    31:    Energy =   0.1049
Level     1,  Iter    32:    Energy =   0.1052
Level     1,  Iter    33:    Energy =   0.1051
Level     1,  Iter    34:    Energy =   0.1054
Level     1,  Iter    35:    Energy =   0.1052
Level     1,  Iter    36:    Energy =   0.1055
Level     1,  Iter    37:    Energy =   0.1054
Level     1,  Iter    38:    Energy =   0.1057
Level     1,  Iter    39:    Energy =   0.1055
Level     1,  Iter    40:    Energy =   0.1058
Level     1,  Iter    41:    Energy =   0.1056
Level     1,  Iter    42:    Energy =   0.1059
Level     1,  Iter    43:    Energy =   0.1057
Level     1,  Iter    44:    Energy =   0.1060
Level     1,  Iter    45:    Energy =   0.1058
Level     1,  Iter    46:    Energy =   0.1060
Level     1,  Iter    47:    Energy =   0.1059
Level     1,  Iter    48:    Energy =   0.1061
Level     1,  Iter    49:    Energy =   0.1059
Level     1,  Iter    50:    Energy =   0.1062
Level     1,  Iter    51:    Energy =   0.1059
Level     1,  Iter    52:    Energy =   0.1062
Level     1,  Iter    53:    Energy =   0.1060
Level     1,  Iter    54:    Energy =   0.1063
Level     1,  Iter    55:    Energy =   0.1060
Level     1,  Iter    56:    Energy =   0.1064
Level     1,  Iter    57:    Energy =   0.1061
Level     1,  Iter    58:    Energy =   0.1064
Level     1,  Iter    59:    Energy =   0.1062
END OF LEVEL     1    DetJac Range:   0.0725  to   3.9214 
  Avg. Gradient Time  : 0.0435s  32.72% 
  Avg. Gaussian Time  : 0.0723s  54.46% 
  Avg. Iteration Time : 0.1328s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0490
Level     2,  Iter     1:    Energy =   0.0514
Level     2,  Iter     2:    Energy =   0.0534
Level     2,  Iter     3:    Energy =   0.0552
Level     2,  Iter     4:    Energy =   0.0566
Level     2,  Iter     5:    Energy =   0.0580
Level     2,  Iter     6:    Energy =   0.0592
Level     2,  Iter     7:    Energy =   0.0600
Level     2,  Iter     8:    Energy =   0.0609
Level     2,  Iter     9:    Energy =   0.0618
Level     2,  Iter    10:    Energy =   0.0628
Level     2,  Iter    11:    Energy =   0.0638
Level     2,  Iter    12:    Energy =   0.0645
Level     2,  Iter    13:    Energy =   0.0652
Level     2,  Iter    14:    Energy =   0.0658
Level     2,  Iter    15:    Energy =   0.0664
Level     2,  Iter    16:    Energy =   0.0669
Level     2,  Iter    17:    Energy =   0.0674
Level     2,  Iter    18:    Energy =   0.0678
Level     2,  Iter    19:    Energy =   0.0682
END OF LEVEL     2    DetJac Range:   0.0421  to   4.5498 
  Avg. Gradient Time  : 0.3053s  26.69% 
  Avg. Gaussian Time  : 0.7009s  61.28% 
  Avg. Iteration Time : 1.1437s 

real	0m37.129s
user	1m7.508s
sys	0m2.100s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.355769 0.361538
+ echo 'CHUNK 0.355769 0.361538 1'
CHUNK 0.355769 0.361538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.355769 0.361538 1
====================================
         PROGRESS: 0.355769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.529508
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3596.97   GNORM= 272.79
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3638.026     220.328       0.001
   2    4     -3659.639     133.403       1.000
   3    5     -3674.457     109.784       1.000
   4    6     -3712.675     152.281       1.000
   5    7     -3752.184     221.398       1.000
   6    8     -3778.817     155.509       1.000
   7    9     -3801.853      70.235       1.000
   8   10     -3808.285      94.719       1.000
   9   11     -3821.896     106.059       1.000
  10   12     -3829.999     153.784       1.000
  11   13     -3838.101      47.170       1.000
  12   14     -3839.359      27.513       1.000
  13   15     -3839.684      15.215       1.000
  14   16     -3839.984      14.778       1.000
  15   17     -3841.001      18.420       1.000
  16   18     -3841.343      47.780       1.000
  17   19     -3841.963      27.491       1.000
  18   20     -3842.240      10.532       1.000
  19   21     -3842.530      14.341       1.000
  20   22     -3842.888      20.454       1.000
  21   23     -3843.224      18.746       1.000
  22   24     -3843.537      12.015       1.000
  23   25     -3843.621      32.886       1.000
  24   26     -3843.933       8.850       1.000
  25   27     -3844.022       6.250       1.000
  26   29     -3844.090       8.598       0.167
  27   30     -3844.180       8.512       1.000
  28   31     -3844.276      16.521       1.000
  29   32     -3844.433      16.133       1.000
  30   33     -3844.565      15.684       1.000
  31   34     -3844.673       8.471       1.000
  32   35     -3844.679      13.194       1.000
  33   36     -3844.731       6.400       1.000
  34   37     -3844.765       3.755       1.000
  35   38     -3844.826       3.899       1.000
  36   40     -3844.863      12.786       0.124
  37   41     -3844.899       4.941       1.000
  38   43     -3844.916       5.004       0.313
  39   44     -3844.927       3.405       1.000
  40   45     -3844.964       4.324       1.000
  41   47     -3844.994       6.237       0.409
  42   48     -3845.001       6.773       1.000
  43   49     -3845.016       5.056       1.000
  44   50     -3845.028       2.812       1.000
  45   51     -3845.047       3.467       1.000
  46   53     -3845.053       4.003       0.515
  47   54     -3845.059       5.945       1.000
  48   55     -3845.080       4.860       1.000
  49   56     -3845.100       3.726       1.000
Final RAS Transform: 
0.968246 0.0200497 -0.015118 1.16312 
-0.0474793 1.02496 0.0621 1.21015 
0.00478354 -0.00412585 0.953368 0.0328621 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2631   GNORM= 103.024
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2636.198      82.818       0.001
   2    4     -2639.591      47.311       1.000
   3    5     -2641.572      34.767       1.000
   4    6     -2642.910      37.174       1.000
   5    7     -2648.354      72.862       1.000
   6    8     -2651.759      52.985       1.000
   7    9     -2654.054      21.494       1.000
   8   10     -2654.719      37.007       1.000
   9   11     -2655.532      41.237       1.000
  10   12     -2657.949      26.458       1.000
  11   13     -2658.670      14.676       1.000
  12   14     -2658.913       7.974       1.000
  13   15     -2659.064      12.742       1.000
  14   16     -2659.283      12.016       1.000
  15   17     -2659.632       9.617       1.000
  16   18     -2659.798      29.985       1.000
  17   19     -2659.991       8.357       1.000
  18   20     -2660.019       6.087       1.000
  19   21     -2660.035       4.687       1.000
  20   22     -2660.095       6.372       1.000
  21   23     -2660.208       8.774       1.000
  22   24     -2660.388       9.288       1.000
  23   25     -2660.503       9.051       1.000
  24   26     -2660.527      18.167       1.000
  25   27     -2660.581       4.595       1.000
  26   28     -2660.598       4.007       1.000
  27   29     -2660.680       8.115       1.000
  28   30     -2660.750       7.127       1.000
  29   32     -2660.772       5.405       0.204
  30   33     -2660.798       2.399       1.000
  31   34     -2660.804       3.238       1.000
  32   35     -2660.837       5.581       1.000
  33   36     -2660.884       5.535       1.000
  34   37     -2661.057       8.208       1.000
  35   39     -2661.172      11.548       0.435
  36   40     -2661.247      21.900       1.000
  37   41     -2661.404       7.728       1.000
  38   42     -2661.433       3.673       1.000
  39   43     -2661.449       2.360       1.000
  40   45     -2661.461       4.913       0.315
  41   46     -2661.467       5.980       1.000
  42   47     -2661.502       3.639       1.000
  43   48     -2661.572       4.305       1.000
Final RAS Transform: 
0.97828 0.015308 -0.015571 0.832957 
-0.0608713 1.01338 0.0546438 0.955934 
0.000604561 0.0059841 0.968435 0.53869 
0 0 0 1 

Final RAS Transform: 
0.97828 0.015308 -0.015571 0.832957 
-0.0608713 1.01338 0.0546438 0.955934 
0.000604561 0.0059841 0.968435 0.53869 
0 0 0 1 


real	0m10.606s
user	0m18.592s
sys	0m0.476s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.531941
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1115
Level     0,  Iter     1:    Energy =   0.1207
Level     0,  Iter     2:    Energy =   0.1286
Level     0,  Iter     3:    Energy =   0.1338
Level     0,  Iter     4:    Energy =   0.1375
Level     0,  Iter     5:    Energy =   0.1405
Level     0,  Iter     6:    Energy =   0.1418
Level     0,  Iter     7:    Energy =   0.1427
Level     0,  Iter     8:    Energy =   0.1437
Level     0,  Iter     9:    Energy =   0.1442
Level     0,  Iter    10:    Energy =   0.1449
Level     0,  Iter    11:    Energy =   0.1454
Level     0,  Iter    12:    Energy =   0.1457
Level     0,  Iter    13:    Energy =   0.1461
Level     0,  Iter    14:    Energy =   0.1461
Level     0,  Iter    15:    Energy =   0.1466
Level     0,  Iter    16:    Energy =   0.1465
Level     0,  Iter    17:    Energy =   0.1470
Level     0,  Iter    18:    Energy =   0.1467
Level     0,  Iter    19:    Energy =   0.1472
Level     0,  Iter    20:    Energy =   0.1470
Level     0,  Iter    21:    Energy =   0.1476
Level     0,  Iter    22:    Energy =   0.1473
Level     0,  Iter    23:    Energy =   0.1478
Level     0,  Iter    24:    Energy =   0.1475
Level     0,  Iter    25:    Energy =   0.1480
Level     0,  Iter    26:    Energy =   0.1477
Level     0,  Iter    27:    Energy =   0.1483
Level     0,  Iter    28:    Energy =   0.1479
Level     0,  Iter    29:    Energy =   0.1483
Level     0,  Iter    30:    Energy =   0.1480
Level     0,  Iter    31:    Energy =   0.1486
Level     0,  Iter    32:    Energy =   0.1482
Level     0,  Iter    33:    Energy =   0.1487
Level     0,  Iter    34:    Energy =   0.1483
Level     0,  Iter    35:    Energy =   0.1488
Level     0,  Iter    36:    Energy =   0.1484
Level     0,  Iter    37:    Energy =   0.1488
Level     0,  Iter    38:    Energy =   0.1484
Level     0,  Iter    39:    Energy =   0.1489
Level     0,  Iter    40:    Energy =   0.1485
Level     0,  Iter    41:    Energy =   0.1489
Level     0,  Iter    42:    Energy =   0.1485
Level     0,  Iter    43:    Energy =   0.1489
Level     0,  Iter    44:    Energy =   0.1485
Level     0,  Iter    45:    Energy =   0.1489
Level     0,  Iter    46:    Energy =   0.1485
Level     0,  Iter    47:    Energy =   0.1490
Level     0,  Iter    48:    Energy =   0.1485
Level     0,  Iter    49:    Energy =   0.1490
Level     0,  Iter    50:    Energy =   0.1485
Level     0,  Iter    51:    Energy =   0.1489
Level     0,  Iter    52:    Energy =   0.1486
Level     0,  Iter    53:    Energy =   0.1490
Level     0,  Iter    54:    Energy =   0.1486
Level     0,  Iter    55:    Energy =   0.1490
Level     0,  Iter    56:    Energy =   0.1486
Level     0,  Iter    57:    Energy =   0.1490
Level     0,  Iter    58:    Energy =   0.1486
Level     0,  Iter    59:    Energy =   0.1491
END OF LEVEL     0    DetJac Range:   0.2792  to   2.0044 
  Avg. Gradient Time  : 0.0076s  34.64% 
  Avg. Gaussian Time  : 0.0110s  49.76% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0951
Level     1,  Iter     1:    Energy =   0.1000
Level     1,  Iter     2:    Energy =   0.1045
Level     1,  Iter     3:    Energy =   0.1083
Level     1,  Iter     4:    Energy =   0.1107
Level     1,  Iter     5:    Energy =   0.1128
Level     1,  Iter     6:    Energy =   0.1153
Level     1,  Iter     7:    Energy =   0.1176
Level     1,  Iter     8:    Energy =   0.1192
Level     1,  Iter     9:    Energy =   0.1203
Level     1,  Iter    10:    Energy =   0.1210
Level     1,  Iter    11:    Energy =   0.1214
Level     1,  Iter    12:    Energy =   0.1217
Level     1,  Iter    13:    Energy =   0.1218
Level     1,  Iter    14:    Energy =   0.1217
Level     1,  Iter    15:    Energy =   0.1220
Level     1,  Iter    16:    Energy =   0.1219
Level     1,  Iter    17:    Energy =   0.1223
Level     1,  Iter    18:    Energy =   0.1221
Level     1,  Iter    19:    Energy =   0.1224
Level     1,  Iter    20:    Energy =   0.1224
Level     1,  Iter    21:    Energy =   0.1225
Level     1,  Iter    22:    Energy =   0.1224
Level     1,  Iter    23:    Energy =   0.1227
Level     1,  Iter    24:    Energy =   0.1225
Level     1,  Iter    25:    Energy =   0.1229
Level     1,  Iter    26:    Energy =   0.1227
Level     1,  Iter    27:    Energy =   0.1231
Level     1,  Iter    28:    Energy =   0.1229
Level     1,  Iter    29:    Energy =   0.1233
Level     1,  Iter    30:    Energy =   0.1230
Level     1,  Iter    31:    Energy =   0.1235
Level     1,  Iter    32:    Energy =   0.1232
Level     1,  Iter    33:    Energy =   0.1236
Level     1,  Iter    34:    Energy =   0.1233
Level     1,  Iter    35:    Energy =   0.1237
Level     1,  Iter    36:    Energy =   0.1235
Level     1,  Iter    37:    Energy =   0.1238
Level     1,  Iter    38:    Energy =   0.1234
Level     1,  Iter    39:    Energy =   0.1239
Level     1,  Iter    40:    Energy =   0.1236
Level     1,  Iter    41:    Energy =   0.1239
Level     1,  Iter    42:    Energy =   0.1236
Level     1,  Iter    43:    Energy =   0.1240
Level     1,  Iter    44:    Energy =   0.1237
Level     1,  Iter    45:    Energy =   0.1241
Level     1,  Iter    46:    Energy =   0.1238
Level     1,  Iter    47:    Energy =   0.1241
Level     1,  Iter    48:    Energy =   0.1238
Level     1,  Iter    49:    Energy =   0.1241
Level     1,  Iter    50:    Energy =   0.1239
Level     1,  Iter    51:    Energy =   0.1241
Level     1,  Iter    52:    Energy =   0.1238
Level     1,  Iter    53:    Energy =   0.1241
Level     1,  Iter    54:    Energy =   0.1239
Level     1,  Iter    55:    Energy =   0.1241
Level     1,  Iter    56:    Energy =   0.1239
Level     1,  Iter    57:    Energy =   0.1241
Level     1,  Iter    58:    Energy =   0.1238
Level     1,  Iter    59:    Energy =   0.1241
END OF LEVEL     1    DetJac Range:   0.1869  to   4.0822 
  Avg. Gradient Time  : 0.0437s  32.83% 
  Avg. Gaussian Time  : 0.0724s  54.35% 
  Avg. Iteration Time : 0.1331s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0617
Level     2,  Iter     1:    Energy =   0.0649
Level     2,  Iter     2:    Energy =   0.0676
Level     2,  Iter     3:    Energy =   0.0698
Level     2,  Iter     4:    Energy =   0.0716
Level     2,  Iter     5:    Energy =   0.0731
Level     2,  Iter     6:    Energy =   0.0744
Level     2,  Iter     7:    Energy =   0.0754
Level     2,  Iter     8:    Energy =   0.0763
Level     2,  Iter     9:    Energy =   0.0773
Level     2,  Iter    10:    Energy =   0.0780
Level     2,  Iter    11:    Energy =   0.0786
Level     2,  Iter    12:    Energy =   0.0792
Level     2,  Iter    13:    Energy =   0.0798
Level     2,  Iter    14:    Energy =   0.0804
Level     2,  Iter    15:    Energy =   0.0810
Level     2,  Iter    16:    Energy =   0.0816
Level     2,  Iter    17:    Energy =   0.0822
Level     2,  Iter    18:    Energy =   0.0828
Level     2,  Iter    19:    Energy =   0.0829
END OF LEVEL     2    DetJac Range:   0.0922  to   6.0295 
  Avg. Gradient Time  : 0.3075s  27.26% 
  Avg. Gaussian Time  : 0.6833s  60.58% 
  Avg. Iteration Time : 1.1280s 

real	0m36.837s
user	1m6.704s
sys	0m2.260s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.361538 0.367308
+ echo 'CHUNK 0.361538 0.367308 1'
CHUNK 0.361538 0.367308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.361538 0.367308 1
====================================
         PROGRESS: 0.361538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.261065
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2858.61   GNORM= 745.089
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2963.564     656.883       0.001
   2    3     -3105.176      95.218       1.000
   3    4     -3109.725      67.828       1.000
   4    5     -3117.937      91.759       1.000
   5    6     -3130.184     125.832       1.000
   6    7     -3155.986     157.673       1.000
   7    8     -3177.323      94.885       1.000
   8    9     -3188.144      54.461       1.000
   9   10     -3198.234      45.779       1.000
  10   11     -3206.410      73.133       1.000
  11   12     -3209.054     216.301       1.000
  12   13     -3231.643      68.689       1.000
  13   14     -3236.633      34.830       1.000
  14   15     -3239.929      52.698       1.000
  15   16     -3240.965      32.996       1.000
  16   17     -3241.732      28.930       1.000
  17   19     -3242.509      22.039       0.247
  18   20     -3243.636      20.781       1.000
  19   22     -3244.410      41.812       0.145
  20   23     -3245.637      30.812       1.000
  21   24     -3246.532      27.851       1.000
  22   25     -3247.419      25.631       1.000
  23   26     -3249.470      25.079       1.000
  24   27     -3250.834      22.190       1.000
  25   28     -3251.391      20.889       1.000
  26   30     -3251.622      18.812       0.235
  27   31     -3251.811       8.411       1.000
  28   32     -3251.892       6.353       1.000
  29   34     -3251.929       6.675       0.324
  30   35     -3252.010       6.460       1.000
  31   37     -3252.097       6.136       0.394
  32   38     -3252.146       5.588       1.000
  33   39     -3252.175       5.189       1.000
  34   40     -3252.182       3.437       1.000
  35   41     -3252.199       2.830       1.000
  36   42     -3252.230       5.169       1.000
  37   44     -3252.247       3.520       0.240
Final RAS Transform: 
0.959153 0.0320535 -0.00847725 1.51907 
-0.0749555 0.972372 -0.0596838 0.279287 
0.0423685 0.0106096 1.01696 -0.891479 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2050.49   GNORM= 115.131
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2061.957      73.859       0.002
   2    4     -2063.784      62.238       1.000
   3    5     -2065.340      31.404       1.000
   4    6     -2066.790      29.866       1.000
   5    7     -2070.784      52.905       1.000
   6    8     -2076.086      84.682       1.000
   7    9     -2083.128      82.077       1.000
   8   11     -2085.684      80.540       0.440
   9   12     -2086.241      82.024       1.000
  10   13     -2088.688      13.683       1.000
  11   14     -2088.830      10.364       1.000
  12   15     -2088.968      15.414       1.000
  13   16     -2089.267      12.991       1.000
  14   17     -2090.238      30.341       1.000
  15   18     -2091.056      17.984       1.000
  16   19     -2091.457      17.254       1.000
  17   20     -2091.883      21.084       1.000
  18   21     -2092.380      21.653       1.000
  19   22     -2093.928      42.969       1.000
  20   23     -2094.830      21.228       1.000
  21   24     -2095.094      10.749       1.000
  22   25     -2095.177       6.967       1.000
  23   26     -2095.223       6.161       1.000
  24   28     -2095.270       6.678       0.398
  25   29     -2095.454       9.980       1.000
  26   30     -2095.631       9.377       1.000
  27   32     -2095.810      14.806       0.086
  28   33     -2096.010      11.779       1.000
  29   35     -2096.159       6.785       0.423
  30   36     -2096.350       4.756       1.000
  31   37     -2096.512       9.022       1.000
  32   38     -2096.538      16.963       1.000
  33   39     -2096.635       5.458       1.000
  34   40     -2096.661       6.437       1.000
  35   41     -2096.689       6.297       1.000
  36   42     -2096.730       3.936       1.000
  37   43     -2096.772       5.618       1.000
  38   44     -2096.786       8.438       1.000
  39   45     -2096.852       4.253       1.000
  40   47     -2096.887       5.886       0.508
  41   48     -2096.924       9.020       1.000
  42   49     -2097.004       6.245       1.000
  43   50     -2097.135      10.876       1.000
  44   51     -2097.234      10.415       1.000
  45   52     -2097.414      11.226       1.000
  46   53     -2097.564       6.934       1.000
  47   54     -2097.724      11.734       1.000
  48   56     -2097.811      10.435       0.433
  49   57     -2097.918       5.887       1.000
  50   58     -2097.972       9.855       1.000
  51   59     -2098.040       7.515       1.000
  52   60     -2098.065       5.933       1.000
  53   61     -2098.094      10.568       1.000
Final RAS Transform: 
0.981397 0.0126212 0.0189662 0.710259 
-0.0681293 0.981186 -0.0530902 0.271114 
0.0243429 0.0192106 0.99983 -0.414318 
0 0 0 1 

Final RAS Transform: 
0.981397 0.0126212 0.0189662 0.710259 
-0.0681293 0.981186 -0.0530902 0.271114 
0.0243429 0.0192106 0.99983 -0.414318 
0 0 0 1 


real	0m10.936s
user	0m19.100s
sys	0m0.540s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.25982
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0913
Level     0,  Iter     1:    Energy =   0.0981
Level     0,  Iter     2:    Energy =   0.1040
Level     0,  Iter     3:    Energy =   0.1095
Level     0,  Iter     4:    Energy =   0.1138
Level     0,  Iter     5:    Energy =   0.1176
Level     0,  Iter     6:    Energy =   0.1201
Level     0,  Iter     7:    Energy =   0.1221
Level     0,  Iter     8:    Energy =   0.1231
Level     0,  Iter     9:    Energy =   0.1237
Level     0,  Iter    10:    Energy =   0.1252
Level     0,  Iter    11:    Energy =   0.1254
Level     0,  Iter    12:    Energy =   0.1271
Level     0,  Iter    13:    Energy =   0.1269
Level     0,  Iter    14:    Energy =   0.1279
Level     0,  Iter    15:    Energy =   0.1276
Level     0,  Iter    16:    Energy =   0.1289
Level     0,  Iter    17:    Energy =   0.1286
Level     0,  Iter    18:    Energy =   0.1295
Level     0,  Iter    19:    Energy =   0.1290
Level     0,  Iter    20:    Energy =   0.1301
Level     0,  Iter    21:    Energy =   0.1297
Level     0,  Iter    22:    Energy =   0.1305
Level     0,  Iter    23:    Energy =   0.1299
Level     0,  Iter    24:    Energy =   0.1305
Level     0,  Iter    25:    Energy =   0.1300
Level     0,  Iter    26:    Energy =   0.1307
Level     0,  Iter    27:    Energy =   0.1302
Level     0,  Iter    28:    Energy =   0.1308
Level     0,  Iter    29:    Energy =   0.1303
Level     0,  Iter    30:    Energy =   0.1307
Level     0,  Iter    31:    Energy =   0.1303
Level     0,  Iter    32:    Energy =   0.1311
Level     0,  Iter    33:    Energy =   0.1306
Level     0,  Iter    34:    Energy =   0.1310
Level     0,  Iter    35:    Energy =   0.1305
Level     0,  Iter    36:    Energy =   0.1309
Level     0,  Iter    37:    Energy =   0.1304
Level     0,  Iter    38:    Energy =   0.1309
Level     0,  Iter    39:    Energy =   0.1305
Level     0,  Iter    40:    Energy =   0.1310
Level     0,  Iter    41:    Energy =   0.1306
Level     0,  Iter    42:    Energy =   0.1312
Level     0,  Iter    43:    Energy =   0.1307
Level     0,  Iter    44:    Energy =   0.1313
Level     0,  Iter    45:    Energy =   0.1308
Level     0,  Iter    46:    Energy =   0.1314
Level     0,  Iter    47:    Energy =   0.1309
Level     0,  Iter    48:    Energy =   0.1316
Level     0,  Iter    49:    Energy =   0.1311
Level     0,  Iter    50:    Energy =   0.1318
Level     0,  Iter    51:    Energy =   0.1313
Level     0,  Iter    52:    Energy =   0.1320
Level     0,  Iter    53:    Energy =   0.1315
Level     0,  Iter    54:    Energy =   0.1321
Level     0,  Iter    55:    Energy =   0.1315
Level     0,  Iter    56:    Energy =   0.1321
Level     0,  Iter    57:    Energy =   0.1315
Level     0,  Iter    58:    Energy =   0.1322
Level     0,  Iter    59:    Energy =   0.1316
END OF LEVEL     0    DetJac Range:   0.2507  to   2.5172 
  Avg. Gradient Time  : 0.0076s  34.66% 
  Avg. Gaussian Time  : 0.0109s  49.74% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0777
Level     1,  Iter     1:    Energy =   0.0821
Level     1,  Iter     2:    Energy =   0.0864
Level     1,  Iter     3:    Energy =   0.0895
Level     1,  Iter     4:    Energy =   0.0922
Level     1,  Iter     5:    Energy =   0.0947
Level     1,  Iter     6:    Energy =   0.0967
Level     1,  Iter     7:    Energy =   0.0984
Level     1,  Iter     8:    Energy =   0.0999
Level     1,  Iter     9:    Energy =   0.1012
Level     1,  Iter    10:    Energy =   0.1025
Level     1,  Iter    11:    Energy =   0.1038
Level     1,  Iter    12:    Energy =   0.1048
Level     1,  Iter    13:    Energy =   0.1056
Level     1,  Iter    14:    Energy =   0.1053
Level     1,  Iter    15:    Energy =   0.1062
Level     1,  Iter    16:    Energy =   0.1058
Level     1,  Iter    17:    Energy =   0.1067
Level     1,  Iter    18:    Energy =   0.1063
Level     1,  Iter    19:    Energy =   0.1071
Level     1,  Iter    20:    Energy =   0.1069
Level     1,  Iter    21:    Energy =   0.1073
Level     1,  Iter    22:    Energy =   0.1068
Level     1,  Iter    23:    Energy =   0.1077
Level     1,  Iter    24:    Energy =   0.1075
Level     1,  Iter    25:    Energy =   0.1077
Level     1,  Iter    26:    Energy =   0.1073
Level     1,  Iter    27:    Energy =   0.1081
Level     1,  Iter    28:    Energy =   0.1078
Level     1,  Iter    29:    Energy =   0.1080
Level     1,  Iter    30:    Energy =   0.1077
Level     1,  Iter    31:    Energy =   0.1080
Level     1,  Iter    32:    Energy =   0.1076
Level     1,  Iter    33:    Energy =   0.1082
Level     1,  Iter    34:    Energy =   0.1078
Level     1,  Iter    35:    Energy =   0.1082
Level     1,  Iter    36:    Energy =   0.1079
Level     1,  Iter    37:    Energy =   0.1082
Level     1,  Iter    38:    Energy =   0.1079
Level     1,  Iter    39:    Energy =   0.1084
Level     1,  Iter    40:    Energy =   0.1080
Level     1,  Iter    41:    Energy =   0.1084
Level     1,  Iter    42:    Energy =   0.1081
Level     1,  Iter    43:    Energy =   0.1084
Level     1,  Iter    44:    Energy =   0.1081
Level     1,  Iter    45:    Energy =   0.1087
Level     1,  Iter    46:    Energy =   0.1082
Level     1,  Iter    47:    Energy =   0.1089
Level     1,  Iter    48:    Energy =   0.1086
Level     1,  Iter    49:    Energy =   0.1088
Level     1,  Iter    50:    Energy =   0.1084
Level     1,  Iter    51:    Energy =   0.1089
Level     1,  Iter    52:    Energy =   0.1085
Level     1,  Iter    53:    Energy =   0.1090
Level     1,  Iter    54:    Energy =   0.1086
Level     1,  Iter    55:    Energy =   0.1090
Level     1,  Iter    56:    Energy =   0.1086
Level     1,  Iter    57:    Energy =   0.1090
Level     1,  Iter    58:    Energy =   0.1086
Level     1,  Iter    59:    Energy =   0.1090
END OF LEVEL     1    DetJac Range:   0.0824  to   3.0085 
  Avg. Gradient Time  : 0.0434s  32.86% 
  Avg. Gaussian Time  : 0.0718s  54.32% 
  Avg. Iteration Time : 0.1321s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0512
Level     2,  Iter     1:    Energy =   0.0537
Level     2,  Iter     2:    Energy =   0.0562
Level     2,  Iter     3:    Energy =   0.0581
Level     2,  Iter     4:    Energy =   0.0597
Level     2,  Iter     5:    Energy =   0.0612
Level     2,  Iter     6:    Energy =   0.0627
Level     2,  Iter     7:    Energy =   0.0641
Level     2,  Iter     8:    Energy =   0.0652
Level     2,  Iter     9:    Energy =   0.0663
Level     2,  Iter    10:    Energy =   0.0673
Level     2,  Iter    11:    Energy =   0.0680
Level     2,  Iter    12:    Energy =   0.0688
Level     2,  Iter    13:    Energy =   0.0695
Level     2,  Iter    14:    Energy =   0.0702
Level     2,  Iter    15:    Energy =   0.0708
Level     2,  Iter    16:    Energy =   0.0714
Level     2,  Iter    17:    Energy =   0.0719
Level     2,  Iter    18:    Energy =   0.0724
Level     2,  Iter    19:    Energy =   0.0728
END OF LEVEL     2    DetJac Range:   0.0580  to   4.5278 
  Avg. Gradient Time  : 0.3071s  26.93% 
  Avg. Gaussian Time  : 0.6960s  61.04% 
  Avg. Iteration Time : 1.1402s 

real	0m36.992s
user	1m6.880s
sys	0m2.368s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.367308 0.373077
+ echo 'CHUNK 0.367308 0.373077 1'
CHUNK 0.367308 0.373077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.367308 0.373077 1
====================================
         PROGRESS: 0.367308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.614173
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3785.14   GNORM= 403.616
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3829.563     231.641       0.001
   2    4     -3847.011     146.435       1.000
   3    5     -3864.696     109.257       1.000
   4    6     -3874.863     116.495       1.000
   5    7     -3905.688      85.769       1.000
   6    8     -3920.926     102.484       1.000
   7    9     -3938.686     100.563       1.000
   8   10     -3942.921      99.494       1.000
   9   11     -3948.273      31.388       1.000
  10   12     -3949.343      31.258       1.000
  11   13     -3951.056      42.406       1.000
  12   14     -3954.368      27.918       1.000
  13   15     -3955.664      29.063       1.000
  14   17     -3956.331      24.096       0.472
  15   19     -3956.600      13.395       0.173
  16   20     -3956.705      21.307       1.000
  17   21     -3956.947      11.868       1.000
  18   22     -3957.176      17.116       1.000
  19   23     -3957.463      14.412       1.000
  20   24     -3957.799      14.426       1.000
  21   26     -3958.113      16.280       0.254
  22   28     -3958.260      32.994       0.279
  23   29     -3958.482      14.039       1.000
  24   30     -3958.559       7.545       1.000
  25   31     -3958.582      10.759       1.000
  26   32     -3958.602       6.022       1.000
  27   33     -3958.620       4.287       1.000
  28   34     -3958.625       7.956       1.000
  29   35     -3958.643       6.604       1.000
  30   36     -3958.681       6.093       1.000
  31   37     -3958.691       3.495       1.000
  32   38     -3958.699       2.531       1.000
  33   39     -3958.702       1.094       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.974678 0.00420828 -0.0243963 0.550727 
-0.0216565 1.03043 0.0400444 1.12091 
0.0269416 -0.00479848 0.969336 -0.256762 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2673.46   GNORM= 89.9155
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2680.237      58.271       0.001
   2    4     -2682.302      78.212       1.000
   3    5     -2684.936      64.663       1.000
   4    6     -2701.269      80.945       1.000
   5    7     -2708.396      60.662       1.000
   6    8     -2710.933      24.702       1.000
   7    9     -2712.149      28.898       1.000
   8   10     -2713.603      39.208       1.000
   9   11     -2715.182      71.260       1.000
  10   12     -2717.098      24.440       1.000
  11   13     -2717.604      16.685       1.000
  12   14     -2717.877      14.931       1.000
  13   15     -2718.175      10.066       1.000
  14   16     -2718.618      14.973       1.000
  15   18     -2719.105      19.855       0.385
  16   19     -2719.984      13.843       1.000
  17   20     -2720.686      18.483       1.000
  18   22     -2720.805       6.266       0.150
  19   23     -2720.906       6.762       1.000
  20   25     -2721.057      13.202       0.250
  21   26     -2721.180       9.331       1.000
  22   27     -2721.270       7.343       1.000
  23   28     -2721.322       4.407       1.000
  24   29     -2721.388       7.062       1.000
  25   30     -2721.475       4.461       1.000
  26   32     -2721.508      10.048       0.244
  27   33     -2721.575       5.810       1.000
  28   34     -2721.634       4.485       1.000
  29   35     -2721.658       5.613       1.000
  30   36     -2721.690       5.767       1.000
  31   37     -2721.725       4.953       1.000
  32   39     -2721.757       3.314       0.355
  33   40     -2721.762       2.878       1.000
  34   41     -2721.784       4.421       1.000
  35   43     -2721.817       7.091       0.498
  36   44     -2721.852       6.085       1.000
  37   45     -2721.884       4.668       1.000
  38   46     -2721.928       5.745       1.000
  39   47     -2721.959       6.229       1.000
  40   49     -2721.985       3.250       0.297
  41   50     -2722.010       2.723       1.000
  42   51     -2722.020       6.008       1.000
  43   52     -2722.039       2.476       1.000
  44   53     -2722.042       2.526       1.000
  45   54     -2722.055       2.331       1.000
  46   55     -2722.086       2.011       1.000
  47   58     -2722.088       2.305       0.035
  48   59     -2722.092       6.238       1.000
  49   60     -2722.098       3.973       1.000
  50   61     -2722.114       3.072       1.000
Final RAS Transform: 
0.969603 0.000262495 -0.0172467 0.55658 
-0.0120781 1.02156 0.0440255 0.849255 
0.00346429 0.000249989 0.974923 0.333342 
0 0 0 1 

Final RAS Transform: 
0.969603 0.000262495 -0.0172467 0.55658 
-0.0120781 1.02156 0.0440255 0.849255 
0.00346429 0.000249989 0.974923 0.333342 
0 0 0 1 


real	0m9.927s
user	0m17.376s
sys	0m0.472s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.619925
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1142
Level     0,  Iter     1:    Energy =   0.1227
Level     0,  Iter     2:    Energy =   0.1296
Level     0,  Iter     3:    Energy =   0.1339
Level     0,  Iter     4:    Energy =   0.1377
Level     0,  Iter     5:    Energy =   0.1417
Level     0,  Iter     6:    Energy =   0.1448
Level     0,  Iter     7:    Energy =   0.1459
Level     0,  Iter     8:    Energy =   0.1461
Level     0,  Iter     9:    Energy =   0.1462
Level     0,  Iter    10:    Energy =   0.1463
Level     0,  Iter    11:    Energy =   0.1465
Level     0,  Iter    12:    Energy =   0.1466
Level     0,  Iter    13:    Energy =   0.1468
Level     0,  Iter    14:    Energy =   0.1469
Level     0,  Iter    15:    Energy =   0.1470
Level     0,  Iter    16:    Energy =   0.1471
Level     0,  Iter    17:    Energy =   0.1472
Level     0,  Iter    18:    Energy =   0.1472
Level     0,  Iter    19:    Energy =   0.1473
Level     0,  Iter    20:    Energy =   0.1474
Level     0,  Iter    21:    Energy =   0.1475
Level     0,  Iter    22:    Energy =   0.1475
Level     0,  Iter    23:    Energy =   0.1476
Level     0,  Iter    24:    Energy =   0.1476
Level     0,  Iter    25:    Energy =   0.1477
Level     0,  Iter    26:    Energy =   0.1478
Level     0,  Iter    27:    Energy =   0.1479
Level     0,  Iter    28:    Energy =   0.1479
Level     0,  Iter    29:    Energy =   0.1479
Level     0,  Iter    30:    Energy =   0.1480
Level     0,  Iter    31:    Energy =   0.1480
Level     0,  Iter    32:    Energy =   0.1481
Level     0,  Iter    33:    Energy =   0.1481
Level     0,  Iter    34:    Energy =   0.1481
Level     0,  Iter    35:    Energy =   0.1482
Level     0,  Iter    36:    Energy =   0.1482
Level     0,  Iter    37:    Energy =   0.1483
Level     0,  Iter    38:    Energy =   0.1483
Level     0,  Iter    39:    Energy =   0.1483
Level     0,  Iter    40:    Energy =   0.1483
Level     0,  Iter    41:    Energy =   0.1483
Level     0,  Iter    42:    Energy =   0.1483
Level     0,  Iter    43:    Energy =   0.1484
Level     0,  Iter    44:    Energy =   0.1484
Level     0,  Iter    45:    Energy =   0.1484
Level     0,  Iter    46:    Energy =   0.1484
Level     0,  Iter    47:    Energy =   0.1483
Level     0,  Iter    48:    Energy =   0.1484
Level     0,  Iter    49:    Energy =   0.1484
Level     0,  Iter    50:    Energy =   0.1484
Level     0,  Iter    51:    Energy =   0.1485
Level     0,  Iter    52:    Energy =   0.1485
Level     0,  Iter    53:    Energy =   0.1485
Level     0,  Iter    54:    Energy =   0.1485
Level     0,  Iter    55:    Energy =   0.1486
Level     0,  Iter    56:    Energy =   0.1486
Level     0,  Iter    57:    Energy =   0.1486
Level     0,  Iter    58:    Energy =   0.1486
Level     0,  Iter    59:    Energy =   0.1486
END OF LEVEL     0    DetJac Range:   0.2758  to   1.8862 
  Avg. Gradient Time  : 0.0076s  34.67% 
  Avg. Gaussian Time  : 0.0110s  49.79% 
  Avg. Iteration Time : 0.0221s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0972
Level     1,  Iter     1:    Energy =   0.1019
Level     1,  Iter     2:    Energy =   0.1069
Level     1,  Iter     3:    Energy =   0.1107
Level     1,  Iter     4:    Energy =   0.1145
Level     1,  Iter     5:    Energy =   0.1169
Level     1,  Iter     6:    Energy =   0.1189
Level     1,  Iter     7:    Energy =   0.1207
Level     1,  Iter     8:    Energy =   0.1212
Level     1,  Iter     9:    Energy =   0.1220
Level     1,  Iter    10:    Energy =   0.1224
Level     1,  Iter    11:    Energy =   0.1231
Level     1,  Iter    12:    Energy =   0.1233
Level     1,  Iter    13:    Energy =   0.1240
Level     1,  Iter    14:    Energy =   0.1242
Level     1,  Iter    15:    Energy =   0.1247
Level     1,  Iter    16:    Energy =   0.1248
Level     1,  Iter    17:    Energy =   0.1253
Level     1,  Iter    18:    Energy =   0.1253
Level     1,  Iter    19:    Energy =   0.1258
Level     1,  Iter    20:    Energy =   0.1257
Level     1,  Iter    21:    Energy =   0.1262
Level     1,  Iter    22:    Energy =   0.1261
Level     1,  Iter    23:    Energy =   0.1266
Level     1,  Iter    24:    Energy =   0.1264
Level     1,  Iter    25:    Energy =   0.1269
Level     1,  Iter    26:    Energy =   0.1267
Level     1,  Iter    27:    Energy =   0.1271
Level     1,  Iter    28:    Energy =   0.1269
Level     1,  Iter    29:    Energy =   0.1273
Level     1,  Iter    30:    Energy =   0.1271
Level     1,  Iter    31:    Energy =   0.1275
Level     1,  Iter    32:    Energy =   0.1273
Level     1,  Iter    33:    Energy =   0.1277
Level     1,  Iter    34:    Energy =   0.1274
Level     1,  Iter    35:    Energy =   0.1278
Level     1,  Iter    36:    Energy =   0.1275
Level     1,  Iter    37:    Energy =   0.1278
Level     1,  Iter    38:    Energy =   0.1276
Level     1,  Iter    39:    Energy =   0.1279
Level     1,  Iter    40:    Energy =   0.1277
Level     1,  Iter    41:    Energy =   0.1280
Level     1,  Iter    42:    Energy =   0.1278
Level     1,  Iter    43:    Energy =   0.1281
Level     1,  Iter    44:    Energy =   0.1278
Level     1,  Iter    45:    Energy =   0.1282
Level     1,  Iter    46:    Energy =   0.1279
Level     1,  Iter    47:    Energy =   0.1282
Level     1,  Iter    48:    Energy =   0.1280
Level     1,  Iter    49:    Energy =   0.1283
Level     1,  Iter    50:    Energy =   0.1280
Level     1,  Iter    51:    Energy =   0.1283
Level     1,  Iter    52:    Energy =   0.1281
Level     1,  Iter    53:    Energy =   0.1284
Level     1,  Iter    54:    Energy =   0.1281
Level     1,  Iter    55:    Energy =   0.1284
Level     1,  Iter    56:    Energy =   0.1282
Level     1,  Iter    57:    Energy =   0.1285
Level     1,  Iter    58:    Energy =   0.1282
Level     1,  Iter    59:    Energy =   0.1285
END OF LEVEL     1    DetJac Range:   0.0995  to   3.1888 
  Avg. Gradient Time  : 0.0439s  33.13% 
  Avg. Gaussian Time  : 0.0717s  54.10% 
  Avg. Iteration Time : 0.1325s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0639
Level     2,  Iter     1:    Energy =   0.0662
Level     2,  Iter     2:    Energy =   0.0681
Level     2,  Iter     3:    Energy =   0.0694
Level     2,  Iter     4:    Energy =   0.0705
Level     2,  Iter     5:    Energy =   0.0719
Level     2,  Iter     6:    Energy =   0.0731
Level     2,  Iter     7:    Energy =   0.0742
Level     2,  Iter     8:    Energy =   0.0752
Level     2,  Iter     9:    Energy =   0.0760
Level     2,  Iter    10:    Energy =   0.0767
Level     2,  Iter    11:    Energy =   0.0774
Level     2,  Iter    12:    Energy =   0.0779
Level     2,  Iter    13:    Energy =   0.0783
Level     2,  Iter    14:    Energy =   0.0787
Level     2,  Iter    15:    Energy =   0.0791
Level     2,  Iter    16:    Energy =   0.0794
Level     2,  Iter    17:    Energy =   0.0797
Level     2,  Iter    18:    Energy =   0.0799
Level     2,  Iter    19:    Energy =   0.0801
END OF LEVEL     2    DetJac Range:   0.0642  to   4.0527 
  Avg. Gradient Time  : 0.3074s  26.35% 
  Avg. Gaussian Time  : 0.7221s  61.89% 
  Avg. Iteration Time : 1.1668s 

real	0m37.549s
user	1m7.972s
sys	0m2.404s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.373077 0.378846
+ echo 'CHUNK 0.373077 0.378846 1'
CHUNK 0.373077 0.378846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.373077 0.378846 1
====================================
         PROGRESS: 0.373077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.682003
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3842.2   GNORM= 328.36
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3882.499     188.369       0.001
   2    4     -3897.025      96.112       1.000
   3    5     -3906.804     100.082       1.000
   4    6     -3921.293     150.856       1.000
   5    7     -3940.739     115.896       1.000
   6    8     -3958.876     113.237       1.000
   7    9     -3968.886     114.765       1.000
   8   10     -3975.833      45.867       1.000
   9   11     -3979.634      52.475       1.000
  10   12     -3983.998      56.003       1.000
  11   13     -3987.951      60.702       1.000
  12   14     -3995.512      42.544       1.000
  13   16     -3997.180      44.581       0.357
  14   17     -3998.035      15.197       1.000
  15   18     -3998.305      29.124       1.000
  16   19     -3998.457      15.662       1.000
  17   20     -3998.656       7.598       1.000
  18   21     -3998.781       7.900       1.000
  19   22     -3998.803      16.420       1.000
  20   23     -3999.061      15.592       1.000
  21   25     -3999.198       9.682       0.239
  22   26     -3999.249      12.894       1.000
  23   27     -3999.319       7.755       1.000
  24   28     -3999.387      11.190       1.000
  25   29     -3999.451       8.265       1.000
  26   31     -3999.527       9.148       0.283
  27   32     -3999.564       6.456       1.000
  28   33     -3999.579       6.179       1.000
  29   34     -3999.645       6.729       1.000
  30   35     -3999.661       9.157       1.000
  31   36     -3999.694       5.312       1.000
  32   37     -3999.708       7.977       1.000
  33   38     -3999.715       2.608       1.000
  34   39     -3999.723       2.722       1.000
  35   41     -3999.729       4.422       0.319
  36   42     -3999.747       4.739       1.000
  37   44     -3999.750       7.514       0.257
  38   45     -3999.759       4.722       1.000
  39   47     -3999.766       2.858       0.273
  40   49     -3999.766       2.216       0.255
  41   50     -3999.768       2.674       1.000
  42   51     -3999.775       2.281       1.000
Final RAS Transform: 
0.954481 0.0179489 -0.0410605 0.831643 
-0.0120576 1.01187 0.029319 0.688915 
0.0102073 -0.0153417 0.996254 -0.35196 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2578.85   GNORM= 152.669
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2591.669     107.159       0.001
   2    4     -2596.172      35.045       1.000
   3    7     -2611.054      36.234      21.000
   4    8     -2620.073      82.096       1.000
   5    9     -2626.840      32.212       1.000
   6   10     -2628.508      18.673       1.000
   7   11     -2629.668      43.368       1.000
   8   12     -2631.585      27.593       1.000
   9   13     -2636.978      39.406       1.000
  10   15     -2639.393      36.309       0.328
  11   16     -2641.697      27.959       1.000
  12   17     -2644.301      22.924       1.000
  13   19     -2646.767      52.779       0.385
  14   20     -2647.475      60.343       1.000
  15   21     -2648.480       8.549       1.000
  16   22     -2648.526       5.909       1.000
  17   24     -2648.621      10.506       5.000
  18   25     -2648.704      11.989       1.000
  19   27     -2648.818      15.397       0.477
  20   28     -2649.228      10.634       1.000
  21   29     -2649.751      18.344       1.000
  22   30     -2649.835      32.703       1.000
  23   31     -2650.043       9.481       1.000
  24   32     -2650.097       6.391       1.000
  25   33     -2650.121       5.254       1.000
  26   34     -2650.200       6.405       1.000
  27   35     -2650.260       9.840       1.000
  28   36     -2650.276       5.688       1.000
  29   37     -2650.311      13.359       1.000
  30   38     -2650.354       7.686       1.000
  31   39     -2650.448       5.073       1.000
  32   40     -2650.550       9.759       1.000
  33   42     -2650.558      10.617       0.325
  34   43     -2650.591       7.720       1.000
  35   44     -2650.626       6.125       1.000
  36   45     -2650.628       1.580       1.000
  37   46     -2650.635       2.956       1.000
  38   48     -2650.651       6.877       5.000
  39   49     -2650.664       4.273       1.000
  40   50     -2650.674       5.666       1.000
  41   51     -2650.682       1.983       1.000
Final RAS Transform: 
0.98924 0.017446 -0.0172483 0.552313 
-0.0197336 0.996075 0.000258793 0.543453 
-0.0107169 -0.00557575 1.00471 0.190759 
0 0 0 1 

Final RAS Transform: 
0.98924 0.017446 -0.0172483 0.552313 
-0.0197336 0.996075 0.000258793 0.543453 
-0.0107169 -0.00557575 1.00471 0.190759 
0 0 0 1 


real	0m10.578s
user	0m18.544s
sys	0m0.472s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.674456
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1131
Level     0,  Iter     1:    Energy =   0.1193
Level     0,  Iter     2:    Energy =   0.1253
Level     0,  Iter     3:    Energy =   0.1294
Level     0,  Iter     4:    Energy =   0.1332
Level     0,  Iter     5:    Energy =   0.1362
Level     0,  Iter     6:    Energy =   0.1381
Level     0,  Iter     7:    Energy =   0.1392
Level     0,  Iter     8:    Energy =   0.1409
Level     0,  Iter     9:    Energy =   0.1415
Level     0,  Iter    10:    Energy =   0.1432
Level     0,  Iter    11:    Energy =   0.1436
Level     0,  Iter    12:    Energy =   0.1449
Level     0,  Iter    13:    Energy =   0.1451
Level     0,  Iter    14:    Energy =   0.1458
Level     0,  Iter    15:    Energy =   0.1461
Level     0,  Iter    16:    Energy =   0.1462
Level     0,  Iter    17:    Energy =   0.1463
Level     0,  Iter    18:    Energy =   0.1462
Level     0,  Iter    19:    Energy =   0.1463
Level     0,  Iter    20:    Energy =   0.1462
Level     0,  Iter    21:    Energy =   0.1464
Level     0,  Iter    22:    Energy =   0.1463
Level     0,  Iter    23:    Energy =   0.1465
Level     0,  Iter    24:    Energy =   0.1465
Level     0,  Iter    25:    Energy =   0.1466
Level     0,  Iter    26:    Energy =   0.1466
Level     0,  Iter    27:    Energy =   0.1468
Level     0,  Iter    28:    Energy =   0.1467
Level     0,  Iter    29:    Energy =   0.1469
Level     0,  Iter    30:    Energy =   0.1468
Level     0,  Iter    31:    Energy =   0.1470
Level     0,  Iter    32:    Energy =   0.1469
Level     0,  Iter    33:    Energy =   0.1471
Level     0,  Iter    34:    Energy =   0.1470
Level     0,  Iter    35:    Energy =   0.1472
Level     0,  Iter    36:    Energy =   0.1471
Level     0,  Iter    37:    Energy =   0.1472
Level     0,  Iter    38:    Energy =   0.1471
Level     0,  Iter    39:    Energy =   0.1473
Level     0,  Iter    40:    Energy =   0.1472
Level     0,  Iter    41:    Energy =   0.1473
Level     0,  Iter    42:    Energy =   0.1472
Level     0,  Iter    43:    Energy =   0.1474
Level     0,  Iter    44:    Energy =   0.1473
Level     0,  Iter    45:    Energy =   0.1474
Level     0,  Iter    46:    Energy =   0.1473
Level     0,  Iter    47:    Energy =   0.1475
Level     0,  Iter    48:    Energy =   0.1474
Level     0,  Iter    49:    Energy =   0.1475
Level     0,  Iter    50:    Energy =   0.1474
Level     0,  Iter    51:    Energy =   0.1476
Level     0,  Iter    52:    Energy =   0.1475
Level     0,  Iter    53:    Energy =   0.1476
Level     0,  Iter    54:    Energy =   0.1475
Level     0,  Iter    55:    Energy =   0.1477
Level     0,  Iter    56:    Energy =   0.1476
Level     0,  Iter    57:    Energy =   0.1477
Level     0,  Iter    58:    Energy =   0.1476
Level     0,  Iter    59:    Energy =   0.1478
END OF LEVEL     0    DetJac Range:   0.2959  to   2.0305 
  Avg. Gradient Time  : 0.0087s  34.87% 
  Avg. Gaussian Time  : 0.0124s  49.62% 
  Avg. Iteration Time : 0.0249s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0917
Level     1,  Iter     1:    Energy =   0.0961
Level     1,  Iter     2:    Energy =   0.0993
Level     1,  Iter     3:    Energy =   0.1019
Level     1,  Iter     4:    Energy =   0.1048
Level     1,  Iter     5:    Energy =   0.1081
Level     1,  Iter     6:    Energy =   0.1109
Level     1,  Iter     7:    Energy =   0.1128
Level     1,  Iter     8:    Energy =   0.1144
Level     1,  Iter     9:    Energy =   0.1151
Level     1,  Iter    10:    Energy =   0.1161
Level     1,  Iter    11:    Energy =   0.1166
Level     1,  Iter    12:    Energy =   0.1170
Level     1,  Iter    13:    Energy =   0.1174
Level     1,  Iter    14:    Energy =   0.1177
Level     1,  Iter    15:    Energy =   0.1180
Level     1,  Iter    16:    Energy =   0.1183
Level     1,  Iter    17:    Energy =   0.1185
Level     1,  Iter    18:    Energy =   0.1188
Level     1,  Iter    19:    Energy =   0.1190
Level     1,  Iter    20:    Energy =   0.1192
Level     1,  Iter    21:    Energy =   0.1195
Level     1,  Iter    22:    Energy =   0.1196
Level     1,  Iter    23:    Energy =   0.1199
Level     1,  Iter    24:    Energy =   0.1199
Level     1,  Iter    25:    Energy =   0.1203
Level     1,  Iter    26:    Energy =   0.1203
Level     1,  Iter    27:    Energy =   0.1206
Level     1,  Iter    28:    Energy =   0.1205
Level     1,  Iter    29:    Energy =   0.1208
Level     1,  Iter    30:    Energy =   0.1208
Level     1,  Iter    31:    Energy =   0.1210
Level     1,  Iter    32:    Energy =   0.1210
Level     1,  Iter    33:    Energy =   0.1212
Level     1,  Iter    34:    Energy =   0.1211
Level     1,  Iter    35:    Energy =   0.1214
Level     1,  Iter    36:    Energy =   0.1213
Level     1,  Iter    37:    Energy =   0.1216
Level     1,  Iter    38:    Energy =   0.1215
Level     1,  Iter    39:    Energy =   0.1217
Level     1,  Iter    40:    Energy =   0.1216
Level     1,  Iter    41:    Energy =   0.1218
Level     1,  Iter    42:    Energy =   0.1218
Level     1,  Iter    43:    Energy =   0.1219
Level     1,  Iter    44:    Energy =   0.1218
Level     1,  Iter    45:    Energy =   0.1220
Level     1,  Iter    46:    Energy =   0.1218
Level     1,  Iter    47:    Energy =   0.1221
Level     1,  Iter    48:    Energy =   0.1219
Level     1,  Iter    49:    Energy =   0.1222
Level     1,  Iter    50:    Energy =   0.1220
Level     1,  Iter    51:    Energy =   0.1223
Level     1,  Iter    52:    Energy =   0.1221
Level     1,  Iter    53:    Energy =   0.1224
Level     1,  Iter    54:    Energy =   0.1222
Level     1,  Iter    55:    Energy =   0.1225
Level     1,  Iter    56:    Energy =   0.1224
Level     1,  Iter    57:    Energy =   0.1227
Level     1,  Iter    58:    Energy =   0.1225
Level     1,  Iter    59:    Energy =   0.1227
END OF LEVEL     1    DetJac Range:   0.1209  to   2.7512 
  Avg. Gradient Time  : 0.0492s  32.80% 
  Avg. Gaussian Time  : 0.0812s  54.19% 
  Avg. Iteration Time : 0.1499s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0585
Level     2,  Iter     1:    Energy =   0.0608
Level     2,  Iter     2:    Energy =   0.0630
Level     2,  Iter     3:    Energy =   0.0648
Level     2,  Iter     4:    Energy =   0.0664
Level     2,  Iter     5:    Energy =   0.0679
Level     2,  Iter     6:    Energy =   0.0697
Level     2,  Iter     7:    Energy =   0.0712
Level     2,  Iter     8:    Energy =   0.0727
Level     2,  Iter     9:    Energy =   0.0737
Level     2,  Iter    10:    Energy =   0.0747
Level     2,  Iter    11:    Energy =   0.0755
Level     2,  Iter    12:    Energy =   0.0763
Level     2,  Iter    13:    Energy =   0.0770
Level     2,  Iter    14:    Energy =   0.0777
Level     2,  Iter    15:    Energy =   0.0783
Level     2,  Iter    16:    Energy =   0.0791
Level     2,  Iter    17:    Energy =   0.0799
Level     2,  Iter    18:    Energy =   0.0806
Level     2,  Iter    19:    Energy =   0.0812
END OF LEVEL     2    DetJac Range:   0.0563  to   4.3704 
  Avg. Gradient Time  : 0.3444s  26.34% 
  Avg. Gaussian Time  : 0.8058s  61.63% 
  Avg. Iteration Time : 1.3075s 

real	0m41.909s
user	1m16.380s
sys	0m2.560s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.378846 0.384615
+ echo 'CHUNK 0.378846 0.384615 1'
CHUNK 0.378846 0.384615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.378846 0.384615 1
====================================
         PROGRESS: 0.378846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.56944
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3589.73   GNORM= 390.443
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3636.884     174.046       0.001
   2    4     -3652.044     140.357       1.000
   3    5     -3670.910     134.779       1.000
   4    6     -3682.811      82.684       1.000
   5    7     -3693.786      62.398       1.000
   6    8     -3700.678      91.836       1.000
   7    9     -3711.768     104.413       1.000
   8   10     -3717.020     244.783       1.000
   9   11     -3732.143      55.803       1.000
  10   12     -3733.831      39.260       1.000
  11   13     -3736.649      34.104       1.000
  12   14     -3740.035      31.993       1.000
  13   15     -3741.643      32.417       1.000
  14   17     -3742.180      32.420       0.320
  15   18     -3742.647      14.350       1.000
  16   19     -3742.739       8.085       1.000
  17   20     -3742.748      11.076       1.000
  18   21     -3742.863       6.099       1.000
  19   22     -3742.930       6.535       1.000
  20   23     -3742.984       5.925       1.000
  21   25     -3743.171      11.660       0.493
  22   27     -3743.276      12.365       0.381
  23   29     -3743.324      15.857       0.268
  24   30     -3743.441      12.486       1.000
  25   31     -3743.533       5.354       1.000
  26   32     -3743.596       4.458       1.000
  27   33     -3743.679       9.991       1.000
  28   34     -3743.721      11.803       1.000
  29   36     -3743.746      10.660       0.227
  30   37     -3743.780       7.686       1.000
  31   38     -3743.798       5.842       1.000
  32   39     -3743.822       4.172       1.000
  33   40     -3743.827       2.886       1.000
  34   41     -3743.837       4.200       1.000
  35   42     -3743.841       1.967       1.000
  36   43     -3743.851       3.065       1.000
  37   44     -3743.855       2.315       1.000
  38   47     -3743.864       4.397       2.561
  39   48     -3743.876       4.477       1.000
  40   49     -3743.890       1.804       1.000
Final RAS Transform: 
0.961486 0.00370362 -0.00132051 1.01109 
-0.00167165 1.03038 0.0343241 0.642948 
0.00339201 -0.00120317 0.969218 -0.158136 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2553.99   GNORM= 77.541
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2557.645      42.785       0.001
   2    4     -2558.755      43.515       1.000
   3    6     -2563.522      41.361       5.000
   4    7     -2571.786      41.587       1.000
   5    8     -2572.770     107.562       1.000
   6    9     -2578.451      25.073       1.000
   7   10     -2579.586      20.442       1.000
   8   11     -2582.721      37.795       1.000
   9   13     -2583.772      20.954       0.314
  10   14     -2584.573      27.392       1.000
  11   15     -2584.949      19.480       1.000
  12   17     -2585.977      27.609       5.000
  13   18     -2588.197      34.459       1.000
  14   19     -2589.690      34.481       1.000
  15   20     -2590.737      15.163       1.000
  16   21     -2590.928       8.865       1.000
  17   22     -2591.126      15.132       1.000
  18   23     -2591.328       9.570       1.000
  19   24     -2591.517       7.672       1.000
  20   25     -2591.950      11.803       1.000
  21   27     -2592.037      18.521       0.397
  22   28     -2592.216      11.161       1.000
  23   29     -2592.501      14.312       1.000
  24   30     -2592.581      11.973       1.000
  25   31     -2592.657       7.401       1.000
  26   32     -2592.806      10.108       1.000
  27   34     -2592.866       5.723       0.465
  28   35     -2592.904       3.329       1.000
  29   36     -2592.928      10.058       1.000
  30   37     -2592.967      10.140       1.000
  31   38     -2593.067      11.571       1.000
  32   40     -2593.119       6.253       0.362
  33   41     -2593.135       5.797       1.000
  34   42     -2593.149       5.026       1.000
  35   43     -2593.195       5.396       1.000
  36   44     -2593.257      19.476       1.000
  37   45     -2593.408       7.501       1.000
  38   46     -2593.473       7.886       1.000
  39   47     -2593.617       9.217       1.000
  40   48     -2593.717      10.657       1.000
  41   49     -2593.796       5.742       1.000
  42   50     -2593.822       6.320       1.000
  43   52     -2593.833       2.507       0.189
  44   53     -2593.850       2.168       1.000
  45   54     -2593.863       9.610       1.000
  46   55     -2593.920       9.091       1.000
  47   56     -2593.954       9.756       1.000
  48   57     -2593.999       3.442       1.000
  49   58     -2594.017       3.804       1.000
  50   60     -2594.020       3.702       0.356
  51   61     -2594.026       1.926       1.000
Final RAS Transform: 
0.974127 -0.00726291 0.00303088 0.56549 
-0.00848443 1.00302 -0.00605413 0.111047 
-0.00600588 0.0115193 0.980623 0.273738 
0 0 0 1 

Final RAS Transform: 
0.974127 -0.00726291 0.00303088 0.56549 
-0.00848443 1.00302 -0.00605413 0.111047 
-0.00600588 0.0115193 0.980623 0.273738 
0 0 0 1 


real	0m10.908s
user	0m19.084s
sys	0m0.548s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.561308
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1077
Level     0,  Iter     1:    Energy =   0.1148
Level     0,  Iter     2:    Energy =   0.1219
Level     0,  Iter     3:    Energy =   0.1266
Level     0,  Iter     4:    Energy =   0.1308
Level     0,  Iter     5:    Energy =   0.1340
Level     0,  Iter     6:    Energy =   0.1363
Level     0,  Iter     7:    Energy =   0.1370
Level     0,  Iter     8:    Energy =   0.1386
Level     0,  Iter     9:    Energy =   0.1389
Level     0,  Iter    10:    Energy =   0.1404
Level     0,  Iter    11:    Energy =   0.1405
Level     0,  Iter    12:    Energy =   0.1421
Level     0,  Iter    13:    Energy =   0.1421
Level     0,  Iter    14:    Energy =   0.1433
Level     0,  Iter    15:    Energy =   0.1431
Level     0,  Iter    16:    Energy =   0.1437
Level     0,  Iter    17:    Energy =   0.1436
Level     0,  Iter    18:    Energy =   0.1442
Level     0,  Iter    19:    Energy =   0.1439
Level     0,  Iter    20:    Energy =   0.1440
Level     0,  Iter    21:    Energy =   0.1438
Level     0,  Iter    22:    Energy =   0.1443
Level     0,  Iter    23:    Energy =   0.1441
Level     0,  Iter    24:    Energy =   0.1442
Level     0,  Iter    25:    Energy =   0.1441
Level     0,  Iter    26:    Energy =   0.1445
Level     0,  Iter    27:    Energy =   0.1443
Level     0,  Iter    28:    Energy =   0.1443
Level     0,  Iter    29:    Energy =   0.1443
Level     0,  Iter    30:    Energy =   0.1446
Level     0,  Iter    31:    Energy =   0.1445
Level     0,  Iter    32:    Energy =   0.1446
Level     0,  Iter    33:    Energy =   0.1446
Level     0,  Iter    34:    Energy =   0.1451
Level     0,  Iter    35:    Energy =   0.1447
Level     0,  Iter    36:    Energy =   0.1444
Level     0,  Iter    37:    Energy =   0.1443
Level     0,  Iter    38:    Energy =   0.1449
Level     0,  Iter    39:    Energy =   0.1445
Level     0,  Iter    40:    Energy =   0.1443
Level     0,  Iter    41:    Energy =   0.1442
Level     0,  Iter    42:    Energy =   0.1450
Level     0,  Iter    43:    Energy =   0.1446
Level     0,  Iter    44:    Energy =   0.1443
Level     0,  Iter    45:    Energy =   0.1442
Level     0,  Iter    46:    Energy =   0.1449
Level     0,  Iter    47:    Energy =   0.1445
Level     0,  Iter    48:    Energy =   0.1444
Level     0,  Iter    49:    Energy =   0.1443
Level     0,  Iter    50:    Energy =   0.1451
Level     0,  Iter    51:    Energy =   0.1446
Level     0,  Iter    52:    Energy =   0.1444
Level     0,  Iter    53:    Energy =   0.1442
Level     0,  Iter    54:    Energy =   0.1447
Level     0,  Iter    55:    Energy =   0.1445
Level     0,  Iter    56:    Energy =   0.1447
Level     0,  Iter    57:    Energy =   0.1449
Level     0,  Iter    58:    Energy =   0.1458
Level     0,  Iter    59:    Energy =   0.1451
END OF LEVEL     0    DetJac Range:   0.3662  to   1.8431 
  Avg. Gradient Time  : 0.0087s  34.51% 
  Avg. Gaussian Time  : 0.0126s  49.84% 
  Avg. Iteration Time : 0.0252s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0928
Level     1,  Iter     1:    Energy =   0.0972
Level     1,  Iter     2:    Energy =   0.1014
Level     1,  Iter     3:    Energy =   0.1053
Level     1,  Iter     4:    Energy =   0.1086
Level     1,  Iter     5:    Energy =   0.1112
Level     1,  Iter     6:    Energy =   0.1133
Level     1,  Iter     7:    Energy =   0.1151
Level     1,  Iter     8:    Energy =   0.1164
Level     1,  Iter     9:    Energy =   0.1174
Level     1,  Iter    10:    Energy =   0.1173
Level     1,  Iter    11:    Energy =   0.1178
Level     1,  Iter    12:    Energy =   0.1177
Level     1,  Iter    13:    Energy =   0.1181
Level     1,  Iter    14:    Energy =   0.1181
Level     1,  Iter    15:    Energy =   0.1184
Level     1,  Iter    16:    Energy =   0.1185
Level     1,  Iter    17:    Energy =   0.1187
Level     1,  Iter    18:    Energy =   0.1189
Level     1,  Iter    19:    Energy =   0.1190
Level     1,  Iter    20:    Energy =   0.1192
Level     1,  Iter    21:    Energy =   0.1193
Level     1,  Iter    22:    Energy =   0.1196
Level     1,  Iter    23:    Energy =   0.1197
Level     1,  Iter    24:    Energy =   0.1199
Level     1,  Iter    25:    Energy =   0.1199
Level     1,  Iter    26:    Energy =   0.1201
Level     1,  Iter    27:    Energy =   0.1201
Level     1,  Iter    28:    Energy =   0.1202
Level     1,  Iter    29:    Energy =   0.1203
Level     1,  Iter    30:    Energy =   0.1204
Level     1,  Iter    31:    Energy =   0.1204
Level     1,  Iter    32:    Energy =   0.1205
Level     1,  Iter    33:    Energy =   0.1206
Level     1,  Iter    34:    Energy =   0.1206
Level     1,  Iter    35:    Energy =   0.1207
Level     1,  Iter    36:    Energy =   0.1207
Level     1,  Iter    37:    Energy =   0.1208
Level     1,  Iter    38:    Energy =   0.1208
Level     1,  Iter    39:    Energy =   0.1209
Level     1,  Iter    40:    Energy =   0.1209
Level     1,  Iter    41:    Energy =   0.1210
Level     1,  Iter    42:    Energy =   0.1211
Level     1,  Iter    43:    Energy =   0.1211
Level     1,  Iter    44:    Energy =   0.1212
Level     1,  Iter    45:    Energy =   0.1213
Level     1,  Iter    46:    Energy =   0.1213
Level     1,  Iter    47:    Energy =   0.1214
Level     1,  Iter    48:    Energy =   0.1214
Level     1,  Iter    49:    Energy =   0.1214
Level     1,  Iter    50:    Energy =   0.1214
Level     1,  Iter    51:    Energy =   0.1215
Level     1,  Iter    52:    Energy =   0.1215
Level     1,  Iter    53:    Energy =   0.1216
Level     1,  Iter    54:    Energy =   0.1216
Level     1,  Iter    55:    Energy =   0.1217
Level     1,  Iter    56:    Energy =   0.1217
Level     1,  Iter    57:    Energy =   0.1218
Level     1,  Iter    58:    Energy =   0.1217
Level     1,  Iter    59:    Energy =   0.1218
END OF LEVEL     1    DetJac Range:   0.1261  to   2.8786 
  Avg. Gradient Time  : 0.0496s  32.88% 
  Avg. Gaussian Time  : 0.0816s  54.13% 
  Avg. Iteration Time : 0.1508s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0590
Level     2,  Iter     1:    Energy =   0.0615
Level     2,  Iter     2:    Energy =   0.0634
Level     2,  Iter     3:    Energy =   0.0650
Level     2,  Iter     4:    Energy =   0.0665
Level     2,  Iter     5:    Energy =   0.0677
Level     2,  Iter     6:    Energy =   0.0687
Level     2,  Iter     7:    Energy =   0.0697
Level     2,  Iter     8:    Energy =   0.0707
Level     2,  Iter     9:    Energy =   0.0718
Level     2,  Iter    10:    Energy =   0.0728
Level     2,  Iter    11:    Energy =   0.0736
Level     2,  Iter    12:    Energy =   0.0743
Level     2,  Iter    13:    Energy =   0.0750
Level     2,  Iter    14:    Energy =   0.0759
Level     2,  Iter    15:    Energy =   0.0767
Level     2,  Iter    16:    Energy =   0.0774
Level     2,  Iter    17:    Energy =   0.0780
Level     2,  Iter    18:    Energy =   0.0786
Level     2,  Iter    19:    Energy =   0.0791
END OF LEVEL     2    DetJac Range:   0.0709  to   3.9405 
  Avg. Gradient Time  : 0.3227s  26.44% 
  Avg. Gaussian Time  : 0.7517s  61.60% 
  Avg. Iteration Time : 1.2204s 

real	0m40.190s
user	1m12.976s
sys	0m2.540s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.384615 0.390385
+ echo 'CHUNK 0.384615 0.390385 1'
CHUNK 0.384615 0.390385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.384615 0.390385 1
====================================
         PROGRESS: 0.384615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.421882
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3022.71   GNORM= 317.106
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3087.523     186.285       0.001
   2    4     -3092.848     179.354       1.000
   3    5     -3100.741      90.373       1.000
   4    6     -3107.134      75.301       1.000
   5    7     -3121.591     117.350       1.000
   6    8     -3124.828     260.693       1.000
   7    9     -3150.953     130.426       1.000
   8   10     -3159.665      69.515       1.000
   9   11     -3166.694      58.198       1.000
  10   12     -3170.572      62.465       1.000
  11   13     -3172.292     196.993       1.000
  12   14     -3182.712      47.026       1.000
  13   15     -3184.338      32.962       1.000
  14   16     -3186.433      31.148       1.000
  15   17     -3187.673      35.194       1.000
  16   18     -3193.241     101.786       1.000
  17   19     -3196.792      15.912       1.000
  18   20     -3197.136      14.867       1.000
  19   21     -3197.476      14.580       1.000
  20   22     -3197.893      11.659       1.000
  21   23     -3199.053      18.615       1.000
  22   25     -3199.780      22.769       0.415
  23   27     -3199.984      29.200       0.230
  24   28     -3200.509      18.156       1.000
  25   29     -3200.680      17.239       1.000
  26   30     -3200.871      15.078       1.000
  27   31     -3201.147      11.466       1.000
  28   32     -3201.414       8.495       1.000
  29   33     -3201.559       6.972       1.000
  30   34     -3201.630       8.493       1.000
  31   35     -3201.641      16.728       1.000
  32   36     -3201.706       8.364       1.000
  33   37     -3201.767       5.984       1.000
  34   39     -3201.862       9.458       0.236
  35   40     -3201.887       5.324       1.000
  36   41     -3201.908       6.088       1.000
  37   42     -3201.945       8.878       1.000
  38   43     -3201.997       8.482       1.000
  39   44     -3202.081       7.523       1.000
  40   45     -3202.137       5.254       1.000
  41   46     -3202.165      14.274       1.000
  42   48     -3202.243       5.266       0.497
  43   49     -3202.268       2.687       1.000
  44   50     -3202.276       2.871       1.000
  45   51     -3202.283       1.289       1.000
Final RAS Transform: 
0.979702 0.0250039 0.0240737 0.940576 
-0.0290822 1.0151 0.0612207 0.928894 
0.0236898 -0.0138883 0.966994 -0.599272 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2331.41   GNORM= 67.0966
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2334.645      54.310       0.001
   2    4     -2336.485      39.400       1.000
   3    5     -2337.847      28.422       1.000
   4    6     -2341.355      40.749       1.000
   5    7     -2345.189      53.844       1.000
   6    8     -2352.390      54.778       1.000
   7   10     -2353.152      62.546       0.220
   8   11     -2354.926      40.940       1.000
   9   12     -2355.832      15.468       1.000
  10   14     -2356.446      18.407       5.000
  11   15     -2357.343      27.078       1.000
  12   16     -2359.253      25.257       1.000
  13   18     -2359.467      11.684       0.067
  14   19     -2359.754      11.173       1.000
  15   20     -2360.019       9.605       1.000
  16   21     -2360.163       7.666       1.000
  17   22     -2360.327       9.194       1.000
  18   23     -2360.445       7.804       1.000
  19   24     -2360.494       8.778       1.000
  20   25     -2360.530       6.713       1.000
  21   26     -2360.543       5.512       1.000
  22   27     -2360.585       3.342       1.000
  23   28     -2360.722       9.054       1.000
  24   30     -2360.767       7.549       0.247
  25   31     -2360.824       9.296       1.000
  26   32     -2360.881       6.650       1.000
  27   33     -2360.951       7.451       1.000
  28   34     -2360.982       7.469       1.000
  29   35     -2360.995       2.758       1.000
  30   36     -2361.008       2.671       1.000
  31   37     -2361.046       7.305       1.000
  32   38     -2361.057       5.710       1.000
  33   39     -2361.077       3.614       1.000
  34   40     -2361.089       3.249       1.000
  35   42     -2361.094       5.482       0.394
  36   43     -2361.107       3.541       1.000
  37   44     -2361.128       6.885       1.000
  38   45     -2361.136       3.268       1.000
  39   46     -2361.150       2.750       1.000
  40   47     -2361.169       4.395       1.000
  41   49     -2361.175       5.127       0.294
  42   51     -2361.178       4.399       0.111
  43   52     -2361.188       2.530       1.000
  44   53     -2361.196       0.996       1.000
  45   54     -2361.198       1.414       1.000
  46   56     -2361.200       1.684       0.186
Final RAS Transform: 
0.980794 0.00705245 0.00454526 0.429671 
-0.0342301 1.0156 0.065685 0.971852 
0.00972061 -0.00820769 0.9749 -0.107777 
0 0 0 1 

Final RAS Transform: 
0.980794 0.00705245 0.00454526 0.429671 
-0.0342301 1.0156 0.065685 0.971852 
0.00972061 -0.00820769 0.9749 -0.107777 
0 0 0 1 


real	0m10.078s
user	0m17.728s
sys	0m0.484s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.430775
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0925
Level     0,  Iter     1:    Energy =   0.0989
Level     0,  Iter     2:    Energy =   0.1051
Level     0,  Iter     3:    Energy =   0.1090
Level     0,  Iter     4:    Energy =   0.1119
Level     0,  Iter     5:    Energy =   0.1143
Level     0,  Iter     6:    Energy =   0.1159
Level     0,  Iter     7:    Energy =   0.1169
Level     0,  Iter     8:    Energy =   0.1180
Level     0,  Iter     9:    Energy =   0.1189
Level     0,  Iter    10:    Energy =   0.1195
Level     0,  Iter    11:    Energy =   0.1200
Level     0,  Iter    12:    Energy =   0.1205
Level     0,  Iter    13:    Energy =   0.1210
Level     0,  Iter    14:    Energy =   0.1212
Level     0,  Iter    15:    Energy =   0.1215
Level     0,  Iter    16:    Energy =   0.1218
Level     0,  Iter    17:    Energy =   0.1221
Level     0,  Iter    18:    Energy =   0.1223
Level     0,  Iter    19:    Energy =   0.1224
Level     0,  Iter    20:    Energy =   0.1227
Level     0,  Iter    21:    Energy =   0.1228
Level     0,  Iter    22:    Energy =   0.1230
Level     0,  Iter    23:    Energy =   0.1230
Level     0,  Iter    24:    Energy =   0.1232
Level     0,  Iter    25:    Energy =   0.1232
Level     0,  Iter    26:    Energy =   0.1234
Level     0,  Iter    27:    Energy =   0.1234
Level     0,  Iter    28:    Energy =   0.1236
Level     0,  Iter    29:    Energy =   0.1235
Level     0,  Iter    30:    Energy =   0.1237
Level     0,  Iter    31:    Energy =   0.1236
Level     0,  Iter    32:    Energy =   0.1238
Level     0,  Iter    33:    Energy =   0.1237
Level     0,  Iter    34:    Energy =   0.1239
Level     0,  Iter    35:    Energy =   0.1238
Level     0,  Iter    36:    Energy =   0.1241
Level     0,  Iter    37:    Energy =   0.1240
Level     0,  Iter    38:    Energy =   0.1241
Level     0,  Iter    39:    Energy =   0.1241
Level     0,  Iter    40:    Energy =   0.1242
Level     0,  Iter    41:    Energy =   0.1242
Level     0,  Iter    42:    Energy =   0.1244
Level     0,  Iter    43:    Energy =   0.1243
Level     0,  Iter    44:    Energy =   0.1245
Level     0,  Iter    45:    Energy =   0.1244
Level     0,  Iter    46:    Energy =   0.1246
Level     0,  Iter    47:    Energy =   0.1245
Level     0,  Iter    48:    Energy =   0.1247
Level     0,  Iter    49:    Energy =   0.1247
Level     0,  Iter    50:    Energy =   0.1249
Level     0,  Iter    51:    Energy =   0.1249
Level     0,  Iter    52:    Energy =   0.1251
Level     0,  Iter    53:    Energy =   0.1251
Level     0,  Iter    54:    Energy =   0.1251
Level     0,  Iter    55:    Energy =   0.1251
Level     0,  Iter    56:    Energy =   0.1253
Level     0,  Iter    57:    Energy =   0.1253
Level     0,  Iter    58:    Energy =   0.1255
Level     0,  Iter    59:    Energy =   0.1255
END OF LEVEL     0    DetJac Range:   0.1866  to   2.0191 
  Avg. Gradient Time  : 0.0077s  34.91% 
  Avg. Gaussian Time  : 0.0109s  49.51% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0859
Level     1,  Iter     1:    Energy =   0.0900
Level     1,  Iter     2:    Energy =   0.0939
Level     1,  Iter     3:    Energy =   0.0972
Level     1,  Iter     4:    Energy =   0.0999
Level     1,  Iter     5:    Energy =   0.1027
Level     1,  Iter     6:    Energy =   0.1051
Level     1,  Iter     7:    Energy =   0.1060
Level     1,  Iter     8:    Energy =   0.1071
Level     1,  Iter     9:    Energy =   0.1076
Level     1,  Iter    10:    Energy =   0.1084
Level     1,  Iter    11:    Energy =   0.1088
Level     1,  Iter    12:    Energy =   0.1094
Level     1,  Iter    13:    Energy =   0.1097
Level     1,  Iter    14:    Energy =   0.1101
Level     1,  Iter    15:    Energy =   0.1104
Level     1,  Iter    16:    Energy =   0.1107
Level     1,  Iter    17:    Energy =   0.1110
Level     1,  Iter    18:    Energy =   0.1112
Level     1,  Iter    19:    Energy =   0.1116
Level     1,  Iter    20:    Energy =   0.1113
Level     1,  Iter    21:    Energy =   0.1123
Level     1,  Iter    22:    Energy =   0.1119
Level     1,  Iter    23:    Energy =   0.1127
Level     1,  Iter    24:    Energy =   0.1124
Level     1,  Iter    25:    Energy =   0.1130
Level     1,  Iter    26:    Energy =   0.1125
Level     1,  Iter    27:    Energy =   0.1132
Level     1,  Iter    28:    Energy =   0.1132
Level     1,  Iter    29:    Energy =   0.1132
Level     1,  Iter    30:    Energy =   0.1128
Level     1,  Iter    31:    Energy =   0.1135
Level     1,  Iter    32:    Energy =   0.1134
Level     1,  Iter    33:    Energy =   0.1136
Level     1,  Iter    34:    Energy =   0.1131
Level     1,  Iter    35:    Energy =   0.1138
Level     1,  Iter    36:    Energy =   0.1137
Level     1,  Iter    37:    Energy =   0.1138
Level     1,  Iter    38:    Energy =   0.1133
Level     1,  Iter    39:    Energy =   0.1141
Level     1,  Iter    40:    Energy =   0.1139
Level     1,  Iter    41:    Energy =   0.1141
Level     1,  Iter    42:    Energy =   0.1135
Level     1,  Iter    43:    Energy =   0.1143
Level     1,  Iter    44:    Energy =   0.1142
Level     1,  Iter    45:    Energy =   0.1143
Level     1,  Iter    46:    Energy =   0.1138
Level     1,  Iter    47:    Energy =   0.1145
Level     1,  Iter    48:    Energy =   0.1144
Level     1,  Iter    49:    Energy =   0.1145
Level     1,  Iter    50:    Energy =   0.1139
Level     1,  Iter    51:    Energy =   0.1147
Level     1,  Iter    52:    Energy =   0.1146
Level     1,  Iter    53:    Energy =   0.1147
Level     1,  Iter    54:    Energy =   0.1141
Level     1,  Iter    55:    Energy =   0.1149
Level     1,  Iter    56:    Energy =   0.1147
Level     1,  Iter    57:    Energy =   0.1149
Level     1,  Iter    58:    Energy =   0.1143
Level     1,  Iter    59:    Energy =   0.1151
END OF LEVEL     1    DetJac Range:   0.1263  to   3.4602 
  Avg. Gradient Time  : 0.0436s  32.78% 
  Avg. Gaussian Time  : 0.0723s  54.37% 
  Avg. Iteration Time : 0.1330s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0563
Level     2,  Iter     1:    Energy =   0.0588
Level     2,  Iter     2:    Energy =   0.0609
Level     2,  Iter     3:    Energy =   0.0628
Level     2,  Iter     4:    Energy =   0.0643
Level     2,  Iter     5:    Energy =   0.0656
Level     2,  Iter     6:    Energy =   0.0672
Level     2,  Iter     7:    Energy =   0.0686
Level     2,  Iter     8:    Energy =   0.0699
Level     2,  Iter     9:    Energy =   0.0707
Level     2,  Iter    10:    Energy =   0.0713
Level     2,  Iter    11:    Energy =   0.0718
Level     2,  Iter    12:    Energy =   0.0723
Level     2,  Iter    13:    Energy =   0.0728
Level     2,  Iter    14:    Energy =   0.0733
Level     2,  Iter    15:    Energy =   0.0740
Level     2,  Iter    16:    Energy =   0.0746
Level     2,  Iter    17:    Energy =   0.0751
Level     2,  Iter    18:    Energy =   0.0755
Level     2,  Iter    19:    Energy =   0.0759
END OF LEVEL     2    DetJac Range:   0.0483  to   5.0177 
  Avg. Gradient Time  : 0.3061s  26.59% 
  Avg. Gaussian Time  : 0.7077s  61.47% 
  Avg. Iteration Time : 1.1513s 

real	0m37.318s
user	1m7.772s
sys	0m2.156s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.390385 0.396154
+ echo 'CHUNK 0.390385 0.396154 1'
CHUNK 0.390385 0.396154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.390385 0.396154 1
====================================
         PROGRESS: 0.390385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.414324
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2768.07   GNORM= 370.115
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2814.621     151.382       0.001
   2    4     -2829.171     147.924       1.000
   3    5     -2876.695     159.744       1.000
   4    6     -2921.377     176.799       1.000
   5    7     -2983.377     106.908       1.000
   6    8     -2999.236     101.786       1.000
   7    9     -3014.307      72.353       1.000
   8   10     -3028.664     158.820       1.000
   9   11     -3046.730     115.111       1.000
  10   12     -3060.505      80.825       1.000
  11   13     -3071.528      54.297       1.000
  12   14     -3076.034      40.671       1.000
  13   15     -3079.784     152.305       1.000
  14   16     -3083.722      34.941       1.000
  15   17     -3084.971      22.169       1.000
  16   18     -3086.963      22.614       1.000
  17   20     -3087.788      19.114       0.497
  18   21     -3088.185      15.411       1.000
  19   23     -3088.702      22.225       0.255
  20   24     -3089.351      14.417       1.000
  21   25     -3091.074      35.847       1.000
  22   26     -3091.680      14.407       1.000
  23   27     -3091.808      16.409       1.000
  24   28     -3091.993      13.332       1.000
  25   29     -3092.346      26.536       1.000
  26   30     -3092.557      17.256       1.000
  27   32     -3092.630       9.692       0.398
  28   33     -3092.761       8.298       1.000
  29   35     -3092.878       9.399       0.285
  30   36     -3092.985       7.282       1.000
  31   37     -3093.172      13.508       1.000
  32   38     -3093.292      11.374       1.000
  33   39     -3093.400       9.089       1.000
  34   40     -3093.470      16.503       1.000
  35   41     -3093.528      12.720       1.000
  36   42     -3093.562       7.266       1.000
  37   43     -3093.595       5.290       1.000
  38   44     -3093.648       6.847       1.000
  39   45     -3093.677       3.027       1.000
  40   46     -3093.688       5.858       1.000
  41   47     -3093.711       5.689       1.000
  42   48     -3093.743       3.608       1.000
  43   49     -3093.751       3.250       1.000
  44   50     -3093.759       2.448       1.000
  45   51     -3093.771       2.201       1.000
  46   52     -3093.783       3.746       1.000
  47   53     -3093.786       3.194       1.000
  48   54     -3093.792       2.891       1.000
  49   55     -3093.794       3.729       1.000
  50   56     -3093.801       4.935       1.000
  51   57     -3093.806       2.599       1.000
  52   58     -3093.809       3.511       1.000
  53   59     -3093.813       2.046       1.000
  54   61     -3093.822       2.342       0.327
Final RAS Transform: 
0.900539 0.0213655 -0.0503081 2.4626 
0.028712 1.00845 0.0451257 -0.239565 
0.0102173 -0.0254749 0.969551 -1.00162 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2015.12   GNORM= 137.212
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2021.315      62.807       0.001
   2    4     -2023.616      55.952       1.000
   3    5     -2033.135      53.213       1.000
   4    6     -2040.185      57.342       1.000
   5    7     -2062.369      62.270       1.000
   6    9     -2066.243      59.656       0.241
   7   10     -2067.843     131.264       1.000
   8   11     -2073.283      29.467       1.000
   9   12     -2074.175      29.140       1.000
  10   13     -2075.018      22.220       1.000
  11   14     -2076.469      19.133       1.000
  12   15     -2078.474      16.324       1.000
  13   16     -2081.075      29.629       1.000
  14   18     -2082.777      44.331       0.480
  15   19     -2085.061      28.527       1.000
  16   20     -2088.225      20.459       1.000
  17   21     -2090.167      60.984       1.000
  18   22     -2092.596      28.455       1.000
  19   23     -2093.817      13.490       1.000
  20   24     -2094.275      11.173       1.000
  21   26     -2095.075      11.635       0.146
  22   27     -2095.462      13.653       1.000
  23   28     -2095.883      24.799       1.000
  24   29     -2096.379      21.169       1.000
  25   31     -2097.606      17.379       0.438
  26   32     -2098.818      16.559       1.000
  27   33     -2102.875      43.272       1.000
  28   34     -2103.955      15.610       1.000
  29   35     -2104.577      12.097       1.000
  30   37     -2104.942      26.217       0.324
  31   38     -2105.334      15.388       1.000
  32   39     -2105.903      17.206       1.000
  33   40     -2106.360      29.177       1.000
  34   41     -2107.100      20.985       1.000
  35   42     -2108.466      15.874       1.000
  36   43     -2111.173      15.959       1.000
  37   45     -2112.061      21.762       0.416
  38   47     -2112.408      13.121       0.472
  39   48     -2112.708       7.550       1.000
  40   49     -2112.989       7.843       1.000
  41   51     -2113.065      12.057       0.306
  42   52     -2113.156       8.494       1.000
  43   53     -2113.236      15.426       1.000
  44   54     -2113.519      12.320       1.000
  45   56     -2113.578       9.270       0.164
  46   57     -2113.651       7.176       1.000
  47   58     -2113.715       9.467       1.000
  48   59     -2113.757       6.269       1.000
  49   60     -2113.820       4.812       1.000
  50   61     -2113.910       6.983       1.000
Final RAS Transform: 
0.969493 0.0345943 -0.0135713 1.35637 
-0.0270227 0.974755 -0.00598856 0.0490887 
0.00462202 -0.0037395 1.00899 -0.0532305 
0 0 0 1 

Final RAS Transform: 
0.969493 0.0345943 -0.0135713 1.35637 
-0.0270227 0.974755 -0.00598856 0.0490887 
0.00462202 -0.0037395 1.00899 -0.0532305 
0 0 0 1 


real	0m10.681s
user	0m18.736s
sys	0m0.488s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.412213
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0860
Level     0,  Iter     1:    Energy =   0.0920
Level     0,  Iter     2:    Energy =   0.0966
Level     0,  Iter     3:    Energy =   0.1014
Level     0,  Iter     4:    Energy =   0.1053
Level     0,  Iter     5:    Energy =   0.1083
Level     0,  Iter     6:    Energy =   0.1101
Level     0,  Iter     7:    Energy =   0.1109
Level     0,  Iter     8:    Energy =   0.1126
Level     0,  Iter     9:    Energy =   0.1130
Level     0,  Iter    10:    Energy =   0.1147
Level     0,  Iter    11:    Energy =   0.1147
Level     0,  Iter    12:    Energy =   0.1155
Level     0,  Iter    13:    Energy =   0.1155
Level     0,  Iter    14:    Energy =   0.1167
Level     0,  Iter    15:    Energy =   0.1166
Level     0,  Iter    16:    Energy =   0.1175
Level     0,  Iter    17:    Energy =   0.1174
Level     0,  Iter    18:    Energy =   0.1183
Level     0,  Iter    19:    Energy =   0.1181
Level     0,  Iter    20:    Energy =   0.1187
Level     0,  Iter    21:    Energy =   0.1185
Level     0,  Iter    22:    Energy =   0.1194
Level     0,  Iter    23:    Energy =   0.1192
Level     0,  Iter    24:    Energy =   0.1199
Level     0,  Iter    25:    Energy =   0.1197
Level     0,  Iter    26:    Energy =   0.1204
Level     0,  Iter    27:    Energy =   0.1201
Level     0,  Iter    28:    Energy =   0.1210
Level     0,  Iter    29:    Energy =   0.1207
Level     0,  Iter    30:    Energy =   0.1214
Level     0,  Iter    31:    Energy =   0.1210
Level     0,  Iter    32:    Energy =   0.1217
Level     0,  Iter    33:    Energy =   0.1213
Level     0,  Iter    34:    Energy =   0.1216
Level     0,  Iter    35:    Energy =   0.1213
Level     0,  Iter    36:    Energy =   0.1221
Level     0,  Iter    37:    Energy =   0.1217
Level     0,  Iter    38:    Energy =   0.1219
Level     0,  Iter    39:    Energy =   0.1216
Level     0,  Iter    40:    Energy =   0.1223
Level     0,  Iter    41:    Energy =   0.1219
Level     0,  Iter    42:    Energy =   0.1222
Level     0,  Iter    43:    Energy =   0.1219
Level     0,  Iter    44:    Energy =   0.1226
Level     0,  Iter    45:    Energy =   0.1222
Level     0,  Iter    46:    Energy =   0.1223
Level     0,  Iter    47:    Energy =   0.1220
Level     0,  Iter    48:    Energy =   0.1226
Level     0,  Iter    49:    Energy =   0.1222
Level     0,  Iter    50:    Energy =   0.1223
Level     0,  Iter    51:    Energy =   0.1220
Level     0,  Iter    52:    Energy =   0.1227
Level     0,  Iter    53:    Energy =   0.1223
Level     0,  Iter    54:    Energy =   0.1224
Level     0,  Iter    55:    Energy =   0.1221
Level     0,  Iter    56:    Energy =   0.1227
Level     0,  Iter    57:    Energy =   0.1223
Level     0,  Iter    58:    Energy =   0.1225
Level     0,  Iter    59:    Energy =   0.1222
END OF LEVEL     0    DetJac Range:   0.1020  to   2.4149 
  Avg. Gradient Time  : 0.0088s  34.56% 
  Avg. Gaussian Time  : 0.0127s  49.93% 
  Avg. Iteration Time : 0.0254s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0778
Level     1,  Iter     1:    Energy =   0.0822
Level     1,  Iter     2:    Energy =   0.0860
Level     1,  Iter     3:    Energy =   0.0887
Level     1,  Iter     4:    Energy =   0.0907
Level     1,  Iter     5:    Energy =   0.0924
Level     1,  Iter     6:    Energy =   0.0939
Level     1,  Iter     7:    Energy =   0.0956
Level     1,  Iter     8:    Energy =   0.0968
Level     1,  Iter     9:    Energy =   0.0979
Level     1,  Iter    10:    Energy =   0.0990
Level     1,  Iter    11:    Energy =   0.1001
Level     1,  Iter    12:    Energy =   0.1012
Level     1,  Iter    13:    Energy =   0.1024
Level     1,  Iter    14:    Energy =   0.1034
Level     1,  Iter    15:    Energy =   0.1043
Level     1,  Iter    16:    Energy =   0.1052
Level     1,  Iter    17:    Energy =   0.1056
Level     1,  Iter    18:    Energy =   0.1058
Level     1,  Iter    19:    Energy =   0.1059
Level     1,  Iter    20:    Energy =   0.1059
Level     1,  Iter    21:    Energy =   0.1063
Level     1,  Iter    22:    Energy =   0.1062
Level     1,  Iter    23:    Energy =   0.1066
Level     1,  Iter    24:    Energy =   0.1065
Level     1,  Iter    25:    Energy =   0.1070
Level     1,  Iter    26:    Energy =   0.1068
Level     1,  Iter    27:    Energy =   0.1072
Level     1,  Iter    28:    Energy =   0.1070
Level     1,  Iter    29:    Energy =   0.1075
Level     1,  Iter    30:    Energy =   0.1073
Level     1,  Iter    31:    Energy =   0.1078
Level     1,  Iter    32:    Energy =   0.1075
Level     1,  Iter    33:    Energy =   0.1080
Level     1,  Iter    34:    Energy =   0.1077
Level     1,  Iter    35:    Energy =   0.1082
Level     1,  Iter    36:    Energy =   0.1079
Level     1,  Iter    37:    Energy =   0.1084
Level     1,  Iter    38:    Energy =   0.1081
Level     1,  Iter    39:    Energy =   0.1084
Level     1,  Iter    40:    Energy =   0.1082
Level     1,  Iter    41:    Energy =   0.1085
Level     1,  Iter    42:    Energy =   0.1082
Level     1,  Iter    43:    Energy =   0.1086
Level     1,  Iter    44:    Energy =   0.1083
Level     1,  Iter    45:    Energy =   0.1087
Level     1,  Iter    46:    Energy =   0.1085
Level     1,  Iter    47:    Energy =   0.1088
Level     1,  Iter    48:    Energy =   0.1086
Level     1,  Iter    49:    Energy =   0.1089
Level     1,  Iter    50:    Energy =   0.1086
Level     1,  Iter    51:    Energy =   0.1089
Level     1,  Iter    52:    Energy =   0.1087
Level     1,  Iter    53:    Energy =   0.1090
Level     1,  Iter    54:    Energy =   0.1087
Level     1,  Iter    55:    Energy =   0.1090
Level     1,  Iter    56:    Energy =   0.1088
Level     1,  Iter    57:    Energy =   0.1090
Level     1,  Iter    58:    Energy =   0.1088
Level     1,  Iter    59:    Energy =   0.1090
END OF LEVEL     1    DetJac Range:   0.0810  to   3.9844 
  Avg. Gradient Time  : 0.0496s  32.89% 
  Avg. Gaussian Time  : 0.0817s  54.14% 
  Avg. Iteration Time : 0.1509s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0526
Level     2,  Iter     1:    Energy =   0.0546
Level     2,  Iter     2:    Energy =   0.0565
Level     2,  Iter     3:    Energy =   0.0580
Level     2,  Iter     4:    Energy =   0.0591
Level     2,  Iter     5:    Energy =   0.0602
Level     2,  Iter     6:    Energy =   0.0611
Level     2,  Iter     7:    Energy =   0.0620
Level     2,  Iter     8:    Energy =   0.0628
Level     2,  Iter     9:    Energy =   0.0635
Level     2,  Iter    10:    Energy =   0.0642
Level     2,  Iter    11:    Energy =   0.0648
Level     2,  Iter    12:    Energy =   0.0654
Level     2,  Iter    13:    Energy =   0.0660
Level     2,  Iter    14:    Energy =   0.0667
Level     2,  Iter    15:    Energy =   0.0673
Level     2,  Iter    16:    Energy =   0.0679
Level     2,  Iter    17:    Energy =   0.0685
Level     2,  Iter    18:    Energy =   0.0692
Level     2,  Iter    19:    Energy =   0.0700
END OF LEVEL     2    DetJac Range:   0.0768  to   4.8272 
  Avg. Gradient Time  : 0.3152s  28.47% 
  Avg. Gaussian Time  : 0.6504s  58.74% 
  Avg. Iteration Time : 1.1072s 

real	0m38.073s
user	1m9.060s
sys	0m2.208s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.396154 0.401923
+ echo 'CHUNK 0.396154 0.401923 1'
CHUNK 0.396154 0.401923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.396154 0.401923 1
====================================
         PROGRESS: 0.396154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.777078
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3924.47   GNORM= 493.842
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3997.138     265.112       0.001
   2    4     -4024.295     142.367       1.000
   3    5     -4037.855      71.454       1.000
   4    6     -4043.233      80.335       1.000
   5    7     -4067.840     100.530       1.000
   6    8     -4087.720     115.239       1.000
   7   10     -4092.994      74.103       0.401
   8   11     -4096.158      36.815       1.000
   9   12     -4097.392      42.151       1.000
  10   13     -4098.948      36.773       1.000
  11   14     -4104.845      63.233       1.000
  12   16     -4106.333      27.575       0.470
  13   17     -4106.673      12.440       1.000
  14   18     -4106.907      12.643       1.000
  15   20     -4107.110      15.404       0.497
  16   21     -4107.406      28.242       1.000
  17   22     -4107.651      14.331       1.000
  18   23     -4107.877      19.521       1.000
  19   24     -4108.066      13.814       1.000
  20   25     -4108.340      12.188       1.000
  21   26     -4108.580      21.338       1.000
  22   27     -4108.742      10.350       1.000
  23   28     -4108.832      11.615       1.000
  24   29     -4108.906      25.919       1.000
  25   30     -4109.121       8.239       1.000
  26   31     -4109.279       7.991       1.000
  27   32     -4109.374       5.472       1.000
  28   33     -4109.400      15.548       1.000
  29   34     -4109.436       6.024       1.000
  30   35     -4109.453       6.162       1.000
  31   36     -4109.458       3.751       1.000
  32   37     -4109.460       3.799       1.000
  33   38     -4109.471       3.956       1.000
  34   39     -4109.473       6.732       1.000
  35   40     -4109.493       3.820       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.967044 0.00698298 -0.00280693 0.81357 
-0.0211908 1.00317 0.000871433 0.265278 
0.0249543 -0.0142361 0.958844 -0.462304 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2630.65   GNORM= 56.0919
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2633.475      54.688       0.002
   2    4     -2634.783      67.438       1.000
   3    6     -2640.294      39.024       5.000
   4    7     -2650.394      76.515       1.000
   5    8     -2657.016      66.171       1.000
   6    9     -2658.512      68.898       1.000
   7   10     -2660.841      24.202       1.000
   8   11     -2661.832      18.868       1.000
   9   12     -2662.912      70.266       1.000
  10   13     -2664.048      23.135       1.000
  11   14     -2664.280      16.065       1.000
  12   15     -2664.470      13.607       1.000
  13   16     -2664.635      10.240       1.000
  14   17     -2665.176      13.835       1.000
  15   18     -2665.894      25.297       1.000
  16   19     -2666.462      20.289       1.000
  17   21     -2666.639      25.766       0.344
  18   22     -2666.880      10.303       1.000
  19   23     -2666.979      10.471       1.000
  20   24     -2667.060       8.734       1.000
  21   25     -2667.089      11.763       1.000
  22   26     -2667.140       5.510       1.000
  23   27     -2667.172       4.396       1.000
  24   28     -2667.213       6.165       1.000
  25   29     -2667.283       7.000       1.000
  26   31     -2667.316      10.800       0.275
  27   32     -2667.348      10.371       1.000
  28   33     -2667.444       5.862       1.000
  29   34     -2667.481       3.912       1.000
  30   35     -2667.523       5.401       1.000
  31   36     -2667.560       3.781       1.000
  32   37     -2667.581      14.261       1.000
  33   38     -2667.638       3.495       1.000
  34   39     -2667.642       2.931       1.000
  35   40     -2667.653       2.701       1.000
  36   41     -2667.659       3.594       1.000
  37   42     -2667.673       3.537       1.000
  38   43     -2667.694       2.662       1.000
  39   44     -2667.719       5.729       1.000
  40   46     -2667.721       3.180       0.275
Final RAS Transform: 
0.980989 0.000652545 -0.00585086 0.390385 
-0.0187885 0.998702 -0.00170634 0.108368 
0.00772097 -0.00683264 0.97156 0.10653 
0 0 0 1 

Final RAS Transform: 
0.980989 0.000652545 -0.00585086 0.390385 
-0.0187885 0.998702 -0.00170634 0.108368 
0.00772097 -0.00683264 0.97156 0.10653 
0 0 0 1 


real	0m10.582s
user	0m18.496s
sys	0m0.524s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.769161
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1192
Level     0,  Iter     1:    Energy =   0.1263
Level     0,  Iter     2:    Energy =   0.1335
Level     0,  Iter     3:    Energy =   0.1387
Level     0,  Iter     4:    Energy =   0.1435
Level     0,  Iter     5:    Energy =   0.1478
Level     0,  Iter     6:    Energy =   0.1509
Level     0,  Iter     7:    Energy =   0.1517
Level     0,  Iter     8:    Energy =   0.1527
Level     0,  Iter     9:    Energy =   0.1534
Level     0,  Iter    10:    Energy =   0.1541
Level     0,  Iter    11:    Energy =   0.1546
Level     0,  Iter    12:    Energy =   0.1550
Level     0,  Iter    13:    Energy =   0.1555
Level     0,  Iter    14:    Energy =   0.1557
Level     0,  Iter    15:    Energy =   0.1561
Level     0,  Iter    16:    Energy =   0.1563
Level     0,  Iter    17:    Energy =   0.1567
Level     0,  Iter    18:    Energy =   0.1567
Level     0,  Iter    19:    Energy =   0.1570
Level     0,  Iter    20:    Energy =   0.1570
Level     0,  Iter    21:    Energy =   0.1573
Level     0,  Iter    22:    Energy =   0.1573
Level     0,  Iter    23:    Energy =   0.1576
Level     0,  Iter    24:    Energy =   0.1575
Level     0,  Iter    25:    Energy =   0.1578
Level     0,  Iter    26:    Energy =   0.1577
Level     0,  Iter    27:    Energy =   0.1579
Level     0,  Iter    28:    Energy =   0.1578
Level     0,  Iter    29:    Energy =   0.1580
Level     0,  Iter    30:    Energy =   0.1578
Level     0,  Iter    31:    Energy =   0.1580
Level     0,  Iter    32:    Energy =   0.1579
Level     0,  Iter    33:    Energy =   0.1581
Level     0,  Iter    34:    Energy =   0.1580
Level     0,  Iter    35:    Energy =   0.1582
Level     0,  Iter    36:    Energy =   0.1581
Level     0,  Iter    37:    Energy =   0.1584
Level     0,  Iter    38:    Energy =   0.1582
Level     0,  Iter    39:    Energy =   0.1585
Level     0,  Iter    40:    Energy =   0.1583
Level     0,  Iter    41:    Energy =   0.1585
Level     0,  Iter    42:    Energy =   0.1584
Level     0,  Iter    43:    Energy =   0.1586
Level     0,  Iter    44:    Energy =   0.1585
Level     0,  Iter    45:    Energy =   0.1586
Level     0,  Iter    46:    Energy =   0.1585
Level     0,  Iter    47:    Energy =   0.1587
Level     0,  Iter    48:    Energy =   0.1585
Level     0,  Iter    49:    Energy =   0.1587
Level     0,  Iter    50:    Energy =   0.1585
Level     0,  Iter    51:    Energy =   0.1587
Level     0,  Iter    52:    Energy =   0.1585
Level     0,  Iter    53:    Energy =   0.1587
Level     0,  Iter    54:    Energy =   0.1585
Level     0,  Iter    55:    Energy =   0.1587
Level     0,  Iter    56:    Energy =   0.1586
Level     0,  Iter    57:    Energy =   0.1587
Level     0,  Iter    58:    Energy =   0.1585
Level     0,  Iter    59:    Energy =   0.1587
END OF LEVEL     0    DetJac Range:   0.4004  to   2.2166 
  Avg. Gradient Time  : 0.0077s  34.76% 
  Avg. Gaussian Time  : 0.0109s  49.62% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0998
Level     1,  Iter     1:    Energy =   0.1049
Level     1,  Iter     2:    Energy =   0.1090
Level     1,  Iter     3:    Energy =   0.1131
Level     1,  Iter     4:    Energy =   0.1163
Level     1,  Iter     5:    Energy =   0.1185
Level     1,  Iter     6:    Energy =   0.1204
Level     1,  Iter     7:    Energy =   0.1219
Level     1,  Iter     8:    Energy =   0.1232
Level     1,  Iter     9:    Energy =   0.1236
Level     1,  Iter    10:    Energy =   0.1237
Level     1,  Iter    11:    Energy =   0.1248
Level     1,  Iter    12:    Energy =   0.1246
Level     1,  Iter    13:    Energy =   0.1257
Level     1,  Iter    14:    Energy =   0.1256
Level     1,  Iter    15:    Energy =   0.1261
Level     1,  Iter    16:    Energy =   0.1257
Level     1,  Iter    17:    Energy =   0.1266
Level     1,  Iter    18:    Energy =   0.1265
Level     1,  Iter    19:    Energy =   0.1269
Level     1,  Iter    20:    Energy =   0.1265
Level     1,  Iter    21:    Energy =   0.1272
Level     1,  Iter    22:    Energy =   0.1271
Level     1,  Iter    23:    Energy =   0.1275
Level     1,  Iter    24:    Energy =   0.1271
Level     1,  Iter    25:    Energy =   0.1276
Level     1,  Iter    26:    Energy =   0.1275
Level     1,  Iter    27:    Energy =   0.1278
Level     1,  Iter    28:    Energy =   0.1274
Level     1,  Iter    29:    Energy =   0.1278
Level     1,  Iter    30:    Energy =   0.1277
Level     1,  Iter    31:    Energy =   0.1279
Level     1,  Iter    32:    Energy =   0.1276
Level     1,  Iter    33:    Energy =   0.1280
Level     1,  Iter    34:    Energy =   0.1278
Level     1,  Iter    35:    Energy =   0.1280
Level     1,  Iter    36:    Energy =   0.1277
Level     1,  Iter    37:    Energy =   0.1281
Level     1,  Iter    38:    Energy =   0.1279
Level     1,  Iter    39:    Energy =   0.1283
Level     1,  Iter    40:    Energy =   0.1279
Level     1,  Iter    41:    Energy =   0.1283
Level     1,  Iter    42:    Energy =   0.1282
Level     1,  Iter    43:    Energy =   0.1283
Level     1,  Iter    44:    Energy =   0.1280
Level     1,  Iter    45:    Energy =   0.1284
Level     1,  Iter    46:    Energy =   0.1283
Level     1,  Iter    47:    Energy =   0.1285
Level     1,  Iter    48:    Energy =   0.1281
Level     1,  Iter    49:    Energy =   0.1285
Level     1,  Iter    50:    Energy =   0.1284
Level     1,  Iter    51:    Energy =   0.1285
Level     1,  Iter    52:    Energy =   0.1281
Level     1,  Iter    53:    Energy =   0.1285
Level     1,  Iter    54:    Energy =   0.1284
Level     1,  Iter    55:    Energy =   0.1286
Level     1,  Iter    56:    Energy =   0.1283
Level     1,  Iter    57:    Energy =   0.1286
Level     1,  Iter    58:    Energy =   0.1285
Level     1,  Iter    59:    Energy =   0.1287
END OF LEVEL     1    DetJac Range:   0.1247  to   2.9771 
  Avg. Gradient Time  : 0.0439s  33.07% 
  Avg. Gaussian Time  : 0.0718s  54.13% 
  Avg. Iteration Time : 0.1326s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0604
Level     2,  Iter     1:    Energy =   0.0633
Level     2,  Iter     2:    Energy =   0.0654
Level     2,  Iter     3:    Energy =   0.0672
Level     2,  Iter     4:    Energy =   0.0689
Level     2,  Iter     5:    Energy =   0.0702
Level     2,  Iter     6:    Energy =   0.0714
Level     2,  Iter     7:    Energy =   0.0726
Level     2,  Iter     8:    Energy =   0.0737
Level     2,  Iter     9:    Energy =   0.0746
Level     2,  Iter    10:    Energy =   0.0754
Level     2,  Iter    11:    Energy =   0.0761
Level     2,  Iter    12:    Energy =   0.0768
Level     2,  Iter    13:    Energy =   0.0773
Level     2,  Iter    14:    Energy =   0.0778
Level     2,  Iter    15:    Energy =   0.0783
Level     2,  Iter    16:    Energy =   0.0787
Level     2,  Iter    17:    Energy =   0.0791
Level     2,  Iter    18:    Energy =   0.0794
Level     2,  Iter    19:    Energy =   0.0798
END OF LEVEL     2    DetJac Range:   0.0649  to   3.9391 
  Avg. Gradient Time  : 0.3070s  27.34% 
  Avg. Gaussian Time  : 0.6783s  60.41% 
  Avg. Iteration Time : 1.1229s 

real	0m36.739s
user	1m6.344s
sys	0m2.412s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.401923 0.407692
+ echo 'CHUNK 0.401923 0.407692 1'
CHUNK 0.401923 0.407692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.401923 0.407692 1
====================================
         PROGRESS: 0.401923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.482932
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3452.2   GNORM= 440.675
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3560.662      91.063       0.001
   2    4     -3562.692     120.695       1.000
   3    5     -3565.429      75.491       1.000
   4    6     -3571.089      61.292       1.000
   5    7     -3576.035      72.906       1.000
   6    8     -3583.607      55.852       1.000
   7    9     -3590.347      66.338       1.000
   8   10     -3594.888      51.087       1.000
   9   11     -3598.551      47.215       1.000
  10   13     -3602.208      40.575       0.494
  11   15     -3603.636      40.708       0.457
  12   16     -3604.549      24.406       1.000
  13   17     -3605.645      19.077       1.000
  14   18     -3607.617      22.755       1.000
  15   19     -3607.964      41.150       1.000
  16   20     -3608.529      13.856       1.000
  17   21     -3608.662      10.723       1.000
  18   23     -3608.815      18.060       0.478
  19   24     -3609.018      22.194       1.000
  20   25     -3609.310      13.825       1.000
  21   26     -3609.572      12.533       1.000
  22   27     -3609.865       9.033       1.000
  23   28     -3610.046      19.002       1.000
  24   29     -3610.311       9.857       1.000
  25   30     -3610.375       9.968       1.000
  26   31     -3610.452       9.870       1.000
  27   33     -3610.572       9.629       0.509
  28   35     -3610.592       7.489       0.437
  29   36     -3610.621       6.289       1.000
  30   37     -3610.643       5.610       1.000
  31   39     -3610.690       9.659       0.341
  32   40     -3610.711       9.835       1.000
  33   41     -3610.714       3.628       1.000
  34   42     -3610.719       4.821       1.000
  35   43     -3610.719       2.421       1.000
  36   44     -3610.728       2.510       1.000
  37   46     -3610.729       7.449       0.234
  38   47     -3610.736       4.377       1.000
Final RAS Transform: 
0.983005 0.00430111 0.00649034 0.187852 
-0.027941 1.00281 0.0249368 0.902157 
0.0164455 -0.0175583 0.972833 -0.678169 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2394.08   GNORM= 200.003
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2404.768      78.082       0.000
   2    4     -2407.869      62.681       1.000
   3    5     -2411.641      35.898       1.000
   4    6     -2413.110      35.228       1.000
   5    7     -2419.588      59.350       1.000
   6    8     -2425.058      37.537       1.000
   7    9     -2427.415     107.052       1.000
   8   10     -2429.890      21.398       1.000
   9   11     -2430.217      19.525       1.000
  10   12     -2433.996      29.824       1.000
  11   13     -2435.126      28.637       1.000
  12   14     -2435.388      24.646       1.000
  13   15     -2435.868      10.592       1.000
  14   16     -2436.052      10.937       1.000
  15   17     -2436.441      13.908       1.000
  16   18     -2436.950      16.017       1.000
  17   19     -2437.276      15.393       1.000
  18   20     -2437.676       7.812       1.000
  19   21     -2437.917      12.225       1.000
  20   22     -2438.281      10.282       1.000
  21   24     -2438.413      21.883       0.203
  22   25     -2438.696       8.914       1.000
  23   26     -2438.866      10.640       1.000
  24   27     -2439.248       6.456       1.000
  25   29     -2439.352       9.120       0.402
  26   30     -2439.467       7.110       1.000
  27   31     -2439.557       5.958       1.000
  28   33     -2439.592       9.316       0.433
  29   34     -2439.631      10.067       1.000
  30   35     -2439.855       6.388       1.000
  31   36     -2439.895       5.030       1.000
  32   37     -2439.944       3.353       1.000
  33   38     -2439.968       3.434       1.000
  34   39     -2439.972       4.697       1.000
  35   40     -2439.991       2.212       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.980438 -0.0137993 -0.00426109 -0.0369036 
-0.0231061 0.99601 0.00899069 0.664998 
0.00473403 -0.00308135 0.986166 -0.0207868 
0 0 0 1 

Final RAS Transform: 
0.980438 -0.0137993 -0.00426109 -0.0369036 
-0.0231061 0.99601 0.00899069 0.664998 
0.00473403 -0.00308135 0.986166 -0.0207868 
0 0 0 1 


real	0m10.694s
user	0m18.796s
sys	0m0.452s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.479321
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1025
Level     0,  Iter     1:    Energy =   0.1093
Level     0,  Iter     2:    Energy =   0.1159
Level     0,  Iter     3:    Energy =   0.1204
Level     0,  Iter     4:    Energy =   0.1239
Level     0,  Iter     5:    Energy =   0.1268
Level     0,  Iter     6:    Energy =   0.1283
Level     0,  Iter     7:    Energy =   0.1291
Level     0,  Iter     8:    Energy =   0.1296
Level     0,  Iter     9:    Energy =   0.1302
Level     0,  Iter    10:    Energy =   0.1305
Level     0,  Iter    11:    Energy =   0.1311
Level     0,  Iter    12:    Energy =   0.1312
Level     0,  Iter    13:    Energy =   0.1318
Level     0,  Iter    14:    Energy =   0.1318
Level     0,  Iter    15:    Energy =   0.1323
Level     0,  Iter    16:    Energy =   0.1322
Level     0,  Iter    17:    Energy =   0.1326
Level     0,  Iter    18:    Energy =   0.1325
Level     0,  Iter    19:    Energy =   0.1329
Level     0,  Iter    20:    Energy =   0.1329
Level     0,  Iter    21:    Energy =   0.1333
Level     0,  Iter    22:    Energy =   0.1332
Level     0,  Iter    23:    Energy =   0.1336
Level     0,  Iter    24:    Energy =   0.1336
Level     0,  Iter    25:    Energy =   0.1339
Level     0,  Iter    26:    Energy =   0.1338
Level     0,  Iter    27:    Energy =   0.1341
Level     0,  Iter    28:    Energy =   0.1340
Level     0,  Iter    29:    Energy =   0.1343
Level     0,  Iter    30:    Energy =   0.1341
Level     0,  Iter    31:    Energy =   0.1344
Level     0,  Iter    32:    Energy =   0.1342
Level     0,  Iter    33:    Energy =   0.1345
Level     0,  Iter    34:    Energy =   0.1343
Level     0,  Iter    35:    Energy =   0.1346
Level     0,  Iter    36:    Energy =   0.1344
Level     0,  Iter    37:    Energy =   0.1347
Level     0,  Iter    38:    Energy =   0.1345
Level     0,  Iter    39:    Energy =   0.1348
Level     0,  Iter    40:    Energy =   0.1346
Level     0,  Iter    41:    Energy =   0.1349
Level     0,  Iter    42:    Energy =   0.1347
Level     0,  Iter    43:    Energy =   0.1350
Level     0,  Iter    44:    Energy =   0.1348
Level     0,  Iter    45:    Energy =   0.1351
Level     0,  Iter    46:    Energy =   0.1348
Level     0,  Iter    47:    Energy =   0.1351
Level     0,  Iter    48:    Energy =   0.1349
Level     0,  Iter    49:    Energy =   0.1352
Level     0,  Iter    50:    Energy =   0.1349
Level     0,  Iter    51:    Energy =   0.1352
Level     0,  Iter    52:    Energy =   0.1350
Level     0,  Iter    53:    Energy =   0.1353
Level     0,  Iter    54:    Energy =   0.1350
Level     0,  Iter    55:    Energy =   0.1353
Level     0,  Iter    56:    Energy =   0.1351
Level     0,  Iter    57:    Energy =   0.1353
Level     0,  Iter    58:    Energy =   0.1351
Level     0,  Iter    59:    Energy =   0.1353
END OF LEVEL     0    DetJac Range:   0.3414  to   2.2242 
  Avg. Gradient Time  : 0.0077s  34.27% 
  Avg. Gaussian Time  : 0.0113s  50.44% 
  Avg. Iteration Time : 0.0224s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0869
Level     1,  Iter     1:    Energy =   0.0923
Level     1,  Iter     2:    Energy =   0.0969
Level     1,  Iter     3:    Energy =   0.1003
Level     1,  Iter     4:    Energy =   0.1030
Level     1,  Iter     5:    Energy =   0.1050
Level     1,  Iter     6:    Energy =   0.1069
Level     1,  Iter     7:    Energy =   0.1089
Level     1,  Iter     8:    Energy =   0.1105
Level     1,  Iter     9:    Energy =   0.1116
Level     1,  Iter    10:    Energy =   0.1124
Level     1,  Iter    11:    Energy =   0.1128
Level     1,  Iter    12:    Energy =   0.1126
Level     1,  Iter    13:    Energy =   0.1134
Level     1,  Iter    14:    Energy =   0.1133
Level     1,  Iter    15:    Energy =   0.1139
Level     1,  Iter    16:    Energy =   0.1136
Level     1,  Iter    17:    Energy =   0.1144
Level     1,  Iter    18:    Energy =   0.1142
Level     1,  Iter    19:    Energy =   0.1149
Level     1,  Iter    20:    Energy =   0.1146
Level     1,  Iter    21:    Energy =   0.1153
Level     1,  Iter    22:    Energy =   0.1150
Level     1,  Iter    23:    Energy =   0.1157
Level     1,  Iter    24:    Energy =   0.1153
Level     1,  Iter    25:    Energy =   0.1160
Level     1,  Iter    26:    Energy =   0.1156
Level     1,  Iter    27:    Energy =   0.1162
Level     1,  Iter    28:    Energy =   0.1158
Level     1,  Iter    29:    Energy =   0.1165
Level     1,  Iter    30:    Energy =   0.1161
Level     1,  Iter    31:    Energy =   0.1166
Level     1,  Iter    32:    Energy =   0.1162
Level     1,  Iter    33:    Energy =   0.1169
Level     1,  Iter    34:    Energy =   0.1164
Level     1,  Iter    35:    Energy =   0.1171
Level     1,  Iter    36:    Energy =   0.1166
Level     1,  Iter    37:    Energy =   0.1171
Level     1,  Iter    38:    Energy =   0.1167
Level     1,  Iter    39:    Energy =   0.1171
Level     1,  Iter    40:    Energy =   0.1168
Level     1,  Iter    41:    Energy =   0.1171
Level     1,  Iter    42:    Energy =   0.1168
Level     1,  Iter    43:    Energy =   0.1173
Level     1,  Iter    44:    Energy =   0.1169
Level     1,  Iter    45:    Energy =   0.1174
Level     1,  Iter    46:    Energy =   0.1170
Level     1,  Iter    47:    Energy =   0.1175
Level     1,  Iter    48:    Energy =   0.1171
Level     1,  Iter    49:    Energy =   0.1174
Level     1,  Iter    50:    Energy =   0.1171
Level     1,  Iter    51:    Energy =   0.1174
Level     1,  Iter    52:    Energy =   0.1170
Level     1,  Iter    53:    Energy =   0.1175
Level     1,  Iter    54:    Energy =   0.1171
Level     1,  Iter    55:    Energy =   0.1176
Level     1,  Iter    56:    Energy =   0.1172
Level     1,  Iter    57:    Energy =   0.1176
Level     1,  Iter    58:    Energy =   0.1172
Level     1,  Iter    59:    Energy =   0.1176
END OF LEVEL     1    DetJac Range:   0.1555  to   3.1634 
  Avg. Gradient Time  : 0.0432s  32.74% 
  Avg. Gaussian Time  : 0.0718s  54.42% 
  Avg. Iteration Time : 0.1320s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0579
Level     2,  Iter     1:    Energy =   0.0605
Level     2,  Iter     2:    Energy =   0.0626
Level     2,  Iter     3:    Energy =   0.0644
Level     2,  Iter     4:    Energy =   0.0660
Level     2,  Iter     5:    Energy =   0.0676
Level     2,  Iter     6:    Energy =   0.0689
Level     2,  Iter     7:    Energy =   0.0701
Level     2,  Iter     8:    Energy =   0.0713
Level     2,  Iter     9:    Energy =   0.0723
Level     2,  Iter    10:    Energy =   0.0732
Level     2,  Iter    11:    Energy =   0.0740
Level     2,  Iter    12:    Energy =   0.0748
Level     2,  Iter    13:    Energy =   0.0754
Level     2,  Iter    14:    Energy =   0.0760
Level     2,  Iter    15:    Energy =   0.0765
Level     2,  Iter    16:    Energy =   0.0770
Level     2,  Iter    17:    Energy =   0.0775
Level     2,  Iter    18:    Energy =   0.0779
Level     2,  Iter    19:    Energy =   0.0784
END OF LEVEL     2    DetJac Range:   0.0464  to   5.0694 
  Avg. Gradient Time  : 0.3059s  26.75% 
  Avg. Gaussian Time  : 0.7001s  61.22% 
  Avg. Iteration Time : 1.1434s 

real	0m37.136s
user	1m7.348s
sys	0m2.212s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.407692 0.413462
+ echo 'CHUNK 0.407692 0.413462 1'
CHUNK 0.407692 0.413462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.407692 0.413462 1
====================================
         PROGRESS: 0.407692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.463675
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3120.35   GNORM= 190.204
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3148.244     124.554       0.001
   2    4     -3151.668     164.200       1.000
   3    5     -3158.171      83.821       1.000
   4    6     -3165.638      59.741       1.000
   5    7     -3183.852     121.433       1.000
   6    8     -3193.184     125.938       1.000
   7    9     -3201.016     124.021       1.000
   8   10     -3208.877      45.028       1.000
   9   11     -3211.928      75.995       1.000
  10   12     -3216.854      84.208       1.000
  11   14     -3221.732      63.543       0.499
  12   15     -3225.267      44.556       1.000
  13   16     -3229.419      42.762       1.000
  14   17     -3232.613      31.059       1.000
  15   18     -3234.148      43.260       1.000
  16   19     -3235.078      12.010       1.000
  17   20     -3235.126      13.241       1.000
  18   21     -3235.232       9.478       1.000
  19   23     -3235.475      11.883       0.426
  20   24     -3235.793      18.600       1.000
  21   26     -3236.301      14.449       0.455
  22   27     -3236.547      40.110       1.000
  23   28     -3236.926      25.459       1.000
  24   29     -3237.232      15.931       1.000
  25   30     -3237.407      15.466       1.000
  26   31     -3237.713       9.591       1.000
  27   32     -3237.919      10.000       1.000
  28   34     -3237.991       6.995       0.409
  29   35     -3238.065       5.299       1.000
  30   37     -3238.098       4.398       0.432
  31   38     -3238.135       3.206       1.000
  32   39     -3238.183       7.223       1.000
  33   40     -3238.264       6.479       1.000
  34   42     -3238.280      10.994       0.460
  35   43     -3238.318       7.468       1.000
  36   44     -3238.336       7.586       1.000
  37   45     -3238.363       6.599       1.000
  38   46     -3238.368       6.048       1.000
  39   47     -3238.388       3.703       1.000
  40   49     -3238.392       3.890       0.277
  41   50     -3238.400       3.272       1.000
  42   51     -3238.413       6.536       1.000
  43   52     -3238.420       4.627       1.000
  44   53     -3238.432       6.661       1.000
  45   55     -3238.434       5.049       0.289
  46   58     -3238.439       5.035       0.045
  47   59     -3238.441       3.069       1.000
  48   60     -3238.446       2.815       1.000
  49   61     -3238.447       3.457       1.000
Final RAS Transform: 
0.981765 0.011606 -0.0353368 0.408776 
-0.041322 1.01709 0.0331109 1.47168 
0.0195168 -0.0119587 0.987176 -0.419866 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2240.65   GNORM= 112.578
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2247.374      86.397       0.001
   2    4     -2251.967      54.976       1.000
   3    5     -2256.873      41.152       1.000
   4    6     -2261.572      44.797       1.000
   5    7     -2269.629      50.127       1.000
   6    8     -2272.266      24.646       1.000
   7    9     -2273.411      20.024       1.000
   8   10     -2275.336      54.211       1.000
   9   11     -2276.864      34.112       1.000
  10   12     -2278.357      20.028       1.000
  11   13     -2279.225      12.546       1.000
  12   14     -2279.525       8.772       1.000
  13   15     -2280.002      12.901       1.000
  14   16     -2280.434      40.880       1.000
  15   17     -2281.084      16.911       1.000
  16   18     -2281.408      11.067       1.000
  17   19     -2281.689       8.141       1.000
  18   20     -2282.161       7.676       1.000
  19   21     -2282.274      17.874       1.000
  20   22     -2282.458       8.141       1.000
  21   23     -2282.507       9.402       1.000
  22   24     -2282.544       6.005       1.000
  23   25     -2282.632       4.801       1.000
  24   26     -2282.733       9.011       1.000
  25   27     -2282.925       6.889       1.000
  26   29     -2283.000      10.417       0.278
  27   30     -2283.087       7.186       1.000
  28   31     -2283.111      11.575       1.000
  29   33     -2283.141       3.437       0.284
  30   34     -2283.159       2.271       1.000
  31   35     -2283.160       3.495       1.000
  32   36     -2283.173       1.244       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.985866 0.00787113 -0.0273983 0.279812 
-0.0400153 1.00946 0.0100377 1.08219 
0.00522617 0.00385616 0.988886 0.317839 
0 0 0 1 

Final RAS Transform: 
0.985866 0.00787113 -0.0273983 0.279812 
-0.0400153 1.00946 0.0100377 1.08219 
0.00522617 0.00385616 0.988886 0.317839 
0 0 0 1 


real	0m9.370s
user	0m16.268s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.475187
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0930
Level     0,  Iter     1:    Energy =   0.0994
Level     0,  Iter     2:    Energy =   0.1054
Level     0,  Iter     3:    Energy =   0.1101
Level     0,  Iter     4:    Energy =   0.1135
Level     0,  Iter     5:    Energy =   0.1163
Level     0,  Iter     6:    Energy =   0.1185
Level     0,  Iter     7:    Energy =   0.1189
Level     0,  Iter     8:    Energy =   0.1200
Level     0,  Iter     9:    Energy =   0.1203
Level     0,  Iter    10:    Energy =   0.1218
Level     0,  Iter    11:    Energy =   0.1219
Level     0,  Iter    12:    Energy =   0.1232
Level     0,  Iter    13:    Energy =   0.1232
Level     0,  Iter    14:    Energy =   0.1238
Level     0,  Iter    15:    Energy =   0.1239
Level     0,  Iter    16:    Energy =   0.1244
Level     0,  Iter    17:    Energy =   0.1243
Level     0,  Iter    18:    Energy =   0.1242
Level     0,  Iter    19:    Energy =   0.1242
Level     0,  Iter    20:    Energy =   0.1241
Level     0,  Iter    21:    Energy =   0.1242
Level     0,  Iter    22:    Energy =   0.1242
Level     0,  Iter    23:    Energy =   0.1243
Level     0,  Iter    24:    Energy =   0.1242
Level     0,  Iter    25:    Energy =   0.1244
Level     0,  Iter    26:    Energy =   0.1244
Level     0,  Iter    27:    Energy =   0.1246
Level     0,  Iter    28:    Energy =   0.1245
Level     0,  Iter    29:    Energy =   0.1247
Level     0,  Iter    30:    Energy =   0.1247
Level     0,  Iter    31:    Energy =   0.1249
Level     0,  Iter    32:    Energy =   0.1248
Level     0,  Iter    33:    Energy =   0.1250
Level     0,  Iter    34:    Energy =   0.1249
Level     0,  Iter    35:    Energy =   0.1250
Level     0,  Iter    36:    Energy =   0.1249
Level     0,  Iter    37:    Energy =   0.1251
Level     0,  Iter    38:    Energy =   0.1250
Level     0,  Iter    39:    Energy =   0.1252
Level     0,  Iter    40:    Energy =   0.1251
Level     0,  Iter    41:    Energy =   0.1252
Level     0,  Iter    42:    Energy =   0.1251
Level     0,  Iter    43:    Energy =   0.1253
Level     0,  Iter    44:    Energy =   0.1252
Level     0,  Iter    45:    Energy =   0.1253
Level     0,  Iter    46:    Energy =   0.1252
Level     0,  Iter    47:    Energy =   0.1254
Level     0,  Iter    48:    Energy =   0.1253
Level     0,  Iter    49:    Energy =   0.1254
Level     0,  Iter    50:    Energy =   0.1253
Level     0,  Iter    51:    Energy =   0.1255
Level     0,  Iter    52:    Energy =   0.1254
Level     0,  Iter    53:    Energy =   0.1255
Level     0,  Iter    54:    Energy =   0.1255
Level     0,  Iter    55:    Energy =   0.1256
Level     0,  Iter    56:    Energy =   0.1255
Level     0,  Iter    57:    Energy =   0.1257
Level     0,  Iter    58:    Energy =   0.1256
Level     0,  Iter    59:    Energy =   0.1258
END OF LEVEL     0    DetJac Range:   0.2438  to   2.0718 
  Avg. Gradient Time  : 0.0076s  34.41% 
  Avg. Gaussian Time  : 0.0111s  50.09% 
  Avg. Iteration Time : 0.0221s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0847
Level     1,  Iter     1:    Energy =   0.0893
Level     1,  Iter     2:    Energy =   0.0937
Level     1,  Iter     3:    Energy =   0.0978
Level     1,  Iter     4:    Energy =   0.1014
Level     1,  Iter     5:    Energy =   0.1036
Level     1,  Iter     6:    Energy =   0.1055
Level     1,  Iter     7:    Energy =   0.1070
Level     1,  Iter     8:    Energy =   0.1082
Level     1,  Iter     9:    Energy =   0.1091
Level     1,  Iter    10:    Energy =   0.1097
Level     1,  Iter    11:    Energy =   0.1097
Level     1,  Iter    12:    Energy =   0.1102
Level     1,  Iter    13:    Energy =   0.1108
Level     1,  Iter    14:    Energy =   0.1114
Level     1,  Iter    15:    Energy =   0.1112
Level     1,  Iter    16:    Energy =   0.1119
Level     1,  Iter    17:    Energy =   0.1120
Level     1,  Iter    18:    Energy =   0.1121
Level     1,  Iter    19:    Energy =   0.1125
Level     1,  Iter    20:    Energy =   0.1125
Level     1,  Iter    21:    Energy =   0.1130
Level     1,  Iter    22:    Energy =   0.1130
Level     1,  Iter    23:    Energy =   0.1134
Level     1,  Iter    24:    Energy =   0.1133
Level     1,  Iter    25:    Energy =   0.1136
Level     1,  Iter    26:    Energy =   0.1136
Level     1,  Iter    27:    Energy =   0.1139
Level     1,  Iter    28:    Energy =   0.1139
Level     1,  Iter    29:    Energy =   0.1141
Level     1,  Iter    30:    Energy =   0.1141
Level     1,  Iter    31:    Energy =   0.1143
Level     1,  Iter    32:    Energy =   0.1143
Level     1,  Iter    33:    Energy =   0.1144
Level     1,  Iter    34:    Energy =   0.1144
Level     1,  Iter    35:    Energy =   0.1146
Level     1,  Iter    36:    Energy =   0.1147
Level     1,  Iter    37:    Energy =   0.1148
Level     1,  Iter    38:    Energy =   0.1148
Level     1,  Iter    39:    Energy =   0.1150
Level     1,  Iter    40:    Energy =   0.1151
Level     1,  Iter    41:    Energy =   0.1152
Level     1,  Iter    42:    Energy =   0.1153
Level     1,  Iter    43:    Energy =   0.1153
Level     1,  Iter    44:    Energy =   0.1155
Level     1,  Iter    45:    Energy =   0.1155
Level     1,  Iter    46:    Energy =   0.1155
Level     1,  Iter    47:    Energy =   0.1157
Level     1,  Iter    48:    Energy =   0.1157
Level     1,  Iter    49:    Energy =   0.1159
Level     1,  Iter    50:    Energy =   0.1159
Level     1,  Iter    51:    Energy =   0.1160
Level     1,  Iter    52:    Energy =   0.1160
Level     1,  Iter    53:    Energy =   0.1162
Level     1,  Iter    54:    Energy =   0.1161
Level     1,  Iter    55:    Energy =   0.1163
Level     1,  Iter    56:    Energy =   0.1162
Level     1,  Iter    57:    Energy =   0.1163
Level     1,  Iter    58:    Energy =   0.1163
Level     1,  Iter    59:    Energy =   0.1164
END OF LEVEL     1    DetJac Range:   0.0935  to   3.1968 
  Avg. Gradient Time  : 0.0437s  32.98% 
  Avg. Gaussian Time  : 0.0718s  54.20% 
  Avg. Iteration Time : 0.1325s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0574
Level     2,  Iter     1:    Energy =   0.0597
Level     2,  Iter     2:    Energy =   0.0621
Level     2,  Iter     3:    Energy =   0.0642
Level     2,  Iter     4:    Energy =   0.0662
Level     2,  Iter     5:    Energy =   0.0680
Level     2,  Iter     6:    Energy =   0.0694
Level     2,  Iter     7:    Energy =   0.0705
Level     2,  Iter     8:    Energy =   0.0716
Level     2,  Iter     9:    Energy =   0.0725
Level     2,  Iter    10:    Energy =   0.0735
Level     2,  Iter    11:    Energy =   0.0742
Level     2,  Iter    12:    Energy =   0.0749
Level     2,  Iter    13:    Energy =   0.0755
Level     2,  Iter    14:    Energy =   0.0760
Level     2,  Iter    15:    Energy =   0.0765
Level     2,  Iter    16:    Energy =   0.0770
Level     2,  Iter    17:    Energy =   0.0775
Level     2,  Iter    18:    Energy =   0.0779
Level     2,  Iter    19:    Energy =   0.0784
END OF LEVEL     2    DetJac Range:   0.0484  to   4.4419 
  Avg. Gradient Time  : 0.3083s  27.28% 
  Avg. Gaussian Time  : 0.6848s  60.59% 
  Avg. Iteration Time : 1.1302s 

real	0m36.881s
user	1m6.912s
sys	0m2.184s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.413462 0.419231
+ echo 'CHUNK 0.413462 0.419231 1'
CHUNK 0.413462 0.419231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.413462 0.419231 1
====================================
         PROGRESS: 0.413462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.82589
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3352.01   GNORM= 414.947
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3412.917     199.792       0.001
   2    4     -3432.366     144.116       1.000
   3    5     -3449.688      74.156       1.000
   4    6     -3456.256      72.071       1.000
   5    7     -3469.817      70.808       1.000
   6    8     -3485.329      50.558       1.000
   7    9     -3486.933     136.389       1.000
   8   10     -3493.054      56.204       1.000
   9   11     -3495.000      35.851       1.000
  10   12     -3496.631      23.223       1.000
  11   13     -3497.685      26.808       1.000
  12   14     -3499.206      19.963       1.000
  13   15     -3499.641      15.373       1.000
  14   16     -3499.757       5.014       1.000
  15   17     -3499.789       9.021       1.000
  16   18     -3499.831       7.143       1.000
  17   19     -3499.914       6.432       1.000
  18   20     -3499.947      17.575       1.000
  19   21     -3500.010      10.080       1.000
  20   22     -3500.066       6.626       1.000
  21   24     -3500.128       7.081       0.435
  22   26     -3500.174      11.682       0.418
  23   27     -3500.223      15.094       1.000
  24   28     -3500.345       4.854       1.000
  25   29     -3500.378       3.631       1.000
  26   30     -3500.397       3.834       1.000
  27   31     -3500.424       9.158       1.000
  28   32     -3500.465       4.490       1.000
  29   33     -3500.478       5.373       1.000
  30   34     -3500.487       3.646       1.000
  31   35     -3500.489       3.771       1.000
  32   36     -3500.492       1.783       1.000
  33   37     -3500.496       2.474       1.000
  34   38     -3500.496       1.583       1.000
  35   39     -3500.500       2.372       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.02445 0.0228901 0.0349611 0.054576 
0.00176364 1.01933 0.0396245 0.435669 
0.00236724 -0.0158361 0.981524 -0.387319 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2289.87   GNORM= 156.973
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2297.138      61.296       0.001
   2    4     -2298.993      47.512       1.000
   3    5     -2302.532      32.494       1.000
   4    6     -2305.312      44.262       1.000
   5    7     -2311.511      63.831       1.000
   6    8     -2319.741      67.978       1.000
   7    9     -2324.653      63.918       1.000
   8   10     -2329.420      26.144       1.000
   9   11     -2331.817      24.095       1.000
  10   12     -2334.333     101.349       1.000
  11   13     -2337.970      28.950       1.000
  12   14     -2338.932      18.014       1.000
  13   15     -2339.338       9.456       1.000
  14   16     -2339.637       9.160       1.000
  15   18     -2340.157      19.387       0.402
  16   19     -2340.710      16.138       1.000
  17   20     -2341.179      10.428       1.000
  18   21     -2341.271      13.449       1.000
  19   22     -2341.335       7.354       1.000
  20   23     -2341.381       5.615       1.000
  21   24     -2341.469      10.908       1.000
  22   25     -2341.493       5.903       1.000
  23   26     -2341.508       2.696       1.000
  24   27     -2341.522       2.008       1.000
  25   28     -2341.538       3.206       1.000
  26   30     -2341.558       3.432       0.481
  27   32     -2341.564       4.077       0.319
  28   33     -2341.568       5.838       1.000
  29   34     -2341.580       3.704       1.000
  30   35     -2341.593       1.809       1.000
  31   36     -2341.601       4.825       1.000
  32   38     -2341.641       6.630       5.000
  33   39     -2341.675       3.752       1.000
  34   41     -2341.691       2.773       0.464
  35   43     -2341.702       2.582       0.355
  36   44     -2341.706       1.636       1.000
  37   46     -2341.710       2.871       0.163
  38   47     -2341.713       2.563       1.000
  39   48     -2341.719       3.015       1.000
  40   49     -2341.733       2.621       1.000
  41   52     -2341.737       2.160       0.730
  42   53     -2341.751       3.291       1.000
  43   55     -2341.760       2.994       0.405
  44   56     -2341.764       2.841       1.000
  45   58     -2341.769       3.676       0.443
  46   60     -2341.792       2.465       5.000
Final RAS Transform: 
1.00453 0.00832416 0.0214523 0.00942243 
-0.00763279 1.0172 0.0254914 0.445867 
-0.0180753 -0.0103586 0.977846 0.228278 
0 0 0 1 

Final RAS Transform: 
1.00453 0.00832416 0.0214523 0.00942243 
-0.00763279 1.0172 0.0254914 0.445867 
-0.0180753 -0.0103586 0.977846 0.228278 
0 0 0 1 


real	0m9.892s
user	0m17.356s
sys	0m0.496s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.832768
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0983
Level     0,  Iter     1:    Energy =   0.1074
Level     0,  Iter     2:    Energy =   0.1141
Level     0,  Iter     3:    Energy =   0.1191
Level     0,  Iter     4:    Energy =   0.1242
Level     0,  Iter     5:    Energy =   0.1281
Level     0,  Iter     6:    Energy =   0.1307
Level     0,  Iter     7:    Energy =   0.1331
Level     0,  Iter     8:    Energy =   0.1346
Level     0,  Iter     9:    Energy =   0.1355
Level     0,  Iter    10:    Energy =   0.1365
Level     0,  Iter    11:    Energy =   0.1368
Level     0,  Iter    12:    Energy =   0.1376
Level     0,  Iter    13:    Energy =   0.1377
Level     0,  Iter    14:    Energy =   0.1380
Level     0,  Iter    15:    Energy =   0.1381
Level     0,  Iter    16:    Energy =   0.1389
Level     0,  Iter    17:    Energy =   0.1388
Level     0,  Iter    18:    Energy =   0.1388
Level     0,  Iter    19:    Energy =   0.1391
Level     0,  Iter    20:    Energy =   0.1396
Level     0,  Iter    21:    Energy =   0.1395
Level     0,  Iter    22:    Energy =   0.1396
Level     0,  Iter    23:    Energy =   0.1398
Level     0,  Iter    24:    Energy =   0.1403
Level     0,  Iter    25:    Energy =   0.1401
Level     0,  Iter    26:    Energy =   0.1400
Level     0,  Iter    27:    Energy =   0.1400
Level     0,  Iter    28:    Energy =   0.1403
Level     0,  Iter    29:    Energy =   0.1403
Level     0,  Iter    30:    Energy =   0.1404
Level     0,  Iter    31:    Energy =   0.1404
Level     0,  Iter    32:    Energy =   0.1406
Level     0,  Iter    33:    Energy =   0.1405
Level     0,  Iter    34:    Energy =   0.1407
Level     0,  Iter    35:    Energy =   0.1406
Level     0,  Iter    36:    Energy =   0.1407
Level     0,  Iter    37:    Energy =   0.1407
Level     0,  Iter    38:    Energy =   0.1410
Level     0,  Iter    39:    Energy =   0.1408
Level     0,  Iter    40:    Energy =   0.1407
Level     0,  Iter    41:    Energy =   0.1407
Level     0,  Iter    42:    Energy =   0.1410
Level     0,  Iter    43:    Energy =   0.1408
Level     0,  Iter    44:    Energy =   0.1407
Level     0,  Iter    45:    Energy =   0.1408
Level     0,  Iter    46:    Energy =   0.1412
Level     0,  Iter    47:    Energy =   0.1409
Level     0,  Iter    48:    Energy =   0.1406
Level     0,  Iter    49:    Energy =   0.1406
Level     0,  Iter    50:    Energy =   0.1407
Level     0,  Iter    51:    Energy =   0.1407
Level     0,  Iter    52:    Energy =   0.1411
Level     0,  Iter    53:    Energy =   0.1408
Level     0,  Iter    54:    Energy =   0.1406
Level     0,  Iter    55:    Energy =   0.1408
Level     0,  Iter    56:    Energy =   0.1412
Level     0,  Iter    57:    Energy =   0.1409
Level     0,  Iter    58:    Energy =   0.1405
Level     0,  Iter    59:    Energy =   0.1407
END OF LEVEL     0    DetJac Range:   0.2059  to   3.0156 
  Avg. Gradient Time  : 0.0076s  34.49% 
  Avg. Gaussian Time  : 0.0110s  49.98% 
  Avg. Iteration Time : 0.0221s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0867
Level     1,  Iter     1:    Energy =   0.0922
Level     1,  Iter     2:    Energy =   0.0962
Level     1,  Iter     3:    Energy =   0.0995
Level     1,  Iter     4:    Energy =   0.1020
Level     1,  Iter     5:    Energy =   0.1042
Level     1,  Iter     6:    Energy =   0.1064
Level     1,  Iter     7:    Energy =   0.1085
Level     1,  Iter     8:    Energy =   0.1102
Level     1,  Iter     9:    Energy =   0.1106
Level     1,  Iter    10:    Energy =   0.1118
Level     1,  Iter    11:    Energy =   0.1118
Level     1,  Iter    12:    Energy =   0.1125
Level     1,  Iter    13:    Energy =   0.1124
Level     1,  Iter    14:    Energy =   0.1124
Level     1,  Iter    15:    Energy =   0.1128
Level     1,  Iter    16:    Energy =   0.1126
Level     1,  Iter    17:    Energy =   0.1131
Level     1,  Iter    18:    Energy =   0.1130
Level     1,  Iter    19:    Energy =   0.1134
Level     1,  Iter    20:    Energy =   0.1132
Level     1,  Iter    21:    Energy =   0.1136
Level     1,  Iter    22:    Energy =   0.1135
Level     1,  Iter    23:    Energy =   0.1138
Level     1,  Iter    24:    Energy =   0.1136
Level     1,  Iter    25:    Energy =   0.1140
Level     1,  Iter    26:    Energy =   0.1138
Level     1,  Iter    27:    Energy =   0.1142
Level     1,  Iter    28:    Energy =   0.1140
Level     1,  Iter    29:    Energy =   0.1144
Level     1,  Iter    30:    Energy =   0.1142
Level     1,  Iter    31:    Energy =   0.1147
Level     1,  Iter    32:    Energy =   0.1144
Level     1,  Iter    33:    Energy =   0.1148
Level     1,  Iter    34:    Energy =   0.1146
Level     1,  Iter    35:    Energy =   0.1149
Level     1,  Iter    36:    Energy =   0.1147
Level     1,  Iter    37:    Energy =   0.1150
Level     1,  Iter    38:    Energy =   0.1148
Level     1,  Iter    39:    Energy =   0.1150
Level     1,  Iter    40:    Energy =   0.1148
Level     1,  Iter    41:    Energy =   0.1151
Level     1,  Iter    42:    Energy =   0.1149
Level     1,  Iter    43:    Energy =   0.1151
Level     1,  Iter    44:    Energy =   0.1150
Level     1,  Iter    45:    Energy =   0.1152
Level     1,  Iter    46:    Energy =   0.1150
Level     1,  Iter    47:    Energy =   0.1153
Level     1,  Iter    48:    Energy =   0.1151
Level     1,  Iter    49:    Energy =   0.1154
Level     1,  Iter    50:    Energy =   0.1152
Level     1,  Iter    51:    Energy =   0.1155
Level     1,  Iter    52:    Energy =   0.1153
Level     1,  Iter    53:    Energy =   0.1156
Level     1,  Iter    54:    Energy =   0.1153
Level     1,  Iter    55:    Energy =   0.1157
Level     1,  Iter    56:    Energy =   0.1154
Level     1,  Iter    57:    Energy =   0.1157
Level     1,  Iter    58:    Energy =   0.1154
Level     1,  Iter    59:    Energy =   0.1158
END OF LEVEL     1    DetJac Range:   0.1498  to   4.6932 
  Avg. Gradient Time  : 0.0438s  33.08% 
  Avg. Gaussian Time  : 0.0717s  54.14% 
  Avg. Iteration Time : 0.1325s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0559
Level     2,  Iter     1:    Energy =   0.0582
Level     2,  Iter     2:    Energy =   0.0602
Level     2,  Iter     3:    Energy =   0.0618
Level     2,  Iter     4:    Energy =   0.0632
Level     2,  Iter     5:    Energy =   0.0643
Level     2,  Iter     6:    Energy =   0.0654
Level     2,  Iter     7:    Energy =   0.0664
Level     2,  Iter     8:    Energy =   0.0671
Level     2,  Iter     9:    Energy =   0.0676
Level     2,  Iter    10:    Energy =   0.0680
Level     2,  Iter    11:    Energy =   0.0683
Level     2,  Iter    12:    Energy =   0.0686
Level     2,  Iter    13:    Energy =   0.0688
Level     2,  Iter    14:    Energy =   0.0691
Level     2,  Iter    15:    Energy =   0.0694
Level     2,  Iter    16:    Energy =   0.0698
Level     2,  Iter    17:    Energy =   0.0702
Level     2,  Iter    18:    Energy =   0.0707
Level     2,  Iter    19:    Energy =   0.0712
END OF LEVEL     2    DetJac Range:   0.0546  to   4.9510 
  Avg. Gradient Time  : 0.3085s  26.75% 
  Avg. Gaussian Time  : 0.7078s  61.35% 
  Avg. Iteration Time : 1.1536s 

real	0m37.283s
user	1m7.600s
sys	0m2.312s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.419231 0.425
+ echo 'CHUNK 0.419231 0.425 1'
CHUNK 0.419231 0.425 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.419231 0.425 1
====================================
         PROGRESS: 0.419231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.699131
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3269.49   GNORM= 421.186
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3321.895     128.855       0.001
   2    4     -3331.092     107.531       1.000
   3    5     -3343.876      67.324       1.000
   4    6     -3350.199      67.825       1.000
   5    7     -3380.469     126.551       1.000
   6    8     -3407.733     122.383       1.000
   7    9     -3422.234      72.782       1.000
   8   10     -3428.157      74.134       1.000
   9   11     -3433.329      50.000       1.000
  10   12     -3438.281      98.479       1.000
  11   13     -3441.850      46.904       1.000
  12   14     -3443.507      31.421       1.000
  13   15     -3445.657      33.814       1.000
  14   16     -3450.560      56.806       1.000
  15   17     -3453.525      41.403       1.000
  16   19     -3454.373      18.955       0.472
  17   20     -3454.453      19.068       1.000
  18   22     -3454.603      18.997       0.281
  19   23     -3454.809      25.488       1.000
  20   24     -3454.987      12.388       1.000
  21   25     -3455.131      14.195       1.000
  22   26     -3455.306      20.211       1.000
  23   27     -3455.630      32.881       1.000
  24   28     -3455.995       9.650       1.000
  25   29     -3456.098      12.040       1.000
  26   30     -3456.258      12.129       1.000
  27   32     -3456.463      27.037       0.288
  28   33     -3456.731      14.989       1.000
  29   34     -3456.993       9.708       1.000
  30   35     -3457.139      16.491       1.000
  31   36     -3457.388      15.640       1.000
  32   38     -3457.504      14.988       0.431
  33   39     -3457.644       8.867       1.000
  34   41     -3457.722      12.338       0.356
  35   42     -3457.821       8.926       1.000
  36   43     -3457.907       5.479       1.000
  37   45     -3457.955       6.300       0.481
  38   46     -3457.968       7.125       1.000
  39   47     -3458.024      17.122       1.000
  40   48     -3458.138      11.954       1.000
  41   49     -3458.226      15.765       1.000
  42   50     -3458.272       4.238       1.000
  43   51     -3458.287       3.708       1.000
  44   52     -3458.307       2.733       1.000
  45   53     -3458.316       7.903       1.000
  46   54     -3458.335       2.711       1.000
  47   55     -3458.342       3.200       1.000
  48   56     -3458.352       2.476       1.000
Final RAS Transform: 
0.960371 0.0412792 0.0221603 2.01727 
-0.0508964 0.983263 -0.0238033 0.0231078 
0.0178851 -0.00100332 0.989145 -0.299875 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2287.67   GNORM= 70.3782
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2293.688      58.206       0.002
   2    4     -2294.716      72.261       1.000
   3    5     -2296.103      36.771       1.000
   4    6     -2297.355      32.373       1.000
   5    7     -2300.996      77.552       1.000
   6    8     -2307.269     131.943       1.000
   7    9     -2313.227     107.547       1.000
   8   10     -2318.438      53.151       1.000
   9   11     -2320.179      25.754       1.000
  10   12     -2320.865      36.010       1.000
  11   13     -2322.342      86.983       1.000
  12   14     -2323.997      50.383       1.000
  13   15     -2325.637      11.581       1.000
  14   16     -2325.830      15.017       1.000
  15   17     -2326.329      21.781       1.000
  16   18     -2327.921      34.258       1.000
  17   19     -2330.584      56.466       1.000
  18   20     -2332.632      39.343       1.000
  19   21     -2334.073      24.245       1.000
  20   22     -2334.691      13.528       1.000
  21   23     -2334.868       9.273       1.000
  22   24     -2335.017      11.130       1.000
  23   25     -2335.300       9.532       1.000
  24   26     -2335.716      12.840       1.000
  25   27     -2336.238      20.067       1.000
  26   28     -2336.449      19.013       1.000
  27   29     -2336.623       6.749       1.000
  28   30     -2336.663       7.178       1.000
  29   31     -2336.702       8.491       1.000
  30   32     -2336.806       5.972       1.000
  31   34     -2336.884      11.349       0.497
  32   35     -2336.956      10.370       1.000
  33   36     -2337.098       6.235       1.000
  34   37     -2337.295      14.185       1.000
  35   38     -2337.375       6.451       1.000
  36   39     -2337.429       2.604       1.000
  37   40     -2337.449       4.039       1.000
  38   41     -2337.462       2.769       1.000
  39   42     -2337.470       1.851       1.000
  40   43     -2337.478       4.958       1.000
  41   44     -2337.486       4.550       1.000
  42   46     -2337.521       3.198       0.392
  43   47     -2337.523       3.432       1.000
  44   48     -2337.534       2.787       1.000
  45   50     -2337.542       2.368       0.277
  46   51     -2337.543       1.729       1.000
  47   53     -2337.548       3.207       0.396
  48   54     -2337.561       1.744       1.000
  49   55     -2337.566       4.347       1.000
  50   56     -2337.580       3.480       1.000
  51   57     -2337.587       2.327       1.000
  52   59     -2337.590       1.475       0.270
  53   61     -2337.592       1.443       0.235
Final RAS Transform: 
0.980883 0.0162941 0.00940985 0.914142 
-0.0447246 0.998451 0.00273129 0.452586 
-0.00142599 0.0055002 0.980885 0.172322 
0 0 0 1 

Final RAS Transform: 
0.980883 0.0162941 0.00940985 0.914142 
-0.0447246 0.998451 0.00273129 0.452586 
-0.00142599 0.0055002 0.980885 0.172322 
0 0 0 1 


real	0m9.859s
user	0m17.328s
sys	0m0.448s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.697222
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0988
Level     0,  Iter     1:    Energy =   0.1054
Level     0,  Iter     2:    Energy =   0.1112
Level     0,  Iter     3:    Energy =   0.1159
Level     0,  Iter     4:    Energy =   0.1200
Level     0,  Iter     5:    Energy =   0.1222
Level     0,  Iter     6:    Energy =   0.1245
Level     0,  Iter     7:    Energy =   0.1255
Level     0,  Iter     8:    Energy =   0.1268
Level     0,  Iter     9:    Energy =   0.1272
Level     0,  Iter    10:    Energy =   0.1279
Level     0,  Iter    11:    Energy =   0.1282
Level     0,  Iter    12:    Energy =   0.1289
Level     0,  Iter    13:    Energy =   0.1295
Level     0,  Iter    14:    Energy =   0.1300
Level     0,  Iter    15:    Energy =   0.1303
Level     0,  Iter    16:    Energy =   0.1308
Level     0,  Iter    17:    Energy =   0.1311
Level     0,  Iter    18:    Energy =   0.1315
Level     0,  Iter    19:    Energy =   0.1315
Level     0,  Iter    20:    Energy =   0.1320
Level     0,  Iter    21:    Energy =   0.1322
Level     0,  Iter    22:    Energy =   0.1326
Level     0,  Iter    23:    Energy =   0.1325
Level     0,  Iter    24:    Energy =   0.1328
Level     0,  Iter    25:    Energy =   0.1328
Level     0,  Iter    26:    Energy =   0.1333
Level     0,  Iter    27:    Energy =   0.1336
Level     0,  Iter    28:    Energy =   0.1339
Level     0,  Iter    29:    Energy =   0.1338
Level     0,  Iter    30:    Energy =   0.1341
Level     0,  Iter    31:    Energy =   0.1340
Level     0,  Iter    32:    Energy =   0.1344
Level     0,  Iter    33:    Energy =   0.1345
Level     0,  Iter    34:    Energy =   0.1349
Level     0,  Iter    35:    Energy =   0.1347
Level     0,  Iter    36:    Energy =   0.1351
Level     0,  Iter    37:    Energy =   0.1349
Level     0,  Iter    38:    Energy =   0.1353
Level     0,  Iter    39:    Energy =   0.1350
Level     0,  Iter    40:    Energy =   0.1352
Level     0,  Iter    41:    Energy =   0.1348
Level     0,  Iter    42:    Energy =   0.1352
Level     0,  Iter    43:    Energy =   0.1350
Level     0,  Iter    44:    Energy =   0.1354
Level     0,  Iter    45:    Energy =   0.1352
Level     0,  Iter    46:    Energy =   0.1355
Level     0,  Iter    47:    Energy =   0.1353
Level     0,  Iter    48:    Energy =   0.1356
Level     0,  Iter    49:    Energy =   0.1353
Level     0,  Iter    50:    Energy =   0.1356
Level     0,  Iter    51:    Energy =   0.1353
Level     0,  Iter    52:    Energy =   0.1357
Level     0,  Iter    53:    Energy =   0.1354
Level     0,  Iter    54:    Energy =   0.1358
Level     0,  Iter    55:    Energy =   0.1355
Level     0,  Iter    56:    Energy =   0.1359
Level     0,  Iter    57:    Energy =   0.1355
Level     0,  Iter    58:    Energy =   0.1358
Level     0,  Iter    59:    Energy =   0.1355
END OF LEVEL     0    DetJac Range:   0.2029  to   1.7777 
  Avg. Gradient Time  : 0.0077s  34.65% 
  Avg. Gaussian Time  : 0.0111s  49.88% 
  Avg. Iteration Time : 0.0222s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0855
Level     1,  Iter     1:    Energy =   0.0904
Level     1,  Iter     2:    Energy =   0.0943
Level     1,  Iter     3:    Energy =   0.0976
Level     1,  Iter     4:    Energy =   0.1008
Level     1,  Iter     5:    Energy =   0.1033
Level     1,  Iter     6:    Energy =   0.1055
Level     1,  Iter     7:    Energy =   0.1076
Level     1,  Iter     8:    Energy =   0.1093
Level     1,  Iter     9:    Energy =   0.1104
Level     1,  Iter    10:    Energy =   0.1109
Level     1,  Iter    11:    Energy =   0.1107
Level     1,  Iter    12:    Energy =   0.1120
Level     1,  Iter    13:    Energy =   0.1118
Level     1,  Iter    14:    Energy =   0.1127
Level     1,  Iter    15:    Energy =   0.1124
Level     1,  Iter    16:    Energy =   0.1133
Level     1,  Iter    17:    Energy =   0.1131
Level     1,  Iter    18:    Energy =   0.1135
Level     1,  Iter    19:    Energy =   0.1134
Level     1,  Iter    20:    Energy =   0.1136
Level     1,  Iter    21:    Energy =   0.1136
Level     1,  Iter    22:    Energy =   0.1138
Level     1,  Iter    23:    Energy =   0.1138
Level     1,  Iter    24:    Energy =   0.1141
Level     1,  Iter    25:    Energy =   0.1140
Level     1,  Iter    26:    Energy =   0.1143
Level     1,  Iter    27:    Energy =   0.1143
Level     1,  Iter    28:    Energy =   0.1145
Level     1,  Iter    29:    Energy =   0.1145
Level     1,  Iter    30:    Energy =   0.1146
Level     1,  Iter    31:    Energy =   0.1147
Level     1,  Iter    32:    Energy =   0.1148
Level     1,  Iter    33:    Energy =   0.1148
Level     1,  Iter    34:    Energy =   0.1150
Level     1,  Iter    35:    Energy =   0.1149
Level     1,  Iter    36:    Energy =   0.1151
Level     1,  Iter    37:    Energy =   0.1150
Level     1,  Iter    38:    Energy =   0.1152
Level     1,  Iter    39:    Energy =   0.1151
Level     1,  Iter    40:    Energy =   0.1153
Level     1,  Iter    41:    Energy =   0.1152
Level     1,  Iter    42:    Energy =   0.1154
Level     1,  Iter    43:    Energy =   0.1152
Level     1,  Iter    44:    Energy =   0.1154
Level     1,  Iter    45:    Energy =   0.1153
Level     1,  Iter    46:    Energy =   0.1155
Level     1,  Iter    47:    Energy =   0.1154
Level     1,  Iter    48:    Energy =   0.1156
Level     1,  Iter    49:    Energy =   0.1155
Level     1,  Iter    50:    Energy =   0.1156
Level     1,  Iter    51:    Energy =   0.1155
Level     1,  Iter    52:    Energy =   0.1157
Level     1,  Iter    53:    Energy =   0.1156
Level     1,  Iter    54:    Energy =   0.1158
Level     1,  Iter    55:    Energy =   0.1157
Level     1,  Iter    56:    Energy =   0.1158
Level     1,  Iter    57:    Energy =   0.1158
Level     1,  Iter    58:    Energy =   0.1158
Level     1,  Iter    59:    Energy =   0.1158
END OF LEVEL     1    DetJac Range:   0.1315  to   3.0149 
  Avg. Gradient Time  : 0.0436s  32.69% 
  Avg. Gaussian Time  : 0.0725s  54.44% 
  Avg. Iteration Time : 0.1333s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0554
Level     2,  Iter     1:    Energy =   0.0582
Level     2,  Iter     2:    Energy =   0.0606
Level     2,  Iter     3:    Energy =   0.0627
Level     2,  Iter     4:    Energy =   0.0643
Level     2,  Iter     5:    Energy =   0.0659
Level     2,  Iter     6:    Energy =   0.0671
Level     2,  Iter     7:    Energy =   0.0682
Level     2,  Iter     8:    Energy =   0.0692
Level     2,  Iter     9:    Energy =   0.0701
Level     2,  Iter    10:    Energy =   0.0711
Level     2,  Iter    11:    Energy =   0.0721
Level     2,  Iter    12:    Energy =   0.0730
Level     2,  Iter    13:    Energy =   0.0737
Level     2,  Iter    14:    Energy =   0.0742
Level     2,  Iter    15:    Energy =   0.0747
Level     2,  Iter    16:    Energy =   0.0752
Level     2,  Iter    17:    Energy =   0.0758
Level     2,  Iter    18:    Energy =   0.0763
Level     2,  Iter    19:    Energy =   0.0769
END OF LEVEL     2    DetJac Range:   0.0623  to   4.7322 
  Avg. Gradient Time  : 0.3084s  27.00% 
  Avg. Gaussian Time  : 0.6965s  60.98% 
  Avg. Iteration Time : 1.1422s 

real	0m37.197s
user	1m7.412s
sys	0m2.256s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.425 0.430769
+ echo 'CHUNK 0.425 0.430769 1'
CHUNK 0.425 0.430769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.425 0.430769 1
====================================
         PROGRESS: 0.425               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.543471
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3241.05   GNORM= 333.585
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3307.365     279.370       0.001
   2    4     -3342.891     133.645       1.000
   3    5     -3364.267     128.216       1.000
   4    6     -3431.187     200.542       1.000
   5    7     -3480.746     189.457       1.000
   6    8     -3553.057     155.190       1.000
   7    9     -3570.465      88.212       1.000
   8   10     -3580.697      57.725       1.000
   9   11     -3596.361      65.729       1.000
  10   13     -3608.475     187.364       0.375
  11   14     -3621.886      73.806       1.000
  12   15     -3625.213      33.131       1.000
  13   16     -3627.590      47.169       1.000
  14   17     -3629.888      47.364       1.000
  15   18     -3631.924      36.888       1.000
  16   19     -3633.107      35.475       1.000
  17   20     -3633.540       9.046       1.000
  18   21     -3633.594       7.459       1.000
  19   22     -3633.695       7.964       1.000
  20   24     -3633.787      15.913       0.330
  21   25     -3633.883       9.277       1.000
  22   26     -3633.993      12.118       1.000
  23   27     -3634.126       9.029       1.000
  24   29     -3634.233       5.469       0.318
  25   30     -3634.285       4.521       1.000
  26   31     -3634.324      18.994       1.000
  27   32     -3634.442      14.299       1.000
  28   33     -3634.531      16.948       1.000
  29   34     -3634.625       7.606       1.000
  30   35     -3634.651       3.677       1.000
  31   36     -3634.677       4.582       1.000
  32   37     -3634.704       4.248       1.000
  33   38     -3634.779       6.390       1.000
  34   40     -3634.802       8.903       0.404
  35   41     -3634.823       4.173       1.000
  36   43     -3634.854      10.452       5.000
  37   44     -3634.872       7.396       1.000
  38   45     -3634.890       8.596       1.000
  39   46     -3634.918       3.425       1.000
  40   47     -3634.927       2.873       1.000
  41   49     -3634.938       5.491       0.391
  42   50     -3634.942       3.697       1.000
  43   51     -3634.957       4.454       1.000
  44   52     -3634.974       3.020       1.000
  45   53     -3634.993       1.971       1.000
  46   55     -3635.000       2.344       0.412
  47   56     -3635.007       1.963       1.000
  48   58     -3635.011       3.001       0.368
  49   59     -3635.019       2.152       1.000
  50   60     -3635.026       3.393       1.000
Final RAS Transform: 
0.901885 0.0399883 -0.0200891 2.43852 
0.0241366 0.996223 0.0332795 -0.599735 
0.00853302 -0.00667611 0.986655 0.00341445 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2348.65   GNORM= 101.62
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2358.635      68.338       0.002
   2    5     -2360.029      29.258       0.461
   3    7     -2362.081      25.405       5.000
   4    8     -2369.713      35.201       1.000
   5    9     -2373.640      55.853       1.000
   6   10     -2377.174      34.654       1.000
   7   11     -2382.247      16.216       1.000
   8   12     -2384.010      60.136       1.000
   9   14     -2385.386      31.800       0.484
  10   15     -2386.363      28.208       1.000
  11   16     -2387.730      31.505       1.000
  12   17     -2389.311      25.576       1.000
  13   18     -2395.090      33.786       1.000
  14   20     -2396.085      21.170       0.339
  15   22     -2396.170      11.699       0.324
  16   23     -2396.260      10.239       1.000
  17   24     -2396.325      10.030       1.000
  18   25     -2396.514       7.238       1.000
  19   26     -2396.702      11.468       1.000
  20   27     -2396.991       6.708       1.000
  21   28     -2397.182      10.139       1.000
  22   30     -2397.249      10.951       0.348
  23   31     -2397.340      10.019       1.000
  24   32     -2397.500       9.609       1.000
  25   33     -2397.897      21.284       1.000
  26   34     -2398.296      10.737       1.000
  27   35     -2398.538       5.977       1.000
  28   36     -2398.666      13.552       1.000
  29   38     -2398.728       6.224       0.472
  30   39     -2398.765       7.015       1.000
  31   40     -2398.885       6.411       1.000
  32   41     -2399.100      11.036       1.000
  33   42     -2399.158       6.069       1.000
  34   43     -2399.180       4.007       1.000
  35   45     -2399.189       2.943       0.373
  36   46     -2399.193       1.971       1.000
  37   47     -2399.201       4.474       1.000
  38   48     -2399.218       1.878       1.000
  39   50     -2399.226       3.131       0.508
  40   51     -2399.231       1.602       1.000
  41   52     -2399.239       2.397       1.000
  42   54     -2399.243       2.524       0.148
  43   55     -2399.249       1.907       1.000
Final RAS Transform: 
0.939868 0.0245762 -0.0251327 1.34156 
0.0221356 0.982245 -0.00111664 -0.638649 
-0.000585011 0.00093633 1.00364 0.270938 
0 0 0 1 

Final RAS Transform: 
0.939868 0.0245762 -0.0251327 1.34156 
0.0221356 0.982245 -0.00111664 -0.638649 
-0.000585011 0.00093633 1.00364 0.270938 
0 0 0 1 


real	0m9.924s
user	0m17.368s
sys	0m0.484s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.531963
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1023
Level     0,  Iter     1:    Energy =   0.1089
Level     0,  Iter     2:    Energy =   0.1146
Level     0,  Iter     3:    Energy =   0.1183
Level     0,  Iter     4:    Energy =   0.1222
Level     0,  Iter     5:    Energy =   0.1239
Level     0,  Iter     6:    Energy =   0.1266
Level     0,  Iter     7:    Energy =   0.1275
Level     0,  Iter     8:    Energy =   0.1294
Level     0,  Iter     9:    Energy =   0.1299
Level     0,  Iter    10:    Energy =   0.1316
Level     0,  Iter    11:    Energy =   0.1319
Level     0,  Iter    12:    Energy =   0.1331
Level     0,  Iter    13:    Energy =   0.1332
Level     0,  Iter    14:    Energy =   0.1340
Level     0,  Iter    15:    Energy =   0.1339
Level     0,  Iter    16:    Energy =   0.1346
Level     0,  Iter    17:    Energy =   0.1345
Level     0,  Iter    18:    Energy =   0.1351
Level     0,  Iter    19:    Energy =   0.1349
Level     0,  Iter    20:    Energy =   0.1355
Level     0,  Iter    21:    Energy =   0.1353
Level     0,  Iter    22:    Energy =   0.1358
Level     0,  Iter    23:    Energy =   0.1355
Level     0,  Iter    24:    Energy =   0.1359
Level     0,  Iter    25:    Energy =   0.1358
Level     0,  Iter    26:    Energy =   0.1361
Level     0,  Iter    27:    Energy =   0.1361
Level     0,  Iter    28:    Energy =   0.1364
Level     0,  Iter    29:    Energy =   0.1363
Level     0,  Iter    30:    Energy =   0.1363
Level     0,  Iter    31:    Energy =   0.1361
Level     0,  Iter    32:    Energy =   0.1360
Level     0,  Iter    33:    Energy =   0.1360
Level     0,  Iter    34:    Energy =   0.1360
Level     0,  Iter    35:    Energy =   0.1363
Level     0,  Iter    36:    Energy =   0.1364
Level     0,  Iter    37:    Energy =   0.1368
Level     0,  Iter    38:    Energy =   0.1367
Level     0,  Iter    39:    Energy =   0.1365
Level     0,  Iter    40:    Energy =   0.1366
Level     0,  Iter    41:    Energy =   0.1368
Level     0,  Iter    42:    Energy =   0.1368
Level     0,  Iter    43:    Energy =   0.1364
Level     0,  Iter    44:    Energy =   0.1366
Level     0,  Iter    45:    Energy =   0.1365
Level     0,  Iter    46:    Energy =   0.1369
Level     0,  Iter    47:    Energy =   0.1370
Level     0,  Iter    48:    Energy =   0.1370
Level     0,  Iter    49:    Energy =   0.1367
Level     0,  Iter    50:    Energy =   0.1368
Level     0,  Iter    51:    Energy =   0.1369
Level     0,  Iter    52:    Energy =   0.1371
Level     0,  Iter    53:    Energy =   0.1373
Level     0,  Iter    54:    Energy =   0.1372
Level     0,  Iter    55:    Energy =   0.1369
Level     0,  Iter    56:    Energy =   0.1370
Level     0,  Iter    57:    Energy =   0.1372
Level     0,  Iter    58:    Energy =   0.1373
Level     0,  Iter    59:    Energy =   0.1372
END OF LEVEL     0    DetJac Range:   0.1758  to   2.0804 
  Avg. Gradient Time  : 0.0088s  34.46% 
  Avg. Gaussian Time  : 0.0128s  50.13% 
  Avg. Iteration Time : 0.0256s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0864
Level     1,  Iter     1:    Energy =   0.0914
Level     1,  Iter     2:    Energy =   0.0955
Level     1,  Iter     3:    Energy =   0.0990
Level     1,  Iter     4:    Energy =   0.1018
Level     1,  Iter     5:    Energy =   0.1040
Level     1,  Iter     6:    Energy =   0.1059
Level     1,  Iter     7:    Energy =   0.1079
Level     1,  Iter     8:    Energy =   0.1094
Level     1,  Iter     9:    Energy =   0.1108
Level     1,  Iter    10:    Energy =   0.1117
Level     1,  Iter    11:    Energy =   0.1126
Level     1,  Iter    12:    Energy =   0.1127
Level     1,  Iter    13:    Energy =   0.1134
Level     1,  Iter    14:    Energy =   0.1140
Level     1,  Iter    15:    Energy =   0.1146
Level     1,  Iter    16:    Energy =   0.1147
Level     1,  Iter    17:    Energy =   0.1152
Level     1,  Iter    18:    Energy =   0.1152
Level     1,  Iter    19:    Energy =   0.1157
Level     1,  Iter    20:    Energy =   0.1157
Level     1,  Iter    21:    Energy =   0.1160
Level     1,  Iter    22:    Energy =   0.1160
Level     1,  Iter    23:    Energy =   0.1161
Level     1,  Iter    24:    Energy =   0.1163
Level     1,  Iter    25:    Energy =   0.1163
Level     1,  Iter    26:    Energy =   0.1165
Level     1,  Iter    27:    Energy =   0.1163
Level     1,  Iter    28:    Energy =   0.1165
Level     1,  Iter    29:    Energy =   0.1163
Level     1,  Iter    30:    Energy =   0.1165
Level     1,  Iter    31:    Energy =   0.1165
Level     1,  Iter    32:    Energy =   0.1167
Level     1,  Iter    33:    Energy =   0.1164
Level     1,  Iter    34:    Energy =   0.1166
Level     1,  Iter    35:    Energy =   0.1166
Level     1,  Iter    36:    Energy =   0.1168
Level     1,  Iter    37:    Energy =   0.1165
Level     1,  Iter    38:    Energy =   0.1167
Level     1,  Iter    39:    Energy =   0.1168
Level     1,  Iter    40:    Energy =   0.1168
Level     1,  Iter    41:    Energy =   0.1166
Level     1,  Iter    42:    Energy =   0.1168
Level     1,  Iter    43:    Energy =   0.1168
Level     1,  Iter    44:    Energy =   0.1170
Level     1,  Iter    45:    Energy =   0.1167
Level     1,  Iter    46:    Energy =   0.1170
Level     1,  Iter    47:    Energy =   0.1170
Level     1,  Iter    48:    Energy =   0.1171
Level     1,  Iter    49:    Energy =   0.1169
Level     1,  Iter    50:    Energy =   0.1171
Level     1,  Iter    51:    Energy =   0.1171
Level     1,  Iter    52:    Energy =   0.1172
Level     1,  Iter    53:    Energy =   0.1170
Level     1,  Iter    54:    Energy =   0.1172
Level     1,  Iter    55:    Energy =   0.1172
Level     1,  Iter    56:    Energy =   0.1173
Level     1,  Iter    57:    Energy =   0.1171
Level     1,  Iter    58:    Energy =   0.1173
Level     1,  Iter    59:    Energy =   0.1172
END OF LEVEL     1    DetJac Range:   0.1155  to   3.3549 
  Avg. Gradient Time  : 0.0491s  32.62% 
  Avg. Gaussian Time  : 0.0819s  54.38% 
  Avg. Iteration Time : 0.1505s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0549
Level     2,  Iter     1:    Energy =   0.0573
Level     2,  Iter     2:    Energy =   0.0594
Level     2,  Iter     3:    Energy =   0.0615
Level     2,  Iter     4:    Energy =   0.0632
Level     2,  Iter     5:    Energy =   0.0645
Level     2,  Iter     6:    Energy =   0.0661
Level     2,  Iter     7:    Energy =   0.0675
Level     2,  Iter     8:    Energy =   0.0686
Level     2,  Iter     9:    Energy =   0.0694
Level     2,  Iter    10:    Energy =   0.0700
Level     2,  Iter    11:    Energy =   0.0706
Level     2,  Iter    12:    Energy =   0.0711
Level     2,  Iter    13:    Energy =   0.0715
Level     2,  Iter    14:    Energy =   0.0720
Level     2,  Iter    15:    Energy =   0.0725
Level     2,  Iter    16:    Energy =   0.0731
Level     2,  Iter    17:    Energy =   0.0736
Level     2,  Iter    18:    Energy =   0.0742
Level     2,  Iter    19:    Energy =   0.0748
END OF LEVEL     2    DetJac Range:   0.0773  to   5.2594 
  Avg. Gradient Time  : 0.3207s  26.51% 
  Avg. Gaussian Time  : 0.7440s  61.50% 
  Avg. Iteration Time : 1.2097s 

real	0m40.011s
user	1m12.688s
sys	0m2.452s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.430769 0.436538
+ echo 'CHUNK 0.430769 0.436538 1'
CHUNK 0.430769 0.436538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.430769 0.436538 1
====================================
         PROGRESS: 0.430769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.755546
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3808.27   GNORM= 631.824
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3898.199     172.909       0.000
   2    4     -3909.755     135.675       1.000
   3    5     -3930.579     122.201       1.000
   4    6     -3950.055     152.889       1.000
   5    7     -3984.513     106.986       1.000
   6    9     -3994.971      60.135       0.465
   7   10     -3998.113      40.495       1.000
   8   11     -3998.703      89.822       1.000
   9   12     -4000.409      37.249       1.000
  10   13     -4001.736      38.419       1.000
  11   14     -4003.650      54.321       1.000
  12   15     -4005.462      35.491       1.000
  13   16     -4006.967      14.585       1.000
  14   17     -4007.281      11.656       1.000
  15   18     -4007.576      10.080       1.000
  16   20     -4007.699       9.422       0.484
  17   21     -4007.791       8.819       1.000
  18   22     -4007.891       8.531       1.000
  19   24     -4007.948       6.523       0.431
  20   25     -4008.014       5.914       1.000
  21   26     -4008.092       8.485       1.000
  22   28     -4008.138       8.662       0.201
  23   29     -4008.181       6.104       1.000
  24   30     -4008.216      24.271       1.000
  25   31     -4008.319      15.986       1.000
  26   32     -4008.355      13.131       1.000
  27   33     -4008.396       3.734       1.000
  28   34     -4008.411       4.108       1.000
  29   35     -4008.460       4.689       1.000
  30   37     -4008.510       9.780       0.473
  31   38     -4008.551      10.726       1.000
  32   39     -4008.603       4.307       1.000
  33   40     -4008.618       4.545       1.000
  34   41     -4008.651       4.652       1.000
  35   43     -4008.665       4.189       0.194
  36   44     -4008.680       4.003       1.000
  37   45     -4008.691       3.762       1.000
  38   47     -4008.698       3.728       0.163
Final RAS Transform: 
0.982394 0.0183621 -0.0205443 0.54349 
-0.0115605 0.999731 0.0271441 0.538559 
0.00068135 -0.0106833 0.984265 -0.417766 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2631.24   GNORM= 93.9339
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2637.761      80.322       0.001
   2    4     -2640.309      61.380       1.000
   3    6     -2648.074      54.763       5.000
   4    7     -2662.602      58.890       1.000
   5    8     -2669.313      31.266       1.000
   6    9     -2671.817      25.303       1.000
   7   10     -2673.120      55.018       1.000
   8   11     -2674.453      50.266       1.000
   9   12     -2675.261      23.641       1.000
  10   13     -2675.912      10.194       1.000
  11   14     -2676.153       9.039       1.000
  12   15     -2676.766      22.390       1.000
  13   16     -2677.366      43.967       1.000
  14   17     -2678.295      16.495       1.000
  15   18     -2678.889      20.256       1.000
  16   19     -2679.315      24.070       1.000
  17   21     -2679.820      16.772       0.510
  18   22     -2680.008      22.400       1.000
  19   23     -2680.163       9.282       1.000
  20   24     -2680.277       8.885       1.000
  21   25     -2680.351       9.909       1.000
  22   26     -2680.626       9.892       1.000
  23   27     -2680.989      11.869       1.000
  24   28     -2681.736      11.652       1.000
  25   29     -2681.994      36.372       1.000
  26   30     -2682.363      10.355       1.000
  27   31     -2682.512       8.050       1.000
  28   33     -2682.575      13.503       0.107
  29   34     -2682.629       5.269       1.000
  30   35     -2682.667       7.689       1.000
  31   36     -2682.686       9.908       1.000
  32   37     -2682.950      17.544       1.000
  33   38     -2683.122       5.369       1.000
  34   39     -2683.130       5.533       1.000
  35   40     -2683.152       2.880       1.000
  36   42     -2683.227      11.750       5.000
  37   43     -2683.259      10.705       1.000
  38   44     -2683.292       5.222       1.000
  39   45     -2683.304       5.403       1.000
  40   46     -2683.311       4.133       1.000
  41   47     -2683.323       2.794       1.000
  42   48     -2683.331       2.473       1.000
  43   49     -2683.341       4.549       1.000
  44   50     -2683.347       1.243       1.000
  45   51     -2683.357       1.572       1.000
  46   52     -2683.359       1.566       1.000
  47   53     -2683.363       4.273       1.000
  48   54     -2683.366       1.303       1.000
  49   55     -2683.372       2.214       1.000
  50   56     -2683.373       1.582       1.000
  51   57     -2683.376       2.651       1.000
  52   58     -2683.380       1.204       1.000
Final RAS Transform: 
0.98284 0.00281146 -0.0116595 0.365013 
0.000537693 0.987684 0.0034357 0.130577 
-0.0129865 0.00439552 1.01029 0.211346 
0 0 0 1 

Final RAS Transform: 
0.98284 0.00281146 -0.0116595 0.365013 
0.000537693 0.987684 0.0034357 0.130577 
-0.0129865 0.00439552 1.01029 0.211346 
0 0 0 1 


real	0m10.967s
user	0m19.292s
sys	0m0.492s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.752283
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1144
Level     0,  Iter     1:    Energy =   0.1228
Level     0,  Iter     2:    Energy =   0.1289
Level     0,  Iter     3:    Energy =   0.1329
Level     0,  Iter     4:    Energy =   0.1354
Level     0,  Iter     5:    Energy =   0.1372
Level     0,  Iter     6:    Energy =   0.1387
Level     0,  Iter     7:    Energy =   0.1398
Level     0,  Iter     8:    Energy =   0.1410
Level     0,  Iter     9:    Energy =   0.1415
Level     0,  Iter    10:    Energy =   0.1425
Level     0,  Iter    11:    Energy =   0.1428
Level     0,  Iter    12:    Energy =   0.1440
Level     0,  Iter    13:    Energy =   0.1443
Level     0,  Iter    14:    Energy =   0.1454
Level     0,  Iter    15:    Energy =   0.1455
Level     0,  Iter    16:    Energy =   0.1460
Level     0,  Iter    17:    Energy =   0.1461
Level     0,  Iter    18:    Energy =   0.1468
Level     0,  Iter    19:    Energy =   0.1469
Level     0,  Iter    20:    Energy =   0.1476
Level     0,  Iter    21:    Energy =   0.1476
Level     0,  Iter    22:    Energy =   0.1480
Level     0,  Iter    23:    Energy =   0.1481
Level     0,  Iter    24:    Energy =   0.1487
Level     0,  Iter    25:    Energy =   0.1487
Level     0,  Iter    26:    Energy =   0.1482
Level     0,  Iter    27:    Energy =   0.1487
Level     0,  Iter    28:    Energy =   0.1488
Level     0,  Iter    29:    Energy =   0.1491
Level     0,  Iter    30:    Energy =   0.1487
Level     0,  Iter    31:    Energy =   0.1487
Level     0,  Iter    32:    Energy =   0.1486
Level     0,  Iter    33:    Energy =   0.1484
Level     0,  Iter    34:    Energy =   0.1483
Level     0,  Iter    35:    Energy =   0.1482
Level     0,  Iter    36:    Energy =   0.1483
Level     0,  Iter    37:    Energy =   0.1481
Level     0,  Iter    38:    Energy =   0.1481
Level     0,  Iter    39:    Energy =   0.1480
Level     0,  Iter    40:    Energy =   0.1481
Level     0,  Iter    41:    Energy =   0.1480
Level     0,  Iter    42:    Energy =   0.1480
Level     0,  Iter    43:    Energy =   0.1479
Level     0,  Iter    44:    Energy =   0.1479
Level     0,  Iter    45:    Energy =   0.1479
Level     0,  Iter    46:    Energy =   0.1478
Level     0,  Iter    47:    Energy =   0.1479
Level     0,  Iter    48:    Energy =   0.1478
Level     0,  Iter    49:    Energy =   0.1480
Level     0,  Iter    50:    Energy =   0.1478
Level     0,  Iter    51:    Energy =   0.1483
Level     0,  Iter    52:    Energy =   0.1483
Level     0,  Iter    53:    Energy =   0.1486
Level     0,  Iter    54:    Energy =   0.1483
Level     0,  Iter    55:    Energy =   0.1486
Level     0,  Iter    56:    Energy =   0.1484
Level     0,  Iter    57:    Energy =   0.1487
Level     0,  Iter    58:    Energy =   0.1483
Level     0,  Iter    59:    Energy =   0.1487
END OF LEVEL     0    DetJac Range:   0.2996  to   2.4220 
  Avg. Gradient Time  : 0.0088s  34.69% 
  Avg. Gaussian Time  : 0.0126s  49.83% 
  Avg. Iteration Time : 0.0253s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0927
Level     1,  Iter     1:    Energy =   0.0979
Level     1,  Iter     2:    Energy =   0.1017
Level     1,  Iter     3:    Energy =   0.1045
Level     1,  Iter     4:    Energy =   0.1076
Level     1,  Iter     5:    Energy =   0.1101
Level     1,  Iter     6:    Energy =   0.1117
Level     1,  Iter     7:    Energy =   0.1132
Level     1,  Iter     8:    Energy =   0.1150
Level     1,  Iter     9:    Energy =   0.1165
Level     1,  Iter    10:    Energy =   0.1176
Level     1,  Iter    11:    Energy =   0.1186
Level     1,  Iter    12:    Energy =   0.1193
Level     1,  Iter    13:    Energy =   0.1195
Level     1,  Iter    14:    Energy =   0.1195
Level     1,  Iter    15:    Energy =   0.1199
Level     1,  Iter    16:    Energy =   0.1199
Level     1,  Iter    17:    Energy =   0.1201
Level     1,  Iter    18:    Energy =   0.1202
Level     1,  Iter    19:    Energy =   0.1203
Level     1,  Iter    20:    Energy =   0.1203
Level     1,  Iter    21:    Energy =   0.1205
Level     1,  Iter    22:    Energy =   0.1205
Level     1,  Iter    23:    Energy =   0.1206
Level     1,  Iter    24:    Energy =   0.1207
Level     1,  Iter    25:    Energy =   0.1207
Level     1,  Iter    26:    Energy =   0.1208
Level     1,  Iter    27:    Energy =   0.1208
Level     1,  Iter    28:    Energy =   0.1210
Level     1,  Iter    29:    Energy =   0.1210
Level     1,  Iter    30:    Energy =   0.1210
Level     1,  Iter    31:    Energy =   0.1210
Level     1,  Iter    32:    Energy =   0.1212
Level     1,  Iter    33:    Energy =   0.1212
Level     1,  Iter    34:    Energy =   0.1212
Level     1,  Iter    35:    Energy =   0.1212
Level     1,  Iter    36:    Energy =   0.1214
Level     1,  Iter    37:    Energy =   0.1213
Level     1,  Iter    38:    Energy =   0.1214
Level     1,  Iter    39:    Energy =   0.1215
Level     1,  Iter    40:    Energy =   0.1215
Level     1,  Iter    41:    Energy =   0.1215
Level     1,  Iter    42:    Energy =   0.1216
Level     1,  Iter    43:    Energy =   0.1216
Level     1,  Iter    44:    Energy =   0.1217
Level     1,  Iter    45:    Energy =   0.1217
Level     1,  Iter    46:    Energy =   0.1217
Level     1,  Iter    47:    Energy =   0.1218
Level     1,  Iter    48:    Energy =   0.1219
Level     1,  Iter    49:    Energy =   0.1218
Level     1,  Iter    50:    Energy =   0.1218
Level     1,  Iter    51:    Energy =   0.1219
Level     1,  Iter    52:    Energy =   0.1218
Level     1,  Iter    53:    Energy =   0.1219
Level     1,  Iter    54:    Energy =   0.1219
Level     1,  Iter    55:    Energy =   0.1219
Level     1,  Iter    56:    Energy =   0.1219
Level     1,  Iter    57:    Energy =   0.1219
Level     1,  Iter    58:    Energy =   0.1219
Level     1,  Iter    59:    Energy =   0.1220
END OF LEVEL     1    DetJac Range:   0.1227  to   2.9494 
  Avg. Gradient Time  : 0.0491s  32.62% 
  Avg. Gaussian Time  : 0.0819s  54.38% 
  Avg. Iteration Time : 0.1507s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0593
Level     2,  Iter     1:    Energy =   0.0619
Level     2,  Iter     2:    Energy =   0.0637
Level     2,  Iter     3:    Energy =   0.0655
Level     2,  Iter     4:    Energy =   0.0672
Level     2,  Iter     5:    Energy =   0.0688
Level     2,  Iter     6:    Energy =   0.0701
Level     2,  Iter     7:    Energy =   0.0712
Level     2,  Iter     8:    Energy =   0.0720
Level     2,  Iter     9:    Energy =   0.0727
Level     2,  Iter    10:    Energy =   0.0735
Level     2,  Iter    11:    Energy =   0.0743
Level     2,  Iter    12:    Energy =   0.0750
Level     2,  Iter    13:    Energy =   0.0755
Level     2,  Iter    14:    Energy =   0.0760
Level     2,  Iter    15:    Energy =   0.0765
Level     2,  Iter    16:    Energy =   0.0770
Level     2,  Iter    17:    Energy =   0.0774
Level     2,  Iter    18:    Energy =   0.0779
Level     2,  Iter    19:    Energy =   0.0783
END OF LEVEL     2    DetJac Range:   0.0648  to   3.2995 
  Avg. Gradient Time  : 0.3443s  28.80% 
  Avg. Gaussian Time  : 0.6923s  57.91% 
  Avg. Iteration Time : 1.1955s 

real	0m39.975s
user	1m12.488s
sys	0m2.428s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.436538 0.442308
+ echo 'CHUNK 0.436538 0.442308 1'
CHUNK 0.436538 0.442308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.436538 0.442308 1
====================================
         PROGRESS: 0.436538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.683794
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3557.61   GNORM= 188.47
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3570.836     112.789       0.001
   2    4     -3578.393     109.792       1.000
   3    5     -3589.563      91.427       1.000
   4    6     -3599.851     100.091       1.000
   5    7     -3617.703      94.035       1.000
   6    8     -3635.413      60.409       1.000
   7   10     -3636.945      63.952       0.270
   8   11     -3638.747      41.782       1.000
   9   12     -3641.028      38.277       1.000
  10   13     -3646.207      65.589       1.000
  11   14     -3647.931      42.575       1.000
  12   15     -3650.325      26.466       1.000
  13   16     -3650.843      27.638       1.000
  14   17     -3651.088      16.675       1.000
  15   18     -3651.266      10.659       1.000
  16   19     -3651.471      15.438       1.000
  17   20     -3651.670      15.762       1.000
  18   21     -3652.150      15.820       1.000
  19   22     -3652.238      12.203       1.000
  20   23     -3652.287       4.341       1.000
  21   26     -3652.314       5.499       1.549
  22   28     -3652.319       5.352       0.152
  23   29     -3652.331       3.126       1.000
  24   30     -3652.341       2.921       1.000
  25   31     -3652.345       2.295       1.000
  26   32     -3652.348       3.375       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.970567 0.0120853 -0.00926302 0.984487 
-0.00172181 1.00671 0.0276203 0.365965 
-0.00688488 -0.0139971 0.967905 -0.261147 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2416.44   GNORM= 166.698
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2435.347     110.196       0.001
   2    4     -2436.416     129.286       1.000
   3    5     -2439.799      40.524       1.000
   4    6     -2440.667      35.792       1.000
   5    7     -2445.820      64.936       1.000
   6    8     -2451.475      75.365       1.000
   7    9     -2465.415     174.383       1.000
   8   10     -2470.579      39.707       1.000
   9   11     -2471.462      24.047       1.000
  10   12     -2471.695      21.222       1.000
  11   13     -2471.917       9.329       1.000
  12   14     -2472.052      10.079       1.000
  13   15     -2472.944      24.607       1.000
  14   16     -2473.674      57.008       1.000
  15   17     -2474.598      33.435       1.000
  16   18     -2475.857      17.863       1.000
  17   19     -2476.173      13.636       1.000
  18   20     -2476.568      21.355       1.000
  19   21     -2477.183      23.274       1.000
  20   22     -2478.172      33.414       1.000
  21   24     -2478.491      22.385       0.159
  22   25     -2478.825       9.693       1.000
  23   26     -2479.006       4.858       1.000
  24   27     -2479.015      13.053       1.000
  25   28     -2479.120       6.510       1.000
  26   29     -2479.287       3.805       1.000
  27   31     -2479.322      13.766       0.255
  28   32     -2479.378      10.210       1.000
  29   33     -2479.430       5.047       1.000
  30   34     -2479.469       3.762       1.000
  31   35     -2479.503       3.950       1.000
  32   36     -2479.528       5.494       1.000
  33   37     -2479.536      14.576       1.000
  34   38     -2479.584       3.073       1.000
  35   39     -2479.590       2.569       1.000
  36   40     -2479.593       3.565       1.000
  37   41     -2479.603       2.248       1.000
  38   43     -2479.605       2.107       0.227
Final RAS Transform: 
0.983478 0.000619095 0.00653159 0.297011 
0.0035272 0.998306 0.00629217 0.105656 
-0.0161681 0.00150787 0.985534 0.343076 
0 0 0 1 

Final RAS Transform: 
0.983478 0.000619095 0.00653159 0.297011 
0.0035272 0.998306 0.00629217 0.105656 
-0.0161681 0.00150787 0.985534 0.343076 
0 0 0 1 


real	0m9.826s
user	0m17.196s
sys	0m0.520s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.679681
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1047
Level     0,  Iter     1:    Energy =   0.1118
Level     0,  Iter     2:    Energy =   0.1169
Level     0,  Iter     3:    Energy =   0.1213
Level     0,  Iter     4:    Energy =   0.1254
Level     0,  Iter     5:    Energy =   0.1291
Level     0,  Iter     6:    Energy =   0.1308
Level     0,  Iter     7:    Energy =   0.1319
Level     0,  Iter     8:    Energy =   0.1328
Level     0,  Iter     9:    Energy =   0.1336
Level     0,  Iter    10:    Energy =   0.1344
Level     0,  Iter    11:    Energy =   0.1350
Level     0,  Iter    12:    Energy =   0.1355
Level     0,  Iter    13:    Energy =   0.1360
Level     0,  Iter    14:    Energy =   0.1363
Level     0,  Iter    15:    Energy =   0.1367
Level     0,  Iter    16:    Energy =   0.1369
Level     0,  Iter    17:    Energy =   0.1372
Level     0,  Iter    18:    Energy =   0.1373
Level     0,  Iter    19:    Energy =   0.1376
Level     0,  Iter    20:    Energy =   0.1376
Level     0,  Iter    21:    Energy =   0.1379
Level     0,  Iter    22:    Energy =   0.1380
Level     0,  Iter    23:    Energy =   0.1383
Level     0,  Iter    24:    Energy =   0.1383
Level     0,  Iter    25:    Energy =   0.1386
Level     0,  Iter    26:    Energy =   0.1387
Level     0,  Iter    27:    Energy =   0.1390
Level     0,  Iter    28:    Energy =   0.1389
Level     0,  Iter    29:    Energy =   0.1392
Level     0,  Iter    30:    Energy =   0.1392
Level     0,  Iter    31:    Energy =   0.1395
Level     0,  Iter    32:    Energy =   0.1394
Level     0,  Iter    33:    Energy =   0.1396
Level     0,  Iter    34:    Energy =   0.1395
Level     0,  Iter    35:    Energy =   0.1398
Level     0,  Iter    36:    Energy =   0.1397
Level     0,  Iter    37:    Energy =   0.1400
Level     0,  Iter    38:    Energy =   0.1399
Level     0,  Iter    39:    Energy =   0.1401
Level     0,  Iter    40:    Energy =   0.1400
Level     0,  Iter    41:    Energy =   0.1402
Level     0,  Iter    42:    Energy =   0.1401
Level     0,  Iter    43:    Energy =   0.1403
Level     0,  Iter    44:    Energy =   0.1402
Level     0,  Iter    45:    Energy =   0.1404
Level     0,  Iter    46:    Energy =   0.1403
Level     0,  Iter    47:    Energy =   0.1405
Level     0,  Iter    48:    Energy =   0.1403
Level     0,  Iter    49:    Energy =   0.1405
Level     0,  Iter    50:    Energy =   0.1404
Level     0,  Iter    51:    Energy =   0.1406
Level     0,  Iter    52:    Energy =   0.1404
Level     0,  Iter    53:    Energy =   0.1407
Level     0,  Iter    54:    Energy =   0.1405
Level     0,  Iter    55:    Energy =   0.1407
Level     0,  Iter    56:    Energy =   0.1405
Level     0,  Iter    57:    Energy =   0.1408
Level     0,  Iter    58:    Energy =   0.1406
Level     0,  Iter    59:    Energy =   0.1408
END OF LEVEL     0    DetJac Range:   0.2082  to   1.8797 
  Avg. Gradient Time  : 0.0089s  34.34% 
  Avg. Gaussian Time  : 0.0131s  50.47% 
  Avg. Iteration Time : 0.0259s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0887
Level     1,  Iter     1:    Energy =   0.0935
Level     1,  Iter     2:    Energy =   0.0971
Level     1,  Iter     3:    Energy =   0.1002
Level     1,  Iter     4:    Energy =   0.1030
Level     1,  Iter     5:    Energy =   0.1055
Level     1,  Iter     6:    Energy =   0.1076
Level     1,  Iter     7:    Energy =   0.1092
Level     1,  Iter     8:    Energy =   0.1105
Level     1,  Iter     9:    Energy =   0.1119
Level     1,  Iter    10:    Energy =   0.1121
Level     1,  Iter    11:    Energy =   0.1127
Level     1,  Iter    12:    Energy =   0.1129
Level     1,  Iter    13:    Energy =   0.1134
Level     1,  Iter    14:    Energy =   0.1138
Level     1,  Iter    15:    Energy =   0.1141
Level     1,  Iter    16:    Energy =   0.1146
Level     1,  Iter    17:    Energy =   0.1146
Level     1,  Iter    18:    Energy =   0.1147
Level     1,  Iter    19:    Energy =   0.1154
Level     1,  Iter    20:    Energy =   0.1151
Level     1,  Iter    21:    Energy =   0.1157
Level     1,  Iter    22:    Energy =   0.1155
Level     1,  Iter    23:    Energy =   0.1157
Level     1,  Iter    24:    Energy =   0.1158
Level     1,  Iter    25:    Energy =   0.1158
Level     1,  Iter    26:    Energy =   0.1160
Level     1,  Iter    27:    Energy =   0.1162
Level     1,  Iter    28:    Energy =   0.1159
Level     1,  Iter    29:    Energy =   0.1165
Level     1,  Iter    30:    Energy =   0.1163
Level     1,  Iter    31:    Energy =   0.1165
Level     1,  Iter    32:    Energy =   0.1164
Level     1,  Iter    33:    Energy =   0.1169
Level     1,  Iter    34:    Energy =   0.1165
Level     1,  Iter    35:    Energy =   0.1171
Level     1,  Iter    36:    Energy =   0.1169
Level     1,  Iter    37:    Energy =   0.1171
Level     1,  Iter    38:    Energy =   0.1172
Level     1,  Iter    39:    Energy =   0.1171
Level     1,  Iter    40:    Energy =   0.1170
Level     1,  Iter    41:    Energy =   0.1174
Level     1,  Iter    42:    Energy =   0.1170
Level     1,  Iter    43:    Energy =   0.1177
Level     1,  Iter    44:    Energy =   0.1176
Level     1,  Iter    45:    Energy =   0.1175
Level     1,  Iter    46:    Energy =   0.1173
Level     1,  Iter    47:    Energy =   0.1179
Level     1,  Iter    48:    Energy =   0.1174
Level     1,  Iter    49:    Energy =   0.1181
Level     1,  Iter    50:    Energy =   0.1180
Level     1,  Iter    51:    Energy =   0.1178
Level     1,  Iter    52:    Energy =   0.1177
Level     1,  Iter    53:    Energy =   0.1181
Level     1,  Iter    54:    Energy =   0.1176
Level     1,  Iter    55:    Energy =   0.1183
Level     1,  Iter    56:    Energy =   0.1185
Level     1,  Iter    57:    Energy =   0.1182
Level     1,  Iter    58:    Energy =   0.1178
Level     1,  Iter    59:    Energy =   0.1185
END OF LEVEL     1    DetJac Range:   0.0859  to   3.4949 
  Avg. Gradient Time  : 0.0493s  32.78% 
  Avg. Gaussian Time  : 0.0817s  54.24% 
  Avg. Iteration Time : 0.1505s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0585
Level     2,  Iter     1:    Energy =   0.0611
Level     2,  Iter     2:    Energy =   0.0636
Level     2,  Iter     3:    Energy =   0.0658
Level     2,  Iter     4:    Energy =   0.0676
Level     2,  Iter     5:    Energy =   0.0689
Level     2,  Iter     6:    Energy =   0.0702
Level     2,  Iter     7:    Energy =   0.0714
Level     2,  Iter     8:    Energy =   0.0721
Level     2,  Iter     9:    Energy =   0.0729
Level     2,  Iter    10:    Energy =   0.0737
Level     2,  Iter    11:    Energy =   0.0747
Level     2,  Iter    12:    Energy =   0.0755
Level     2,  Iter    13:    Energy =   0.0763
Level     2,  Iter    14:    Energy =   0.0769
Level     2,  Iter    15:    Energy =   0.0775
Level     2,  Iter    16:    Energy =   0.0780
Level     2,  Iter    17:    Energy =   0.0781
Level     2,  Iter    18:    Energy =   0.0784
Level     2,  Iter    19:    Energy =   0.0787
END OF LEVEL     2    DetJac Range:   0.0463  to   5.0802 
  Avg. Gradient Time  : 0.3088s  29.99% 
  Avg. Gaussian Time  : 0.5822s  56.54% 
  Avg. Iteration Time : 1.0297s 

real	0m36.498s
user	1m5.748s
sys	0m2.320s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.442308 0.448077
+ echo 'CHUNK 0.442308 0.448077 1'
CHUNK 0.442308 0.448077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.442308 0.448077 1
====================================
         PROGRESS: 0.442308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.409406
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3144.19   GNORM= 591.613
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3254.914     209.851       0.001
   2    4     -3273.647     121.635       1.000
   3    5     -3284.764      66.544       1.000
   4    7     -3303.538      85.045       5.000
   5    8     -3330.826     105.253       1.000
   6    9     -3349.787      80.227       1.000
   7   11     -3352.388      56.667       0.233
   8   12     -3355.359      51.815       1.000
   9   13     -3361.227      45.795       1.000
  10   14     -3364.205      35.355       1.000
  11   15     -3367.419      44.041       1.000
  12   16     -3371.169      36.868       1.000
  13   17     -3372.074      24.639       1.000
  14   18     -3372.558      19.614       1.000
  15   20     -3372.962      10.974       0.281
  16   22     -3373.088      16.205       0.457
  17   23     -3373.265      15.809       1.000
  18   25     -3374.484      18.977       0.425
  19   26     -3374.883      22.053       1.000
  20   27     -3375.535      17.744       1.000
  21   29     -3376.203      13.868       0.387
  22   30     -3376.662      27.956       1.000
  23   31     -3376.806      27.402       1.000
  24   32     -3377.598      47.289       1.000
  25   33     -3378.506      24.190       1.000
  26   34     -3379.359      35.720       1.000
  27   35     -3379.647       9.758       1.000
  28   36     -3379.739       8.709       1.000
  29   37     -3379.770       5.449       1.000
  30   39     -3379.792      10.054       0.313
  31   40     -3379.818       7.416       1.000
  32   41     -3379.849      12.429       1.000
  33   43     -3379.902       8.735       5.000
  34   44     -3379.929       5.155       1.000
  35   45     -3379.949       4.723       1.000
  36   46     -3379.978       8.408       1.000
  37   47     -3380.020      12.349       1.000
  38   48     -3380.036       5.717       1.000
  39   49     -3380.059       5.039       1.000
  40   51     -3380.066       3.235       0.352
  41   52     -3380.069       2.349       1.000
  42   53     -3380.077       2.671       1.000
  43   54     -3380.078       5.027       1.000
  44   55     -3380.080       1.877       1.000
  45   59     -3380.083       1.495       0.592
  46   60     -3380.086       4.093       1.000
  47   61     -3380.094       2.358       1.000
Final RAS Transform: 
0.952124 0.021219 -0.0139006 1.05446 
-0.0333992 0.994235 -0.016445 0.547562 
0.0385302 -0.0185939 0.996307 -1.31147 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2320.04   GNORM= 98.9898
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2323.522      74.106       0.001
   2    4     -2325.988      68.561       1.000
   3    5     -2346.811      66.048       1.000
   4    6     -2369.496      83.767       1.000
   5    7     -2385.823      75.257       1.000
   6    9     -2388.395      57.421       0.258
   7   10     -2389.374     101.129       1.000
   8   11     -2391.654      29.291       1.000
   9   12     -2392.089      27.641       1.000
  10   13     -2393.132      37.945       1.000
  11   14     -2395.029      44.141       1.000
  12   15     -2396.100      19.099       1.000
  13   16     -2396.745      14.276       1.000
  14   17     -2397.511      23.929       1.000
  15   18     -2398.060      23.011       1.000
  16   19     -2398.226      11.288       1.000
  17   20     -2398.365       9.047       1.000
  18   21     -2398.603      14.923       1.000
  19   22     -2399.089      23.994       1.000
  20   23     -2399.548      42.894       1.000
  21   24     -2400.359      30.435       1.000
  22   26     -2400.632      10.757       0.393
  23   27     -2400.856       7.381       1.000
  24   29     -2400.940       6.147       0.384
  25   30     -2400.979       6.647       1.000
  26   31     -2401.067       7.001       1.000
  27   32     -2401.348      11.612       1.000
  28   34     -2401.390       9.871       0.107
  29   35     -2401.652      10.468       1.000
  30   37     -2402.434      17.438       0.521
  31   38     -2402.693      21.445       1.000
  32   39     -2402.999       8.722       1.000
  33   40     -2403.077       4.453       1.000
  34   41     -2403.106      11.305       1.000
  35   42     -2403.148      12.308       1.000
  36   43     -2403.230      16.742       1.000
  37   44     -2403.324       8.272       1.000
  38   45     -2403.400       8.651       1.000
  39   46     -2403.506       4.435       1.000
  40   48     -2403.587      16.264       0.308
  41   49     -2403.639       9.077       1.000
  42   50     -2403.676       3.336       1.000
  43   51     -2403.727       3.381       1.000
  44   52     -2403.778       7.137       1.000
  45   53     -2403.809       4.799       1.000
  46   54     -2403.824       3.130       1.000
  47   56     -2403.830       3.217       0.276
  48   57     -2403.831       5.044       1.000
  49   58     -2403.844       1.417       1.000
Final RAS Transform: 
0.949621 0.00904475 -0.0105238 0.995782 
-0.0229905 0.975974 -0.0308595 0.0257785 
0.0109155 0.00522436 1.00842 -0.247106 
0 0 0 1 

Final RAS Transform: 
0.949621 0.00904475 -0.0105238 0.995782 
-0.0229905 0.975974 -0.0308595 0.0257785 
0.0109155 0.00522436 1.00842 -0.247106 
0 0 0 1 


real	0m9.902s
user	0m17.408s
sys	0m0.480s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.410094
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0976
Level     0,  Iter     1:    Energy =   0.1051
Level     0,  Iter     2:    Energy =   0.1100
Level     0,  Iter     3:    Energy =   0.1149
Level     0,  Iter     4:    Energy =   0.1196
Level     0,  Iter     5:    Energy =   0.1223
Level     0,  Iter     6:    Energy =   0.1237
Level     0,  Iter     7:    Energy =   0.1246
Level     0,  Iter     8:    Energy =   0.1259
Level     0,  Iter     9:    Energy =   0.1264
Level     0,  Iter    10:    Energy =   0.1277
Level     0,  Iter    11:    Energy =   0.1280
Level     0,  Iter    12:    Energy =   0.1289
Level     0,  Iter    13:    Energy =   0.1290
Level     0,  Iter    14:    Energy =   0.1296
Level     0,  Iter    15:    Energy =   0.1296
Level     0,  Iter    16:    Energy =   0.1301
Level     0,  Iter    17:    Energy =   0.1300
Level     0,  Iter    18:    Energy =   0.1302
Level     0,  Iter    19:    Energy =   0.1303
Level     0,  Iter    20:    Energy =   0.1305
Level     0,  Iter    21:    Energy =   0.1305
Level     0,  Iter    22:    Energy =   0.1305
Level     0,  Iter    23:    Energy =   0.1306
Level     0,  Iter    24:    Energy =   0.1309
Level     0,  Iter    25:    Energy =   0.1309
Level     0,  Iter    26:    Energy =   0.1309
Level     0,  Iter    27:    Energy =   0.1309
Level     0,  Iter    28:    Energy =   0.1313
Level     0,  Iter    29:    Energy =   0.1312
Level     0,  Iter    30:    Energy =   0.1312
Level     0,  Iter    31:    Energy =   0.1313
Level     0,  Iter    32:    Energy =   0.1316
Level     0,  Iter    33:    Energy =   0.1315
Level     0,  Iter    34:    Energy =   0.1314
Level     0,  Iter    35:    Energy =   0.1314
Level     0,  Iter    36:    Energy =   0.1316
Level     0,  Iter    37:    Energy =   0.1315
Level     0,  Iter    38:    Energy =   0.1316
Level     0,  Iter    39:    Energy =   0.1316
Level     0,  Iter    40:    Energy =   0.1320
Level     0,  Iter    41:    Energy =   0.1318
Level     0,  Iter    42:    Energy =   0.1317
Level     0,  Iter    43:    Energy =   0.1316
Level     0,  Iter    44:    Energy =   0.1318
Level     0,  Iter    45:    Energy =   0.1317
Level     0,  Iter    46:    Energy =   0.1318
Level     0,  Iter    47:    Energy =   0.1318
Level     0,  Iter    48:    Energy =   0.1321
Level     0,  Iter    49:    Energy =   0.1320
Level     0,  Iter    50:    Energy =   0.1320
Level     0,  Iter    51:    Energy =   0.1320
Level     0,  Iter    52:    Energy =   0.1325
Level     0,  Iter    53:    Energy =   0.1322
Level     0,  Iter    54:    Energy =   0.1320
Level     0,  Iter    55:    Energy =   0.1319
Level     0,  Iter    56:    Energy =   0.1321
Level     0,  Iter    57:    Energy =   0.1320
Level     0,  Iter    58:    Energy =   0.1322
Level     0,  Iter    59:    Energy =   0.1321
END OF LEVEL     0    DetJac Range:   0.2098  to   1.7786 
  Avg. Gradient Time  : 0.0088s  34.51% 
  Avg. Gaussian Time  : 0.0128s  50.17% 
  Avg. Iteration Time : 0.0256s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0863
Level     1,  Iter     1:    Energy =   0.0904
Level     1,  Iter     2:    Energy =   0.0939
Level     1,  Iter     3:    Energy =   0.0977
Level     1,  Iter     4:    Energy =   0.1008
Level     1,  Iter     5:    Energy =   0.1034
Level     1,  Iter     6:    Energy =   0.1055
Level     1,  Iter     7:    Energy =   0.1073
Level     1,  Iter     8:    Energy =   0.1085
Level     1,  Iter     9:    Energy =   0.1092
Level     1,  Iter    10:    Energy =   0.1099
Level     1,  Iter    11:    Energy =   0.1101
Level     1,  Iter    12:    Energy =   0.1107
Level     1,  Iter    13:    Energy =   0.1108
Level     1,  Iter    14:    Energy =   0.1111
Level     1,  Iter    15:    Energy =   0.1112
Level     1,  Iter    16:    Energy =   0.1114
Level     1,  Iter    17:    Energy =   0.1116
Level     1,  Iter    18:    Energy =   0.1117
Level     1,  Iter    19:    Energy =   0.1119
Level     1,  Iter    20:    Energy =   0.1120
Level     1,  Iter    21:    Energy =   0.1122
Level     1,  Iter    22:    Energy =   0.1123
Level     1,  Iter    23:    Energy =   0.1124
Level     1,  Iter    24:    Energy =   0.1125
Level     1,  Iter    25:    Energy =   0.1126
Level     1,  Iter    26:    Energy =   0.1128
Level     1,  Iter    27:    Energy =   0.1128
Level     1,  Iter    28:    Energy =   0.1130
Level     1,  Iter    29:    Energy =   0.1130
Level     1,  Iter    30:    Energy =   0.1132
Level     1,  Iter    31:    Energy =   0.1132
Level     1,  Iter    32:    Energy =   0.1134
Level     1,  Iter    33:    Energy =   0.1134
Level     1,  Iter    34:    Energy =   0.1136
Level     1,  Iter    35:    Energy =   0.1135
Level     1,  Iter    36:    Energy =   0.1138
Level     1,  Iter    37:    Energy =   0.1137
Level     1,  Iter    38:    Energy =   0.1139
Level     1,  Iter    39:    Energy =   0.1138
Level     1,  Iter    40:    Energy =   0.1140
Level     1,  Iter    41:    Energy =   0.1140
Level     1,  Iter    42:    Energy =   0.1141
Level     1,  Iter    43:    Energy =   0.1140
Level     1,  Iter    44:    Energy =   0.1141
Level     1,  Iter    45:    Energy =   0.1141
Level     1,  Iter    46:    Energy =   0.1142
Level     1,  Iter    47:    Energy =   0.1142
Level     1,  Iter    48:    Energy =   0.1142
Level     1,  Iter    49:    Energy =   0.1142
Level     1,  Iter    50:    Energy =   0.1143
Level     1,  Iter    51:    Energy =   0.1142
Level     1,  Iter    52:    Energy =   0.1143
Level     1,  Iter    53:    Energy =   0.1143
Level     1,  Iter    54:    Energy =   0.1144
Level     1,  Iter    55:    Energy =   0.1144
Level     1,  Iter    56:    Energy =   0.1144
Level     1,  Iter    57:    Energy =   0.1145
Level     1,  Iter    58:    Energy =   0.1144
Level     1,  Iter    59:    Energy =   0.1146
END OF LEVEL     1    DetJac Range:   0.0953  to   2.8038 
  Avg. Gradient Time  : 0.0491s  32.60% 
  Avg. Gaussian Time  : 0.0819s  54.39% 
  Avg. Iteration Time : 0.1505s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0550
Level     2,  Iter     1:    Energy =   0.0575
Level     2,  Iter     2:    Energy =   0.0597
Level     2,  Iter     3:    Energy =   0.0619
Level     2,  Iter     4:    Energy =   0.0638
Level     2,  Iter     5:    Energy =   0.0653
Level     2,  Iter     6:    Energy =   0.0666
Level     2,  Iter     7:    Energy =   0.0678
Level     2,  Iter     8:    Energy =   0.0689
Level     2,  Iter     9:    Energy =   0.0698
Level     2,  Iter    10:    Energy =   0.0707
Level     2,  Iter    11:    Energy =   0.0715
Level     2,  Iter    12:    Energy =   0.0723
Level     2,  Iter    13:    Energy =   0.0730
Level     2,  Iter    14:    Energy =   0.0736
Level     2,  Iter    15:    Energy =   0.0740
Level     2,  Iter    16:    Energy =   0.0744
Level     2,  Iter    17:    Energy =   0.0747
Level     2,  Iter    18:    Energy =   0.0750
Level     2,  Iter    19:    Energy =   0.0753
END OF LEVEL     2    DetJac Range:   0.0645  to   5.0917 
  Avg. Gradient Time  : 0.3143s  26.48% 
  Avg. Gaussian Time  : 0.7318s  61.64% 
  Avg. Iteration Time : 1.1872s 

real	0m39.599s
user	1m11.848s
sys	0m2.400s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.448077 0.453846
+ echo 'CHUNK 0.448077 0.453846 1'
CHUNK 0.448077 0.453846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.448077 0.453846 1
====================================
         PROGRESS: 0.448077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.634007
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3760.17   GNORM= 605.294
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3842.371     186.921       0.000
   2    4     -3855.162     148.976       1.000
   3    5     -3892.362      97.434       1.000
   4    6     -3916.965     189.997       1.000
   5    7     -3937.773     123.227       1.000
   6    8     -3956.432      69.113       1.000
   7    9     -3962.769     126.325       1.000
   8   10     -3966.178     104.756       1.000
   9   11     -3969.641      54.463       1.000
  10   12     -3973.182      50.121       1.000
  11   13     -3977.623      51.999       1.000
  12   14     -3981.202     116.383       1.000
  13   15     -3989.196      86.350       1.000
  14   16     -3994.788      34.373       1.000
  15   17     -3996.000      29.043       1.000
  16   18     -3996.600      25.360       1.000
  17   19     -3997.157      23.111       1.000
  18   20     -3997.838      22.527       1.000
  19   21     -3999.071      21.032       1.000
  20   22     -3999.780      32.031       1.000
  21   23     -4000.445      34.317       1.000
  22   24     -4001.441      29.680       1.000
  23   26     -4003.119      44.374       0.440
  24   27     -4003.945      13.685       1.000
  25   28     -4004.184      13.624       1.000
  26   29     -4004.573      10.801       1.000
  27   30     -4004.743      13.133       1.000
  28   31     -4004.955       7.494       1.000
  29   33     -4005.090      14.883       0.431
  30   34     -4005.222      17.741       1.000
  31   36     -4005.304      15.202       0.299
  32   37     -4005.383       9.765       1.000
  33   38     -4005.439       9.519       1.000
  34   39     -4005.566       6.575       1.000
  35   40     -4005.570      11.395       1.000
  36   41     -4005.685       4.452       1.000
  37   43     -4005.718       3.185       0.334
  38   44     -4005.733       6.374       1.000
  39   45     -4005.753      10.640       1.000
  40   46     -4005.779       4.655       1.000
  41   49     -4005.876      16.820       3.174
  42   53     -4005.891      15.204       0.094
  43   54     -4005.926      13.058       1.000
  44   55     -4005.946      12.254       1.000
  45   56     -4005.970       4.592       1.000
  46   57     -4005.980       3.522       1.000
  47   58     -4005.986       4.484       1.000
  48   61     -4005.986       2.559       0.706
Final RAS Transform: 
0.967261 0.00393321 -0.0462169 0.563335 
-0.064793 1.00173 -0.004378 0.695672 
0.0297379 -0.00382142 0.982945 -0.614999 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2508.06   GNORM= 153.403
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2514.179      53.019       0.000
   2    4     -2515.549      38.488       1.000
   3    5     -2516.689      23.138       1.000
   4    6     -2517.815      31.434       1.000
   5    7     -2520.598      43.369       1.000
   6    8     -2526.358      89.501       1.000
   7    9     -2531.705      75.208       1.000
   8   10     -2533.748      85.168       1.000
   9   11     -2536.187      21.169       1.000
  10   12     -2536.478      14.779       1.000
  11   13     -2537.044      16.245       1.000
  12   14     -2538.370      39.799       1.000
  13   15     -2540.040      40.110       1.000
  14   16     -2541.752      22.620       1.000
  15   17     -2542.921      21.254       1.000
  16   18     -2543.684      47.027       1.000
  17   19     -2544.741      33.435       1.000
  18   20     -2546.746      63.270       1.000
  19   21     -2548.680      33.940       1.000
  20   22     -2550.350      10.519       1.000
  21   23     -2550.668      10.849       1.000
  22   24     -2551.263      11.793       1.000
  23   26     -2551.772      38.586       0.338
  24   27     -2552.802      19.690       1.000
  25   28     -2553.257      11.659       1.000
  26   29     -2553.307      16.471       1.000
  27   30     -2553.425       7.703       1.000
  28   31     -2553.472       6.433       1.000
  29   32     -2553.541      11.286       1.000
  30   33     -2553.659      10.494       1.000
  31   34     -2553.785       6.644       1.000
  32   35     -2553.879       5.679       1.000
  33   36     -2554.037      11.296       1.000
  34   37     -2554.211       8.673       1.000
  35   39     -2554.274       8.880       0.381
  36   40     -2554.354       4.337       1.000
  37   41     -2554.443       8.946       1.000
  38   42     -2554.504      21.234       1.000
  39   43     -2554.642      14.646       1.000
  40   44     -2554.783       8.761       1.000
  41   45     -2554.807       5.930       1.000
  42   46     -2554.847       3.223       1.000
  43   47     -2554.882      16.437       1.000
  44   48     -2554.912      11.365       1.000
  45   49     -2554.992       3.809       1.000
  46   50     -2555.084       4.432       1.000
  47   51     -2555.163       4.853       1.000
  48   53     -2555.191       8.708       0.253
  49   54     -2555.266       5.219       1.000
  50   55     -2555.322       6.860       1.000
  51   57     -2555.330      10.441       0.157
  52   58     -2555.382       4.995       1.000
  53   60     -2555.401       2.676       0.441
  54   61     -2555.408       3.746       1.000
Final RAS Transform: 
0.976503 0.00967688 -0.0159158 0.634866 
-0.026964 0.991173 -0.0119465 0.0471741 
0.0111475 0.00324778 0.99205 -0.103259 
0 0 0 1 

Final RAS Transform: 
0.976503 0.00967688 -0.0159158 0.634866 
-0.026964 0.991173 -0.0119465 0.0471741 
0.0111475 0.00324778 0.99205 -0.103259 
0 0 0 1 


real	0m11.171s
user	0m19.648s
sys	0m0.508s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.624117
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1134
Level     0,  Iter     1:    Energy =   0.1207
Level     0,  Iter     2:    Energy =   0.1250
Level     0,  Iter     3:    Energy =   0.1288
Level     0,  Iter     4:    Energy =   0.1333
Level     0,  Iter     5:    Energy =   0.1364
Level     0,  Iter     6:    Energy =   0.1379
Level     0,  Iter     7:    Energy =   0.1386
Level     0,  Iter     8:    Energy =   0.1397
Level     0,  Iter     9:    Energy =   0.1402
Level     0,  Iter    10:    Energy =   0.1410
Level     0,  Iter    11:    Energy =   0.1413
Level     0,  Iter    12:    Energy =   0.1415
Level     0,  Iter    13:    Energy =   0.1417
Level     0,  Iter    14:    Energy =   0.1420
Level     0,  Iter    15:    Energy =   0.1419
Level     0,  Iter    16:    Energy =   0.1425
Level     0,  Iter    17:    Energy =   0.1427
Level     0,  Iter    18:    Energy =   0.1430
Level     0,  Iter    19:    Energy =   0.1429
Level     0,  Iter    20:    Energy =   0.1433
Level     0,  Iter    21:    Energy =   0.1432
Level     0,  Iter    22:    Energy =   0.1436
Level     0,  Iter    23:    Energy =   0.1434
Level     0,  Iter    24:    Energy =   0.1440
Level     0,  Iter    25:    Energy =   0.1438
Level     0,  Iter    26:    Energy =   0.1443
Level     0,  Iter    27:    Energy =   0.1440
Level     0,  Iter    28:    Energy =   0.1443
Level     0,  Iter    29:    Energy =   0.1440
Level     0,  Iter    30:    Energy =   0.1444
Level     0,  Iter    31:    Energy =   0.1441
Level     0,  Iter    32:    Energy =   0.1446
Level     0,  Iter    33:    Energy =   0.1442
Level     0,  Iter    34:    Energy =   0.1448
Level     0,  Iter    35:    Energy =   0.1444
Level     0,  Iter    36:    Energy =   0.1449
Level     0,  Iter    37:    Energy =   0.1445
Level     0,  Iter    38:    Energy =   0.1449
Level     0,  Iter    39:    Energy =   0.1445
Level     0,  Iter    40:    Energy =   0.1449
Level     0,  Iter    41:    Energy =   0.1445
Level     0,  Iter    42:    Energy =   0.1450
Level     0,  Iter    43:    Energy =   0.1446
Level     0,  Iter    44:    Energy =   0.1452
Level     0,  Iter    45:    Energy =   0.1448
Level     0,  Iter    46:    Energy =   0.1453
Level     0,  Iter    47:    Energy =   0.1449
Level     0,  Iter    48:    Energy =   0.1454
Level     0,  Iter    49:    Energy =   0.1450
Level     0,  Iter    50:    Energy =   0.1453
Level     0,  Iter    51:    Energy =   0.1450
Level     0,  Iter    52:    Energy =   0.1453
Level     0,  Iter    53:    Energy =   0.1449
Level     0,  Iter    54:    Energy =   0.1453
Level     0,  Iter    55:    Energy =   0.1449
Level     0,  Iter    56:    Energy =   0.1453
Level     0,  Iter    57:    Energy =   0.1449
Level     0,  Iter    58:    Energy =   0.1454
Level     0,  Iter    59:    Energy =   0.1450
END OF LEVEL     0    DetJac Range:   0.4429  to   2.0328 
  Avg. Gradient Time  : 0.0089s  34.38% 
  Avg. Gaussian Time  : 0.0130s  50.37% 
  Avg. Iteration Time : 0.0258s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0894
Level     1,  Iter     1:    Energy =   0.0938
Level     1,  Iter     2:    Energy =   0.0979
Level     1,  Iter     3:    Energy =   0.1021
Level     1,  Iter     4:    Energy =   0.1059
Level     1,  Iter     5:    Energy =   0.1083
Level     1,  Iter     6:    Energy =   0.1104
Level     1,  Iter     7:    Energy =   0.1119
Level     1,  Iter     8:    Energy =   0.1132
Level     1,  Iter     9:    Energy =   0.1133
Level     1,  Iter    10:    Energy =   0.1145
Level     1,  Iter    11:    Energy =   0.1146
Level     1,  Iter    12:    Energy =   0.1155
Level     1,  Iter    13:    Energy =   0.1155
Level     1,  Iter    14:    Energy =   0.1163
Level     1,  Iter    15:    Energy =   0.1162
Level     1,  Iter    16:    Energy =   0.1167
Level     1,  Iter    17:    Energy =   0.1167
Level     1,  Iter    18:    Energy =   0.1171
Level     1,  Iter    19:    Energy =   0.1170
Level     1,  Iter    20:    Energy =   0.1174
Level     1,  Iter    21:    Energy =   0.1174
Level     1,  Iter    22:    Energy =   0.1177
Level     1,  Iter    23:    Energy =   0.1177
Level     1,  Iter    24:    Energy =   0.1179
Level     1,  Iter    25:    Energy =   0.1179
Level     1,  Iter    26:    Energy =   0.1181
Level     1,  Iter    27:    Energy =   0.1181
Level     1,  Iter    28:    Energy =   0.1183
Level     1,  Iter    29:    Energy =   0.1183
Level     1,  Iter    30:    Energy =   0.1185
Level     1,  Iter    31:    Energy =   0.1185
Level     1,  Iter    32:    Energy =   0.1186
Level     1,  Iter    33:    Energy =   0.1186
Level     1,  Iter    34:    Energy =   0.1188
Level     1,  Iter    35:    Energy =   0.1187
Level     1,  Iter    36:    Energy =   0.1189
Level     1,  Iter    37:    Energy =   0.1189
Level     1,  Iter    38:    Energy =   0.1190
Level     1,  Iter    39:    Energy =   0.1190
Level     1,  Iter    40:    Energy =   0.1192
Level     1,  Iter    41:    Energy =   0.1191
Level     1,  Iter    42:    Energy =   0.1192
Level     1,  Iter    43:    Energy =   0.1192
Level     1,  Iter    44:    Energy =   0.1193
Level     1,  Iter    45:    Energy =   0.1193
Level     1,  Iter    46:    Energy =   0.1193
Level     1,  Iter    47:    Energy =   0.1194
Level     1,  Iter    48:    Energy =   0.1194
Level     1,  Iter    49:    Energy =   0.1195
Level     1,  Iter    50:    Energy =   0.1195
Level     1,  Iter    51:    Energy =   0.1195
Level     1,  Iter    52:    Energy =   0.1195
Level     1,  Iter    53:    Energy =   0.1196
Level     1,  Iter    54:    Energy =   0.1196
Level     1,  Iter    55:    Energy =   0.1196
Level     1,  Iter    56:    Energy =   0.1197
Level     1,  Iter    57:    Energy =   0.1197
Level     1,  Iter    58:    Energy =   0.1198
Level     1,  Iter    59:    Energy =   0.1197
END OF LEVEL     1    DetJac Range:   0.1348  to   3.0729 
  Avg. Gradient Time  : 0.0493s  32.74% 
  Avg. Gaussian Time  : 0.0816s  54.24% 
  Avg. Iteration Time : 0.1505s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0578
Level     2,  Iter     1:    Energy =   0.0607
Level     2,  Iter     2:    Energy =   0.0629
Level     2,  Iter     3:    Energy =   0.0647
Level     2,  Iter     4:    Energy =   0.0665
Level     2,  Iter     5:    Energy =   0.0680
Level     2,  Iter     6:    Energy =   0.0697
Level     2,  Iter     7:    Energy =   0.0711
Level     2,  Iter     8:    Energy =   0.0724
Level     2,  Iter     9:    Energy =   0.0739
Level     2,  Iter    10:    Energy =   0.0751
Level     2,  Iter    11:    Energy =   0.0761
Level     2,  Iter    12:    Energy =   0.0770
Level     2,  Iter    13:    Energy =   0.0776
Level     2,  Iter    14:    Energy =   0.0776
Level     2,  Iter    15:    Energy =   0.0779
Level     2,  Iter    16:    Energy =   0.0779
Level     2,  Iter    17:    Energy =   0.0782
Level     2,  Iter    18:    Energy =   0.0782
Level     2,  Iter    19:    Energy =   0.0784
END OF LEVEL     2    DetJac Range:   0.0713  to   5.0106 
  Avg. Gradient Time  : 0.3457s  27.12% 
  Avg. Gaussian Time  : 0.7708s  60.46% 
  Avg. Iteration Time : 1.2749s 

real	0m41.776s
user	1m15.872s
sys	0m2.472s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.453846 0.459615
+ echo 'CHUNK 0.453846 0.459615 1'
CHUNK 0.453846 0.459615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.453846 0.459615 1
====================================
         PROGRESS: 0.453846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.479351
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2978.74   GNORM= 505.41
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3069.908     160.831       0.001
   2    4     -3084.844     116.605       1.000
   3    5     -3106.447      77.355       1.000
   4    6     -3121.478     115.484       1.000
   5    7     -3155.606     140.641       1.000
   6    8     -3172.830     101.903       1.000
   7    9     -3184.559      76.819       1.000
   8   10     -3189.150      87.714       1.000
   9   11     -3191.411      42.153       1.000
  10   12     -3194.941      44.265       1.000
  11   13     -3199.194      66.063       1.000
  12   14     -3202.804      64.369       1.000
  13   15     -3209.503      40.967       1.000
  14   16     -3210.749      15.712       1.000
  15   17     -3210.877      14.319       1.000
  16   18     -3211.172      11.764       1.000
  17   19     -3211.713      36.795       1.000
  18   20     -3212.262      18.382       1.000
  19   21     -3212.974      15.879       1.000
  20   22     -3213.302      38.474       1.000
  21   23     -3213.626      11.569       1.000
  22   24     -3213.931      14.541       1.000
  23   25     -3214.261      16.649       1.000
  24   27     -3214.643      18.426       0.514
  25   28     -3214.943      14.973       1.000
  26   29     -3215.313       6.009       1.000
  27   30     -3215.409       6.781       1.000
  28   31     -3215.505      12.412       1.000
  29   32     -3215.575       6.107       1.000
  30   33     -3215.608      12.232       1.000
  31   34     -3215.645       4.251       1.000
  32   35     -3215.673       3.134       1.000
  33   36     -3215.718       5.172       1.000
  34   37     -3215.733       5.680       1.000
  35   38     -3215.753       4.217       1.000
  36   40     -3215.759       2.567       0.326
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.949642 0.0280354 -0.00978129 1.43823 
-0.0478982 0.987678 -0.0067459 0.232311 
0.0207188 -0.000573398 0.982259 -0.403997 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2319.62   GNORM= 82.6506
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2326.002      26.130       0.002
   2    4     -2326.496      41.380       1.000
   3    5     -2327.154      28.790       1.000
   4    6     -2329.458      57.176       1.000
   5    7     -2331.651      65.547       1.000
   6    8     -2342.449      88.806       1.000
   7   10     -2343.887      69.233       0.281
   8   11     -2345.214      20.926       1.000
   9   12     -2345.577      14.636       1.000
  10   13     -2346.030      27.246       1.000
  11   14     -2346.561      34.978       1.000
  12   15     -2348.329      45.649       1.000
  13   16     -2348.719      70.115       1.000
  14   17     -2350.084      21.434       1.000
  15   18     -2350.358      14.202       1.000
  16   19     -2350.733      24.268       1.000
  17   20     -2351.574      39.280       1.000
  18   21     -2352.799      45.405       1.000
  19   22     -2353.419      33.901       1.000
  20   23     -2354.092      12.709       1.000
  21   24     -2354.248       6.249       1.000
  22   25     -2354.340       6.906       1.000
  23   26     -2354.545      16.063       1.000
  24   27     -2354.758      32.809       1.000
  25   28     -2355.204      14.672       1.000
  26   29     -2355.578       9.441       1.000
  27   30     -2355.744       9.323       1.000
  28   31     -2355.835       9.964       1.000
  29   32     -2355.934       8.377       1.000
  30   33     -2356.342       6.416       1.000
  31   35     -2356.416      18.552       0.341
  32   36     -2356.524      13.927       1.000
  33   37     -2356.832       9.422       1.000
  34   39     -2357.003       8.753       0.479
  35   40     -2357.103       5.996       1.000
  36   41     -2357.181       5.764       1.000
  37   42     -2357.291      10.322       1.000
  38   44     -2357.338       5.212       0.350
  39   45     -2357.363       3.506       1.000
  40   46     -2357.386       3.244       1.000
  41   47     -2357.427       8.379       1.000
  42   48     -2357.477       7.928       1.000
  43   49     -2357.550       9.442       1.000
  44   50     -2357.627       3.963       1.000
  45   51     -2357.656       3.373       1.000
  46   52     -2357.702       4.720       1.000
  47   53     -2357.821      11.984       1.000
  48   55     -2357.844       9.169       0.183
  49   56     -2357.921       5.027       1.000
  50   57     -2357.939       4.742       1.000
  51   58     -2357.940       1.601       1.000
  52   59     -2357.941       1.443       1.000
  53   60     -2357.947       1.419       1.000
  54   61     -2357.948       1.550       1.000
Final RAS Transform: 
0.977388 0.0308244 0.00770706 1.24396 
-0.0715531 0.976895 -0.0353124 0.27301 
0.0116048 0.00590606 0.989649 -0.0783996 
0 0 0 1 

Final RAS Transform: 
0.977388 0.0308244 0.00770706 1.24396 
-0.0715531 0.976895 -0.0353124 0.27301 
0.0116048 0.00590606 0.989649 -0.0783996 
0 0 0 1 


real	0m10.547s
user	0m18.516s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.477926
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0928
Level     0,  Iter     1:    Energy =   0.0982
Level     0,  Iter     2:    Energy =   0.1036
Level     0,  Iter     3:    Energy =   0.1077
Level     0,  Iter     4:    Energy =   0.1121
Level     0,  Iter     5:    Energy =   0.1150
Level     0,  Iter     6:    Energy =   0.1167
Level     0,  Iter     7:    Energy =   0.1178
Level     0,  Iter     8:    Energy =   0.1192
Level     0,  Iter     9:    Energy =   0.1196
Level     0,  Iter    10:    Energy =   0.1207
Level     0,  Iter    11:    Energy =   0.1209
Level     0,  Iter    12:    Energy =   0.1216
Level     0,  Iter    13:    Energy =   0.1217
Level     0,  Iter    14:    Energy =   0.1222
Level     0,  Iter    15:    Energy =   0.1222
Level     0,  Iter    16:    Energy =   0.1226
Level     0,  Iter    17:    Energy =   0.1226
Level     0,  Iter    18:    Energy =   0.1230
Level     0,  Iter    19:    Energy =   0.1230
Level     0,  Iter    20:    Energy =   0.1234
Level     0,  Iter    21:    Energy =   0.1233
Level     0,  Iter    22:    Energy =   0.1237
Level     0,  Iter    23:    Energy =   0.1237
Level     0,  Iter    24:    Energy =   0.1240
Level     0,  Iter    25:    Energy =   0.1239
Level     0,  Iter    26:    Energy =   0.1242
Level     0,  Iter    27:    Energy =   0.1241
Level     0,  Iter    28:    Energy =   0.1244
Level     0,  Iter    29:    Energy =   0.1244
Level     0,  Iter    30:    Energy =   0.1247
Level     0,  Iter    31:    Energy =   0.1246
Level     0,  Iter    32:    Energy =   0.1250
Level     0,  Iter    33:    Energy =   0.1248
Level     0,  Iter    34:    Energy =   0.1252
Level     0,  Iter    35:    Energy =   0.1251
Level     0,  Iter    36:    Energy =   0.1254
Level     0,  Iter    37:    Energy =   0.1253
Level     0,  Iter    38:    Energy =   0.1257
Level     0,  Iter    39:    Energy =   0.1255
Level     0,  Iter    40:    Energy =   0.1259
Level     0,  Iter    41:    Energy =   0.1256
Level     0,  Iter    42:    Energy =   0.1260
Level     0,  Iter    43:    Energy =   0.1258
Level     0,  Iter    44:    Energy =   0.1261
Level     0,  Iter    45:    Energy =   0.1258
Level     0,  Iter    46:    Energy =   0.1262
Level     0,  Iter    47:    Energy =   0.1259
Level     0,  Iter    48:    Energy =   0.1262
Level     0,  Iter    49:    Energy =   0.1259
Level     0,  Iter    50:    Energy =   0.1263
Level     0,  Iter    51:    Energy =   0.1259
Level     0,  Iter    52:    Energy =   0.1263
Level     0,  Iter    53:    Energy =   0.1260
Level     0,  Iter    54:    Energy =   0.1263
Level     0,  Iter    55:    Energy =   0.1260
Level     0,  Iter    56:    Energy =   0.1263
Level     0,  Iter    57:    Energy =   0.1260
Level     0,  Iter    58:    Energy =   0.1264
Level     0,  Iter    59:    Energy =   0.1261
END OF LEVEL     0    DetJac Range:   0.2104  to   2.3173 
  Avg. Gradient Time  : 0.0077s  34.60% 
  Avg. Gaussian Time  : 0.0110s  49.90% 
  Avg. Iteration Time : 0.0221s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0830
Level     1,  Iter     1:    Energy =   0.0872
Level     1,  Iter     2:    Energy =   0.0912
Level     1,  Iter     3:    Energy =   0.0952
Level     1,  Iter     4:    Energy =   0.0976
Level     1,  Iter     5:    Energy =   0.0998
Level     1,  Iter     6:    Energy =   0.1014
Level     1,  Iter     7:    Energy =   0.1031
Level     1,  Iter     8:    Energy =   0.1048
Level     1,  Iter     9:    Energy =   0.1061
Level     1,  Iter    10:    Energy =   0.1070
Level     1,  Iter    11:    Energy =   0.1078
Level     1,  Iter    12:    Energy =   0.1082
Level     1,  Iter    13:    Energy =   0.1084
Level     1,  Iter    14:    Energy =   0.1086
Level     1,  Iter    15:    Energy =   0.1089
Level     1,  Iter    16:    Energy =   0.1090
Level     1,  Iter    17:    Energy =   0.1092
Level     1,  Iter    18:    Energy =   0.1094
Level     1,  Iter    19:    Energy =   0.1097
Level     1,  Iter    20:    Energy =   0.1098
Level     1,  Iter    21:    Energy =   0.1099
Level     1,  Iter    22:    Energy =   0.1099
Level     1,  Iter    23:    Energy =   0.1100
Level     1,  Iter    24:    Energy =   0.1101
Level     1,  Iter    25:    Energy =   0.1102
Level     1,  Iter    26:    Energy =   0.1102
Level     1,  Iter    27:    Energy =   0.1103
Level     1,  Iter    28:    Energy =   0.1104
Level     1,  Iter    29:    Energy =   0.1105
Level     1,  Iter    30:    Energy =   0.1105
Level     1,  Iter    31:    Energy =   0.1106
Level     1,  Iter    32:    Energy =   0.1107
Level     1,  Iter    33:    Energy =   0.1108
Level     1,  Iter    34:    Energy =   0.1108
Level     1,  Iter    35:    Energy =   0.1109
Level     1,  Iter    36:    Energy =   0.1110
Level     1,  Iter    37:    Energy =   0.1110
Level     1,  Iter    38:    Energy =   0.1111
Level     1,  Iter    39:    Energy =   0.1111
Level     1,  Iter    40:    Energy =   0.1112
Level     1,  Iter    41:    Energy =   0.1113
Level     1,  Iter    42:    Energy =   0.1113
Level     1,  Iter    43:    Energy =   0.1113
Level     1,  Iter    44:    Energy =   0.1113
Level     1,  Iter    45:    Energy =   0.1114
Level     1,  Iter    46:    Energy =   0.1113
Level     1,  Iter    47:    Energy =   0.1114
Level     1,  Iter    48:    Energy =   0.1114
Level     1,  Iter    49:    Energy =   0.1114
Level     1,  Iter    50:    Energy =   0.1114
Level     1,  Iter    51:    Energy =   0.1114
Level     1,  Iter    52:    Energy =   0.1115
Level     1,  Iter    53:    Energy =   0.1115
Level     1,  Iter    54:    Energy =   0.1115
Level     1,  Iter    55:    Energy =   0.1116
Level     1,  Iter    56:    Energy =   0.1116
Level     1,  Iter    57:    Energy =   0.1116
Level     1,  Iter    58:    Energy =   0.1116
Level     1,  Iter    59:    Energy =   0.1116
END OF LEVEL     1    DetJac Range:   0.0905  to   3.1621 
  Avg. Gradient Time  : 0.0433s  32.82% 
  Avg. Gaussian Time  : 0.0716s  54.32% 
  Avg. Iteration Time : 0.1318s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0544
Level     2,  Iter     1:    Energy =   0.0568
Level     2,  Iter     2:    Energy =   0.0592
Level     2,  Iter     3:    Energy =   0.0612
Level     2,  Iter     4:    Energy =   0.0629
Level     2,  Iter     5:    Energy =   0.0643
Level     2,  Iter     6:    Energy =   0.0656
Level     2,  Iter     7:    Energy =   0.0667
Level     2,  Iter     8:    Energy =   0.0677
Level     2,  Iter     9:    Energy =   0.0686
Level     2,  Iter    10:    Energy =   0.0695
Level     2,  Iter    11:    Energy =   0.0702
Level     2,  Iter    12:    Energy =   0.0709
Level     2,  Iter    13:    Energy =   0.0714
Level     2,  Iter    14:    Energy =   0.0719
Level     2,  Iter    15:    Energy =   0.0724
Level     2,  Iter    16:    Energy =   0.0727
Level     2,  Iter    17:    Energy =   0.0731
Level     2,  Iter    18:    Energy =   0.0734
Level     2,  Iter    19:    Energy =   0.0736
END OF LEVEL     2    DetJac Range:   0.0865  to   4.6119 
  Avg. Gradient Time  : 0.3067s  26.88% 
  Avg. Gaussian Time  : 0.6966s  61.04% 
  Avg. Iteration Time : 1.1412s 

real	0m37.057s
user	1m7.372s
sys	0m2.060s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.459615 0.465385
+ echo 'CHUNK 0.459615 0.465385 1'
CHUNK 0.459615 0.465385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.459615 0.465385 1
====================================
         PROGRESS: 0.459615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.477857
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3004.26   GNORM= 316.268
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3032.999      99.866       0.001
   2    4     -3038.726      97.690       1.000
   3    5     -3060.336     128.625       1.000
   4    6     -3081.150     144.513       1.000
   5    7     -3129.202      99.821       1.000
   6    8     -3158.118      97.653       1.000
   7    9     -3177.136      73.686       1.000
   8   10     -3206.705      53.407       1.000
   9   11     -3210.229     110.580       1.000
  10   12     -3215.642      28.768       1.000
  11   13     -3216.548      34.601       1.000
  12   14     -3218.286      28.219       1.000
  13   15     -3219.929      28.178       1.000
  14   16     -3220.539      17.036       1.000
  15   17     -3220.834      12.438       1.000
  16   18     -3221.001      13.451       1.000
  17   19     -3221.342      34.607       1.000
  18   20     -3221.787       9.566       1.000
  19   21     -3221.886      10.219       1.000
  20   22     -3222.196      15.380       1.000
  21   23     -3222.759      19.389       1.000
  22   24     -3223.123       7.134       1.000
  23   25     -3223.285      14.147       1.000
  24   26     -3223.528      16.597       1.000
  25   28     -3223.807      12.872       0.496
  26   29     -3224.002      11.827       1.000
  27   31     -3224.207      10.131       0.430
  28   32     -3224.429       7.456       1.000
  29   34     -3224.496       6.101       0.367
  30   35     -3224.520       4.407       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.919824 0.00937764 -0.0374072 1.68999 
-0.0380348 1.00128 -0.0339137 0.787644 
0.0401723 -0.00806854 1.02138 -0.923046 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2201.64   GNORM= 59.2322
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2203.352      52.450       0.001
   2    4     -2204.639      43.447       1.000
   3    5     -2208.632      38.368       1.000
   4    6     -2212.616      52.682       1.000
   5    7     -2225.637      94.885       1.000
   6    8     -2234.276      75.901       1.000
   7   10     -2236.159     106.535       0.228
   8   11     -2240.455      61.063       1.000
   9   12     -2242.371      20.231       1.000
  10   13     -2242.855      24.034       1.000
  11   14     -2244.673      38.047       1.000
  12   15     -2248.544      52.977       1.000
  13   16     -2253.108      52.539       1.000
  14   18     -2254.460      32.335       0.425
  15   19     -2255.537      13.929       1.000
  16   20     -2255.774      11.367       1.000
  17   21     -2256.067       7.913       1.000
  18   22     -2256.258       6.809       1.000
  19   23     -2256.438       9.937       1.000
  20   24     -2256.639       7.360       1.000
  21   26     -2256.740       5.709       0.429
  22   27     -2256.793      11.008       1.000
  23   28     -2256.865       9.559       1.000
  24   29     -2257.020      32.148       1.000
  25   30     -2257.305       6.700       1.000
  26   31     -2257.330       4.531       1.000
  27   32     -2257.346       3.155       1.000
  28   33     -2257.362       1.667       1.000
  29   35     -2257.364       1.846       0.262
  30   37     -2257.367       1.452       0.223
  31   38     -2257.370       3.282       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.934344 -0.00756358 -0.0615071 0.798896 
-0.0376121 0.988914 -0.0301614 0.561785 
0.0252982 0.0162014 1.05073 0.243729 
0 0 0 1 

Final RAS Transform: 
0.934344 -0.00756358 -0.0615071 0.798896 
-0.0376121 0.988914 -0.0301614 0.561785 
0.0252982 0.0162014 1.05073 0.243729 
0 0 0 1 


real	0m10.703s
user	0m18.744s
sys	0m0.552s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.481099
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0912
Level     0,  Iter     1:    Energy =   0.0982
Level     0,  Iter     2:    Energy =   0.1048
Level     0,  Iter     3:    Energy =   0.1092
Level     0,  Iter     4:    Energy =   0.1141
Level     0,  Iter     5:    Energy =   0.1169
Level     0,  Iter     6:    Energy =   0.1193
Level     0,  Iter     7:    Energy =   0.1202
Level     0,  Iter     8:    Energy =   0.1221
Level     0,  Iter     9:    Energy =   0.1226
Level     0,  Iter    10:    Energy =   0.1242
Level     0,  Iter    11:    Energy =   0.1244
Level     0,  Iter    12:    Energy =   0.1256
Level     0,  Iter    13:    Energy =   0.1257
Level     0,  Iter    14:    Energy =   0.1267
Level     0,  Iter    15:    Energy =   0.1267
Level     0,  Iter    16:    Energy =   0.1277
Level     0,  Iter    17:    Energy =   0.1275
Level     0,  Iter    18:    Energy =   0.1285
Level     0,  Iter    19:    Energy =   0.1283
Level     0,  Iter    20:    Energy =   0.1290
Level     0,  Iter    21:    Energy =   0.1288
Level     0,  Iter    22:    Energy =   0.1294
Level     0,  Iter    23:    Energy =   0.1291
Level     0,  Iter    24:    Energy =   0.1299
Level     0,  Iter    25:    Energy =   0.1294
Level     0,  Iter    26:    Energy =   0.1296
Level     0,  Iter    27:    Energy =   0.1293
Level     0,  Iter    28:    Energy =   0.1300
Level     0,  Iter    29:    Energy =   0.1296
Level     0,  Iter    30:    Energy =   0.1300
Level     0,  Iter    31:    Energy =   0.1297
Level     0,  Iter    32:    Energy =   0.1305
Level     0,  Iter    33:    Energy =   0.1300
Level     0,  Iter    34:    Energy =   0.1303
Level     0,  Iter    35:    Energy =   0.1300
Level     0,  Iter    36:    Energy =   0.1307
Level     0,  Iter    37:    Energy =   0.1303
Level     0,  Iter    38:    Energy =   0.1305
Level     0,  Iter    39:    Energy =   0.1302
Level     0,  Iter    40:    Energy =   0.1310
Level     0,  Iter    41:    Energy =   0.1305
Level     0,  Iter    42:    Energy =   0.1307
Level     0,  Iter    43:    Energy =   0.1304
Level     0,  Iter    44:    Energy =   0.1311
Level     0,  Iter    45:    Energy =   0.1305
Level     0,  Iter    46:    Energy =   0.1307
Level     0,  Iter    47:    Energy =   0.1303
Level     0,  Iter    48:    Energy =   0.1311
Level     0,  Iter    49:    Energy =   0.1305
Level     0,  Iter    50:    Energy =   0.1308
Level     0,  Iter    51:    Energy =   0.1304
Level     0,  Iter    52:    Energy =   0.1312
Level     0,  Iter    53:    Energy =   0.1306
Level     0,  Iter    54:    Energy =   0.1308
Level     0,  Iter    55:    Energy =   0.1304
Level     0,  Iter    56:    Energy =   0.1312
Level     0,  Iter    57:    Energy =   0.1306
Level     0,  Iter    58:    Energy =   0.1308
Level     0,  Iter    59:    Energy =   0.1305
END OF LEVEL     0    DetJac Range:   0.1470  to   2.7685 
  Avg. Gradient Time  : 0.0087s  34.92% 
  Avg. Gaussian Time  : 0.0123s  49.42% 
  Avg. Iteration Time : 0.0250s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0835
Level     1,  Iter     1:    Energy =   0.0879
Level     1,  Iter     2:    Energy =   0.0914
Level     1,  Iter     3:    Energy =   0.0945
Level     1,  Iter     4:    Energy =   0.0973
Level     1,  Iter     5:    Energy =   0.0998
Level     1,  Iter     6:    Energy =   0.1015
Level     1,  Iter     7:    Energy =   0.1027
Level     1,  Iter     8:    Energy =   0.1037
Level     1,  Iter     9:    Energy =   0.1047
Level     1,  Iter    10:    Energy =   0.1056
Level     1,  Iter    11:    Energy =   0.1064
Level     1,  Iter    12:    Energy =   0.1071
Level     1,  Iter    13:    Energy =   0.1079
Level     1,  Iter    14:    Energy =   0.1085
Level     1,  Iter    15:    Energy =   0.1090
Level     1,  Iter    16:    Energy =   0.1094
Level     1,  Iter    17:    Energy =   0.1094
Level     1,  Iter    18:    Energy =   0.1097
Level     1,  Iter    19:    Energy =   0.1097
Level     1,  Iter    20:    Energy =   0.1100
Level     1,  Iter    21:    Energy =   0.1099
Level     1,  Iter    22:    Energy =   0.1102
Level     1,  Iter    23:    Energy =   0.1101
Level     1,  Iter    24:    Energy =   0.1105
Level     1,  Iter    25:    Energy =   0.1103
Level     1,  Iter    26:    Energy =   0.1107
Level     1,  Iter    27:    Energy =   0.1106
Level     1,  Iter    28:    Energy =   0.1109
Level     1,  Iter    29:    Energy =   0.1107
Level     1,  Iter    30:    Energy =   0.1111
Level     1,  Iter    31:    Energy =   0.1110
Level     1,  Iter    32:    Energy =   0.1112
Level     1,  Iter    33:    Energy =   0.1110
Level     1,  Iter    34:    Energy =   0.1114
Level     1,  Iter    35:    Energy =   0.1113
Level     1,  Iter    36:    Energy =   0.1115
Level     1,  Iter    37:    Energy =   0.1113
Level     1,  Iter    38:    Energy =   0.1115
Level     1,  Iter    39:    Energy =   0.1114
Level     1,  Iter    40:    Energy =   0.1116
Level     1,  Iter    41:    Energy =   0.1114
Level     1,  Iter    42:    Energy =   0.1117
Level     1,  Iter    43:    Energy =   0.1115
Level     1,  Iter    44:    Energy =   0.1117
Level     1,  Iter    45:    Energy =   0.1115
Level     1,  Iter    46:    Energy =   0.1118
Level     1,  Iter    47:    Energy =   0.1116
Level     1,  Iter    48:    Energy =   0.1119
Level     1,  Iter    49:    Energy =   0.1116
Level     1,  Iter    50:    Energy =   0.1119
Level     1,  Iter    51:    Energy =   0.1117
Level     1,  Iter    52:    Energy =   0.1120
Level     1,  Iter    53:    Energy =   0.1117
Level     1,  Iter    54:    Energy =   0.1120
Level     1,  Iter    55:    Energy =   0.1118
Level     1,  Iter    56:    Energy =   0.1120
Level     1,  Iter    57:    Energy =   0.1117
Level     1,  Iter    58:    Energy =   0.1121
Level     1,  Iter    59:    Energy =   0.1119
END OF LEVEL     1    DetJac Range:   0.1117  to   4.3289 
  Avg. Gradient Time  : 0.0490s  32.62% 
  Avg. Gaussian Time  : 0.0817s  54.35% 
  Avg. Iteration Time : 0.1503s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0529
Level     2,  Iter     1:    Energy =   0.0555
Level     2,  Iter     2:    Energy =   0.0581
Level     2,  Iter     3:    Energy =   0.0601
Level     2,  Iter     4:    Energy =   0.0616
Level     2,  Iter     5:    Energy =   0.0628
Level     2,  Iter     6:    Energy =   0.0639
Level     2,  Iter     7:    Energy =   0.0649
Level     2,  Iter     8:    Energy =   0.0658
Level     2,  Iter     9:    Energy =   0.0667
Level     2,  Iter    10:    Energy =   0.0676
Level     2,  Iter    11:    Energy =   0.0684
Level     2,  Iter    12:    Energy =   0.0690
Level     2,  Iter    13:    Energy =   0.0696
Level     2,  Iter    14:    Energy =   0.0702
Level     2,  Iter    15:    Energy =   0.0706
Level     2,  Iter    16:    Energy =   0.0711
Level     2,  Iter    17:    Energy =   0.0714
Level     2,  Iter    18:    Energy =   0.0718
Level     2,  Iter    19:    Energy =   0.0721
END OF LEVEL     2    DetJac Range:   0.0741  to   5.1591 
  Avg. Gradient Time  : 0.3145s  26.74% 
  Avg. Gaussian Time  : 0.7207s  61.29% 
  Avg. Iteration Time : 1.1758s 

real	0m39.512s
user	1m11.728s
sys	0m2.268s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.465385 0.471154
+ echo 'CHUNK 0.465385 0.471154 1'
CHUNK 0.465385 0.471154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.465385 0.471154 1
====================================
         PROGRESS: 0.465385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 021 right 0
+ local tid=021
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.693105
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3162.51   GNORM= 540.843
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3237.014     124.838       0.000
   2    4     -3244.847     123.190       1.000
   3    5     -3274.194     212.053       1.000
   4    6     -3332.356     278.579       1.000
   5    7     -3374.337     358.287       1.000
   6    8     -3409.902     129.226       1.000
   7    9     -3427.446      59.194       1.000
   8   10     -3437.203      91.390       1.000
   9   11     -3446.738      63.326       1.000
  10   12     -3461.709      78.739       1.000
  11   13     -3485.256      65.601       1.000
  12   15     -3489.890      63.386       0.360
  13   16     -3494.026      32.236       1.000
  14   17     -3495.171      47.434       1.000
  15   18     -3496.470      26.509       1.000
  16   19     -3497.325      31.562       1.000
  17   20     -3498.422      35.418       1.000
  18   21     -3499.513      46.502       1.000
  19   22     -3500.293      20.529       1.000
  20   23     -3500.660      18.539       1.000
  21   24     -3501.030      15.461       1.000
  22   25     -3501.403      14.567       1.000
  23   26     -3501.782      10.408       1.000
  24   27     -3501.902      17.723       1.000
  25   28     -3501.944      22.409       1.000
  26   29     -3502.068       8.465       1.000
  27   30     -3502.080       7.177       1.000
  28   31     -3502.094       5.436       1.000
  29   32     -3502.100       6.605       1.000
  30   33     -3502.120       3.794       1.000
  31   34     -3502.155       2.802       1.000
  32   35     -3502.203       7.972       1.000
  33   36     -3502.241       7.310       1.000
  34   37     -3502.262       7.192       1.000
  35   38     -3502.380       7.002       1.000
  36   40     -3502.484       7.141       0.480
  37   42     -3502.525       5.714       0.452
  38   44     -3502.532       7.757       0.250
  39   45     -3502.546       7.478       1.000
  40   46     -3502.564       5.664       1.000
  41   48     -3502.582       3.471       0.443
Final RAS Transform: 
0.929252 0.00971697 -0.0619435 1.68047 
-0.0166244 0.976714 -0.0595697 -0.224811 
0.0286068 0.00708059 1.03071 -0.510249 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2235.74   GNORM= 274.745
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2269.101     155.651       0.001
   2    4     -2281.076      60.242       1.000
   3    5     -2284.351      41.267       1.000
   4    6     -2288.083      56.951       1.000
   5    7     -2294.006      86.518       1.000
   6    8     -2302.620      74.037       1.000
   7   10     -2303.618      62.896       0.156
   8   11     -2307.147      28.796       1.000
   9   12     -2308.697      15.878       1.000
  10   13     -2309.708      18.510       1.000
  11   14     -2310.144      10.300       1.000
  12   15     -2310.303       8.344       1.000
  13   17     -2310.414       6.718       0.515
  14   19     -2310.516      22.062       0.423
  15   20     -2310.705      15.837       1.000
  16   21     -2311.035      10.733       1.000
  17   22     -2311.262      16.123       1.000
  18   23     -2311.469       7.387       1.000
  19   24     -2311.543       4.302       1.000
  20   25     -2311.588       5.685       1.000
  21   26     -2311.626       4.025       1.000
  22   27     -2311.673       4.522       1.000
  23   28     -2311.716       7.317       1.000
  24   29     -2311.731       6.274       1.000
  25   30     -2311.763       8.022       1.000
  26   31     -2311.812       4.889       1.000
  27   32     -2311.844       1.579       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.937496 -0.000425779 -0.0543871 1.05001 
-0.0186325 0.976598 -0.0528926 -0.241502 
0.023868 0.0160968 1.04347 -0.103273 
0 0 0 1 

Final RAS Transform: 
0.937496 -0.000425779 -0.0543871 1.05001 
-0.0186325 0.976598 -0.0528926 -0.241502 
0.023868 0.0160968 1.04347 -0.103273 
0 0 0 1 


real	0m9.902s
user	0m17.112s
sys	0m0.532s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.689578
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0983
Level     0,  Iter     1:    Energy =   0.1058
Level     0,  Iter     2:    Energy =   0.1114
Level     0,  Iter     3:    Energy =   0.1173
Level     0,  Iter     4:    Energy =   0.1196
Level     0,  Iter     5:    Energy =   0.1217
Level     0,  Iter     6:    Energy =   0.1227
Level     0,  Iter     7:    Energy =   0.1247
Level     0,  Iter     8:    Energy =   0.1253
Level     0,  Iter     9:    Energy =   0.1271
Level     0,  Iter    10:    Energy =   0.1277
Level     0,  Iter    11:    Energy =   0.1293
Level     0,  Iter    12:    Energy =   0.1292
Level     0,  Iter    13:    Energy =   0.1295
Level     0,  Iter    14:    Energy =   0.1296
Level     0,  Iter    15:    Energy =   0.1300
Level     0,  Iter    16:    Energy =   0.1302
Level     0,  Iter    17:    Energy =   0.1311
Level     0,  Iter    18:    Energy =   0.1314
Level     0,  Iter    19:    Energy =   0.1325
Level     0,  Iter    20:    Energy =   0.1324
Level     0,  Iter    21:    Energy =   0.1325
Level     0,  Iter    22:    Energy =   0.1324
Level     0,  Iter    23:    Energy =   0.1327
Level     0,  Iter    24:    Energy =   0.1328
Level     0,  Iter    25:    Energy =   0.1340
Level     0,  Iter    26:    Energy =   0.1337
Level     0,  Iter    27:    Energy =   0.1334
Level     0,  Iter    28:    Energy =   0.1332
Level     0,  Iter    29:    Energy =   0.1332
Level     0,  Iter    30:    Energy =   0.1334
Level     0,  Iter    31:    Energy =   0.1345
Level     0,  Iter    32:    Energy =   0.1342
Level     0,  Iter    33:    Energy =   0.1337
Level     0,  Iter    34:    Energy =   0.1336
Level     0,  Iter    35:    Energy =   0.1337
Level     0,  Iter    36:    Energy =   0.1338
Level     0,  Iter    37:    Energy =   0.1350
Level     0,  Iter    38:    Energy =   0.1345
Level     0,  Iter    39:    Energy =   0.1341
Level     0,  Iter    40:    Energy =   0.1337
Level     0,  Iter    41:    Energy =   0.1336
Level     0,  Iter    42:    Energy =   0.1336
Level     0,  Iter    43:    Energy =   0.1341
Level     0,  Iter    44:    Energy =   0.1343
Level     0,  Iter    45:    Energy =   0.1355
Level     0,  Iter    46:    Energy =   0.1349
Level     0,  Iter    47:    Energy =   0.1345
Level     0,  Iter    48:    Energy =   0.1341
Level     0,  Iter    49:    Energy =   0.1340
Level     0,  Iter    50:    Energy =   0.1340
Level     0,  Iter    51:    Energy =   0.1344
Level     0,  Iter    52:    Energy =   0.1347
Level     0,  Iter    53:    Energy =   0.1356
Level     0,  Iter    54:    Energy =   0.1352
Level     0,  Iter    55:    Energy =   0.1348
Level     0,  Iter    56:    Energy =   0.1345
Level     0,  Iter    57:    Energy =   0.1345
Level     0,  Iter    58:    Energy =   0.1346
Level     0,  Iter    59:    Energy =   0.1352
END OF LEVEL     0    DetJac Range:   0.1973  to   2.3373 
  Avg. Gradient Time  : 0.0076s  34.96% 
  Avg. Gaussian Time  : 0.0107s  49.28% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0833
Level     1,  Iter     1:    Energy =   0.0870
Level     1,  Iter     2:    Energy =   0.0897
Level     1,  Iter     3:    Energy =   0.0924
Level     1,  Iter     4:    Energy =   0.0948
Level     1,  Iter     5:    Energy =   0.0972
Level     1,  Iter     6:    Energy =   0.0996
Level     1,  Iter     7:    Energy =   0.1016
Level     1,  Iter     8:    Energy =   0.1033
Level     1,  Iter     9:    Energy =   0.1048
Level     1,  Iter    10:    Energy =   0.1062
Level     1,  Iter    11:    Energy =   0.1074
Level     1,  Iter    12:    Energy =   0.1078
Level     1,  Iter    13:    Energy =   0.1087
Level     1,  Iter    14:    Energy =   0.1085
Level     1,  Iter    15:    Energy =   0.1093
Level     1,  Iter    16:    Energy =   0.1093
Level     1,  Iter    17:    Energy =   0.1098
Level     1,  Iter    18:    Energy =   0.1095
Level     1,  Iter    19:    Energy =   0.1102
Level     1,  Iter    20:    Energy =   0.1101
Level     1,  Iter    21:    Energy =   0.1106
Level     1,  Iter    22:    Energy =   0.1102
Level     1,  Iter    23:    Energy =   0.1109
Level     1,  Iter    24:    Energy =   0.1108
Level     1,  Iter    25:    Energy =   0.1112
Level     1,  Iter    26:    Energy =   0.1109
Level     1,  Iter    27:    Energy =   0.1115
Level     1,  Iter    28:    Energy =   0.1113
Level     1,  Iter    29:    Energy =   0.1118
Level     1,  Iter    30:    Energy =   0.1114
Level     1,  Iter    31:    Energy =   0.1120
Level     1,  Iter    32:    Energy =   0.1119
Level     1,  Iter    33:    Energy =   0.1122
Level     1,  Iter    34:    Energy =   0.1118
Level     1,  Iter    35:    Energy =   0.1123
Level     1,  Iter    36:    Energy =   0.1121
Level     1,  Iter    37:    Energy =   0.1125
Level     1,  Iter    38:    Energy =   0.1121
Level     1,  Iter    39:    Energy =   0.1127
Level     1,  Iter    40:    Energy =   0.1125
Level     1,  Iter    41:    Energy =   0.1128
Level     1,  Iter    42:    Energy =   0.1124
Level     1,  Iter    43:    Energy =   0.1129
Level     1,  Iter    44:    Energy =   0.1127
Level     1,  Iter    45:    Energy =   0.1131
Level     1,  Iter    46:    Energy =   0.1127
Level     1,  Iter    47:    Energy =   0.1132
Level     1,  Iter    48:    Energy =   0.1129
Level     1,  Iter    49:    Energy =   0.1133
Level     1,  Iter    50:    Energy =   0.1130
Level     1,  Iter    51:    Energy =   0.1134
Level     1,  Iter    52:    Energy =   0.1131
Level     1,  Iter    53:    Energy =   0.1135
Level     1,  Iter    54:    Energy =   0.1132
Level     1,  Iter    55:    Energy =   0.1136
Level     1,  Iter    56:    Energy =   0.1132
Level     1,  Iter    57:    Energy =   0.1137
Level     1,  Iter    58:    Energy =   0.1134
Level     1,  Iter    59:    Energy =   0.1138
END OF LEVEL     1    DetJac Range:   0.1304  to   3.2265 
  Avg. Gradient Time  : 0.0434s  32.80% 
  Avg. Gaussian Time  : 0.0719s  54.34% 
  Avg. Iteration Time : 0.1323s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0548
Level     2,  Iter     1:    Energy =   0.0569
Level     2,  Iter     2:    Energy =   0.0589
Level     2,  Iter     3:    Energy =   0.0607
Level     2,  Iter     4:    Energy =   0.0626
Level     2,  Iter     5:    Energy =   0.0642
Level     2,  Iter     6:    Energy =   0.0657
Level     2,  Iter     7:    Energy =   0.0665
Level     2,  Iter     8:    Energy =   0.0670
Level     2,  Iter     9:    Energy =   0.0672
Level     2,  Iter    10:    Energy =   0.0675
Level     2,  Iter    11:    Energy =   0.0678
Level     2,  Iter    12:    Energy =   0.0683
Level     2,  Iter    13:    Energy =   0.0688
Level     2,  Iter    14:    Energy =   0.0695
Level     2,  Iter    15:    Energy =   0.0704
Level     2,  Iter    16:    Energy =   0.0711
Level     2,  Iter    17:    Energy =   0.0717
Level     2,  Iter    18:    Energy =   0.0725
Level     2,  Iter    19:    Energy =   0.0730
END OF LEVEL     2    DetJac Range:   0.0673  to   3.8857 
  Avg. Gradient Time  : 0.3047s  26.84% 
  Avg. Gaussian Time  : 0.6926s  61.00% 
  Avg. Iteration Time : 1.1354s 

real	0m36.937s
user	1m7.100s
sys	0m2.100s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.471154 0.476923
+ echo 'CHUNK 0.471154 0.476923 1'
CHUNK 0.471154 0.476923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.471154 0.476923 1
====================================
         PROGRESS: 0.471154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 022 right 0
+ local tid=022
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.601767
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3480.09   GNORM= 367.322
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3544.017     291.328       0.001
   2    4     -3572.225     112.705       1.000
   3    5     -3580.060     109.710       1.000
   4    6     -3615.226     116.406       1.000
   5    7     -3641.663     197.539       1.000
   6    8     -3679.694     156.837       1.000
   7    9     -3703.073     148.803       1.000
   8   10     -3713.735      74.177       1.000
   9   11     -3717.511      79.113       1.000
  10   12     -3721.874      68.299       1.000
  11   13     -3738.445      91.146       1.000
  12   15     -3741.952      60.414       0.398
  13   16     -3743.717      34.964       1.000
  14   17     -3745.319      25.975       1.000
  15   19     -3746.096      49.040       0.360
  16   20     -3747.460      37.038       1.000
  17   21     -3750.318      27.148       1.000
  18   23     -3750.896      22.053       0.455
  19   24     -3751.154      19.389       1.000
  20   25     -3751.613      14.439       1.000
  21   26     -3752.026      12.957       1.000
  22   28     -3752.084      18.664       0.249
  23   29     -3752.230      12.657       1.000
  24   30     -3752.301      14.867       1.000
  25   31     -3752.471       5.594       1.000
  26   32     -3752.529       5.152       1.000
  27   33     -3752.688      18.225       1.000
  28   34     -3752.774      28.448       1.000
  29   36     -3752.809      20.105       0.269
  30   37     -3752.844       7.373       1.000
  31   38     -3752.877      16.121       1.000
  32   40     -3752.930       6.761       0.459
  33   41     -3752.944       5.018       1.000
  34   43     -3752.981       4.514       0.410
  35   44     -3753.062      12.038       1.000
  36   45     -3753.115       3.765       1.000
  37   46     -3753.116       5.778       1.000
  38   47     -3753.146       3.549       1.000
  39   49     -3753.148       3.145       0.159
  40   50     -3753.155       4.570       1.000
  41   51     -3753.166       4.253       1.000
  42   53     -3753.178       2.063       0.393
  43   55     -3753.178       2.845       0.216
  44   57     -3753.180       3.489       0.279
Final RAS Transform: 
0.938632 0.0213233 -0.0150206 1.39573 
-0.00630209 1.02449 0.0794704 0.644278 
0.0197337 -0.0135086 0.960575 -0.503064 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2524.4   GNORM= 59.208
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2525.423      28.652       0.001
   2    4     -2525.953      29.122       1.000
   3    5     -2527.097      33.398       1.000
   4    6     -2528.360      33.072       1.000
   5    7     -2536.938      57.339       1.000
   6    8     -2540.735      66.875       1.000
   7    9     -2542.819     115.756       1.000
   8   10     -2545.576      39.075       1.000
   9   11     -2546.365      13.282       1.000
  10   12     -2546.632      14.434       1.000
  11   13     -2547.415      50.948       1.000
  12   14     -2548.461      35.591       1.000
  13   15     -2550.273      20.488       1.000
  14   16     -2550.650      27.982       1.000
  15   17     -2551.046      24.738       1.000
  16   18     -2551.636      14.563       1.000
  17   19     -2552.387      24.763       1.000
  18   20     -2552.797      14.166       1.000
  19   21     -2552.883       6.743       1.000
  20   22     -2552.958       9.419       1.000
  21   23     -2553.073      24.099       1.000
  22   24     -2553.238      19.187       1.000
  23   25     -2553.804      26.396       1.000
  24   26     -2554.092       9.057       1.000
  25   27     -2554.119       5.499       1.000
  26   28     -2554.154       5.984       1.000
  27   29     -2554.231       5.499       1.000
  28   31     -2554.271       8.317       0.361
  29   32     -2554.300       4.863       1.000
  30   33     -2554.317       5.412       1.000
  31   34     -2554.347       3.531       1.000
  32   35     -2554.379       3.597       1.000
  33   37     -2554.390       5.901       0.272
  34   38     -2554.414       5.655       1.000
  35   39     -2554.462       4.757       1.000
  36   40     -2554.473       2.742       1.000
  37   41     -2554.492       6.752       1.000
  38   42     -2554.507       6.859       1.000
  39   43     -2554.552       8.704       1.000
  40   44     -2554.601       5.540       1.000
  41   45     -2554.641       2.998       1.000
  42   46     -2554.665       2.534       1.000
Final RAS Transform: 
0.956958 0.0117433 -0.0102169 0.937266 
-0.0186224 1.03004 0.0760986 0.944846 
-0.00440184 -0.015594 0.946594 -0.141192 
0 0 0 1 

Final RAS Transform: 
0.956958 0.0117433 -0.0102169 0.937266 
-0.0186224 1.03004 0.0760986 0.944846 
-0.00440184 -0.015594 0.946594 -0.141192 
0 0 0 1 


real	0m10.682s
user	0m18.728s
sys	0m0.496s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.603918
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1093
Level     0,  Iter     1:    Energy =   0.1173
Level     0,  Iter     2:    Energy =   0.1240
Level     0,  Iter     3:    Energy =   0.1288
Level     0,  Iter     4:    Energy =   0.1327
Level     0,  Iter     5:    Energy =   0.1354
Level     0,  Iter     6:    Energy =   0.1375
Level     0,  Iter     7:    Energy =   0.1386
Level     0,  Iter     8:    Energy =   0.1399
Level     0,  Iter     9:    Energy =   0.1405
Level     0,  Iter    10:    Energy =   0.1410
Level     0,  Iter    11:    Energy =   0.1415
Level     0,  Iter    12:    Energy =   0.1417
Level     0,  Iter    13:    Energy =   0.1421
Level     0,  Iter    14:    Energy =   0.1422
Level     0,  Iter    15:    Energy =   0.1425
Level     0,  Iter    16:    Energy =   0.1426
Level     0,  Iter    17:    Energy =   0.1428
Level     0,  Iter    18:    Energy =   0.1428
Level     0,  Iter    19:    Energy =   0.1430
Level     0,  Iter    20:    Energy =   0.1429
Level     0,  Iter    21:    Energy =   0.1432
Level     0,  Iter    22:    Energy =   0.1430
Level     0,  Iter    23:    Energy =   0.1433
Level     0,  Iter    24:    Energy =   0.1431
Level     0,  Iter    25:    Energy =   0.1434
Level     0,  Iter    26:    Energy =   0.1432
Level     0,  Iter    27:    Energy =   0.1435
Level     0,  Iter    28:    Energy =   0.1433
Level     0,  Iter    29:    Energy =   0.1435
Level     0,  Iter    30:    Energy =   0.1434
Level     0,  Iter    31:    Energy =   0.1436
Level     0,  Iter    32:    Energy =   0.1434
Level     0,  Iter    33:    Energy =   0.1437
Level     0,  Iter    34:    Energy =   0.1434
Level     0,  Iter    35:    Energy =   0.1437
Level     0,  Iter    36:    Energy =   0.1434
Level     0,  Iter    37:    Energy =   0.1437
Level     0,  Iter    38:    Energy =   0.1435
Level     0,  Iter    39:    Energy =   0.1437
Level     0,  Iter    40:    Energy =   0.1435
Level     0,  Iter    41:    Energy =   0.1438
Level     0,  Iter    42:    Energy =   0.1436
Level     0,  Iter    43:    Energy =   0.1438
Level     0,  Iter    44:    Energy =   0.1436
Level     0,  Iter    45:    Energy =   0.1439
Level     0,  Iter    46:    Energy =   0.1437
Level     0,  Iter    47:    Energy =   0.1440
Level     0,  Iter    48:    Energy =   0.1438
Level     0,  Iter    49:    Energy =   0.1441
Level     0,  Iter    50:    Energy =   0.1439
Level     0,  Iter    51:    Energy =   0.1442
Level     0,  Iter    52:    Energy =   0.1439
Level     0,  Iter    53:    Energy =   0.1442
Level     0,  Iter    54:    Energy =   0.1440
Level     0,  Iter    55:    Energy =   0.1442
Level     0,  Iter    56:    Energy =   0.1440
Level     0,  Iter    57:    Energy =   0.1442
Level     0,  Iter    58:    Energy =   0.1440
Level     0,  Iter    59:    Energy =   0.1443
END OF LEVEL     0    DetJac Range:   0.3426  to   1.9476 
  Avg. Gradient Time  : 0.0088s  34.68% 
  Avg. Gaussian Time  : 0.0126s  49.83% 
  Avg. Iteration Time : 0.0253s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0914
Level     1,  Iter     1:    Energy =   0.0962
Level     1,  Iter     2:    Energy =   0.1003
Level     1,  Iter     3:    Energy =   0.1039
Level     1,  Iter     4:    Energy =   0.1071
Level     1,  Iter     5:    Energy =   0.1093
Level     1,  Iter     6:    Energy =   0.1115
Level     1,  Iter     7:    Energy =   0.1131
Level     1,  Iter     8:    Energy =   0.1148
Level     1,  Iter     9:    Energy =   0.1160
Level     1,  Iter    10:    Energy =   0.1164
Level     1,  Iter    11:    Energy =   0.1168
Level     1,  Iter    12:    Energy =   0.1169
Level     1,  Iter    13:    Energy =   0.1174
Level     1,  Iter    14:    Energy =   0.1174
Level     1,  Iter    15:    Energy =   0.1180
Level     1,  Iter    16:    Energy =   0.1179
Level     1,  Iter    17:    Energy =   0.1185
Level     1,  Iter    18:    Energy =   0.1184
Level     1,  Iter    19:    Energy =   0.1189
Level     1,  Iter    20:    Energy =   0.1188
Level     1,  Iter    21:    Energy =   0.1194
Level     1,  Iter    22:    Energy =   0.1191
Level     1,  Iter    23:    Energy =   0.1195
Level     1,  Iter    24:    Energy =   0.1195
Level     1,  Iter    25:    Energy =   0.1196
Level     1,  Iter    26:    Energy =   0.1196
Level     1,  Iter    27:    Energy =   0.1197
Level     1,  Iter    28:    Energy =   0.1196
Level     1,  Iter    29:    Energy =   0.1198
Level     1,  Iter    30:    Energy =   0.1198
Level     1,  Iter    31:    Energy =   0.1199
Level     1,  Iter    32:    Energy =   0.1198
Level     1,  Iter    33:    Energy =   0.1201
Level     1,  Iter    34:    Energy =   0.1199
Level     1,  Iter    35:    Energy =   0.1201
Level     1,  Iter    36:    Energy =   0.1201
Level     1,  Iter    37:    Energy =   0.1202
Level     1,  Iter    38:    Energy =   0.1201
Level     1,  Iter    39:    Energy =   0.1203
Level     1,  Iter    40:    Energy =   0.1202
Level     1,  Iter    41:    Energy =   0.1204
Level     1,  Iter    42:    Energy =   0.1203
Level     1,  Iter    43:    Energy =   0.1205
Level     1,  Iter    44:    Energy =   0.1203
Level     1,  Iter    45:    Energy =   0.1205
Level     1,  Iter    46:    Energy =   0.1204
Level     1,  Iter    47:    Energy =   0.1206
Level     1,  Iter    48:    Energy =   0.1204
Level     1,  Iter    49:    Energy =   0.1207
Level     1,  Iter    50:    Energy =   0.1205
Level     1,  Iter    51:    Energy =   0.1207
Level     1,  Iter    52:    Energy =   0.1205
Level     1,  Iter    53:    Energy =   0.1207
Level     1,  Iter    54:    Energy =   0.1206
Level     1,  Iter    55:    Energy =   0.1208
Level     1,  Iter    56:    Energy =   0.1207
Level     1,  Iter    57:    Energy =   0.1207
Level     1,  Iter    58:    Energy =   0.1207
Level     1,  Iter    59:    Energy =   0.1208
END OF LEVEL     1    DetJac Range:   0.1619  to   2.8265 
  Avg. Gradient Time  : 0.0495s  32.83% 
  Avg. Gaussian Time  : 0.0818s  54.19% 
  Avg. Iteration Time : 0.1509s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0585
Level     2,  Iter     1:    Energy =   0.0610
Level     2,  Iter     2:    Energy =   0.0638
Level     2,  Iter     3:    Energy =   0.0661
Level     2,  Iter     4:    Energy =   0.0680
Level     2,  Iter     5:    Energy =   0.0696
Level     2,  Iter     6:    Energy =   0.0711
Level     2,  Iter     7:    Energy =   0.0720
Level     2,  Iter     8:    Energy =   0.0730
Level     2,  Iter     9:    Energy =   0.0742
Level     2,  Iter    10:    Energy =   0.0754
Level     2,  Iter    11:    Energy =   0.0763
Level     2,  Iter    12:    Energy =   0.0765
Level     2,  Iter    13:    Energy =   0.0768
Level     2,  Iter    14:    Energy =   0.0774
Level     2,  Iter    15:    Energy =   0.0774
Level     2,  Iter    16:    Energy =   0.0781
Level     2,  Iter    17:    Energy =   0.0781
Level     2,  Iter    18:    Energy =   0.0786
Level     2,  Iter    19:    Energy =   0.0785
END OF LEVEL     2    DetJac Range:   0.0679  to   4.1892 
  Avg. Gradient Time  : 0.3263s  27.14% 
  Avg. Gaussian Time  : 0.7289s  60.62% 
  Avg. Iteration Time : 1.2024s 

real	0m39.895s
user	1m12.548s
sys	0m2.396s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.476923 0.482692
+ echo 'CHUNK 0.476923 0.482692 1'
CHUNK 0.476923 0.482692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.476923 0.482692 1
====================================
         PROGRESS: 0.476923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 023 right 0
+ local tid=023
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.813393
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3471.8   GNORM= 435.856
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3524.499     154.415       0.000
   2    4     -3535.601     124.784       1.000
   3    5     -3551.096      93.276       1.000
   4    6     -3566.984     141.236       1.000
   5    7     -3585.901     124.348       1.000
   6    8     -3608.868      55.554       1.000
   7    9     -3613.477      25.101       1.000
   8   10     -3615.849      46.583       1.000
   9   11     -3617.470      70.615       1.000
  10   12     -3619.447      38.107       1.000
  11   13     -3621.317      47.189       1.000
  12   14     -3622.649      44.739       1.000
  13   15     -3624.381      22.899       1.000
  14   16     -3624.502      27.723       1.000
  15   17     -3624.828      15.457       1.000
  16   18     -3624.933      15.070       1.000
  17   19     -3625.292      21.970       1.000
  18   20     -3625.776      28.092       1.000
  19   21     -3626.090      20.644       1.000
  20   22     -3626.497      21.750       1.000
  21   23     -3626.702       9.116       1.000
  22   24     -3626.777       6.758       1.000
  23   25     -3626.913       7.287       1.000
  24   26     -3626.966       6.504       1.000
  25   27     -3626.985       4.012       1.000
  26   30     -3627.024       3.888       3.085
  27   32     -3627.041       4.827       0.292
  28   33     -3627.062       6.758       1.000
  29   34     -3627.097       2.836       1.000
  30   35     -3627.098       3.009       1.000
  31   36     -3627.123       3.656       1.000
  32   40     -3627.124       5.403       0.011
  33   41     -3627.136       6.970       1.000
  34   42     -3627.146       6.131       1.000
  35   43     -3627.158       3.184       1.000
  36   44     -3627.162       2.213       1.000
  37   46     -3627.167       3.181       0.257
Final RAS Transform: 
1.01528 0.0241383 -0.00685154 0.139814 
-0.0229378 1.02234 0.0333953 0.847724 
0.0155359 -0.0130208 0.98548 -0.516871 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2372.15   GNORM= 207.286
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2384.843      86.975       0.001
   2    4     -2389.006      73.698       1.000
   3    5     -2394.497      46.591       1.000
   4    6     -2396.880      29.419       1.000
   5    7     -2399.186      29.461       1.000
   6    8     -2404.700      51.887       1.000
   7    9     -2412.175      77.395       1.000
   8   10     -2413.068     167.336       1.000
   9   11     -2419.423      46.832       1.000
  10   12     -2420.457      26.950       1.000
  11   13     -2420.909      18.406       1.000
  12   14     -2421.264      14.205       1.000
  13   15     -2421.727      13.433       1.000
  14   16     -2422.801      17.222       1.000
  15   17     -2423.285      64.771       1.000
  16   18     -2424.298      14.457       1.000
  17   19     -2424.523       9.130       1.000
  18   20     -2424.714      11.102       1.000
  19   21     -2425.116      12.224       1.000
  20   22     -2425.301      13.107       1.000
  21   23     -2425.424      10.832       1.000
  22   24     -2425.511       7.683       1.000
  23   25     -2425.546       4.402       1.000
  24   26     -2425.593       4.500       1.000
  25   27     -2425.656       6.981       1.000
  26   28     -2425.726       7.509       1.000
  27   29     -2425.900       5.799       1.000
  28   30     -2426.086      11.006       1.000
  29   31     -2426.213       6.561       1.000
  30   32     -2426.252      11.288       1.000
  31   33     -2426.288       4.192       1.000
  32   34     -2426.288       2.830       1.000
  33   35     -2426.303       3.216       1.000
  34   36     -2426.328       4.966       1.000
  35   37     -2426.378       8.402       1.000
  36   39     -2426.390       6.062       0.431
  37   40     -2426.413       3.744       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00799 0.0106894 -0.0108498 -0.135432 
-0.0250245 1.00367 0.0127917 0.282725 
-0.00232228 -0.00334388 0.987732 0.216101 
0 0 0 1 

Final RAS Transform: 
1.00799 0.0106894 -0.0108498 -0.135432 
-0.0250245 1.00367 0.0127917 0.282725 
-0.00232228 -0.00334388 0.987732 0.216101 
0 0 0 1 


real	0m10.798s
user	0m19.004s
sys	0m0.416s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.827477
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1032
Level     0,  Iter     1:    Energy =   0.1120
Level     0,  Iter     2:    Energy =   0.1183
Level     0,  Iter     3:    Energy =   0.1237
Level     0,  Iter     4:    Energy =   0.1274
Level     0,  Iter     5:    Energy =   0.1305
Level     0,  Iter     6:    Energy =   0.1325
Level     0,  Iter     7:    Energy =   0.1339
Level     0,  Iter     8:    Energy =   0.1355
Level     0,  Iter     9:    Energy =   0.1363
Level     0,  Iter    10:    Energy =   0.1376
Level     0,  Iter    11:    Energy =   0.1380
Level     0,  Iter    12:    Energy =   0.1389
Level     0,  Iter    13:    Energy =   0.1391
Level     0,  Iter    14:    Energy =   0.1398
Level     0,  Iter    15:    Energy =   0.1399
Level     0,  Iter    16:    Energy =   0.1403
Level     0,  Iter    17:    Energy =   0.1403
Level     0,  Iter    18:    Energy =   0.1407
Level     0,  Iter    19:    Energy =   0.1407
Level     0,  Iter    20:    Energy =   0.1410
Level     0,  Iter    21:    Energy =   0.1410
Level     0,  Iter    22:    Energy =   0.1412
Level     0,  Iter    23:    Energy =   0.1412
Level     0,  Iter    24:    Energy =   0.1413
Level     0,  Iter    25:    Energy =   0.1412
Level     0,  Iter    26:    Energy =   0.1414
Level     0,  Iter    27:    Energy =   0.1413
Level     0,  Iter    28:    Energy =   0.1414
Level     0,  Iter    29:    Energy =   0.1413
Level     0,  Iter    30:    Energy =   0.1416
Level     0,  Iter    31:    Energy =   0.1415
Level     0,  Iter    32:    Energy =   0.1416
Level     0,  Iter    33:    Energy =   0.1416
Level     0,  Iter    34:    Energy =   0.1417
Level     0,  Iter    35:    Energy =   0.1416
Level     0,  Iter    36:    Energy =   0.1418
Level     0,  Iter    37:    Energy =   0.1417
Level     0,  Iter    38:    Energy =   0.1418
Level     0,  Iter    39:    Energy =   0.1417
Level     0,  Iter    40:    Energy =   0.1418
Level     0,  Iter    41:    Energy =   0.1417
Level     0,  Iter    42:    Energy =   0.1418
Level     0,  Iter    43:    Energy =   0.1417
Level     0,  Iter    44:    Energy =   0.1419
Level     0,  Iter    45:    Energy =   0.1418
Level     0,  Iter    46:    Energy =   0.1419
Level     0,  Iter    47:    Energy =   0.1418
Level     0,  Iter    48:    Energy =   0.1418
Level     0,  Iter    49:    Energy =   0.1418
Level     0,  Iter    50:    Energy =   0.1419
Level     0,  Iter    51:    Energy =   0.1419
Level     0,  Iter    52:    Energy =   0.1419
Level     0,  Iter    53:    Energy =   0.1418
Level     0,  Iter    54:    Energy =   0.1417
Level     0,  Iter    55:    Energy =   0.1418
Level     0,  Iter    56:    Energy =   0.1419
Level     0,  Iter    57:    Energy =   0.1419
Level     0,  Iter    58:    Energy =   0.1419
Level     0,  Iter    59:    Energy =   0.1419
END OF LEVEL     0    DetJac Range:   0.2377  to   2.1720 
  Avg. Gradient Time  : 0.0077s  34.57% 
  Avg. Gaussian Time  : 0.0112s  50.01% 
  Avg. Iteration Time : 0.0223s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0902
Level     1,  Iter     1:    Energy =   0.0957
Level     1,  Iter     2:    Energy =   0.0997
Level     1,  Iter     3:    Energy =   0.1037
Level     1,  Iter     4:    Energy =   0.1070
Level     1,  Iter     5:    Energy =   0.1095
Level     1,  Iter     6:    Energy =   0.1119
Level     1,  Iter     7:    Energy =   0.1132
Level     1,  Iter     8:    Energy =   0.1137
Level     1,  Iter     9:    Energy =   0.1144
Level     1,  Iter    10:    Energy =   0.1145
Level     1,  Iter    11:    Energy =   0.1154
Level     1,  Iter    12:    Energy =   0.1154
Level     1,  Iter    13:    Energy =   0.1161
Level     1,  Iter    14:    Energy =   0.1161
Level     1,  Iter    15:    Energy =   0.1167
Level     1,  Iter    16:    Energy =   0.1167
Level     1,  Iter    17:    Energy =   0.1171
Level     1,  Iter    18:    Energy =   0.1171
Level     1,  Iter    19:    Energy =   0.1175
Level     1,  Iter    20:    Energy =   0.1174
Level     1,  Iter    21:    Energy =   0.1177
Level     1,  Iter    22:    Energy =   0.1177
Level     1,  Iter    23:    Energy =   0.1179
Level     1,  Iter    24:    Energy =   0.1179
Level     1,  Iter    25:    Energy =   0.1181
Level     1,  Iter    26:    Energy =   0.1180
Level     1,  Iter    27:    Energy =   0.1183
Level     1,  Iter    28:    Energy =   0.1183
Level     1,  Iter    29:    Energy =   0.1185
Level     1,  Iter    30:    Energy =   0.1184
Level     1,  Iter    31:    Energy =   0.1186
Level     1,  Iter    32:    Energy =   0.1186
Level     1,  Iter    33:    Energy =   0.1188
Level     1,  Iter    34:    Energy =   0.1187
Level     1,  Iter    35:    Energy =   0.1189
Level     1,  Iter    36:    Energy =   0.1188
Level     1,  Iter    37:    Energy =   0.1190
Level     1,  Iter    38:    Energy =   0.1189
Level     1,  Iter    39:    Energy =   0.1191
Level     1,  Iter    40:    Energy =   0.1191
Level     1,  Iter    41:    Energy =   0.1193
Level     1,  Iter    42:    Energy =   0.1192
Level     1,  Iter    43:    Energy =   0.1194
Level     1,  Iter    44:    Energy =   0.1193
Level     1,  Iter    45:    Energy =   0.1195
Level     1,  Iter    46:    Energy =   0.1194
Level     1,  Iter    47:    Energy =   0.1196
Level     1,  Iter    48:    Energy =   0.1195
Level     1,  Iter    49:    Energy =   0.1197
Level     1,  Iter    50:    Energy =   0.1195
Level     1,  Iter    51:    Energy =   0.1198
Level     1,  Iter    52:    Energy =   0.1196
Level     1,  Iter    53:    Energy =   0.1198
Level     1,  Iter    54:    Energy =   0.1196
Level     1,  Iter    55:    Energy =   0.1199
Level     1,  Iter    56:    Energy =   0.1198
Level     1,  Iter    57:    Energy =   0.1199
Level     1,  Iter    58:    Energy =   0.1198
Level     1,  Iter    59:    Energy =   0.1200
END OF LEVEL     1    DetJac Range:   0.1473  to   3.5281 
  Avg. Gradient Time  : 0.0439s  33.06% 
  Avg. Gaussian Time  : 0.0720s  54.15% 
  Avg. Iteration Time : 0.1329s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0585
Level     2,  Iter     1:    Energy =   0.0608
Level     2,  Iter     2:    Energy =   0.0626
Level     2,  Iter     3:    Energy =   0.0644
Level     2,  Iter     4:    Energy =   0.0660
Level     2,  Iter     5:    Energy =   0.0674
Level     2,  Iter     6:    Energy =   0.0687
Level     2,  Iter     7:    Energy =   0.0699
Level     2,  Iter     8:    Energy =   0.0710
Level     2,  Iter     9:    Energy =   0.0719
Level     2,  Iter    10:    Energy =   0.0728
Level     2,  Iter    11:    Energy =   0.0738
Level     2,  Iter    12:    Energy =   0.0749
Level     2,  Iter    13:    Energy =   0.0757
Level     2,  Iter    14:    Energy =   0.0765
Level     2,  Iter    15:    Energy =   0.0772
Level     2,  Iter    16:    Energy =   0.0775
Level     2,  Iter    17:    Energy =   0.0780
Level     2,  Iter    18:    Energy =   0.0783
Level     2,  Iter    19:    Energy =   0.0787
END OF LEVEL     2    DetJac Range:   0.0665  to   4.9162 
  Avg. Gradient Time  : 0.3064s  26.90% 
  Avg. Gaussian Time  : 0.6954s  61.05% 
  Avg. Iteration Time : 1.1391s 

real	0m37.087s
user	1m7.204s
sys	0m2.272s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.482692 0.488462
+ echo 'CHUNK 0.482692 0.488462 1'
CHUNK 0.482692 0.488462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.482692 0.488462 1
====================================
         PROGRESS: 0.482692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 024 right 0
+ local tid=024
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.680361
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2920.05   GNORM= 463.957
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3021.280     113.460       0.001
   2    4     -3032.395     106.233       1.000
   3    5     -3118.419     147.729       1.000
   4    6     -3155.449      99.524       1.000
   5    7     -3185.119      61.411       1.000
   6    8     -3193.792      83.135       1.000
   7    9     -3199.881      70.858       1.000
   8   10     -3208.839     109.203       1.000
   9   11     -3219.417      97.887       1.000
  10   12     -3240.140      31.631       1.000
  11   13     -3244.301      36.398       1.000
  12   14     -3247.816      27.690       1.000
  13   15     -3253.023      42.495       1.000
  14   17     -3254.374      28.240       0.479
  15   18     -3255.539      22.170       1.000
  16   19     -3257.760      12.799       1.000
  17   20     -3258.852      17.276       1.000
  18   21     -3259.949      15.035       1.000
  19   22     -3260.742      20.500       1.000
  20   23     -3260.792      45.327       1.000
  21   24     -3261.558      17.183       1.000
  22   25     -3261.908       9.976       1.000
  23   26     -3262.021       9.220       1.000
  24   27     -3262.453       6.430       1.000
  25   28     -3262.634      17.264       1.000
  26   29     -3262.848       7.023       1.000
  27   30     -3262.903      12.608       1.000
  28   31     -3262.940       4.375       1.000
  29   32     -3262.969       4.302       1.000
  30   34     -3262.980       3.232       0.465
  31   35     -3262.983       5.226       1.000
  32   36     -3263.004       3.887       1.000
  33   37     -3263.012       1.982       1.000
  34   39     -3263.023       3.208       0.519
  35   40     -3263.039       5.277       1.000
  36   41     -3263.062       4.469       1.000
  37   42     -3263.066       1.451       1.000
Final RAS Transform: 
0.956831 0.0449184 0.00529824 1.98039 
-0.0583406 0.968754 -0.103004 -0.259896 
0.060206 0.00865856 1.03742 -0.919499 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1970.48   GNORM= 155.779
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1982.576      70.301       0.001
   2    4     -1986.498      54.192       1.000
   3    5     -1991.673      30.921       1.000
   4    6     -1993.317      24.543       1.000
   5    7     -1998.799      63.210       1.000
   6    8     -2001.796      40.841       1.000
   7    9     -2005.445      26.366       1.000
   8   10     -2006.951      48.995       1.000
   9   11     -2008.528      49.390       1.000
  10   12     -2015.632      42.940       1.000
  11   14     -2016.739      30.794       0.280
  12   15     -2017.543       9.915       1.000
  13   16     -2017.774       8.993       1.000
  14   17     -2018.485      18.286       1.000
  15   18     -2019.619      30.063       1.000
  16   19     -2023.213      40.205       1.000
  17   21     -2024.510      11.083       0.484
  18   23     -2024.894      18.668       0.523
  19   25     -2025.336      18.012       0.307
  20   26     -2025.646      12.809       1.000
  21   27     -2025.958      10.719       1.000
  22   28     -2026.318      15.495       1.000
  23   29     -2026.869      16.938       1.000
  24   30     -2027.275      24.974       1.000
  25   31     -2027.509      16.812       1.000
  26   32     -2027.706      27.537       1.000
  27   33     -2028.227      13.939       1.000
  28   34     -2028.868       6.230       1.000
  29   35     -2029.435       7.559       1.000
  30   37     -2029.766      17.298       0.455
  31   38     -2029.952      20.647       1.000
  32   39     -2030.147      17.726       1.000
  33   40     -2030.238       5.321       1.000
  34   41     -2030.283       4.667       1.000
  35   43     -2030.296       5.986       0.329
  36   44     -2030.378       8.010       1.000
  37   45     -2030.506       7.349       1.000
  38   46     -2030.747       6.326       1.000
  39   47     -2030.844       6.617       1.000
  40   48     -2030.936       4.852       1.000
  41   49     -2031.083       6.891       1.000
  42   51     -2031.137       4.528       0.290
  43   52     -2031.208       4.605       1.000
  44   53     -2031.284       5.170       1.000
  45   55     -2031.310       3.496       0.386
  46   56     -2031.315       5.096       1.000
  47   57     -2031.350       5.559       1.000
  48   58     -2031.373       7.145       1.000
  49   59     -2031.392       2.126       1.000
  50   60     -2031.414       2.797       1.000
  51   61     -2031.418       2.605       1.000
Final RAS Transform: 
0.968515 0.0238167 -0.0531971 0.885983 
-0.0293453 0.970934 -0.0569477 -0.330606 
0.0435631 0.00631652 1.04979 -0.469088 
0 0 0 1 

Final RAS Transform: 
0.968515 0.0238167 -0.0531971 0.885983 
-0.0293453 0.970934 -0.0569477 -0.330606 
0.0435631 0.00631652 1.04979 -0.469088 
0 0 0 1 


real	0m10.535s
user	0m18.492s
sys	0m0.480s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.68366
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0889
Level     0,  Iter     1:    Energy =   0.0961
Level     0,  Iter     2:    Energy =   0.1020
Level     0,  Iter     3:    Energy =   0.1067
Level     0,  Iter     4:    Energy =   0.1116
Level     0,  Iter     5:    Energy =   0.1155
Level     0,  Iter     6:    Energy =   0.1183
Level     0,  Iter     7:    Energy =   0.1207
Level     0,  Iter     8:    Energy =   0.1211
Level     0,  Iter     9:    Energy =   0.1225
Level     0,  Iter    10:    Energy =   0.1227
Level     0,  Iter    11:    Energy =   0.1240
Level     0,  Iter    12:    Energy =   0.1240
Level     0,  Iter    13:    Energy =   0.1251
Level     0,  Iter    14:    Energy =   0.1249
Level     0,  Iter    15:    Energy =   0.1256
Level     0,  Iter    16:    Energy =   0.1255
Level     0,  Iter    17:    Energy =   0.1262
Level     0,  Iter    18:    Energy =   0.1260
Level     0,  Iter    19:    Energy =   0.1265
Level     0,  Iter    20:    Energy =   0.1264
Level     0,  Iter    21:    Energy =   0.1268
Level     0,  Iter    22:    Energy =   0.1266
Level     0,  Iter    23:    Energy =   0.1272
Level     0,  Iter    24:    Energy =   0.1270
Level     0,  Iter    25:    Energy =   0.1275
Level     0,  Iter    26:    Energy =   0.1274
Level     0,  Iter    27:    Energy =   0.1279
Level     0,  Iter    28:    Energy =   0.1278
Level     0,  Iter    29:    Energy =   0.1283
Level     0,  Iter    30:    Energy =   0.1281
Level     0,  Iter    31:    Energy =   0.1285
Level     0,  Iter    32:    Energy =   0.1283
Level     0,  Iter    33:    Energy =   0.1287
Level     0,  Iter    34:    Energy =   0.1286
Level     0,  Iter    35:    Energy =   0.1289
Level     0,  Iter    36:    Energy =   0.1288
Level     0,  Iter    37:    Energy =   0.1292
Level     0,  Iter    38:    Energy =   0.1290
Level     0,  Iter    39:    Energy =   0.1294
Level     0,  Iter    40:    Energy =   0.1293
Level     0,  Iter    41:    Energy =   0.1298
Level     0,  Iter    42:    Energy =   0.1296
Level     0,  Iter    43:    Energy =   0.1301
Level     0,  Iter    44:    Energy =   0.1299
Level     0,  Iter    45:    Energy =   0.1303
Level     0,  Iter    46:    Energy =   0.1301
Level     0,  Iter    47:    Energy =   0.1305
Level     0,  Iter    48:    Energy =   0.1303
Level     0,  Iter    49:    Energy =   0.1307
Level     0,  Iter    50:    Energy =   0.1305
Level     0,  Iter    51:    Energy =   0.1308
Level     0,  Iter    52:    Energy =   0.1306
Level     0,  Iter    53:    Energy =   0.1310
Level     0,  Iter    54:    Energy =   0.1307
Level     0,  Iter    55:    Energy =   0.1310
Level     0,  Iter    56:    Energy =   0.1308
Level     0,  Iter    57:    Energy =   0.1312
Level     0,  Iter    58:    Energy =   0.1309
Level     0,  Iter    59:    Energy =   0.1312
END OF LEVEL     0    DetJac Range:   0.2028  to   2.0532 
  Avg. Gradient Time  : 0.0077s  34.45% 
  Avg. Gaussian Time  : 0.0112s  50.17% 
  Avg. Iteration Time : 0.0224s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0768
Level     1,  Iter     1:    Energy =   0.0800
Level     1,  Iter     2:    Energy =   0.0832
Level     1,  Iter     3:    Energy =   0.0868
Level     1,  Iter     4:    Energy =   0.0896
Level     1,  Iter     5:    Energy =   0.0919
Level     1,  Iter     6:    Energy =   0.0943
Level     1,  Iter     7:    Energy =   0.0965
Level     1,  Iter     8:    Energy =   0.0978
Level     1,  Iter     9:    Energy =   0.0991
Level     1,  Iter    10:    Energy =   0.1001
Level     1,  Iter    11:    Energy =   0.1010
Level     1,  Iter    12:    Energy =   0.1017
Level     1,  Iter    13:    Energy =   0.1013
Level     1,  Iter    14:    Energy =   0.1024
Level     1,  Iter    15:    Energy =   0.1031
Level     1,  Iter    16:    Energy =   0.1037
Level     1,  Iter    17:    Energy =   0.1032
Level     1,  Iter    18:    Energy =   0.1039
Level     1,  Iter    19:    Energy =   0.1045
Level     1,  Iter    20:    Energy =   0.1048
Level     1,  Iter    21:    Energy =   0.1043
Level     1,  Iter    22:    Energy =   0.1049
Level     1,  Iter    23:    Energy =   0.1057
Level     1,  Iter    24:    Energy =   0.1057
Level     1,  Iter    25:    Energy =   0.1051
Level     1,  Iter    26:    Energy =   0.1060
Level     1,  Iter    27:    Energy =   0.1064
Level     1,  Iter    28:    Energy =   0.1063
Level     1,  Iter    29:    Energy =   0.1057
Level     1,  Iter    30:    Energy =   0.1066
Level     1,  Iter    31:    Energy =   0.1068
Level     1,  Iter    32:    Energy =   0.1067
Level     1,  Iter    33:    Energy =   0.1061
Level     1,  Iter    34:    Energy =   0.1067
Level     1,  Iter    35:    Energy =   0.1069
Level     1,  Iter    36:    Energy =   0.1068
Level     1,  Iter    37:    Energy =   0.1063
Level     1,  Iter    38:    Energy =   0.1069
Level     1,  Iter    39:    Energy =   0.1069
Level     1,  Iter    40:    Energy =   0.1070
Level     1,  Iter    41:    Energy =   0.1064
Level     1,  Iter    42:    Energy =   0.1070
Level     1,  Iter    43:    Energy =   0.1072
Level     1,  Iter    44:    Energy =   0.1071
Level     1,  Iter    45:    Energy =   0.1065
Level     1,  Iter    46:    Energy =   0.1072
Level     1,  Iter    47:    Energy =   0.1072
Level     1,  Iter    48:    Energy =   0.1072
Level     1,  Iter    49:    Energy =   0.1066
Level     1,  Iter    50:    Energy =   0.1073
Level     1,  Iter    51:    Energy =   0.1074
Level     1,  Iter    52:    Energy =   0.1074
Level     1,  Iter    53:    Energy =   0.1068
Level     1,  Iter    54:    Energy =   0.1075
Level     1,  Iter    55:    Energy =   0.1075
Level     1,  Iter    56:    Energy =   0.1075
Level     1,  Iter    57:    Energy =   0.1069
Level     1,  Iter    58:    Energy =   0.1076
Level     1,  Iter    59:    Energy =   0.1076
END OF LEVEL     1    DetJac Range:   0.0587  to   3.6032 
  Avg. Gradient Time  : 0.0439s  33.06% 
  Avg. Gaussian Time  : 0.0720s  54.16% 
  Avg. Iteration Time : 0.1329s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0500
Level     2,  Iter     1:    Energy =   0.0521
Level     2,  Iter     2:    Energy =   0.0539
Level     2,  Iter     3:    Energy =   0.0555
Level     2,  Iter     4:    Energy =   0.0568
Level     2,  Iter     5:    Energy =   0.0581
Level     2,  Iter     6:    Energy =   0.0593
Level     2,  Iter     7:    Energy =   0.0608
Level     2,  Iter     8:    Energy =   0.0624
Level     2,  Iter     9:    Energy =   0.0637
Level     2,  Iter    10:    Energy =   0.0649
Level     2,  Iter    11:    Energy =   0.0659
Level     2,  Iter    12:    Energy =   0.0668
Level     2,  Iter    13:    Energy =   0.0674
Level     2,  Iter    14:    Energy =   0.0680
Level     2,  Iter    15:    Energy =   0.0685
Level     2,  Iter    16:    Energy =   0.0690
Level     2,  Iter    17:    Energy =   0.0694
Level     2,  Iter    18:    Energy =   0.0699
Level     2,  Iter    19:    Energy =   0.0703
END OF LEVEL     2    DetJac Range:   0.0384  to   4.7996 
  Avg. Gradient Time  : 0.3070s  30.05% 
  Avg. Gaussian Time  : 0.5774s  56.52% 
  Avg. Iteration Time : 1.0216s 

real	0m34.730s
user	1m2.652s
sys	0m2.120s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.488462 0.494231
+ echo 'CHUNK 0.488462 0.494231 1'
CHUNK 0.488462 0.494231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.488462 0.494231 1
====================================
         PROGRESS: 0.488462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local side=right
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 025 right 0
+ local tid=025
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.447635
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2524.21   GNORM= 272.033
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2564.164     117.038       0.001
   2    4     -2575.210      87.774       1.000
   3    5     -2595.652      66.265       1.000
   4    6     -2608.782      67.905       1.000
   5    7     -2623.084      63.382       1.000
   6    8     -2665.516      66.412       1.000
   7   10     -2672.556      95.376       0.500
   8   11     -2677.814      65.012       1.000
   9   12     -2683.390      25.442       1.000
  10   13     -2689.885      45.861       1.000
  11   14     -2695.849      62.383       1.000
  12   15     -2701.081      21.700       1.000
  13   16     -2704.440      35.131       1.000
  14   17     -2707.041      36.890       1.000
  15   19     -2708.713      28.611       0.176
  16   21     -2710.050      46.552       0.395
  17   22     -2710.738      27.161       1.000
  18   23     -2711.667      18.584       1.000
  19   24     -2712.244      39.066       1.000
  20   25     -2713.967      19.250       1.000
  21   26     -2715.772      31.620       1.000
  22   27     -2717.255      19.615       1.000
  23   28     -2719.753      22.839       1.000
  24   29     -2721.894      26.016       1.000
  25   31     -2722.402      19.418       0.249
  26   32     -2722.661      11.312       1.000
  27   33     -2722.797      16.073       1.000
  28   34     -2722.903      10.964       1.000
  29   35     -2723.137       5.939       1.000
  30   36     -2723.313       9.819       1.000
  31   37     -2723.497      11.857       1.000
  32   38     -2723.594       3.495       1.000
  33   39     -2723.624       4.046       1.000
  34   40     -2723.669       4.544       1.000
  35   41     -2723.748       7.448       1.000
  36   42     -2723.782      12.048       1.000
  37   43     -2723.827       5.008       1.000
  38   44     -2723.838       5.467       1.000
  39   45     -2723.861       3.073       1.000
  40   46     -2723.874       6.251       1.000
  41   47     -2723.879       2.470       1.000
  42   48     -2723.884       2.025       1.000
  43   50     -2723.893       2.255       0.438
  44   51     -2723.897       1.945       1.000
  45   52     -2723.902       1.608       1.000
  46   56     -2723.943       5.337       6.434
  47   58     -2723.966       6.056       0.458
  48   60     -2723.990       4.685       0.425
  49   61     -2724.003       3.250       1.000
Final RAS Transform: 
0.925139 0.0176222 -0.00480758 1.93165 
-0.0652086 1.05805 0.0822946 1.58593 
0.0637137 -0.0121248 0.960376 -1.01822 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1750.3   GNORM= 69.9787
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1752.550      27.087       0.001
   2    4     -1753.184      24.956       1.000
   3    5     -1754.902      25.200       1.000
   4    6     -1757.363      39.671       1.000
   5    7     -1763.751      56.730       1.000
   6    8     -1771.402      50.377       1.000
   7   10     -1776.815      96.501       0.449
   8   11     -1784.733      29.548       1.000
   9   12     -1787.503      29.373       1.000
  10   13     -1792.060      12.477       1.000
  11   14     -1792.710       8.191       1.000
  12   15     -1793.841      15.969       1.000
  13   16     -1795.433      31.289       1.000
  14   17     -1796.657      35.298       1.000
  15   18     -1798.370      12.101       1.000
  16   19     -1798.781      10.101       1.000
  17   20     -1799.070      10.571       1.000
  18   21     -1799.451      13.962       1.000
  19   22     -1800.151      14.993       1.000
  20   24     -1800.411      18.371       0.363
  21   25     -1800.761       6.909       1.000
  22   26     -1800.819       5.318       1.000
  23   27     -1800.836       3.769       1.000
  24   28     -1800.863      12.464       1.000
  25   29     -1800.908       7.779       1.000
  26   30     -1800.983       4.921       1.000
  27   31     -1801.014       5.561       1.000
  28   32     -1801.165       6.818       1.000
  29   34     -1801.249       4.987       0.223
  30   36     -1801.281       5.510       0.500
  31   37     -1801.326       3.735       1.000
  32   38     -1801.406       5.452       1.000
  33   39     -1801.504       3.451       1.000
  34   40     -1801.521       6.631       1.000
  35   41     -1801.554       4.475       1.000
  36   42     -1801.598       3.554       1.000
  37   43     -1801.627       4.090       1.000
  38   44     -1801.683       5.512       1.000
  39   45     -1801.744       9.478       1.000
  40   46     -1801.807       4.566       1.000
  41   47     -1801.831       2.815       1.000
  42   48     -1801.855       2.774       1.000
  43   49     -1801.893       4.038       1.000
  44   50     -1801.941       4.128       1.000
  45   52     -1801.959       3.702       0.403
  46   53     -1801.971       2.718       1.000
  47   54     -1801.984       2.299       1.000
  48   56     -1801.985       1.186       0.328
  49   57     -1801.994       3.519       1.000
  50   58     -1801.996       1.083       1.000
  51   59     -1802.003       1.085       1.000
  52   61     -1802.003       2.391       0.078
Final RAS Transform: 
0.967791 0.00725849 -0.0228742 0.767032 
-0.0818583 1.04349 0.0641424 1.61369 
0.0185937 -0.0159899 0.961976 -0.171856 
0 0 0 1 

Final RAS Transform: 
0.967791 0.00725849 -0.0228742 0.767032 
-0.0818583 1.04349 0.0641424 1.61369 
0.0185937 -0.0159899 0.961976 -0.171856 
0 0 0 1 


real	0m10.752s
user	0m18.856s
sys	0m0.552s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54, moving = 0.454564
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0751
Level     0,  Iter     1:    Energy =   0.0812
Level     0,  Iter     2:    Energy =   0.0869
Level     0,  Iter     3:    Energy =   0.0919
Level     0,  Iter     4:    Energy =   0.0972
Level     0,  Iter     5:    Energy =   0.1019
Level     0,  Iter     6:    Energy =   0.1057
Level     0,  Iter     7:    Energy =   0.1085
Level     0,  Iter     8:    Energy =   0.1108
Level     0,  Iter     9:    Energy =   0.1122
Level     0,  Iter    10:    Energy =   0.1136
Level     0,  Iter    11:    Energy =   0.1140
Level     0,  Iter    12:    Energy =   0.1158
Level     0,  Iter    13:    Energy =   0.1159
Level     0,  Iter    14:    Energy =   0.1174
Level     0,  Iter    15:    Energy =   0.1173
Level     0,  Iter    16:    Energy =   0.1184
Level     0,  Iter    17:    Energy =   0.1181
Level     0,  Iter    18:    Energy =   0.1194
Level     0,  Iter    19:    Energy =   0.1190
Level     0,  Iter    20:    Energy =   0.1203
Level     0,  Iter    21:    Energy =   0.1198
Level     0,  Iter    22:    Energy =   0.1208
Level     0,  Iter    23:    Energy =   0.1204
Level     0,  Iter    24:    Energy =   0.1213
Level     0,  Iter    25:    Energy =   0.1210
Level     0,  Iter    26:    Energy =   0.1207
Level     0,  Iter    27:    Energy =   0.1208
Level     0,  Iter    28:    Energy =   0.1205
Level     0,  Iter    29:    Energy =   0.1211
Level     0,  Iter    30:    Energy =   0.1207
Level     0,  Iter    31:    Energy =   0.1214
Level     0,  Iter    32:    Energy =   0.1210
Level     0,  Iter    33:    Energy =   0.1221
Level     0,  Iter    34:    Energy =   0.1216
Level     0,  Iter    35:    Energy =   0.1221
Level     0,  Iter    36:    Energy =   0.1217
Level     0,  Iter    37:    Energy =   0.1225
Level     0,  Iter    38:    Energy =   0.1220
Level     0,  Iter    39:    Energy =   0.1225
Level     0,  Iter    40:    Energy =   0.1219
Level     0,  Iter    41:    Energy =   0.1225
Level     0,  Iter    42:    Energy =   0.1220
Level     0,  Iter    43:    Energy =   0.1227
Level     0,  Iter    44:    Energy =   0.1221
Level     0,  Iter    45:    Energy =   0.1226
Level     0,  Iter    46:    Energy =   0.1221
Level     0,  Iter    47:    Energy =   0.1228
Level     0,  Iter    48:    Energy =   0.1222
Level     0,  Iter    49:    Energy =   0.1226
Level     0,  Iter    50:    Energy =   0.1221
Level     0,  Iter    51:    Energy =   0.1227
Level     0,  Iter    52:    Energy =   0.1221
Level     0,  Iter    53:    Energy =   0.1226
Level     0,  Iter    54:    Energy =   0.1221
Level     0,  Iter    55:    Energy =   0.1226
Level     0,  Iter    56:    Energy =   0.1220
Level     0,  Iter    57:    Energy =   0.1225
Level     0,  Iter    58:    Energy =   0.1221
Level     0,  Iter    59:    Energy =   0.1225
END OF LEVEL     0    DetJac Range:   0.1851  to   2.2226 
  Avg. Gradient Time  : 0.0077s  34.71% 
  Avg. Gaussian Time  : 0.0110s  49.69% 
  Avg. Iteration Time : 0.0221s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0765
Level     1,  Iter     1:    Energy =   0.0811
Level     1,  Iter     2:    Energy =   0.0849
Level     1,  Iter     3:    Energy =   0.0885
Level     1,  Iter     4:    Energy =   0.0914
Level     1,  Iter     5:    Energy =   0.0939
Level     1,  Iter     6:    Energy =   0.0958
Level     1,  Iter     7:    Energy =   0.0981
Level     1,  Iter     8:    Energy =   0.1001
Level     1,  Iter     9:    Energy =   0.1014
Level     1,  Iter    10:    Energy =   0.1028
Level     1,  Iter    11:    Energy =   0.1031
Level     1,  Iter    12:    Energy =   0.1032
Level     1,  Iter    13:    Energy =   0.1035
Level     1,  Iter    14:    Energy =   0.1036
Level     1,  Iter    15:    Energy =   0.1039
Level     1,  Iter    16:    Energy =   0.1040
Level     1,  Iter    17:    Energy =   0.1042
Level     1,  Iter    18:    Energy =   0.1043
Level     1,  Iter    19:    Energy =   0.1046
Level     1,  Iter    20:    Energy =   0.1045
Level     1,  Iter    21:    Energy =   0.1049
Level     1,  Iter    22:    Energy =   0.1047
Level     1,  Iter    23:    Energy =   0.1051
Level     1,  Iter    24:    Energy =   0.1049
Level     1,  Iter    25:    Energy =   0.1053
Level     1,  Iter    26:    Energy =   0.1051
Level     1,  Iter    27:    Energy =   0.1055
Level     1,  Iter    28:    Energy =   0.1052
Level     1,  Iter    29:    Energy =   0.1057
Level     1,  Iter    30:    Energy =   0.1054
Level     1,  Iter    31:    Energy =   0.1059
Level     1,  Iter    32:    Energy =   0.1056
Level     1,  Iter    33:    Energy =   0.1060
Level     1,  Iter    34:    Energy =   0.1057
Level     1,  Iter    35:    Energy =   0.1060
Level     1,  Iter    36:    Energy =   0.1057
Level     1,  Iter    37:    Energy =   0.1061
Level     1,  Iter    38:    Energy =   0.1058
Level     1,  Iter    39:    Energy =   0.1061
Level     1,  Iter    40:    Energy =   0.1059
Level     1,  Iter    41:    Energy =   0.1061
Level     1,  Iter    42:    Energy =   0.1059
Level     1,  Iter    43:    Energy =   0.1062
Level     1,  Iter    44:    Energy =   0.1060
Level     1,  Iter    45:    Energy =   0.1062
Level     1,  Iter    46:    Energy =   0.1060
Level     1,  Iter    47:    Energy =   0.1062
Level     1,  Iter    48:    Energy =   0.1061
Level     1,  Iter    49:    Energy =   0.1063
Level     1,  Iter    50:    Energy =   0.1061
Level     1,  Iter    51:    Energy =   0.1062
Level     1,  Iter    52:    Energy =   0.1061
Level     1,  Iter    53:    Energy =   0.1063
Level     1,  Iter    54:    Energy =   0.1062
Level     1,  Iter    55:    Energy =   0.1063
Level     1,  Iter    56:    Energy =   0.1062
Level     1,  Iter    57:    Energy =   0.1063
Level     1,  Iter    58:    Energy =   0.1062
Level     1,  Iter    59:    Energy =   0.1064
END OF LEVEL     1    DetJac Range:   0.1102  to   3.4823 
  Avg. Gradient Time  : 0.0431s  32.73% 
  Avg. Gaussian Time  : 0.0716s  54.41% 
  Avg. Iteration Time : 0.1316s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0519
Level     2,  Iter     1:    Energy =   0.0546
Level     2,  Iter     2:    Energy =   0.0568
Level     2,  Iter     3:    Energy =   0.0586
Level     2,  Iter     4:    Energy =   0.0602
Level     2,  Iter     5:    Energy =   0.0616
Level     2,  Iter     6:    Energy =   0.0629
Level     2,  Iter     7:    Energy =   0.0641
Level     2,  Iter     8:    Energy =   0.0650
Level     2,  Iter     9:    Energy =   0.0657
Level     2,  Iter    10:    Energy =   0.0663
Level     2,  Iter    11:    Energy =   0.0668
Level     2,  Iter    12:    Energy =   0.0673
Level     2,  Iter    13:    Energy =   0.0677
Level     2,  Iter    14:    Energy =   0.0681
Level     2,  Iter    15:    Energy =   0.0684
Level     2,  Iter    16:    Energy =   0.0688
Level     2,  Iter    17:    Energy =   0.0691
Level     2,  Iter    18:    Energy =   0.0695
Level     2,  Iter    19:    Energy =   0.0697
END OF LEVEL     2    DetJac Range:   0.0403  to   5.0060 
  Avg. Gradient Time  : 0.3090s  26.48% 
  Avg. Gaussian Time  : 0.7197s  61.69% 
  Avg. Iteration Time : 1.1667s 

real	0m37.554s
user	1m8.320s
sys	0m2.056s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.494231 0.5
+ echo 'CHUNK 0.494231 0.5 1'
CHUNK 0.494231 0.5 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.494231 0.5 1
====================================
         PROGRESS: 0.494231               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 2 successful
------------------------------------------------
[0m
****************************************
Starting stage 3: Initial joint label fusion
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 3: Initial joint label fusion
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=left
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
Side: left
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz -raw-posteriors tse_native_chunk_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_left.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 12, 4], [72, 65, 46] (215280 pixels)
Computing mask based on input segmentations
  Skipping 108190 out of 215280 voxels.
................................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_left.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -g tse_native_chunk_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_corr_usegray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
84:88:54
loading tse_native_chunk_left.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 379471
tc: 19697
mean intensity : sample #  180.645:32309
center location: (39.9482,44.5369,23.8337) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2282
tc: 19697
center location: (28.8258,39.439,12.838) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 4096
tc: 19697
center location: (36.2334,42.626,23.1978) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 8100
tc: 19697
center location: (47.8351,46.2105,23.0653) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 1 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 268
tc: 19697
center location: (59.6044,47.8969,35.3243) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3875
tc: 19697
center location: (51.6673,46.2502,29.2079) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 497
tc: 19697
center location: (47.1573,51.0861,27.1459) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2
tc: 19697
center location: (64.2878,47.1092,25.0059) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 577
tc: 19697
center location: (36.6271,47.1784,47.782) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_corr_nogray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
84:88:54
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 379471
tc: 19697
center location: (39.9482,44.5369,23.8337) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2282
tc: 19697
center location: (28.8258,39.439,12.838) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 4096
tc: 19697
center location: (36.2334,42.626,23.1978) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 8100
tc: 19697
center location: (47.8351,46.2105,23.0653) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 1 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 268
tc: 19697
center location: (59.6044,47.8969,35.3243) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3875
tc: 19697
center location: (51.6673,46.2502,29.2079) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 497
tc: 19697
center location: (47.1573,51.0861,27.1459) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2
tc: 19697
center location: (64.2878,47.1092,25.0059) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_left_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 577
tc: 19697
center location: (36.6271,47.1784,47.782) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -n '' ]]
++ [[ 0 -eq 1 ]]
++ echo multiatlas
+ MALFMODE=multiatlas
+ ashs_segmentation_qc left multiatlas heur
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.nFgPduqd/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.nFgPduqd/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.nFgPduqd/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.nFgPduqd/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.nFgPduqd/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.nFgPduqd/sag_seg_%02d.png
++ ls /tmp/ashs.nFgPduqd/cor_mprage_00.png /tmp/ashs.nFgPduqd/cor_mprage_01.png /tmp/ashs.nFgPduqd/cor_mprage_02.png /tmp/ashs.nFgPduqd/cor_mprage_03.png /tmp/ashs.nFgPduqd/cor_mprage_04.png /tmp/ashs.nFgPduqd/cor_seg_00.png /tmp/ashs.nFgPduqd/cor_seg_03.png /tmp/ashs.nFgPduqd/cor_seg_06.png /tmp/ashs.nFgPduqd/cor_seg_09.png /tmp/ashs.nFgPduqd/cor_seg_12.png /tmp/ashs.nFgPduqd/cor_tse_00.png /tmp/ashs.nFgPduqd/cor_tse_01.png /tmp/ashs.nFgPduqd/cor_tse_02.png /tmp/ashs.nFgPduqd/cor_tse_03.png /tmp/ashs.nFgPduqd/cor_tse_04.png /tmp/ashs.nFgPduqd/sag_mprage_00.png /tmp/ashs.nFgPduqd/sag_mprage_01.png /tmp/ashs.nFgPduqd/sag_seg_00.png /tmp/ashs.nFgPduqd/sag_seg_03.png /tmp/ashs.nFgPduqd/sag_tse_00.png /tmp/ashs.nFgPduqd/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_mprage_00.png /tmp/ashs.nFgPduqd/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_mprage_01.png /tmp/ashs.nFgPduqd/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_mprage_02.png /tmp/ashs.nFgPduqd/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_mprage_03.png /tmp/ashs.nFgPduqd/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_mprage_04.png /tmp/ashs.nFgPduqd/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_seg_00.png /tmp/ashs.nFgPduqd/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_seg_03.png /tmp/ashs.nFgPduqd/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_seg_06.png /tmp/ashs.nFgPduqd/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_seg_09.png /tmp/ashs.nFgPduqd/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_seg_12.png /tmp/ashs.nFgPduqd/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_tse_00.png /tmp/ashs.nFgPduqd/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_tse_01.png /tmp/ashs.nFgPduqd/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_tse_02.png /tmp/ashs.nFgPduqd/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_tse_03.png /tmp/ashs.nFgPduqd/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_tse_04.png /tmp/ashs.nFgPduqd/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_mprage_00.png /tmp/ashs.nFgPduqd/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_mprage_01.png /tmp/ashs.nFgPduqd/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_seg_00.png /tmp/ashs.nFgPduqd/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_seg_03.png /tmp/ashs.nFgPduqd/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_tse_00.png /tmp/ashs.nFgPduqd/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_tse_01.png /tmp/ashs.nFgPduqd/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.nFgPduqd/cor_tse_00.png /tmp/ashs.nFgPduqd/cor_tse_01.png /tmp/ashs.nFgPduqd/cor_tse_02.png /tmp/ashs.nFgPduqd/cor_tse_03.png /tmp/ashs.nFgPduqd/cor_tse_04.png /tmp/ashs.nFgPduqd/sag_tse_00.png /tmp/ashs.nFgPduqd/sag_tse_01.png /tmp/ashs.nFgPduqd/cor_mprage_00.png /tmp/ashs.nFgPduqd/cor_mprage_01.png /tmp/ashs.nFgPduqd/cor_mprage_02.png /tmp/ashs.nFgPduqd/cor_mprage_03.png /tmp/ashs.nFgPduqd/cor_mprage_04.png /tmp/ashs.nFgPduqd/sag_mprage_00.png /tmp/ashs.nFgPduqd/sag_mprage_01.png /tmp/ashs.nFgPduqd/cor_seg_00.png /tmp/ashs.nFgPduqd/cor_seg_03.png /tmp/ashs.nFgPduqd/cor_seg_06.png /tmp/ashs.nFgPduqd/cor_seg_09.png /tmp/ashs.nFgPduqd/cor_seg_12.png /tmp/ashs.nFgPduqd/sag_seg_00.png /tmp/ashs.nFgPduqd/sag_seg_03.png /tmp/ashs.nFgPduqd/qa.png
+ convert /tmp/ashs.nFgPduqd/qa.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ montage -label 26040:left /tmp/ashs.nFgPduqd/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_multiatlas_heur_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_multiatlas_heur_left_qa.png
+ ashs_segmentation_qc left multiatlas corr_usegray
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.nFgPduqd/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.nFgPduqd/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.nFgPduqd/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.nFgPduqd/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.nFgPduqd/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.nFgPduqd/sag_seg_%02d.png
++ ls /tmp/ashs.nFgPduqd/cor_mprage_00.png /tmp/ashs.nFgPduqd/cor_mprage_01.png /tmp/ashs.nFgPduqd/cor_mprage_02.png /tmp/ashs.nFgPduqd/cor_mprage_03.png /tmp/ashs.nFgPduqd/cor_mprage_04.png /tmp/ashs.nFgPduqd/cor_seg_00.png /tmp/ashs.nFgPduqd/cor_seg_03.png /tmp/ashs.nFgPduqd/cor_seg_06.png /tmp/ashs.nFgPduqd/cor_seg_09.png /tmp/ashs.nFgPduqd/cor_seg_12.png /tmp/ashs.nFgPduqd/cor_tse_00.png /tmp/ashs.nFgPduqd/cor_tse_01.png /tmp/ashs.nFgPduqd/cor_tse_02.png /tmp/ashs.nFgPduqd/cor_tse_03.png /tmp/ashs.nFgPduqd/cor_tse_04.png /tmp/ashs.nFgPduqd/sag_mprage_00.png /tmp/ashs.nFgPduqd/sag_mprage_01.png /tmp/ashs.nFgPduqd/sag_seg_00.png /tmp/ashs.nFgPduqd/sag_seg_03.png /tmp/ashs.nFgPduqd/sag_tse_00.png /tmp/ashs.nFgPduqd/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_mprage_00.png /tmp/ashs.nFgPduqd/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_mprage_01.png /tmp/ashs.nFgPduqd/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_mprage_02.png /tmp/ashs.nFgPduqd/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_mprage_03.png /tmp/ashs.nFgPduqd/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_mprage_04.png /tmp/ashs.nFgPduqd/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_seg_00.png /tmp/ashs.nFgPduqd/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_seg_03.png /tmp/ashs.nFgPduqd/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_seg_06.png /tmp/ashs.nFgPduqd/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_seg_09.png /tmp/ashs.nFgPduqd/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_seg_12.png /tmp/ashs.nFgPduqd/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_tse_00.png /tmp/ashs.nFgPduqd/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_tse_01.png /tmp/ashs.nFgPduqd/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_tse_02.png /tmp/ashs.nFgPduqd/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_tse_03.png /tmp/ashs.nFgPduqd/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_tse_04.png /tmp/ashs.nFgPduqd/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_mprage_00.png /tmp/ashs.nFgPduqd/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_mprage_01.png /tmp/ashs.nFgPduqd/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_seg_00.png /tmp/ashs.nFgPduqd/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_seg_03.png /tmp/ashs.nFgPduqd/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_tse_00.png /tmp/ashs.nFgPduqd/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_tse_01.png /tmp/ashs.nFgPduqd/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.nFgPduqd/cor_tse_00.png /tmp/ashs.nFgPduqd/cor_tse_01.png /tmp/ashs.nFgPduqd/cor_tse_02.png /tmp/ashs.nFgPduqd/cor_tse_03.png /tmp/ashs.nFgPduqd/cor_tse_04.png /tmp/ashs.nFgPduqd/sag_tse_00.png /tmp/ashs.nFgPduqd/sag_tse_01.png /tmp/ashs.nFgPduqd/cor_mprage_00.png /tmp/ashs.nFgPduqd/cor_mprage_01.png /tmp/ashs.nFgPduqd/cor_mprage_02.png /tmp/ashs.nFgPduqd/cor_mprage_03.png /tmp/ashs.nFgPduqd/cor_mprage_04.png /tmp/ashs.nFgPduqd/sag_mprage_00.png /tmp/ashs.nFgPduqd/sag_mprage_01.png /tmp/ashs.nFgPduqd/cor_seg_00.png /tmp/ashs.nFgPduqd/cor_seg_03.png /tmp/ashs.nFgPduqd/cor_seg_06.png /tmp/ashs.nFgPduqd/cor_seg_09.png /tmp/ashs.nFgPduqd/cor_seg_12.png /tmp/ashs.nFgPduqd/sag_seg_00.png /tmp/ashs.nFgPduqd/sag_seg_03.png /tmp/ashs.nFgPduqd/qa.png
+ convert /tmp/ashs.nFgPduqd/qa.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ montage -label 26040:left /tmp/ashs.nFgPduqd/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_left_qa.png
+ ashs_segmentation_qc left multiatlas corr_nogray
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.nFgPduqd/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.nFgPduqd/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.nFgPduqd/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.nFgPduqd/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.nFgPduqd/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.nFgPduqd/sag_seg_%02d.png
++ ls /tmp/ashs.nFgPduqd/cor_mprage_00.png /tmp/ashs.nFgPduqd/cor_mprage_01.png /tmp/ashs.nFgPduqd/cor_mprage_02.png /tmp/ashs.nFgPduqd/cor_mprage_03.png /tmp/ashs.nFgPduqd/cor_mprage_04.png /tmp/ashs.nFgPduqd/cor_seg_00.png /tmp/ashs.nFgPduqd/cor_seg_03.png /tmp/ashs.nFgPduqd/cor_seg_06.png /tmp/ashs.nFgPduqd/cor_seg_09.png /tmp/ashs.nFgPduqd/cor_seg_12.png /tmp/ashs.nFgPduqd/cor_tse_00.png /tmp/ashs.nFgPduqd/cor_tse_01.png /tmp/ashs.nFgPduqd/cor_tse_02.png /tmp/ashs.nFgPduqd/cor_tse_03.png /tmp/ashs.nFgPduqd/cor_tse_04.png /tmp/ashs.nFgPduqd/sag_mprage_00.png /tmp/ashs.nFgPduqd/sag_mprage_01.png /tmp/ashs.nFgPduqd/sag_seg_00.png /tmp/ashs.nFgPduqd/sag_seg_03.png /tmp/ashs.nFgPduqd/sag_tse_00.png /tmp/ashs.nFgPduqd/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_mprage_00.png /tmp/ashs.nFgPduqd/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_mprage_01.png /tmp/ashs.nFgPduqd/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_mprage_02.png /tmp/ashs.nFgPduqd/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_mprage_03.png /tmp/ashs.nFgPduqd/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_mprage_04.png /tmp/ashs.nFgPduqd/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_seg_00.png /tmp/ashs.nFgPduqd/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_seg_03.png /tmp/ashs.nFgPduqd/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_seg_06.png /tmp/ashs.nFgPduqd/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_seg_09.png /tmp/ashs.nFgPduqd/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_seg_12.png /tmp/ashs.nFgPduqd/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_tse_00.png /tmp/ashs.nFgPduqd/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_tse_01.png /tmp/ashs.nFgPduqd/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_tse_02.png /tmp/ashs.nFgPduqd/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_tse_03.png /tmp/ashs.nFgPduqd/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/cor_tse_04.png /tmp/ashs.nFgPduqd/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_mprage_00.png /tmp/ashs.nFgPduqd/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_mprage_01.png /tmp/ashs.nFgPduqd/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_seg_00.png /tmp/ashs.nFgPduqd/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_seg_03.png /tmp/ashs.nFgPduqd/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_tse_00.png /tmp/ashs.nFgPduqd/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.nFgPduqd/sag_tse_01.png /tmp/ashs.nFgPduqd/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.nFgPduqd/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.nFgPduqd/cor_tse_00.png /tmp/ashs.nFgPduqd/cor_tse_01.png /tmp/ashs.nFgPduqd/cor_tse_02.png /tmp/ashs.nFgPduqd/cor_tse_03.png /tmp/ashs.nFgPduqd/cor_tse_04.png /tmp/ashs.nFgPduqd/sag_tse_00.png /tmp/ashs.nFgPduqd/sag_tse_01.png /tmp/ashs.nFgPduqd/cor_mprage_00.png /tmp/ashs.nFgPduqd/cor_mprage_01.png /tmp/ashs.nFgPduqd/cor_mprage_02.png /tmp/ashs.nFgPduqd/cor_mprage_03.png /tmp/ashs.nFgPduqd/cor_mprage_04.png /tmp/ashs.nFgPduqd/sag_mprage_00.png /tmp/ashs.nFgPduqd/sag_mprage_01.png /tmp/ashs.nFgPduqd/cor_seg_00.png /tmp/ashs.nFgPduqd/cor_seg_03.png /tmp/ashs.nFgPduqd/cor_seg_06.png /tmp/ashs.nFgPduqd/cor_seg_09.png /tmp/ashs.nFgPduqd/cor_seg_12.png /tmp/ashs.nFgPduqd/sag_seg_00.png /tmp/ashs.nFgPduqd/sag_seg_03.png /tmp/ashs.nFgPduqd/qa.png
+ convert /tmp/ashs.nFgPduqd/qa.png -bordercolor Black -border 1x1 /tmp/ashs.nFgPduqd/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ montage -label 26040:left /tmp/ashs.nFgPduqd/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_left_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.5 -v be=0.6 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.5 0.6'
CHUNK 0.5 0.6
+ echo 1
+ awk -v bs=0.5 -v be=0.6 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.5 0.55
+ echo 'CHUNK 0.5 0.55 1'
CHUNK 0.5 0.55 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.5 0.55 1
====================================
         PROGRESS: 0.5               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=right
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
Side: right
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz -raw-posteriors tse_native_chunk_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_right.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 9, 4], [73, 67, 46] (224986 pixels)
Computing mask based on input segmentations
  Skipping 105875 out of 224986 voxels.
............................................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_right.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -g tse_native_chunk_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_corr_usegray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
85:87:54
loading tse_native_chunk_right.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 379775
tc: 19555
mean intensity : sample #  180.894:31979
center location: (40.4332,43.2369,23.2764) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 1992
tc: 19555
center location: (51.1982,38.2136,12.5417) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 1 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3818
tc: 19555
center location: (42.7352,41.7672,21.8608) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 8272
tc: 19555
center location: (34.0871,45.0567,22.8334) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 318
tc: 19555
center location: (24.4558,44.999,36.7967) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 4100
tc: 19555
center location: (29.8447,43.9299,28.7295) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 1 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 510
tc: 19555
center location: (34.4436,49.6112,28.9054) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 28
tc: 19555
center location: (23.0051,38.3795,34.5325) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 517
tc: 19555
center location: (40.4834,44.1286,47.4014) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_corr_nogray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
85:87:54
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 379775
tc: 19555
center location: (40.4332,43.2369,23.2764) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 1992
tc: 19555
center location: (51.1982,38.2136,12.5417) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3818
tc: 19555
center location: (42.7352,41.7672,21.8608) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 1 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 8272
tc: 19555
center location: (34.0871,45.0567,22.8334) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 318
tc: 19555
center location: (24.4558,44.999,36.7967) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 4100
tc: 19555
center location: (29.8447,43.9299,28.7295) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 510
tc: 19555
center location: (34.4436,49.6112,28.9054) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 28
tc: 19555
center location: (23.0051,38.3795,34.5325) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/posterior_right_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 517
tc: 19555
center location: (40.4834,44.1286,47.4014) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -n '' ]]
++ [[ 0 -eq 1 ]]
++ echo multiatlas
+ MALFMODE=multiatlas
+ ashs_segmentation_qc right multiatlas heur
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.5SQGGy4W/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.5SQGGy4W/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.5SQGGy4W/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.5SQGGy4W/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.5SQGGy4W/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.5SQGGy4W/sag_seg_%02d.png
++ ls /tmp/ashs.5SQGGy4W/cor_mprage_00.png /tmp/ashs.5SQGGy4W/cor_mprage_01.png /tmp/ashs.5SQGGy4W/cor_mprage_02.png /tmp/ashs.5SQGGy4W/cor_mprage_03.png /tmp/ashs.5SQGGy4W/cor_mprage_04.png /tmp/ashs.5SQGGy4W/cor_seg_00.png /tmp/ashs.5SQGGy4W/cor_seg_03.png /tmp/ashs.5SQGGy4W/cor_seg_06.png /tmp/ashs.5SQGGy4W/cor_seg_09.png /tmp/ashs.5SQGGy4W/cor_seg_12.png /tmp/ashs.5SQGGy4W/cor_tse_00.png /tmp/ashs.5SQGGy4W/cor_tse_01.png /tmp/ashs.5SQGGy4W/cor_tse_02.png /tmp/ashs.5SQGGy4W/cor_tse_03.png /tmp/ashs.5SQGGy4W/cor_tse_04.png /tmp/ashs.5SQGGy4W/sag_mprage_00.png /tmp/ashs.5SQGGy4W/sag_mprage_01.png /tmp/ashs.5SQGGy4W/sag_seg_00.png /tmp/ashs.5SQGGy4W/sag_seg_03.png /tmp/ashs.5SQGGy4W/sag_tse_00.png /tmp/ashs.5SQGGy4W/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_mprage_00.png /tmp/ashs.5SQGGy4W/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_mprage_01.png /tmp/ashs.5SQGGy4W/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_mprage_02.png /tmp/ashs.5SQGGy4W/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_mprage_03.png /tmp/ashs.5SQGGy4W/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_mprage_04.png /tmp/ashs.5SQGGy4W/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_seg_00.png /tmp/ashs.5SQGGy4W/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_seg_03.png /tmp/ashs.5SQGGy4W/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_seg_06.png /tmp/ashs.5SQGGy4W/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_seg_09.png /tmp/ashs.5SQGGy4W/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_seg_12.png /tmp/ashs.5SQGGy4W/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_tse_00.png /tmp/ashs.5SQGGy4W/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_tse_01.png /tmp/ashs.5SQGGy4W/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_tse_02.png /tmp/ashs.5SQGGy4W/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_tse_03.png /tmp/ashs.5SQGGy4W/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_tse_04.png /tmp/ashs.5SQGGy4W/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_mprage_00.png /tmp/ashs.5SQGGy4W/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_mprage_01.png /tmp/ashs.5SQGGy4W/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_seg_00.png /tmp/ashs.5SQGGy4W/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_seg_03.png /tmp/ashs.5SQGGy4W/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_tse_00.png /tmp/ashs.5SQGGy4W/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_tse_01.png /tmp/ashs.5SQGGy4W/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.5SQGGy4W/cor_tse_00.png /tmp/ashs.5SQGGy4W/cor_tse_01.png /tmp/ashs.5SQGGy4W/cor_tse_02.png /tmp/ashs.5SQGGy4W/cor_tse_03.png /tmp/ashs.5SQGGy4W/cor_tse_04.png /tmp/ashs.5SQGGy4W/sag_tse_00.png /tmp/ashs.5SQGGy4W/sag_tse_01.png /tmp/ashs.5SQGGy4W/cor_mprage_00.png /tmp/ashs.5SQGGy4W/cor_mprage_01.png /tmp/ashs.5SQGGy4W/cor_mprage_02.png /tmp/ashs.5SQGGy4W/cor_mprage_03.png /tmp/ashs.5SQGGy4W/cor_mprage_04.png /tmp/ashs.5SQGGy4W/sag_mprage_00.png /tmp/ashs.5SQGGy4W/sag_mprage_01.png /tmp/ashs.5SQGGy4W/cor_seg_00.png /tmp/ashs.5SQGGy4W/cor_seg_03.png /tmp/ashs.5SQGGy4W/cor_seg_06.png /tmp/ashs.5SQGGy4W/cor_seg_09.png /tmp/ashs.5SQGGy4W/cor_seg_12.png /tmp/ashs.5SQGGy4W/sag_seg_00.png /tmp/ashs.5SQGGy4W/sag_seg_03.png /tmp/ashs.5SQGGy4W/qa.png
+ convert /tmp/ashs.5SQGGy4W/qa.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ montage -label 26040:right /tmp/ashs.5SQGGy4W/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_multiatlas_heur_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_multiatlas_heur_right_qa.png
+ ashs_segmentation_qc right multiatlas corr_usegray
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.5SQGGy4W/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.5SQGGy4W/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.5SQGGy4W/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.5SQGGy4W/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.5SQGGy4W/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.5SQGGy4W/sag_seg_%02d.png
++ ls /tmp/ashs.5SQGGy4W/cor_mprage_00.png /tmp/ashs.5SQGGy4W/cor_mprage_01.png /tmp/ashs.5SQGGy4W/cor_mprage_02.png /tmp/ashs.5SQGGy4W/cor_mprage_03.png /tmp/ashs.5SQGGy4W/cor_mprage_04.png /tmp/ashs.5SQGGy4W/cor_seg_00.png /tmp/ashs.5SQGGy4W/cor_seg_03.png /tmp/ashs.5SQGGy4W/cor_seg_06.png /tmp/ashs.5SQGGy4W/cor_seg_09.png /tmp/ashs.5SQGGy4W/cor_seg_12.png /tmp/ashs.5SQGGy4W/cor_tse_00.png /tmp/ashs.5SQGGy4W/cor_tse_01.png /tmp/ashs.5SQGGy4W/cor_tse_02.png /tmp/ashs.5SQGGy4W/cor_tse_03.png /tmp/ashs.5SQGGy4W/cor_tse_04.png /tmp/ashs.5SQGGy4W/sag_mprage_00.png /tmp/ashs.5SQGGy4W/sag_mprage_01.png /tmp/ashs.5SQGGy4W/sag_seg_00.png /tmp/ashs.5SQGGy4W/sag_seg_03.png /tmp/ashs.5SQGGy4W/sag_tse_00.png /tmp/ashs.5SQGGy4W/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_mprage_00.png /tmp/ashs.5SQGGy4W/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_mprage_01.png /tmp/ashs.5SQGGy4W/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_mprage_02.png /tmp/ashs.5SQGGy4W/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_mprage_03.png /tmp/ashs.5SQGGy4W/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_mprage_04.png /tmp/ashs.5SQGGy4W/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_seg_00.png /tmp/ashs.5SQGGy4W/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_seg_03.png /tmp/ashs.5SQGGy4W/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_seg_06.png /tmp/ashs.5SQGGy4W/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_seg_09.png /tmp/ashs.5SQGGy4W/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_seg_12.png /tmp/ashs.5SQGGy4W/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_tse_00.png /tmp/ashs.5SQGGy4W/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_tse_01.png /tmp/ashs.5SQGGy4W/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_tse_02.png /tmp/ashs.5SQGGy4W/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_tse_03.png /tmp/ashs.5SQGGy4W/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_tse_04.png /tmp/ashs.5SQGGy4W/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_mprage_00.png /tmp/ashs.5SQGGy4W/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_mprage_01.png /tmp/ashs.5SQGGy4W/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_seg_00.png /tmp/ashs.5SQGGy4W/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_seg_03.png /tmp/ashs.5SQGGy4W/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_tse_00.png /tmp/ashs.5SQGGy4W/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_tse_01.png /tmp/ashs.5SQGGy4W/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.5SQGGy4W/cor_tse_00.png /tmp/ashs.5SQGGy4W/cor_tse_01.png /tmp/ashs.5SQGGy4W/cor_tse_02.png /tmp/ashs.5SQGGy4W/cor_tse_03.png /tmp/ashs.5SQGGy4W/cor_tse_04.png /tmp/ashs.5SQGGy4W/sag_tse_00.png /tmp/ashs.5SQGGy4W/sag_tse_01.png /tmp/ashs.5SQGGy4W/cor_mprage_00.png /tmp/ashs.5SQGGy4W/cor_mprage_01.png /tmp/ashs.5SQGGy4W/cor_mprage_02.png /tmp/ashs.5SQGGy4W/cor_mprage_03.png /tmp/ashs.5SQGGy4W/cor_mprage_04.png /tmp/ashs.5SQGGy4W/sag_mprage_00.png /tmp/ashs.5SQGGy4W/sag_mprage_01.png /tmp/ashs.5SQGGy4W/cor_seg_00.png /tmp/ashs.5SQGGy4W/cor_seg_03.png /tmp/ashs.5SQGGy4W/cor_seg_06.png /tmp/ashs.5SQGGy4W/cor_seg_09.png /tmp/ashs.5SQGGy4W/cor_seg_12.png /tmp/ashs.5SQGGy4W/sag_seg_00.png /tmp/ashs.5SQGGy4W/sag_seg_03.png /tmp/ashs.5SQGGy4W/qa.png
+ convert /tmp/ashs.5SQGGy4W/qa.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ montage -label 26040:right /tmp/ashs.5SQGGy4W/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_right_qa.png
+ ashs_segmentation_qc right multiatlas corr_nogray
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.5SQGGy4W/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.5SQGGy4W/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.5SQGGy4W/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.5SQGGy4W/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.5SQGGy4W/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.5SQGGy4W/sag_seg_%02d.png
++ ls /tmp/ashs.5SQGGy4W/cor_mprage_00.png /tmp/ashs.5SQGGy4W/cor_mprage_01.png /tmp/ashs.5SQGGy4W/cor_mprage_02.png /tmp/ashs.5SQGGy4W/cor_mprage_03.png /tmp/ashs.5SQGGy4W/cor_mprage_04.png /tmp/ashs.5SQGGy4W/cor_seg_00.png /tmp/ashs.5SQGGy4W/cor_seg_03.png /tmp/ashs.5SQGGy4W/cor_seg_06.png /tmp/ashs.5SQGGy4W/cor_seg_09.png /tmp/ashs.5SQGGy4W/cor_seg_12.png /tmp/ashs.5SQGGy4W/cor_tse_00.png /tmp/ashs.5SQGGy4W/cor_tse_01.png /tmp/ashs.5SQGGy4W/cor_tse_02.png /tmp/ashs.5SQGGy4W/cor_tse_03.png /tmp/ashs.5SQGGy4W/cor_tse_04.png /tmp/ashs.5SQGGy4W/sag_mprage_00.png /tmp/ashs.5SQGGy4W/sag_mprage_01.png /tmp/ashs.5SQGGy4W/sag_seg_00.png /tmp/ashs.5SQGGy4W/sag_seg_03.png /tmp/ashs.5SQGGy4W/sag_tse_00.png /tmp/ashs.5SQGGy4W/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_mprage_00.png /tmp/ashs.5SQGGy4W/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_mprage_01.png /tmp/ashs.5SQGGy4W/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_mprage_02.png /tmp/ashs.5SQGGy4W/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_mprage_03.png /tmp/ashs.5SQGGy4W/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_mprage_04.png /tmp/ashs.5SQGGy4W/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_seg_00.png /tmp/ashs.5SQGGy4W/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_seg_03.png /tmp/ashs.5SQGGy4W/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_seg_06.png /tmp/ashs.5SQGGy4W/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_seg_09.png /tmp/ashs.5SQGGy4W/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_seg_12.png /tmp/ashs.5SQGGy4W/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_tse_00.png /tmp/ashs.5SQGGy4W/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_tse_01.png /tmp/ashs.5SQGGy4W/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_tse_02.png /tmp/ashs.5SQGGy4W/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_tse_03.png /tmp/ashs.5SQGGy4W/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/cor_tse_04.png /tmp/ashs.5SQGGy4W/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_mprage_00.png /tmp/ashs.5SQGGy4W/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_mprage_01.png /tmp/ashs.5SQGGy4W/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_seg_00.png /tmp/ashs.5SQGGy4W/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_seg_03.png /tmp/ashs.5SQGGy4W/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_tse_00.png /tmp/ashs.5SQGGy4W/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5SQGGy4W/sag_tse_01.png /tmp/ashs.5SQGGy4W/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5SQGGy4W/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.5SQGGy4W/cor_tse_00.png /tmp/ashs.5SQGGy4W/cor_tse_01.png /tmp/ashs.5SQGGy4W/cor_tse_02.png /tmp/ashs.5SQGGy4W/cor_tse_03.png /tmp/ashs.5SQGGy4W/cor_tse_04.png /tmp/ashs.5SQGGy4W/sag_tse_00.png /tmp/ashs.5SQGGy4W/sag_tse_01.png /tmp/ashs.5SQGGy4W/cor_mprage_00.png /tmp/ashs.5SQGGy4W/cor_mprage_01.png /tmp/ashs.5SQGGy4W/cor_mprage_02.png /tmp/ashs.5SQGGy4W/cor_mprage_03.png /tmp/ashs.5SQGGy4W/cor_mprage_04.png /tmp/ashs.5SQGGy4W/sag_mprage_00.png /tmp/ashs.5SQGGy4W/sag_mprage_01.png /tmp/ashs.5SQGGy4W/cor_seg_00.png /tmp/ashs.5SQGGy4W/cor_seg_03.png /tmp/ashs.5SQGGy4W/cor_seg_06.png /tmp/ashs.5SQGGy4W/cor_seg_09.png /tmp/ashs.5SQGGy4W/cor_seg_12.png /tmp/ashs.5SQGGy4W/sag_seg_00.png /tmp/ashs.5SQGGy4W/sag_seg_03.png /tmp/ashs.5SQGGy4W/qa.png
+ convert /tmp/ashs.5SQGGy4W/qa.png -bordercolor Black -border 1x1 /tmp/ashs.5SQGGy4W/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ montage -label 26040:right /tmp/ashs.5SQGGy4W/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.5 -v be=0.6 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.5 0.6'
CHUNK 0.5 0.6
+ echo 1
+ awk -v bs=0.5 -v be=0.6 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.55 0.6
+ echo 'CHUNK 0.55 0.6 1'
CHUNK 0.55 0.6 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.55 0.6 1
====================================
         PROGRESS: 0.55               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 3 successful
------------------------------------------------
[0m
****************************************
Starting stage 4: Boostrapped ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 4: Boostrapped ROI registration 
to all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 000
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2272.35 	 OutFr   0.0000 	 RMSD     1.9305
Iter 002 	 Temp     3.72 	 Delta  2123.96 	 OutFr   0.0000 	 RMSD     1.8007
Iter 003 	 Temp     3.46 	 Delta  1950.05 	 OutFr   0.0000 	 RMSD     1.8397
Iter 004 	 Temp     3.22 	 Delta  1790.26 	 OutFr   0.0000 	 RMSD     1.8373
Iter 005 	 Temp     2.99 	 Delta  1642.71 	 OutFr   0.0000 	 RMSD     1.8229
Iter 006 	 Temp     2.78 	 Delta  1506.90 	 OutFr   0.0000 	 RMSD     1.8048
Iter 007 	 Temp     2.59 	 Delta  1383.85 	 OutFr   0.0000 	 RMSD     1.7866
Iter 008 	 Temp     2.41 	 Delta  1274.65 	 OutFr   0.0000 	 RMSD     1.7687
Iter 009 	 Temp     2.24 	 Delta  1179.42 	 OutFr   0.0000 	 RMSD     1.7523
Iter 010 	 Temp     2.08 	 Delta  1096.77 	 OutFr   0.0000 	 RMSD     1.7377
Iter 011 	 Temp     1.94 	 Delta  1024.21 	 OutFr   0.0000 	 RMSD     1.7253
Iter 012 	 Temp     1.80 	 Delta   958.67 	 OutFr   0.0000 	 RMSD     1.7145
Iter 013 	 Temp     1.67 	 Delta   897.19 	 OutFr   0.0000 	 RMSD     1.7056
Iter 014 	 Temp     1.56 	 Delta   837.69 	 OutFr   0.0000 	 RMSD     1.6972
Iter 015 	 Temp     1.45 	 Delta   780.77 	 OutFr   0.0000 	 RMSD     1.6897
Iter 016 	 Temp     1.35 	 Delta   728.76 	 OutFr   0.0000 	 RMSD     1.6837
Iter 017 	 Temp     1.25 	 Delta   681.82 	 OutFr   0.0024 	 RMSD     1.6782
Iter 018 	 Temp     1.16 	 Delta   639.91 	 OutFr   0.0049 	 RMSD     1.6741
Iter 019 	 Temp     1.08 	 Delta   602.43 	 OutFr   0.0073 	 RMSD     1.6703
Iter 020 	 Temp     1.01 	 Delta   568.65 	 OutFr   0.0146 	 RMSD     1.6672
Iter 021 	 Temp     0.94 	 Delta   539.42 	 OutFr   0.0195 	 RMSD     1.6644
Iter 022 	 Temp     0.87 	 Delta   514.90 	 OutFr   0.0293 	 RMSD     1.6618
Iter 023 	 Temp     0.81 	 Delta   493.62 	 OutFr   0.0439 	 RMSD     1.6592
Iter 024 	 Temp     0.75 	 Delta   473.19 	 OutFr   0.0585 	 RMSD     1.6571
Iter 025 	 Temp     0.70 	 Delta   451.97 	 OutFr   0.0683 	 RMSD     1.6557
Iter 026 	 Temp     0.65 	 Delta   430.00 	 OutFr   0.0756 	 RMSD     1.6555
Iter 027 	 Temp     0.61 	 Delta   407.54 	 OutFr   0.0951 	 RMSD     1.6565
Iter 028 	 Temp     0.56 	 Delta   381.80 	 OutFr   0.1122 	 RMSD     1.6589
Iter 029 	 Temp     0.52 	 Delta   353.25 	 OutFr   0.1366 	 RMSD     1.6618
Iter 030 	 Temp     0.49 	 Delta   323.42 	 OutFr   0.1561 	 RMSD     1.6644
Iter 031 	 Temp     0.45 	 Delta   293.36 	 OutFr   0.1902 	 RMSD     1.6666
Iter 032 	 Temp     0.42 	 Delta   263.31 	 OutFr   0.2195 	 RMSD     1.6686
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.zuIoi1Ti/mybin.nii.gz
+ vtklevelset /tmp/ashs.zuIoi1Ti/mybin.nii.gz /tmp/ashs.zuIoi1Ti/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.zuIoi1Ti/mymesh.vtk /tmp/ashs.zuIoi1Ti/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3392.54731833   0.99807325
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.zuIoi1Ti/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -40.4295 to -15.7309
   Y : -15.5772 to 34.4147
   Z : -25.9043 to 0.538945
   Image resolution  : 100 by 173 by 105
   Image box origin  : {-45.4295, -20.5772, -30.9043}
   Image box size    : {34.7222, 60.0694, 36.7496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [45.4295, 20.5772, -30.9043]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat -o /tmp/ashs.zuIoi1Ti/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat -o /tmp/ashs.zuIoi1Ti/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.zuIoi1Ti/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.6 0.605769
+ echo 'CHUNK 0.6 0.605769 0.5'
CHUNK 0.6 0.605769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.6 0.605769 0.5
====================================
         PROGRESS: 0.6               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.zuIoi1Ti/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.zuIoi1Ti/fixed_hw.nii.gz /tmp/ashs.zuIoi1Ti/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.462543, moving = 0.732936
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.36462, 2.35749], [0.982092, 0.965352, 0.96244]
Level     0,  Iter     0:    Energy =   0.0693
Level     0,  Iter     1:    Energy =   0.0756
Level     0,  Iter     2:    Energy =   0.0828
Level     0,  Iter     3:    Energy =   0.0883
Level     0,  Iter     4:    Energy =   0.0930
Level     0,  Iter     5:    Energy =   0.0972
Level     0,  Iter     6:    Energy =   0.1005
Level     0,  Iter     7:    Energy =   0.1017
Level     0,  Iter     8:    Energy =   0.1021
Level     0,  Iter     9:    Energy =   0.1044
Level     0,  Iter    10:    Energy =   0.1042
Level     0,  Iter    11:    Energy =   0.1045
Level     0,  Iter    12:    Energy =   0.1045
Level     0,  Iter    13:    Energy =   0.1058
Level     0,  Iter    14:    Energy =   0.1055
Level     0,  Iter    15:    Energy =   0.1059
Level     0,  Iter    16:    Energy =   0.1058
Level     0,  Iter    17:    Energy =   0.1073
Level     0,  Iter    18:    Energy =   0.1070
Level     0,  Iter    19:    Energy =   0.1071
Level     0,  Iter    20:    Energy =   0.1069
Level     0,  Iter    21:    Energy =   0.1082
Level     0,  Iter    22:    Energy =   0.1078
Level     0,  Iter    23:    Energy =   0.1076
Level     0,  Iter    24:    Energy =   0.1074
Level     0,  Iter    25:    Energy =   0.1085
Level     0,  Iter    26:    Energy =   0.1082
Level     0,  Iter    27:    Energy =   0.1082
Level     0,  Iter    28:    Energy =   0.1080
Level     0,  Iter    29:    Energy =   0.1089
Level     0,  Iter    30:    Energy =   0.1087
Level     0,  Iter    31:    Energy =   0.1085
Level     0,  Iter    32:    Energy =   0.1083
Level     0,  Iter    33:    Energy =   0.1089
Level     0,  Iter    34:    Energy =   0.1087
Level     0,  Iter    35:    Energy =   0.1087
Level     0,  Iter    36:    Energy =   0.1084
Level     0,  Iter    37:    Energy =   0.1088
Level     0,  Iter    38:    Energy =   0.1087
Level     0,  Iter    39:    Energy =   0.1089
Level     0,  Iter    40:    Energy =   0.1086
Level     0,  Iter    41:    Energy =   0.1087
Level     0,  Iter    42:    Energy =   0.1085
Level     0,  Iter    43:    Energy =   0.1090
Level     0,  Iter    44:    Energy =   0.1087
Level     0,  Iter    45:    Energy =   0.1085
Level     0,  Iter    46:    Energy =   0.1084
Level     0,  Iter    47:    Energy =   0.1093
Level     0,  Iter    48:    Energy =   0.1090
Level     0,  Iter    49:    Energy =   0.1085
Level     0,  Iter    50:    Energy =   0.1084
Level     0,  Iter    51:    Energy =   0.1091
Level     0,  Iter    52:    Energy =   0.1089
Level     0,  Iter    53:    Energy =   0.1087
Level     0,  Iter    54:    Energy =   0.1086
Level     0,  Iter    55:    Energy =   0.1092
Level     0,  Iter    56:    Energy =   0.1091
Level     0,  Iter    57:    Energy =   0.1089
Level     0,  Iter    58:    Energy =   0.1087
Level     0,  Iter    59:    Energy =   0.1092
END OF LEVEL     0    DetJac Range:   0.4770  to   2.1498 
  Avg. Gradient Time  : 0.0069s  37.91% 
  Avg. Gaussian Time  : 0.0087s  47.51% 
  Avg. Iteration Time : 0.0182s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.1959, 1.20098], [0.491046, 0.488224, 0.4903]
Level     1,  Iter     0:    Energy =   0.0705
Level     1,  Iter     1:    Energy =   0.0752
Level     1,  Iter     2:    Energy =   0.0792
Level     1,  Iter     3:    Energy =   0.0823
Level     1,  Iter     4:    Energy =   0.0846
Level     1,  Iter     5:    Energy =   0.0867
Level     1,  Iter     6:    Energy =   0.0883
Level     1,  Iter     7:    Energy =   0.0898
Level     1,  Iter     8:    Energy =   0.0913
Level     1,  Iter     9:    Energy =   0.0928
Level     1,  Iter    10:    Energy =   0.0937
Level     1,  Iter    11:    Energy =   0.0942
Level     1,  Iter    12:    Energy =   0.0946
Level     1,  Iter    13:    Energy =   0.0949
Level     1,  Iter    14:    Energy =   0.0952
Level     1,  Iter    15:    Energy =   0.0956
Level     1,  Iter    16:    Energy =   0.0959
Level     1,  Iter    17:    Energy =   0.0959
Level     1,  Iter    18:    Energy =   0.0958
Level     1,  Iter    19:    Energy =   0.0962
Level     1,  Iter    20:    Energy =   0.0960
Level     1,  Iter    21:    Energy =   0.0965
Level     1,  Iter    22:    Energy =   0.0965
Level     1,  Iter    23:    Energy =   0.0968
Level     1,  Iter    24:    Energy =   0.0966
Level     1,  Iter    25:    Energy =   0.0971
Level     1,  Iter    26:    Energy =   0.0970
Level     1,  Iter    27:    Energy =   0.0971
Level     1,  Iter    28:    Energy =   0.0972
Level     1,  Iter    29:    Energy =   0.0973
Level     1,  Iter    30:    Energy =   0.0972
Level     1,  Iter    31:    Energy =   0.0975
Level     1,  Iter    32:    Energy =   0.0974
Level     1,  Iter    33:    Energy =   0.0978
Level     1,  Iter    34:    Energy =   0.0976
Level     1,  Iter    35:    Energy =   0.0981
Level     1,  Iter    36:    Energy =   0.0979
Level     1,  Iter    37:    Energy =   0.0983
Level     1,  Iter    38:    Energy =   0.0980
Level     1,  Iter    39:    Energy =   0.0984
Level     1,  Iter    40:    Energy =   0.0981
Level     1,  Iter    41:    Energy =   0.0984
Level     1,  Iter    42:    Energy =   0.0981
Level     1,  Iter    43:    Energy =   0.0985
Level     1,  Iter    44:    Energy =   0.0983
Level     1,  Iter    45:    Energy =   0.0986
Level     1,  Iter    46:    Energy =   0.0982
Level     1,  Iter    47:    Energy =   0.0987
Level     1,  Iter    48:    Energy =   0.0984
Level     1,  Iter    49:    Energy =   0.0988
Level     1,  Iter    50:    Energy =   0.0984
Level     1,  Iter    51:    Energy =   0.0988
Level     1,  Iter    52:    Energy =   0.0986
Level     1,  Iter    53:    Energy =   0.0988
Level     1,  Iter    54:    Energy =   0.0985
Level     1,  Iter    55:    Energy =   0.0989
Level     1,  Iter    56:    Energy =   0.0986
Level     1,  Iter    57:    Energy =   0.0989
Level     1,  Iter    58:    Energy =   0.0986
Level     1,  Iter    59:    Energy =   0.0990
END OF LEVEL     1    DetJac Range:   0.1850  to   2.9451 
  Avg. Gradient Time  : 0.0413s  40.77% 
  Avg. Gaussian Time  : 0.0483s  47.74% 
  Avg. Iteration Time : 0.1012s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0515
Level     2,  Iter     1:    Energy =   0.0540
Level     2,  Iter     2:    Energy =   0.0568
Level     2,  Iter     3:    Energy =   0.0589
Level     2,  Iter     4:    Energy =   0.0611
Level     2,  Iter     5:    Energy =   0.0629
Level     2,  Iter     6:    Energy =   0.0644
Level     2,  Iter     7:    Energy =   0.0658
Level     2,  Iter     8:    Energy =   0.0669
Level     2,  Iter     9:    Energy =   0.0680
Level     2,  Iter    10:    Energy =   0.0691
Level     2,  Iter    11:    Energy =   0.0702
Level     2,  Iter    12:    Energy =   0.0712
Level     2,  Iter    13:    Energy =   0.0713
Level     2,  Iter    14:    Energy =   0.0718
Level     2,  Iter    15:    Energy =   0.0718
Level     2,  Iter    16:    Energy =   0.0723
Level     2,  Iter    17:    Energy =   0.0723
Level     2,  Iter    18:    Energy =   0.0727
Level     2,  Iter    19:    Energy =   0.0727
END OF LEVEL     2    DetJac Range:   0.0950  to   3.9501 
  Avg. Gradient Time  : 0.2871s  37.75% 
  Avg. Gaussian Time  : 0.3936s  51.75% 
  Avg. Iteration Time : 0.7605s 

real	0m25.308s
user	0m44.352s
sys	0m2.724s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.6 0.605769
+ echo 'CHUNK 0.6 0.605769 1'
CHUNK 0.6 0.605769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.6 0.605769 1
====================================
         PROGRESS: 0.6               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 001
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2074.71 	 OutFr   0.0000 	 RMSD     2.5569
Iter 002 	 Temp     3.72 	 Delta  1852.54 	 OutFr   0.0000 	 RMSD     2.0066
Iter 003 	 Temp     3.46 	 Delta  1710.14 	 OutFr   0.0000 	 RMSD     2.0050
Iter 004 	 Temp     3.22 	 Delta  1592.07 	 OutFr   0.0000 	 RMSD     1.9887
Iter 005 	 Temp     2.99 	 Delta  1489.23 	 OutFr   0.0000 	 RMSD     1.9720
Iter 006 	 Temp     2.78 	 Delta  1398.04 	 OutFr   0.0000 	 RMSD     1.9579
Iter 007 	 Temp     2.59 	 Delta  1316.05 	 OutFr   0.0000 	 RMSD     1.9461
Iter 008 	 Temp     2.41 	 Delta  1241.56 	 OutFr   0.0000 	 RMSD     1.9363
Iter 009 	 Temp     2.24 	 Delta  1173.63 	 OutFr   0.0024 	 RMSD     1.9284
Iter 010 	 Temp     2.08 	 Delta  1111.47 	 OutFr   0.0024 	 RMSD     1.9215
Iter 011 	 Temp     1.94 	 Delta  1054.41 	 OutFr   0.0024 	 RMSD     1.9161
Iter 012 	 Temp     1.80 	 Delta  1002.74 	 OutFr   0.0024 	 RMSD     1.9117
Iter 013 	 Temp     1.67 	 Delta   956.60 	 OutFr   0.0049 	 RMSD     1.9086
Iter 014 	 Temp     1.56 	 Delta   915.01 	 OutFr   0.0049 	 RMSD     1.9065
Iter 015 	 Temp     1.45 	 Delta   876.79 	 OutFr   0.0073 	 RMSD     1.9048
Iter 016 	 Temp     1.35 	 Delta   840.68 	 OutFr   0.0146 	 RMSD     1.9031
Iter 017 	 Temp     1.25 	 Delta   804.50 	 OutFr   0.0195 	 RMSD     1.9015
Iter 018 	 Temp     1.16 	 Delta   765.85 	 OutFr   0.0244 	 RMSD     1.8998
Iter 019 	 Temp     1.08 	 Delta   724.03 	 OutFr   0.0293 	 RMSD     1.8981
Iter 020 	 Temp     1.01 	 Delta   679.83 	 OutFr   0.0488 	 RMSD     1.8962
Iter 021 	 Temp     0.94 	 Delta   636.65 	 OutFr   0.0659 	 RMSD     1.8942
Iter 022 	 Temp     0.87 	 Delta   596.23 	 OutFr   0.0854 	 RMSD     1.8936
Iter 023 	 Temp     0.81 	 Delta   553.59 	 OutFr   0.1024 	 RMSD     1.8947
Iter 024 	 Temp     0.75 	 Delta   504.60 	 OutFr   0.1195 	 RMSD     1.8964
Iter 025 	 Temp     0.70 	 Delta   450.03 	 OutFr   0.1341 	 RMSD     1.8995
Iter 026 	 Temp     0.65 	 Delta   400.86 	 OutFr   0.1585 	 RMSD     1.9050
Iter 027 	 Temp     0.61 	 Delta   361.03 	 OutFr   0.1854 	 RMSD     1.9143
Iter 028 	 Temp     0.56 	 Delta   329.30 	 OutFr   0.2098 	 RMSD     1.9257
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.7mpxzT7e/mybin.nii.gz
+ vtklevelset /tmp/ashs.7mpxzT7e/mybin.nii.gz /tmp/ashs.7mpxzT7e/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.7mpxzT7e/mymesh.vtk /tmp/ashs.7mpxzT7e/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3216.40124118   0.94625181
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.7mpxzT7e/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -37.2921 to -12.3185
   Y : -10.6835 to 36.3912
   Z : -22.0564 to 4.42096
   Image resolution  : 101 by 165 by 105
   Image box origin  : {-42.2921, -15.6835, -27.0564}
   Image box size    : {35.0694, 57.2916, 36.7496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [42.2921, 15.6835, -27.0564]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat -o /tmp/ashs.7mpxzT7e/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat -o /tmp/ashs.7mpxzT7e/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.7mpxzT7e/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.605769 0.611538
+ echo 'CHUNK 0.605769 0.611538 0.5'
CHUNK 0.605769 0.611538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.605769 0.611538 0.5
====================================
         PROGRESS: 0.605769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.7mpxzT7e/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.7mpxzT7e/fixed_hw.nii.gz /tmp/ashs.7mpxzT7e/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.460144, moving = 0.707077
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.36267, 2.35749], [0.953763, 0.964555, 0.96244]
Level     0,  Iter     0:    Energy =   0.0481
Level     0,  Iter     1:    Energy =   0.0532
Level     0,  Iter     2:    Energy =   0.0583
Level     0,  Iter     3:    Energy =   0.0626
Level     0,  Iter     4:    Energy =   0.0663
Level     0,  Iter     5:    Energy =   0.0699
Level     0,  Iter     6:    Energy =   0.0730
Level     0,  Iter     7:    Energy =   0.0758
Level     0,  Iter     8:    Energy =   0.0781
Level     0,  Iter     9:    Energy =   0.0797
Level     0,  Iter    10:    Energy =   0.0813
Level     0,  Iter    11:    Energy =   0.0822
Level     0,  Iter    12:    Energy =   0.0830
Level     0,  Iter    13:    Energy =   0.0833
Level     0,  Iter    14:    Energy =   0.0842
Level     0,  Iter    15:    Energy =   0.0844
Level     0,  Iter    16:    Energy =   0.0852
Level     0,  Iter    17:    Energy =   0.0854
Level     0,  Iter    18:    Energy =   0.0862
Level     0,  Iter    19:    Energy =   0.0864
Level     0,  Iter    20:    Energy =   0.0871
Level     0,  Iter    21:    Energy =   0.0872
Level     0,  Iter    22:    Energy =   0.0878
Level     0,  Iter    23:    Energy =   0.0878
Level     0,  Iter    24:    Energy =   0.0883
Level     0,  Iter    25:    Energy =   0.0883
Level     0,  Iter    26:    Energy =   0.0888
Level     0,  Iter    27:    Energy =   0.0888
Level     0,  Iter    28:    Energy =   0.0893
Level     0,  Iter    29:    Energy =   0.0893
Level     0,  Iter    30:    Energy =   0.0898
Level     0,  Iter    31:    Energy =   0.0899
Level     0,  Iter    32:    Energy =   0.0904
Level     0,  Iter    33:    Energy =   0.0906
Level     0,  Iter    34:    Energy =   0.0911
Level     0,  Iter    35:    Energy =   0.0912
Level     0,  Iter    36:    Energy =   0.0915
Level     0,  Iter    37:    Energy =   0.0916
Level     0,  Iter    38:    Energy =   0.0918
Level     0,  Iter    39:    Energy =   0.0919
Level     0,  Iter    40:    Energy =   0.0922
Level     0,  Iter    41:    Energy =   0.0922
Level     0,  Iter    42:    Energy =   0.0925
Level     0,  Iter    43:    Energy =   0.0926
Level     0,  Iter    44:    Energy =   0.0927
Level     0,  Iter    45:    Energy =   0.0928
Level     0,  Iter    46:    Energy =   0.0930
Level     0,  Iter    47:    Energy =   0.0931
Level     0,  Iter    48:    Energy =   0.0933
Level     0,  Iter    49:    Energy =   0.0934
Level     0,  Iter    50:    Energy =   0.0935
Level     0,  Iter    51:    Energy =   0.0937
Level     0,  Iter    52:    Energy =   0.0938
Level     0,  Iter    53:    Energy =   0.0939
Level     0,  Iter    54:    Energy =   0.0940
Level     0,  Iter    55:    Energy =   0.0942
Level     0,  Iter    56:    Energy =   0.0942
Level     0,  Iter    57:    Energy =   0.0943
Level     0,  Iter    58:    Energy =   0.0943
Level     0,  Iter    59:    Energy =   0.0944
END OF LEVEL     0    DetJac Range:   0.3842  to   2.3036 
  Avg. Gradient Time  : 0.0077s  38.00% 
  Avg. Gaussian Time  : 0.0097s  47.44% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.19557, 1.20098], [0.486232, 0.488088, 0.4903]
Level     1,  Iter     0:    Energy =   0.0615
Level     1,  Iter     1:    Energy =   0.0666
Level     1,  Iter     2:    Energy =   0.0700
Level     1,  Iter     3:    Energy =   0.0731
Level     1,  Iter     4:    Energy =   0.0754
Level     1,  Iter     5:    Energy =   0.0774
Level     1,  Iter     6:    Energy =   0.0791
Level     1,  Iter     7:    Energy =   0.0806
Level     1,  Iter     8:    Energy =   0.0817
Level     1,  Iter     9:    Energy =   0.0829
Level     1,  Iter    10:    Energy =   0.0839
Level     1,  Iter    11:    Energy =   0.0849
Level     1,  Iter    12:    Energy =   0.0855
Level     1,  Iter    13:    Energy =   0.0854
Level     1,  Iter    14:    Energy =   0.0860
Level     1,  Iter    15:    Energy =   0.0859
Level     1,  Iter    16:    Energy =   0.0863
Level     1,  Iter    17:    Energy =   0.0861
Level     1,  Iter    18:    Energy =   0.0866
Level     1,  Iter    19:    Energy =   0.0864
Level     1,  Iter    20:    Energy =   0.0869
Level     1,  Iter    21:    Energy =   0.0867
Level     1,  Iter    22:    Energy =   0.0872
Level     1,  Iter    23:    Energy =   0.0869
Level     1,  Iter    24:    Energy =   0.0873
Level     1,  Iter    25:    Energy =   0.0871
Level     1,  Iter    26:    Energy =   0.0874
Level     1,  Iter    27:    Energy =   0.0872
Level     1,  Iter    28:    Energy =   0.0876
Level     1,  Iter    29:    Energy =   0.0873
Level     1,  Iter    30:    Energy =   0.0876
Level     1,  Iter    31:    Energy =   0.0874
Level     1,  Iter    32:    Energy =   0.0877
Level     1,  Iter    33:    Energy =   0.0875
Level     1,  Iter    34:    Energy =   0.0878
Level     1,  Iter    35:    Energy =   0.0875
Level     1,  Iter    36:    Energy =   0.0879
Level     1,  Iter    37:    Energy =   0.0876
Level     1,  Iter    38:    Energy =   0.0879
Level     1,  Iter    39:    Energy =   0.0877
Level     1,  Iter    40:    Energy =   0.0880
Level     1,  Iter    41:    Energy =   0.0877
Level     1,  Iter    42:    Energy =   0.0881
Level     1,  Iter    43:    Energy =   0.0878
Level     1,  Iter    44:    Energy =   0.0881
Level     1,  Iter    45:    Energy =   0.0878
Level     1,  Iter    46:    Energy =   0.0882
Level     1,  Iter    47:    Energy =   0.0879
Level     1,  Iter    48:    Energy =   0.0882
Level     1,  Iter    49:    Energy =   0.0880
Level     1,  Iter    50:    Energy =   0.0883
Level     1,  Iter    51:    Energy =   0.0880
Level     1,  Iter    52:    Energy =   0.0883
Level     1,  Iter    53:    Energy =   0.0881
Level     1,  Iter    54:    Energy =   0.0884
Level     1,  Iter    55:    Energy =   0.0881
Level     1,  Iter    56:    Energy =   0.0884
Level     1,  Iter    57:    Energy =   0.0882
Level     1,  Iter    58:    Energy =   0.0885
Level     1,  Iter    59:    Energy =   0.0882
END OF LEVEL     1    DetJac Range:   0.1501  to   3.0085 
  Avg. Gradient Time  : 0.0444s  40.14% 
  Avg. Gaussian Time  : 0.0533s  48.13% 
  Avg. Iteration Time : 0.1106s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0455
Level     2,  Iter     1:    Energy =   0.0483
Level     2,  Iter     2:    Energy =   0.0506
Level     2,  Iter     3:    Energy =   0.0527
Level     2,  Iter     4:    Energy =   0.0542
Level     2,  Iter     5:    Energy =   0.0555
Level     2,  Iter     6:    Energy =   0.0566
Level     2,  Iter     7:    Energy =   0.0576
Level     2,  Iter     8:    Energy =   0.0582
Level     2,  Iter     9:    Energy =   0.0587
Level     2,  Iter    10:    Energy =   0.0591
Level     2,  Iter    11:    Energy =   0.0595
Level     2,  Iter    12:    Energy =   0.0598
Level     2,  Iter    13:    Energy =   0.0602
Level     2,  Iter    14:    Energy =   0.0606
Level     2,  Iter    15:    Energy =   0.0612
Level     2,  Iter    16:    Energy =   0.0618
Level     2,  Iter    17:    Energy =   0.0624
Level     2,  Iter    18:    Energy =   0.0630
Level     2,  Iter    19:    Energy =   0.0634
END OF LEVEL     2    DetJac Range:   0.1014  to   3.9647 
  Avg. Gradient Time  : 0.3113s  37.70% 
  Avg. Gaussian Time  : 0.4255s  51.52% 
  Avg. Iteration Time : 0.8257s 

real	0m27.640s
user	0m48.560s
sys	0m2.912s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.605769 0.611538
+ echo 'CHUNK 0.605769 0.611538 1'
CHUNK 0.605769 0.611538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.605769 0.611538 1
====================================
         PROGRESS: 0.605769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 002
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1726.44 	 OutFr   0.0024 	 RMSD     4.2050
Iter 002 	 Temp     3.72 	 Delta  1417.91 	 OutFr   0.0024 	 RMSD     2.2766
Iter 003 	 Temp     3.46 	 Delta  1324.06 	 OutFr   0.0024 	 RMSD     2.1845
Iter 004 	 Temp     3.22 	 Delta  1256.33 	 OutFr   0.0024 	 RMSD     2.1582
Iter 005 	 Temp     2.99 	 Delta  1196.60 	 OutFr   0.0024 	 RMSD     2.1391
Iter 006 	 Temp     2.78 	 Delta  1143.39 	 OutFr   0.0024 	 RMSD     2.1256
Iter 007 	 Temp     2.59 	 Delta  1096.70 	 OutFr   0.0024 	 RMSD     2.1155
Iter 008 	 Temp     2.41 	 Delta  1055.91 	 OutFr   0.0024 	 RMSD     2.1076
Iter 009 	 Temp     2.24 	 Delta  1019.67 	 OutFr   0.0024 	 RMSD     2.1012
Iter 010 	 Temp     2.08 	 Delta   986.54 	 OutFr   0.0024 	 RMSD     2.0969
Iter 011 	 Temp     1.94 	 Delta   955.73 	 OutFr   0.0024 	 RMSD     2.0937
Iter 012 	 Temp     1.80 	 Delta   926.84 	 OutFr   0.0122 	 RMSD     2.0915
Iter 013 	 Temp     1.67 	 Delta   899.17 	 OutFr   0.0122 	 RMSD     2.0893
Iter 014 	 Temp     1.56 	 Delta   872.40 	 OutFr   0.0195 	 RMSD     2.0883
Iter 015 	 Temp     1.45 	 Delta   846.82 	 OutFr   0.0317 	 RMSD     2.0883
Iter 016 	 Temp     1.35 	 Delta   822.13 	 OutFr   0.0341 	 RMSD     2.0889
Iter 017 	 Temp     1.25 	 Delta   796.32 	 OutFr   0.0439 	 RMSD     2.0898
Iter 018 	 Temp     1.16 	 Delta   765.61 	 OutFr   0.0537 	 RMSD     2.0912
Iter 019 	 Temp     1.08 	 Delta   725.25 	 OutFr   0.0561 	 RMSD     2.0928
Iter 020 	 Temp     1.01 	 Delta   673.84 	 OutFr   0.0634 	 RMSD     2.0946
Iter 021 	 Temp     0.94 	 Delta   618.02 	 OutFr   0.0805 	 RMSD     2.0959
Iter 022 	 Temp     0.87 	 Delta   568.31 	 OutFr   0.0902 	 RMSD     2.0963
Iter 023 	 Temp     0.81 	 Delta   527.62 	 OutFr   0.1073 	 RMSD     2.0965
Iter 024 	 Temp     0.75 	 Delta   490.52 	 OutFr   0.1341 	 RMSD     2.0974
Iter 025 	 Temp     0.70 	 Delta   453.99 	 OutFr   0.1634 	 RMSD     2.0986
Iter 026 	 Temp     0.65 	 Delta   418.64 	 OutFr   0.1829 	 RMSD     2.1017
Iter 027 	 Temp     0.61 	 Delta   384.41 	 OutFr   0.2098 	 RMSD     2.1064
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.9T8rJhHg/mybin.nii.gz
+ vtklevelset /tmp/ashs.9T8rJhHg/mybin.nii.gz /tmp/ashs.9T8rJhHg/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.9T8rJhHg/mymesh.vtk /tmp/ashs.9T8rJhHg/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3162.27974971   0.93032949
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.9T8rJhHg/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -41.6666 to -17.5363
   Y : -19.5206 to 25.0803
   Z : -18.6263 to 12.0557
   Image resolution  : 99 by 158 by 117
   Image box origin  : {-46.6666, -24.5206, -23.6263}
   Image box size    : {34.375, 54.8611, 40.9495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [46.6666, 24.5206, -23.6263]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat -o /tmp/ashs.9T8rJhHg/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat -o /tmp/ashs.9T8rJhHg/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.9T8rJhHg/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.611538 0.617308
+ echo 'CHUNK 0.611538 0.617308 0.5'
CHUNK 0.611538 0.617308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.611538 0.617308 0.5
====================================
         PROGRESS: 0.611538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.9T8rJhHg/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.9T8rJhHg/fixed_hw.nii.gz /tmp/ashs.9T8rJhHg/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.462207, moving = 0.523772
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.37555, 2.36422], [0.972271, 0.969816, 0.96519]
Level     0,  Iter     0:    Energy =   0.0503
Level     0,  Iter     1:    Energy =   0.0562
Level     0,  Iter     2:    Energy =   0.0615
Level     0,  Iter     3:    Energy =   0.0661
Level     0,  Iter     4:    Energy =   0.0705
Level     0,  Iter     5:    Energy =   0.0743
Level     0,  Iter     6:    Energy =   0.0774
Level     0,  Iter     7:    Energy =   0.0804
Level     0,  Iter     8:    Energy =   0.0823
Level     0,  Iter     9:    Energy =   0.0830
Level     0,  Iter    10:    Energy =   0.0837
Level     0,  Iter    11:    Energy =   0.0840
Level     0,  Iter    12:    Energy =   0.0846
Level     0,  Iter    13:    Energy =   0.0848
Level     0,  Iter    14:    Energy =   0.0851
Level     0,  Iter    15:    Energy =   0.0853
Level     0,  Iter    16:    Energy =   0.0860
Level     0,  Iter    17:    Energy =   0.0861
Level     0,  Iter    18:    Energy =   0.0865
Level     0,  Iter    19:    Energy =   0.0866
Level     0,  Iter    20:    Energy =   0.0873
Level     0,  Iter    21:    Energy =   0.0872
Level     0,  Iter    22:    Energy =   0.0875
Level     0,  Iter    23:    Energy =   0.0875
Level     0,  Iter    24:    Energy =   0.0881
Level     0,  Iter    25:    Energy =   0.0879
Level     0,  Iter    26:    Energy =   0.0879
Level     0,  Iter    27:    Energy =   0.0877
Level     0,  Iter    28:    Energy =   0.0884
Level     0,  Iter    29:    Energy =   0.0882
Level     0,  Iter    30:    Energy =   0.0884
Level     0,  Iter    31:    Energy =   0.0882
Level     0,  Iter    32:    Energy =   0.0888
Level     0,  Iter    33:    Energy =   0.0885
Level     0,  Iter    34:    Energy =   0.0887
Level     0,  Iter    35:    Energy =   0.0885
Level     0,  Iter    36:    Energy =   0.0889
Level     0,  Iter    37:    Energy =   0.0886
Level     0,  Iter    38:    Energy =   0.0887
Level     0,  Iter    39:    Energy =   0.0884
Level     0,  Iter    40:    Energy =   0.0889
Level     0,  Iter    41:    Energy =   0.0886
Level     0,  Iter    42:    Energy =   0.0888
Level     0,  Iter    43:    Energy =   0.0885
Level     0,  Iter    44:    Energy =   0.0888
Level     0,  Iter    45:    Energy =   0.0886
Level     0,  Iter    46:    Energy =   0.0889
Level     0,  Iter    47:    Energy =   0.0886
Level     0,  Iter    48:    Energy =   0.0889
Level     0,  Iter    49:    Energy =   0.0887
Level     0,  Iter    50:    Energy =   0.0889
Level     0,  Iter    51:    Energy =   0.0886
Level     0,  Iter    52:    Energy =   0.0890
Level     0,  Iter    53:    Energy =   0.0887
Level     0,  Iter    54:    Energy =   0.0890
Level     0,  Iter    55:    Energy =   0.0889
Level     0,  Iter    56:    Energy =   0.0890
Level     0,  Iter    57:    Energy =   0.0888
Level     0,  Iter    58:    Energy =   0.0891
Level     0,  Iter    59:    Energy =   0.0889
END OF LEVEL     0    DetJac Range:   0.1946  to   2.2692 
  Avg. Gradient Time  : 0.0079s  37.53% 
  Avg. Gaussian Time  : 0.0099s  47.40% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.20281, 1.20215], [0.486136, 0.491046, 0.490774]
Level     1,  Iter     0:    Energy =   0.0585
Level     1,  Iter     1:    Energy =   0.0633
Level     1,  Iter     2:    Energy =   0.0671
Level     1,  Iter     3:    Energy =   0.0692
Level     1,  Iter     4:    Energy =   0.0713
Level     1,  Iter     5:    Energy =   0.0732
Level     1,  Iter     6:    Energy =   0.0749
Level     1,  Iter     7:    Energy =   0.0762
Level     1,  Iter     8:    Energy =   0.0775
Level     1,  Iter     9:    Energy =   0.0788
Level     1,  Iter    10:    Energy =   0.0798
Level     1,  Iter    11:    Energy =   0.0811
Level     1,  Iter    12:    Energy =   0.0821
Level     1,  Iter    13:    Energy =   0.0830
Level     1,  Iter    14:    Energy =   0.0833
Level     1,  Iter    15:    Energy =   0.0834
Level     1,  Iter    16:    Energy =   0.0836
Level     1,  Iter    17:    Energy =   0.0837
Level     1,  Iter    18:    Energy =   0.0840
Level     1,  Iter    19:    Energy =   0.0841
Level     1,  Iter    20:    Energy =   0.0843
Level     1,  Iter    21:    Energy =   0.0844
Level     1,  Iter    22:    Energy =   0.0846
Level     1,  Iter    23:    Energy =   0.0847
Level     1,  Iter    24:    Energy =   0.0848
Level     1,  Iter    25:    Energy =   0.0849
Level     1,  Iter    26:    Energy =   0.0851
Level     1,  Iter    27:    Energy =   0.0851
Level     1,  Iter    28:    Energy =   0.0853
Level     1,  Iter    29:    Energy =   0.0853
Level     1,  Iter    30:    Energy =   0.0856
Level     1,  Iter    31:    Energy =   0.0855
Level     1,  Iter    32:    Energy =   0.0858
Level     1,  Iter    33:    Energy =   0.0857
Level     1,  Iter    34:    Energy =   0.0860
Level     1,  Iter    35:    Energy =   0.0859
Level     1,  Iter    36:    Energy =   0.0862
Level     1,  Iter    37:    Energy =   0.0861
Level     1,  Iter    38:    Energy =   0.0865
Level     1,  Iter    39:    Energy =   0.0863
Level     1,  Iter    40:    Energy =   0.0866
Level     1,  Iter    41:    Energy =   0.0864
Level     1,  Iter    42:    Energy =   0.0866
Level     1,  Iter    43:    Energy =   0.0864
Level     1,  Iter    44:    Energy =   0.0867
Level     1,  Iter    45:    Energy =   0.0864
Level     1,  Iter    46:    Energy =   0.0867
Level     1,  Iter    47:    Energy =   0.0865
Level     1,  Iter    48:    Energy =   0.0868
Level     1,  Iter    49:    Energy =   0.0865
Level     1,  Iter    50:    Energy =   0.0869
Level     1,  Iter    51:    Energy =   0.0866
Level     1,  Iter    52:    Energy =   0.0869
Level     1,  Iter    53:    Energy =   0.0867
Level     1,  Iter    54:    Energy =   0.0869
Level     1,  Iter    55:    Energy =   0.0866
Level     1,  Iter    56:    Energy =   0.0870
Level     1,  Iter    57:    Energy =   0.0867
Level     1,  Iter    58:    Energy =   0.0870
Level     1,  Iter    59:    Energy =   0.0867
END OF LEVEL     1    DetJac Range:   0.1315  to   2.7268 
  Avg. Gradient Time  : 0.0459s  40.02% 
  Avg. Gaussian Time  : 0.0552s  48.09% 
  Avg. Iteration Time : 0.1148s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0478
Level     2,  Iter     1:    Energy =   0.0509
Level     2,  Iter     2:    Energy =   0.0535
Level     2,  Iter     3:    Energy =   0.0559
Level     2,  Iter     4:    Energy =   0.0577
Level     2,  Iter     5:    Energy =   0.0591
Level     2,  Iter     6:    Energy =   0.0604
Level     2,  Iter     7:    Energy =   0.0616
Level     2,  Iter     8:    Energy =   0.0625
Level     2,  Iter     9:    Energy =   0.0634
Level     2,  Iter    10:    Energy =   0.0641
Level     2,  Iter    11:    Energy =   0.0642
Level     2,  Iter    12:    Energy =   0.0648
Level     2,  Iter    13:    Energy =   0.0646
Level     2,  Iter    14:    Energy =   0.0653
Level     2,  Iter    15:    Energy =   0.0653
Level     2,  Iter    16:    Energy =   0.0658
Level     2,  Iter    17:    Energy =   0.0656
Level     2,  Iter    18:    Energy =   0.0662
Level     2,  Iter    19:    Energy =   0.0661
END OF LEVEL     2    DetJac Range:   0.1397  to   3.2274 
  Avg. Gradient Time  : 0.3213s  37.33% 
  Avg. Gaussian Time  : 0.4474s  51.98% 
  Avg. Iteration Time : 0.8607s 

real	0m28.718s
user	0m50.696s
sys	0m2.948s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.611538 0.617308
+ echo 'CHUNK 0.611538 0.617308 1'
CHUNK 0.611538 0.617308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.611538 0.617308 1
====================================
         PROGRESS: 0.611538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 003
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1848.58 	 OutFr   0.0000 	 RMSD     2.4972
Iter 002 	 Temp     3.72 	 Delta  1609.74 	 OutFr   0.0000 	 RMSD     1.8960
Iter 003 	 Temp     3.46 	 Delta  1462.13 	 OutFr   0.0000 	 RMSD     1.9538
Iter 004 	 Temp     3.22 	 Delta  1330.00 	 OutFr   0.0000 	 RMSD     1.9448
Iter 005 	 Temp     2.99 	 Delta  1213.11 	 OutFr   0.0000 	 RMSD     1.9234
Iter 006 	 Temp     2.78 	 Delta  1112.26 	 OutFr   0.0000 	 RMSD     1.9034
Iter 007 	 Temp     2.59 	 Delta  1027.16 	 OutFr   0.0000 	 RMSD     1.8859
Iter 008 	 Temp     2.41 	 Delta   956.49 	 OutFr   0.0000 	 RMSD     1.8725
Iter 009 	 Temp     2.24 	 Delta   897.74 	 OutFr   0.0000 	 RMSD     1.8620
Iter 010 	 Temp     2.08 	 Delta   847.18 	 OutFr   0.0024 	 RMSD     1.8536
Iter 011 	 Temp     1.94 	 Delta   800.15 	 OutFr   0.0024 	 RMSD     1.8467
Iter 012 	 Temp     1.80 	 Delta   752.58 	 OutFr   0.0024 	 RMSD     1.8411
Iter 013 	 Temp     1.67 	 Delta   702.83 	 OutFr   0.0024 	 RMSD     1.8368
Iter 014 	 Temp     1.56 	 Delta   652.37 	 OutFr   0.0024 	 RMSD     1.8337
Iter 015 	 Temp     1.45 	 Delta   604.97 	 OutFr   0.0024 	 RMSD     1.8318
Iter 016 	 Temp     1.35 	 Delta   564.68 	 OutFr   0.0024 	 RMSD     1.8307
Iter 017 	 Temp     1.25 	 Delta   533.59 	 OutFr   0.0073 	 RMSD     1.8307
Iter 018 	 Temp     1.16 	 Delta   508.70 	 OutFr   0.0146 	 RMSD     1.8310
Iter 019 	 Temp     1.08 	 Delta   486.45 	 OutFr   0.0195 	 RMSD     1.8313
Iter 020 	 Temp     1.01 	 Delta   466.43 	 OutFr   0.0244 	 RMSD     1.8313
Iter 021 	 Temp     0.94 	 Delta   448.88 	 OutFr   0.0341 	 RMSD     1.8309
Iter 022 	 Temp     0.87 	 Delta   432.84 	 OutFr   0.0463 	 RMSD     1.8303
Iter 023 	 Temp     0.81 	 Delta   417.42 	 OutFr   0.0512 	 RMSD     1.8297
Iter 024 	 Temp     0.75 	 Delta   403.13 	 OutFr   0.0610 	 RMSD     1.8292
Iter 025 	 Temp     0.70 	 Delta   390.66 	 OutFr   0.0683 	 RMSD     1.8288
Iter 026 	 Temp     0.65 	 Delta   378.80 	 OutFr   0.0854 	 RMSD     1.8285
Iter 027 	 Temp     0.61 	 Delta   365.62 	 OutFr   0.0927 	 RMSD     1.8283
Iter 028 	 Temp     0.56 	 Delta   350.71 	 OutFr   0.1000 	 RMSD     1.8280
Iter 029 	 Temp     0.52 	 Delta   332.36 	 OutFr   0.1146 	 RMSD     1.8286
Iter 030 	 Temp     0.49 	 Delta   308.40 	 OutFr   0.1366 	 RMSD     1.8304
Iter 031 	 Temp     0.45 	 Delta   281.03 	 OutFr   0.1805 	 RMSD     1.8325
Iter 032 	 Temp     0.42 	 Delta   254.30 	 OutFr   0.2122 	 RMSD     1.8343
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.StLaV6ME/mybin.nii.gz
+ vtklevelset /tmp/ashs.StLaV6ME/mybin.nii.gz /tmp/ashs.StLaV6ME/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.StLaV6ME/mymesh.vtk /tmp/ashs.StLaV6ME/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 2938.98021437   0.86463570
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.StLaV6ME/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -37.4384 to -14.3566
   Y : -11.9194 to 34.3073
   Z : -30.0787 to -6.15683
   Image resolution  : 96 by 162 by 97
   Image box origin  : {-42.4384, -16.9194, -35.0787}
   Image box size    : {33.3333, 56.25, 33.9496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [42.4384, 16.9194, -35.0787]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat -o /tmp/ashs.StLaV6ME/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat -o /tmp/ashs.StLaV6ME/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.StLaV6ME/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.617308 0.623077
+ echo 'CHUNK 0.617308 0.623077 0.5'
CHUNK 0.617308 0.623077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.617308 0.623077 0.5
====================================
         PROGRESS: 0.617308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.StLaV6ME/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.StLaV6ME/fixed_hw.nii.gz /tmp/ashs.StLaV6ME/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.466147, moving = 0.2283
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37629, 2.3521], [0.982092, 0.970115, 0.96024]
Level     0,  Iter     0:    Energy =   0.0345
Level     0,  Iter     1:    Energy =   0.0419
Level     0,  Iter     2:    Energy =   0.0480
Level     0,  Iter     3:    Energy =   0.0524
Level     0,  Iter     4:    Energy =   0.0561
Level     0,  Iter     5:    Energy =   0.0600
Level     0,  Iter     6:    Energy =   0.0650
Level     0,  Iter     7:    Energy =   0.0685
Level     0,  Iter     8:    Energy =   0.0709
Level     0,  Iter     9:    Energy =   0.0735
Level     0,  Iter    10:    Energy =   0.0745
Level     0,  Iter    11:    Energy =   0.0750
Level     0,  Iter    12:    Energy =   0.0769
Level     0,  Iter    13:    Energy =   0.0780
Level     0,  Iter    14:    Energy =   0.0783
Level     0,  Iter    15:    Energy =   0.0785
Level     0,  Iter    16:    Energy =   0.0790
Level     0,  Iter    17:    Energy =   0.0790
Level     0,  Iter    18:    Energy =   0.0800
Level     0,  Iter    19:    Energy =   0.0803
Level     0,  Iter    20:    Energy =   0.0802
Level     0,  Iter    21:    Energy =   0.0802
Level     0,  Iter    22:    Energy =   0.0811
Level     0,  Iter    23:    Energy =   0.0811
Level     0,  Iter    24:    Energy =   0.0810
Level     0,  Iter    25:    Energy =   0.0810
Level     0,  Iter    26:    Energy =   0.0814
Level     0,  Iter    27:    Energy =   0.0816
Level     0,  Iter    28:    Energy =   0.0814
Level     0,  Iter    29:    Energy =   0.0814
Level     0,  Iter    30:    Energy =   0.0817
Level     0,  Iter    31:    Energy =   0.0820
Level     0,  Iter    32:    Energy =   0.0819
Level     0,  Iter    33:    Energy =   0.0818
Level     0,  Iter    34:    Energy =   0.0820
Level     0,  Iter    35:    Energy =   0.0820
Level     0,  Iter    36:    Energy =   0.0820
Level     0,  Iter    37:    Energy =   0.0819
Level     0,  Iter    38:    Energy =   0.0821
Level     0,  Iter    39:    Energy =   0.0823
Level     0,  Iter    40:    Energy =   0.0823
Level     0,  Iter    41:    Energy =   0.0821
Level     0,  Iter    42:    Energy =   0.0823
Level     0,  Iter    43:    Energy =   0.0824
Level     0,  Iter    44:    Energy =   0.0825
Level     0,  Iter    45:    Energy =   0.0822
Level     0,  Iter    46:    Energy =   0.0825
Level     0,  Iter    47:    Energy =   0.0827
Level     0,  Iter    48:    Energy =   0.0828
Level     0,  Iter    49:    Energy =   0.0826
Level     0,  Iter    50:    Energy =   0.0829
Level     0,  Iter    51:    Energy =   0.0831
Level     0,  Iter    52:    Energy =   0.0832
Level     0,  Iter    53:    Energy =   0.0829
Level     0,  Iter    54:    Energy =   0.0833
Level     0,  Iter    55:    Energy =   0.0835
Level     0,  Iter    56:    Energy =   0.0836
Level     0,  Iter    57:    Energy =   0.0832
Level     0,  Iter    58:    Energy =   0.0837
Level     0,  Iter    59:    Energy =   0.0838
END OF LEVEL     0    DetJac Range:   0.1875  to   2.8319 
  Avg. Gradient Time  : 0.0069s  37.71% 
  Avg. Gaussian Time  : 0.0086s  47.27% 
  Avg. Iteration Time : 0.0182s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20005], [0.491046, 0.491046, 0.489918]
Level     1,  Iter     0:    Energy =   0.0570
Level     1,  Iter     1:    Energy =   0.0615
Level     1,  Iter     2:    Energy =   0.0650
Level     1,  Iter     3:    Energy =   0.0684
Level     1,  Iter     4:    Energy =   0.0713
Level     1,  Iter     5:    Energy =   0.0733
Level     1,  Iter     6:    Energy =   0.0745
Level     1,  Iter     7:    Energy =   0.0756
Level     1,  Iter     8:    Energy =   0.0772
Level     1,  Iter     9:    Energy =   0.0786
Level     1,  Iter    10:    Energy =   0.0798
Level     1,  Iter    11:    Energy =   0.0806
Level     1,  Iter    12:    Energy =   0.0808
Level     1,  Iter    13:    Energy =   0.0815
Level     1,  Iter    14:    Energy =   0.0817
Level     1,  Iter    15:    Energy =   0.0822
Level     1,  Iter    16:    Energy =   0.0824
Level     1,  Iter    17:    Energy =   0.0828
Level     1,  Iter    18:    Energy =   0.0830
Level     1,  Iter    19:    Energy =   0.0833
Level     1,  Iter    20:    Energy =   0.0835
Level     1,  Iter    21:    Energy =   0.0837
Level     1,  Iter    22:    Energy =   0.0839
Level     1,  Iter    23:    Energy =   0.0840
Level     1,  Iter    24:    Energy =   0.0843
Level     1,  Iter    25:    Energy =   0.0844
Level     1,  Iter    26:    Energy =   0.0847
Level     1,  Iter    27:    Energy =   0.0847
Level     1,  Iter    28:    Energy =   0.0850
Level     1,  Iter    29:    Energy =   0.0849
Level     1,  Iter    30:    Energy =   0.0852
Level     1,  Iter    31:    Energy =   0.0851
Level     1,  Iter    32:    Energy =   0.0854
Level     1,  Iter    33:    Energy =   0.0853
Level     1,  Iter    34:    Energy =   0.0856
Level     1,  Iter    35:    Energy =   0.0855
Level     1,  Iter    36:    Energy =   0.0858
Level     1,  Iter    37:    Energy =   0.0857
Level     1,  Iter    38:    Energy =   0.0860
Level     1,  Iter    39:    Energy =   0.0859
Level     1,  Iter    40:    Energy =   0.0861
Level     1,  Iter    41:    Energy =   0.0860
Level     1,  Iter    42:    Energy =   0.0862
Level     1,  Iter    43:    Energy =   0.0861
Level     1,  Iter    44:    Energy =   0.0863
Level     1,  Iter    45:    Energy =   0.0861
Level     1,  Iter    46:    Energy =   0.0864
Level     1,  Iter    47:    Energy =   0.0862
Level     1,  Iter    48:    Energy =   0.0864
Level     1,  Iter    49:    Energy =   0.0863
Level     1,  Iter    50:    Energy =   0.0865
Level     1,  Iter    51:    Energy =   0.0863
Level     1,  Iter    52:    Energy =   0.0866
Level     1,  Iter    53:    Energy =   0.0864
Level     1,  Iter    54:    Energy =   0.0866
Level     1,  Iter    55:    Energy =   0.0864
Level     1,  Iter    56:    Energy =   0.0867
Level     1,  Iter    57:    Energy =   0.0865
Level     1,  Iter    58:    Energy =   0.0867
Level     1,  Iter    59:    Energy =   0.0865
END OF LEVEL     1    DetJac Range:   0.0789  to   3.8930 
  Avg. Gradient Time  : 0.0383s  40.68% 
  Avg. Gaussian Time  : 0.0446s  47.34% 
  Avg. Iteration Time : 0.0942s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0445
Level     2,  Iter     1:    Energy =   0.0470
Level     2,  Iter     2:    Energy =   0.0489
Level     2,  Iter     3:    Energy =   0.0509
Level     2,  Iter     4:    Energy =   0.0528
Level     2,  Iter     5:    Energy =   0.0542
Level     2,  Iter     6:    Energy =   0.0553
Level     2,  Iter     7:    Energy =   0.0562
Level     2,  Iter     8:    Energy =   0.0570
Level     2,  Iter     9:    Energy =   0.0578
Level     2,  Iter    10:    Energy =   0.0587
Level     2,  Iter    11:    Energy =   0.0595
Level     2,  Iter    12:    Energy =   0.0601
Level     2,  Iter    13:    Energy =   0.0608
Level     2,  Iter    14:    Energy =   0.0616
Level     2,  Iter    15:    Energy =   0.0622
Level     2,  Iter    16:    Energy =   0.0625
Level     2,  Iter    17:    Energy =   0.0626
Level     2,  Iter    18:    Energy =   0.0627
Level     2,  Iter    19:    Energy =   0.0628
END OF LEVEL     2    DetJac Range:   0.0719  to   4.2367 
  Avg. Gradient Time  : 0.2674s  37.66% 
  Avg. Gaussian Time  : 0.3669s  51.66% 
  Avg. Iteration Time : 0.7102s 

real	0m23.773s
user	0m41.716s
sys	0m2.500s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.617308 0.623077
+ echo 'CHUNK 0.617308 0.623077 1'
CHUNK 0.617308 0.623077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.617308 0.623077 1
====================================
         PROGRESS: 0.617308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 004
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1449.30 	 OutFr   0.0000 	 RMSD     2.6451
Iter 002 	 Temp     3.72 	 Delta  1333.51 	 OutFr   0.0000 	 RMSD     1.7573
Iter 003 	 Temp     3.46 	 Delta  1232.49 	 OutFr   0.0000 	 RMSD     1.8010
Iter 004 	 Temp     3.22 	 Delta  1136.77 	 OutFr   0.0000 	 RMSD     1.7896
Iter 005 	 Temp     2.99 	 Delta  1048.45 	 OutFr   0.0000 	 RMSD     1.7659
Iter 006 	 Temp     2.78 	 Delta   968.50 	 OutFr   0.0000 	 RMSD     1.7413
Iter 007 	 Temp     2.59 	 Delta   897.33 	 OutFr   0.0024 	 RMSD     1.7194
Iter 008 	 Temp     2.41 	 Delta   835.04 	 OutFr   0.0024 	 RMSD     1.7006
Iter 009 	 Temp     2.24 	 Delta   781.44 	 OutFr   0.0024 	 RMSD     1.6847
Iter 010 	 Temp     2.08 	 Delta   736.00 	 OutFr   0.0024 	 RMSD     1.6714
Iter 011 	 Temp     1.94 	 Delta   697.84 	 OutFr   0.0024 	 RMSD     1.6612
Iter 012 	 Temp     1.80 	 Delta   665.83 	 OutFr   0.0024 	 RMSD     1.6533
Iter 013 	 Temp     1.67 	 Delta   638.66 	 OutFr   0.0049 	 RMSD     1.6468
Iter 014 	 Temp     1.56 	 Delta   615.17 	 OutFr   0.0049 	 RMSD     1.6418
Iter 015 	 Temp     1.45 	 Delta   594.48 	 OutFr   0.0098 	 RMSD     1.6378
Iter 016 	 Temp     1.35 	 Delta   575.69 	 OutFr   0.0122 	 RMSD     1.6349
Iter 017 	 Temp     1.25 	 Delta   557.80 	 OutFr   0.0122 	 RMSD     1.6326
Iter 018 	 Temp     1.16 	 Delta   539.62 	 OutFr   0.0195 	 RMSD     1.6306
Iter 019 	 Temp     1.08 	 Delta   520.25 	 OutFr   0.0220 	 RMSD     1.6288
Iter 020 	 Temp     1.01 	 Delta   499.76 	 OutFr   0.0293 	 RMSD     1.6277
Iter 021 	 Temp     0.94 	 Delta   478.89 	 OutFr   0.0341 	 RMSD     1.6268
Iter 022 	 Temp     0.87 	 Delta   457.94 	 OutFr   0.0390 	 RMSD     1.6262
Iter 023 	 Temp     0.81 	 Delta   436.36 	 OutFr   0.0512 	 RMSD     1.6266
Iter 024 	 Temp     0.75 	 Delta   413.64 	 OutFr   0.0537 	 RMSD     1.6287
Iter 025 	 Temp     0.70 	 Delta   390.36 	 OutFr   0.0634 	 RMSD     1.6326
Iter 026 	 Temp     0.65 	 Delta   368.08 	 OutFr   0.0878 	 RMSD     1.6373
Iter 027 	 Temp     0.61 	 Delta   346.19 	 OutFr   0.1000 	 RMSD     1.6420
Iter 028 	 Temp     0.56 	 Delta   325.50 	 OutFr   0.1268 	 RMSD     1.6465
Iter 029 	 Temp     0.52 	 Delta   306.87 	 OutFr   0.1488 	 RMSD     1.6506
Iter 030 	 Temp     0.49 	 Delta   288.12 	 OutFr   0.1683 	 RMSD     1.6529
Iter 031 	 Temp     0.45 	 Delta   266.01 	 OutFr   0.1902 	 RMSD     1.6532
Iter 032 	 Temp     0.42 	 Delta   241.09 	 OutFr   0.2195 	 RMSD     1.6519
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.i8eofU1h/mybin.nii.gz
+ vtklevelset /tmp/ashs.i8eofU1h/mybin.nii.gz /tmp/ashs.i8eofU1h/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.i8eofU1h/mymesh.vtk /tmp/ashs.i8eofU1h/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 2918.23638067   0.85853295
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.i8eofU1h/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.744 to -11.7087
   Y : -9.3618 to 36.6551
   Z : -26.249 to -0.00464215
   Image resolution  : 96 by 162 by 104
   Image box origin  : {-39.744, -14.3618, -31.249}
   Image box size    : {33.3333, 56.25, 36.3996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.744, 14.3618, -31.249]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat -o /tmp/ashs.i8eofU1h/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat -o /tmp/ashs.i8eofU1h/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.i8eofU1h/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.623077 0.628846
+ echo 'CHUNK 0.623077 0.628846 0.5'
CHUNK 0.623077 0.628846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.623077 0.628846 0.5
====================================
         PROGRESS: 0.623077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.i8eofU1h/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.i8eofU1h/fixed_hw.nii.gz /tmp/ashs.i8eofU1h/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.46213, moving = 0.60838
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37629, 2.42484], [0.982092, 0.970115, 0.989938]
Level     0,  Iter     0:    Energy =   0.0601
Level     0,  Iter     1:    Energy =   0.0681
Level     0,  Iter     2:    Energy =   0.0741
Level     0,  Iter     3:    Energy =   0.0789
Level     0,  Iter     4:    Energy =   0.0829
Level     0,  Iter     5:    Energy =   0.0859
Level     0,  Iter     6:    Energy =   0.0893
Level     0,  Iter     7:    Energy =   0.0919
Level     0,  Iter     8:    Energy =   0.0937
Level     0,  Iter     9:    Energy =   0.0946
Level     0,  Iter    10:    Energy =   0.0951
Level     0,  Iter    11:    Energy =   0.0957
Level     0,  Iter    12:    Energy =   0.0961
Level     0,  Iter    13:    Energy =   0.0965
Level     0,  Iter    14:    Energy =   0.0968
Level     0,  Iter    15:    Energy =   0.0970
Level     0,  Iter    16:    Energy =   0.0972
Level     0,  Iter    17:    Energy =   0.0975
Level     0,  Iter    18:    Energy =   0.0976
Level     0,  Iter    19:    Energy =   0.0978
Level     0,  Iter    20:    Energy =   0.0980
Level     0,  Iter    21:    Energy =   0.0980
Level     0,  Iter    22:    Energy =   0.0982
Level     0,  Iter    23:    Energy =   0.0983
Level     0,  Iter    24:    Energy =   0.0984
Level     0,  Iter    25:    Energy =   0.0984
Level     0,  Iter    26:    Energy =   0.0985
Level     0,  Iter    27:    Energy =   0.0985
Level     0,  Iter    28:    Energy =   0.0986
Level     0,  Iter    29:    Energy =   0.0987
Level     0,  Iter    30:    Energy =   0.0987
Level     0,  Iter    31:    Energy =   0.0987
Level     0,  Iter    32:    Energy =   0.0988
Level     0,  Iter    33:    Energy =   0.0989
Level     0,  Iter    34:    Energy =   0.0989
Level     0,  Iter    35:    Energy =   0.0989
Level     0,  Iter    36:    Energy =   0.0990
Level     0,  Iter    37:    Energy =   0.0991
Level     0,  Iter    38:    Energy =   0.0992
Level     0,  Iter    39:    Energy =   0.0991
Level     0,  Iter    40:    Energy =   0.0992
Level     0,  Iter    41:    Energy =   0.0993
Level     0,  Iter    42:    Energy =   0.0993
Level     0,  Iter    43:    Energy =   0.0993
Level     0,  Iter    44:    Energy =   0.0993
Level     0,  Iter    45:    Energy =   0.0994
Level     0,  Iter    46:    Energy =   0.0994
Level     0,  Iter    47:    Energy =   0.0994
Level     0,  Iter    48:    Energy =   0.0995
Level     0,  Iter    49:    Energy =   0.0995
Level     0,  Iter    50:    Energy =   0.0996
Level     0,  Iter    51:    Energy =   0.0995
Level     0,  Iter    52:    Energy =   0.0996
Level     0,  Iter    53:    Energy =   0.0996
Level     0,  Iter    54:    Energy =   0.0996
Level     0,  Iter    55:    Energy =   0.0996
Level     0,  Iter    56:    Energy =   0.0997
Level     0,  Iter    57:    Energy =   0.0996
Level     0,  Iter    58:    Energy =   0.0997
Level     0,  Iter    59:    Energy =   0.0996
END OF LEVEL     0    DetJac Range:   0.3616  to   1.9305 
  Avg. Gradient Time  : 0.0071s  38.08% 
  Avg. Gaussian Time  : 0.0088s  47.14% 
  Avg. Iteration Time : 0.0187s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0691
Level     1,  Iter     1:    Energy =   0.0749
Level     1,  Iter     2:    Energy =   0.0785
Level     1,  Iter     3:    Energy =   0.0816
Level     1,  Iter     4:    Energy =   0.0849
Level     1,  Iter     5:    Energy =   0.0868
Level     1,  Iter     6:    Energy =   0.0878
Level     1,  Iter     7:    Energy =   0.0889
Level     1,  Iter     8:    Energy =   0.0902
Level     1,  Iter     9:    Energy =   0.0914
Level     1,  Iter    10:    Energy =   0.0925
Level     1,  Iter    11:    Energy =   0.0938
Level     1,  Iter    12:    Energy =   0.0949
Level     1,  Iter    13:    Energy =   0.0948
Level     1,  Iter    14:    Energy =   0.0948
Level     1,  Iter    15:    Energy =   0.0952
Level     1,  Iter    16:    Energy =   0.0952
Level     1,  Iter    17:    Energy =   0.0953
Level     1,  Iter    18:    Energy =   0.0954
Level     1,  Iter    19:    Energy =   0.0955
Level     1,  Iter    20:    Energy =   0.0955
Level     1,  Iter    21:    Energy =   0.0957
Level     1,  Iter    22:    Energy =   0.0957
Level     1,  Iter    23:    Energy =   0.0959
Level     1,  Iter    24:    Energy =   0.0959
Level     1,  Iter    25:    Energy =   0.0960
Level     1,  Iter    26:    Energy =   0.0960
Level     1,  Iter    27:    Energy =   0.0961
Level     1,  Iter    28:    Energy =   0.0962
Level     1,  Iter    29:    Energy =   0.0962
Level     1,  Iter    30:    Energy =   0.0962
Level     1,  Iter    31:    Energy =   0.0963
Level     1,  Iter    32:    Energy =   0.0963
Level     1,  Iter    33:    Energy =   0.0964
Level     1,  Iter    34:    Energy =   0.0964
Level     1,  Iter    35:    Energy =   0.0964
Level     1,  Iter    36:    Energy =   0.0965
Level     1,  Iter    37:    Energy =   0.0965
Level     1,  Iter    38:    Energy =   0.0965
Level     1,  Iter    39:    Energy =   0.0966
Level     1,  Iter    40:    Energy =   0.0966
Level     1,  Iter    41:    Energy =   0.0967
Level     1,  Iter    42:    Energy =   0.0967
Level     1,  Iter    43:    Energy =   0.0967
Level     1,  Iter    44:    Energy =   0.0967
Level     1,  Iter    45:    Energy =   0.0968
Level     1,  Iter    46:    Energy =   0.0968
Level     1,  Iter    47:    Energy =   0.0968
Level     1,  Iter    48:    Energy =   0.0968
Level     1,  Iter    49:    Energy =   0.0969
Level     1,  Iter    50:    Energy =   0.0968
Level     1,  Iter    51:    Energy =   0.0969
Level     1,  Iter    52:    Energy =   0.0969
Level     1,  Iter    53:    Energy =   0.0969
Level     1,  Iter    54:    Energy =   0.0969
Level     1,  Iter    55:    Energy =   0.0969
Level     1,  Iter    56:    Energy =   0.0970
Level     1,  Iter    57:    Energy =   0.0969
Level     1,  Iter    58:    Energy =   0.0970
Level     1,  Iter    59:    Energy =   0.0969
END OF LEVEL     1    DetJac Range:   0.1140  to   3.0948 
  Avg. Gradient Time  : 0.0405s  40.57% 
  Avg. Gaussian Time  : 0.0474s  47.53% 
  Avg. Iteration Time : 0.0998s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0513
Level     2,  Iter     1:    Energy =   0.0537
Level     2,  Iter     2:    Energy =   0.0560
Level     2,  Iter     3:    Energy =   0.0583
Level     2,  Iter     4:    Energy =   0.0601
Level     2,  Iter     5:    Energy =   0.0617
Level     2,  Iter     6:    Energy =   0.0631
Level     2,  Iter     7:    Energy =   0.0640
Level     2,  Iter     8:    Energy =   0.0648
Level     2,  Iter     9:    Energy =   0.0656
Level     2,  Iter    10:    Energy =   0.0663
Level     2,  Iter    11:    Energy =   0.0669
Level     2,  Iter    12:    Energy =   0.0673
Level     2,  Iter    13:    Energy =   0.0678
Level     2,  Iter    14:    Energy =   0.0681
Level     2,  Iter    15:    Energy =   0.0685
Level     2,  Iter    16:    Energy =   0.0689
Level     2,  Iter    17:    Energy =   0.0692
Level     2,  Iter    18:    Energy =   0.0695
Level     2,  Iter    19:    Energy =   0.0697
END OF LEVEL     2    DetJac Range:   0.0655  to   4.3437 
  Avg. Gradient Time  : 0.2867s  37.56% 
  Avg. Gaussian Time  : 0.3945s  51.68% 
  Avg. Iteration Time : 0.7633s 

real	0m25.387s
user	0m44.532s
sys	0m2.640s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.623077 0.628846
+ echo 'CHUNK 0.623077 0.628846 1'
CHUNK 0.623077 0.628846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.623077 0.628846 1
====================================
         PROGRESS: 0.623077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 005
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2146.36 	 OutFr   0.0000 	 RMSD     2.6774
Iter 002 	 Temp     3.72 	 Delta  1939.57 	 OutFr   0.0000 	 RMSD     2.0714
Iter 003 	 Temp     3.46 	 Delta  1775.40 	 OutFr   0.0000 	 RMSD     2.0587
Iter 004 	 Temp     3.22 	 Delta  1636.90 	 OutFr   0.0000 	 RMSD     2.0363
Iter 005 	 Temp     2.99 	 Delta  1519.30 	 OutFr   0.0000 	 RMSD     2.0178
Iter 006 	 Temp     2.78 	 Delta  1418.01 	 OutFr   0.0024 	 RMSD     2.0021
Iter 007 	 Temp     2.59 	 Delta  1330.43 	 OutFr   0.0024 	 RMSD     1.9890
Iter 008 	 Temp     2.41 	 Delta  1255.35 	 OutFr   0.0049 	 RMSD     1.9780
Iter 009 	 Temp     2.24 	 Delta  1191.50 	 OutFr   0.0049 	 RMSD     1.9691
Iter 010 	 Temp     2.08 	 Delta  1137.07 	 OutFr   0.0073 	 RMSD     1.9622
Iter 011 	 Temp     1.94 	 Delta  1089.84 	 OutFr   0.0073 	 RMSD     1.9570
Iter 012 	 Temp     1.80 	 Delta  1047.58 	 OutFr   0.0122 	 RMSD     1.9530
Iter 013 	 Temp     1.67 	 Delta  1008.10 	 OutFr   0.0146 	 RMSD     1.9498
Iter 014 	 Temp     1.56 	 Delta   969.03 	 OutFr   0.0244 	 RMSD     1.9469
Iter 015 	 Temp     1.45 	 Delta   927.72 	 OutFr   0.0293 	 RMSD     1.9445
Iter 016 	 Temp     1.35 	 Delta   882.33 	 OutFr   0.0366 	 RMSD     1.9423
Iter 017 	 Temp     1.25 	 Delta   833.04 	 OutFr   0.0390 	 RMSD     1.9402
Iter 018 	 Temp     1.16 	 Delta   782.03 	 OutFr   0.0463 	 RMSD     1.9378
Iter 019 	 Temp     1.08 	 Delta   732.16 	 OutFr   0.0537 	 RMSD     1.9352
Iter 020 	 Temp     1.01 	 Delta   683.65 	 OutFr   0.0659 	 RMSD     1.9328
Iter 021 	 Temp     0.94 	 Delta   636.64 	 OutFr   0.0829 	 RMSD     1.9311
Iter 022 	 Temp     0.87 	 Delta   592.61 	 OutFr   0.0951 	 RMSD     1.9301
Iter 023 	 Temp     0.81 	 Delta   549.51 	 OutFr   0.1098 	 RMSD     1.9296
Iter 024 	 Temp     0.75 	 Delta   504.51 	 OutFr   0.1220 	 RMSD     1.9289
Iter 025 	 Temp     0.70 	 Delta   459.78 	 OutFr   0.1439 	 RMSD     1.9267
Iter 026 	 Temp     0.65 	 Delta   419.37 	 OutFr   0.1634 	 RMSD     1.9249
Iter 027 	 Temp     0.61 	 Delta   385.09 	 OutFr   0.1976 	 RMSD     1.9239
Iter 028 	 Temp     0.56 	 Delta   351.38 	 OutFr   0.2122 	 RMSD     1.9236
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.diYXDqdg/mybin.nii.gz
+ vtklevelset /tmp/ashs.diYXDqdg/mybin.nii.gz /tmp/ashs.diYXDqdg/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.diYXDqdg/mymesh.vtk /tmp/ashs.diYXDqdg/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3184.97670871   0.93700684
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.diYXDqdg/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -35.005 to -11.8516
   Y : -9.71634 to 38.4345
   Z : -12.3219 to 16.3203
   Image resolution  : 96 by 168 by 111
   Image box origin  : {-40.005, -14.7163, -17.3219}
   Image box size    : {33.3333, 58.3333, 38.8496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [40.005, 14.7163, -17.3219]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat -o /tmp/ashs.diYXDqdg/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat -o /tmp/ashs.diYXDqdg/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.diYXDqdg/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.628846 0.634615
+ echo 'CHUNK 0.628846 0.634615 0.5'
CHUNK 0.628846 0.634615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.628846 0.634615 0.5
====================================
         PROGRESS: 0.628846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.diYXDqdg/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.diYXDqdg/fixed_hw.nii.gz /tmp/ashs.diYXDqdg/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.464979, moving = 0.672125
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.40319], [0.982092, 0.982092, 0.981099]
Level     0,  Iter     0:    Energy =   0.0375
Level     0,  Iter     1:    Energy =   0.0433
Level     0,  Iter     2:    Energy =   0.0493
Level     0,  Iter     3:    Energy =   0.0543
Level     0,  Iter     4:    Energy =   0.0587
Level     0,  Iter     5:    Energy =   0.0629
Level     0,  Iter     6:    Energy =   0.0664
Level     0,  Iter     7:    Energy =   0.0693
Level     0,  Iter     8:    Energy =   0.0712
Level     0,  Iter     9:    Energy =   0.0726
Level     0,  Iter    10:    Energy =   0.0735
Level     0,  Iter    11:    Energy =   0.0742
Level     0,  Iter    12:    Energy =   0.0752
Level     0,  Iter    13:    Energy =   0.0756
Level     0,  Iter    14:    Energy =   0.0769
Level     0,  Iter    15:    Energy =   0.0772
Level     0,  Iter    16:    Energy =   0.0780
Level     0,  Iter    17:    Energy =   0.0781
Level     0,  Iter    18:    Energy =   0.0794
Level     0,  Iter    19:    Energy =   0.0797
Level     0,  Iter    20:    Energy =   0.0799
Level     0,  Iter    21:    Energy =   0.0798
Level     0,  Iter    22:    Energy =   0.0807
Level     0,  Iter    23:    Energy =   0.0807
Level     0,  Iter    24:    Energy =   0.0809
Level     0,  Iter    25:    Energy =   0.0808
Level     0,  Iter    26:    Energy =   0.0816
Level     0,  Iter    27:    Energy =   0.0816
Level     0,  Iter    28:    Energy =   0.0817
Level     0,  Iter    29:    Energy =   0.0817
Level     0,  Iter    30:    Energy =   0.0826
Level     0,  Iter    31:    Energy =   0.0825
Level     0,  Iter    32:    Energy =   0.0824
Level     0,  Iter    33:    Energy =   0.0822
Level     0,  Iter    34:    Energy =   0.0828
Level     0,  Iter    35:    Energy =   0.0826
Level     0,  Iter    36:    Energy =   0.0826
Level     0,  Iter    37:    Energy =   0.0826
Level     0,  Iter    38:    Energy =   0.0836
Level     0,  Iter    39:    Energy =   0.0834
Level     0,  Iter    40:    Energy =   0.0832
Level     0,  Iter    41:    Energy =   0.0830
Level     0,  Iter    42:    Energy =   0.0834
Level     0,  Iter    43:    Energy =   0.0832
Level     0,  Iter    44:    Energy =   0.0833
Level     0,  Iter    45:    Energy =   0.0832
Level     0,  Iter    46:    Energy =   0.0841
Level     0,  Iter    47:    Energy =   0.0837
Level     0,  Iter    48:    Energy =   0.0836
Level     0,  Iter    49:    Energy =   0.0833
Level     0,  Iter    50:    Energy =   0.0838
Level     0,  Iter    51:    Energy =   0.0835
Level     0,  Iter    52:    Energy =   0.0835
Level     0,  Iter    53:    Energy =   0.0834
Level     0,  Iter    54:    Energy =   0.0842
Level     0,  Iter    55:    Energy =   0.0839
Level     0,  Iter    56:    Energy =   0.0837
Level     0,  Iter    57:    Energy =   0.0834
Level     0,  Iter    58:    Energy =   0.0840
Level     0,  Iter    59:    Energy =   0.0836
END OF LEVEL     0    DetJac Range:   0.2535  to   2.5381 
  Avg. Gradient Time  : 0.0076s  38.11% 
  Avg. Gaussian Time  : 0.0094s  47.23% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.2016], [0.491046, 0.491046, 0.49055]
Level     1,  Iter     0:    Energy =   0.0518
Level     1,  Iter     1:    Energy =   0.0561
Level     1,  Iter     2:    Energy =   0.0592
Level     1,  Iter     3:    Energy =   0.0625
Level     1,  Iter     4:    Energy =   0.0645
Level     1,  Iter     5:    Energy =   0.0664
Level     1,  Iter     6:    Energy =   0.0686
Level     1,  Iter     7:    Energy =   0.0707
Level     1,  Iter     8:    Energy =   0.0725
Level     1,  Iter     9:    Energy =   0.0737
Level     1,  Iter    10:    Energy =   0.0744
Level     1,  Iter    11:    Energy =   0.0751
Level     1,  Iter    12:    Energy =   0.0753
Level     1,  Iter    13:    Energy =   0.0755
Level     1,  Iter    14:    Energy =   0.0757
Level     1,  Iter    15:    Energy =   0.0758
Level     1,  Iter    16:    Energy =   0.0760
Level     1,  Iter    17:    Energy =   0.0761
Level     1,  Iter    18:    Energy =   0.0761
Level     1,  Iter    19:    Energy =   0.0762
Level     1,  Iter    20:    Energy =   0.0762
Level     1,  Iter    21:    Energy =   0.0764
Level     1,  Iter    22:    Energy =   0.0764
Level     1,  Iter    23:    Energy =   0.0766
Level     1,  Iter    24:    Energy =   0.0766
Level     1,  Iter    25:    Energy =   0.0767
Level     1,  Iter    26:    Energy =   0.0767
Level     1,  Iter    27:    Energy =   0.0769
Level     1,  Iter    28:    Energy =   0.0768
Level     1,  Iter    29:    Energy =   0.0770
Level     1,  Iter    30:    Energy =   0.0769
Level     1,  Iter    31:    Energy =   0.0771
Level     1,  Iter    32:    Energy =   0.0769
Level     1,  Iter    33:    Energy =   0.0772
Level     1,  Iter    34:    Energy =   0.0770
Level     1,  Iter    35:    Energy =   0.0773
Level     1,  Iter    36:    Energy =   0.0771
Level     1,  Iter    37:    Energy =   0.0774
Level     1,  Iter    38:    Energy =   0.0773
Level     1,  Iter    39:    Energy =   0.0775
Level     1,  Iter    40:    Energy =   0.0773
Level     1,  Iter    41:    Energy =   0.0776
Level     1,  Iter    42:    Energy =   0.0774
Level     1,  Iter    43:    Energy =   0.0778
Level     1,  Iter    44:    Energy =   0.0775
Level     1,  Iter    45:    Energy =   0.0779
Level     1,  Iter    46:    Energy =   0.0777
Level     1,  Iter    47:    Energy =   0.0780
Level     1,  Iter    48:    Energy =   0.0778
Level     1,  Iter    49:    Energy =   0.0781
Level     1,  Iter    50:    Energy =   0.0779
Level     1,  Iter    51:    Energy =   0.0782
Level     1,  Iter    52:    Energy =   0.0779
Level     1,  Iter    53:    Energy =   0.0783
Level     1,  Iter    54:    Energy =   0.0780
Level     1,  Iter    55:    Energy =   0.0783
Level     1,  Iter    56:    Energy =   0.0781
Level     1,  Iter    57:    Energy =   0.0784
Level     1,  Iter    58:    Energy =   0.0781
Level     1,  Iter    59:    Energy =   0.0785
END OF LEVEL     1    DetJac Range:   0.1984  to   2.7570 
  Avg. Gradient Time  : 0.0451s  40.32% 
  Avg. Gaussian Time  : 0.0530s  47.35% 
  Avg. Iteration Time : 0.1120s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0422
Level     2,  Iter     1:    Energy =   0.0446
Level     2,  Iter     2:    Energy =   0.0472
Level     2,  Iter     3:    Energy =   0.0495
Level     2,  Iter     4:    Energy =   0.0511
Level     2,  Iter     5:    Energy =   0.0524
Level     2,  Iter     6:    Energy =   0.0535
Level     2,  Iter     7:    Energy =   0.0545
Level     2,  Iter     8:    Energy =   0.0556
Level     2,  Iter     9:    Energy =   0.0565
Level     2,  Iter    10:    Energy =   0.0574
Level     2,  Iter    11:    Energy =   0.0579
Level     2,  Iter    12:    Energy =   0.0583
Level     2,  Iter    13:    Energy =   0.0585
Level     2,  Iter    14:    Energy =   0.0587
Level     2,  Iter    15:    Energy =   0.0590
Level     2,  Iter    16:    Energy =   0.0592
Level     2,  Iter    17:    Energy =   0.0596
Level     2,  Iter    18:    Energy =   0.0600
Level     2,  Iter    19:    Energy =   0.0604
END OF LEVEL     2    DetJac Range:   0.0511  to   4.2979 
  Avg. Gradient Time  : 0.3193s  37.54% 
  Avg. Gaussian Time  : 0.4404s  51.78% 
  Avg. Iteration Time : 0.8506s 

real	0m28.333s
user	0m49.816s
sys	0m3.032s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.628846 0.634615
+ echo 'CHUNK 0.628846 0.634615 1'
CHUNK 0.628846 0.634615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.628846 0.634615 1
====================================
         PROGRESS: 0.628846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 006
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1588.19 	 OutFr   0.0000 	 RMSD     2.8764
Iter 002 	 Temp     3.72 	 Delta  1419.53 	 OutFr   0.0000 	 RMSD     1.8886
Iter 003 	 Temp     3.46 	 Delta  1293.13 	 OutFr   0.0000 	 RMSD     1.8948
Iter 004 	 Temp     3.22 	 Delta  1192.06 	 OutFr   0.0000 	 RMSD     1.8699
Iter 005 	 Temp     2.99 	 Delta  1106.21 	 OutFr   0.0000 	 RMSD     1.8436
Iter 006 	 Temp     2.78 	 Delta  1031.97 	 OutFr   0.0000 	 RMSD     1.8223
Iter 007 	 Temp     2.59 	 Delta   968.74 	 OutFr   0.0000 	 RMSD     1.8049
Iter 008 	 Temp     2.41 	 Delta   916.39 	 OutFr   0.0000 	 RMSD     1.7902
Iter 009 	 Temp     2.24 	 Delta   874.32 	 OutFr   0.0000 	 RMSD     1.7778
Iter 010 	 Temp     2.08 	 Delta   841.26 	 OutFr   0.0000 	 RMSD     1.7678
Iter 011 	 Temp     1.94 	 Delta   815.20 	 OutFr   0.0000 	 RMSD     1.7601
Iter 012 	 Temp     1.80 	 Delta   793.44 	 OutFr   0.0000 	 RMSD     1.7538
Iter 013 	 Temp     1.67 	 Delta   772.99 	 OutFr   0.0000 	 RMSD     1.7486
Iter 014 	 Temp     1.56 	 Delta   751.79 	 OutFr   0.0024 	 RMSD     1.7441
Iter 015 	 Temp     1.45 	 Delta   729.64 	 OutFr   0.0024 	 RMSD     1.7401
Iter 016 	 Temp     1.35 	 Delta   707.42 	 OutFr   0.0073 	 RMSD     1.7363
Iter 017 	 Temp     1.25 	 Delta   684.21 	 OutFr   0.0098 	 RMSD     1.7328
Iter 018 	 Temp     1.16 	 Delta   657.73 	 OutFr   0.0146 	 RMSD     1.7302
Iter 019 	 Temp     1.08 	 Delta   628.22 	 OutFr   0.0220 	 RMSD     1.7281
Iter 020 	 Temp     1.01 	 Delta   595.97 	 OutFr   0.0268 	 RMSD     1.7262
Iter 021 	 Temp     0.94 	 Delta   560.61 	 OutFr   0.0415 	 RMSD     1.7245
Iter 022 	 Temp     0.87 	 Delta   522.89 	 OutFr   0.0561 	 RMSD     1.7232
Iter 023 	 Temp     0.81 	 Delta   484.04 	 OutFr   0.0659 	 RMSD     1.7224
Iter 024 	 Temp     0.75 	 Delta   446.57 	 OutFr   0.0878 	 RMSD     1.7225
Iter 025 	 Temp     0.70 	 Delta   413.55 	 OutFr   0.1073 	 RMSD     1.7229
Iter 026 	 Temp     0.65 	 Delta   384.84 	 OutFr   0.1244 	 RMSD     1.7236
Iter 027 	 Temp     0.61 	 Delta   356.90 	 OutFr   0.1439 	 RMSD     1.7245
Iter 028 	 Temp     0.56 	 Delta   328.06 	 OutFr   0.1537 	 RMSD     1.7260
Iter 029 	 Temp     0.52 	 Delta   299.24 	 OutFr   0.1854 	 RMSD     1.7277
Iter 030 	 Temp     0.49 	 Delta   271.80 	 OutFr   0.2220 	 RMSD     1.7297
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.QZVtVMJ9/mybin.nii.gz
+ vtklevelset /tmp/ashs.QZVtVMJ9/mybin.nii.gz /tmp/ashs.QZVtVMJ9/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.QZVtVMJ9/mymesh.vtk /tmp/ashs.QZVtVMJ9/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 2926.03960176   0.86082863
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.QZVtVMJ9/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -38.3851 to -16.4283
   Y : -8.94589 to 36.5041
   Z : -23.9215 to 3.21692
   Image resolution  : 93 by 160 by 107
   Image box origin  : {-43.3851, -13.9459, -28.9215}
   Image box size    : {32.2916, 55.5555, 37.4496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [43.3851, 13.9459, -28.9215]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat -o /tmp/ashs.QZVtVMJ9/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat -o /tmp/ashs.QZVtVMJ9/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.QZVtVMJ9/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.634615 0.640385
+ echo 'CHUNK 0.634615 0.640385 0.5'
CHUNK 0.634615 0.640385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.634615 0.640385 0.5
====================================
         PROGRESS: 0.634615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.QZVtVMJ9/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.QZVtVMJ9/fixed_hw.nii.gz /tmp/ashs.QZVtVMJ9/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.458608, moving = 0.512827
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.40562, 2.40239], [0.951402, 0.982092, 0.980772]
Level     0,  Iter     0:    Energy =   0.0371
Level     0,  Iter     1:    Energy =   0.0418
Level     0,  Iter     2:    Energy =   0.0481
Level     0,  Iter     3:    Energy =   0.0529
Level     0,  Iter     4:    Energy =   0.0569
Level     0,  Iter     5:    Energy =   0.0605
Level     0,  Iter     6:    Energy =   0.0634
Level     0,  Iter     7:    Energy =   0.0649
Level     0,  Iter     8:    Energy =   0.0657
Level     0,  Iter     9:    Energy =   0.0672
Level     0,  Iter    10:    Energy =   0.0678
Level     0,  Iter    11:    Energy =   0.0684
Level     0,  Iter    12:    Energy =   0.0691
Level     0,  Iter    13:    Energy =   0.0707
Level     0,  Iter    14:    Energy =   0.0714
Level     0,  Iter    15:    Energy =   0.0720
Level     0,  Iter    16:    Energy =   0.0725
Level     0,  Iter    17:    Energy =   0.0732
Level     0,  Iter    18:    Energy =   0.0737
Level     0,  Iter    19:    Energy =   0.0737
Level     0,  Iter    20:    Energy =   0.0739
Level     0,  Iter    21:    Energy =   0.0744
Level     0,  Iter    22:    Energy =   0.0744
Level     0,  Iter    23:    Energy =   0.0746
Level     0,  Iter    24:    Energy =   0.0748
Level     0,  Iter    25:    Energy =   0.0755
Level     0,  Iter    26:    Energy =   0.0755
Level     0,  Iter    27:    Energy =   0.0756
Level     0,  Iter    28:    Energy =   0.0757
Level     0,  Iter    29:    Energy =   0.0758
Level     0,  Iter    30:    Energy =   0.0761
Level     0,  Iter    31:    Energy =   0.0760
Level     0,  Iter    32:    Energy =   0.0764
Level     0,  Iter    33:    Energy =   0.0764
Level     0,  Iter    34:    Energy =   0.0767
Level     0,  Iter    35:    Energy =   0.0767
Level     0,  Iter    36:    Energy =   0.0770
Level     0,  Iter    37:    Energy =   0.0770
Level     0,  Iter    38:    Energy =   0.0773
Level     0,  Iter    39:    Energy =   0.0773
Level     0,  Iter    40:    Energy =   0.0774
Level     0,  Iter    41:    Energy =   0.0775
Level     0,  Iter    42:    Energy =   0.0776
Level     0,  Iter    43:    Energy =   0.0777
Level     0,  Iter    44:    Energy =   0.0779
Level     0,  Iter    45:    Energy =   0.0778
Level     0,  Iter    46:    Energy =   0.0780
Level     0,  Iter    47:    Energy =   0.0781
Level     0,  Iter    48:    Energy =   0.0782
Level     0,  Iter    49:    Energy =   0.0782
Level     0,  Iter    50:    Energy =   0.0783
Level     0,  Iter    51:    Energy =   0.0783
Level     0,  Iter    52:    Energy =   0.0784
Level     0,  Iter    53:    Energy =   0.0783
Level     0,  Iter    54:    Energy =   0.0785
Level     0,  Iter    55:    Energy =   0.0785
Level     0,  Iter    56:    Energy =   0.0786
Level     0,  Iter    57:    Energy =   0.0785
Level     0,  Iter    58:    Energy =   0.0786
Level     0,  Iter    59:    Energy =   0.0787
END OF LEVEL     0    DetJac Range:   0.3042  to   2.0700 
  Avg. Gradient Time  : 0.0072s  37.71% 
  Avg. Gaussian Time  : 0.0091s  47.37% 
  Avg. Iteration Time : 0.0192s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.20281, 1.2012], [0.485822, 0.491046, 0.490386]
Level     1,  Iter     0:    Energy =   0.0539
Level     1,  Iter     1:    Energy =   0.0583
Level     1,  Iter     2:    Energy =   0.0617
Level     1,  Iter     3:    Energy =   0.0641
Level     1,  Iter     4:    Energy =   0.0667
Level     1,  Iter     5:    Energy =   0.0690
Level     1,  Iter     6:    Energy =   0.0713
Level     1,  Iter     7:    Energy =   0.0723
Level     1,  Iter     8:    Energy =   0.0730
Level     1,  Iter     9:    Energy =   0.0737
Level     1,  Iter    10:    Energy =   0.0741
Level     1,  Iter    11:    Energy =   0.0749
Level     1,  Iter    12:    Energy =   0.0751
Level     1,  Iter    13:    Energy =   0.0758
Level     1,  Iter    14:    Energy =   0.0759
Level     1,  Iter    15:    Energy =   0.0766
Level     1,  Iter    16:    Energy =   0.0766
Level     1,  Iter    17:    Energy =   0.0772
Level     1,  Iter    18:    Energy =   0.0771
Level     1,  Iter    19:    Energy =   0.0777
Level     1,  Iter    20:    Energy =   0.0776
Level     1,  Iter    21:    Energy =   0.0780
Level     1,  Iter    22:    Energy =   0.0779
Level     1,  Iter    23:    Energy =   0.0784
Level     1,  Iter    24:    Energy =   0.0783
Level     1,  Iter    25:    Energy =   0.0787
Level     1,  Iter    26:    Energy =   0.0786
Level     1,  Iter    27:    Energy =   0.0789
Level     1,  Iter    28:    Energy =   0.0788
Level     1,  Iter    29:    Energy =   0.0793
Level     1,  Iter    30:    Energy =   0.0790
Level     1,  Iter    31:    Energy =   0.0795
Level     1,  Iter    32:    Energy =   0.0792
Level     1,  Iter    33:    Energy =   0.0795
Level     1,  Iter    34:    Energy =   0.0793
Level     1,  Iter    35:    Energy =   0.0797
Level     1,  Iter    36:    Energy =   0.0795
Level     1,  Iter    37:    Energy =   0.0799
Level     1,  Iter    38:    Energy =   0.0796
Level     1,  Iter    39:    Energy =   0.0800
Level     1,  Iter    40:    Energy =   0.0797
Level     1,  Iter    41:    Energy =   0.0801
Level     1,  Iter    42:    Energy =   0.0799
Level     1,  Iter    43:    Energy =   0.0803
Level     1,  Iter    44:    Energy =   0.0800
Level     1,  Iter    45:    Energy =   0.0803
Level     1,  Iter    46:    Energy =   0.0800
Level     1,  Iter    47:    Energy =   0.0804
Level     1,  Iter    48:    Energy =   0.0801
Level     1,  Iter    49:    Energy =   0.0803
Level     1,  Iter    50:    Energy =   0.0800
Level     1,  Iter    51:    Energy =   0.0804
Level     1,  Iter    52:    Energy =   0.0801
Level     1,  Iter    53:    Energy =   0.0803
Level     1,  Iter    54:    Energy =   0.0800
Level     1,  Iter    55:    Energy =   0.0803
Level     1,  Iter    56:    Energy =   0.0801
Level     1,  Iter    57:    Energy =   0.0803
Level     1,  Iter    58:    Energy =   0.0800
Level     1,  Iter    59:    Energy =   0.0804
END OF LEVEL     1    DetJac Range:   0.1426  to   3.5468 
  Avg. Gradient Time  : 0.0403s  40.33% 
  Avg. Gaussian Time  : 0.0474s  47.51% 
  Avg. Iteration Time : 0.0998s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0436
Level     2,  Iter     1:    Energy =   0.0464
Level     2,  Iter     2:    Energy =   0.0487
Level     2,  Iter     3:    Energy =   0.0506
Level     2,  Iter     4:    Energy =   0.0522
Level     2,  Iter     5:    Energy =   0.0535
Level     2,  Iter     6:    Energy =   0.0547
Level     2,  Iter     7:    Energy =   0.0558
Level     2,  Iter     8:    Energy =   0.0569
Level     2,  Iter     9:    Energy =   0.0578
Level     2,  Iter    10:    Energy =   0.0583
Level     2,  Iter    11:    Energy =   0.0588
Level     2,  Iter    12:    Energy =   0.0594
Level     2,  Iter    13:    Energy =   0.0598
Level     2,  Iter    14:    Energy =   0.0602
Level     2,  Iter    15:    Energy =   0.0606
Level     2,  Iter    16:    Energy =   0.0610
Level     2,  Iter    17:    Energy =   0.0613
Level     2,  Iter    18:    Energy =   0.0616
Level     2,  Iter    19:    Energy =   0.0620
END OF LEVEL     2    DetJac Range:   0.0992  to   4.6924 
  Avg. Gradient Time  : 0.2829s  37.63% 
  Avg. Gaussian Time  : 0.3890s  51.74% 
  Avg. Iteration Time : 0.7519s 

real	0m25.200s
user	0m44.460s
sys	0m2.444s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.634615 0.640385
+ echo 'CHUNK 0.634615 0.640385 1'
CHUNK 0.634615 0.640385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.634615 0.640385 1
====================================
         PROGRESS: 0.634615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 007
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2020.06 	 OutFr   0.0024 	 RMSD     4.5472
Iter 002 	 Temp     3.72 	 Delta  1823.26 	 OutFr   0.0024 	 RMSD     2.5109
Iter 003 	 Temp     3.46 	 Delta  1668.84 	 OutFr   0.0024 	 RMSD     2.4393
Iter 004 	 Temp     3.22 	 Delta  1551.06 	 OutFr   0.0024 	 RMSD     2.3827
Iter 005 	 Temp     2.99 	 Delta  1449.37 	 OutFr   0.0024 	 RMSD     2.3417
Iter 006 	 Temp     2.78 	 Delta  1355.66 	 OutFr   0.0024 	 RMSD     2.3127
Iter 007 	 Temp     2.59 	 Delta  1269.15 	 OutFr   0.0024 	 RMSD     2.2920
Iter 008 	 Temp     2.41 	 Delta  1191.53 	 OutFr   0.0024 	 RMSD     2.2767
Iter 009 	 Temp     2.24 	 Delta  1124.64 	 OutFr   0.0024 	 RMSD     2.2653
Iter 010 	 Temp     2.08 	 Delta  1069.37 	 OutFr   0.0024 	 RMSD     2.2570
Iter 011 	 Temp     1.94 	 Delta  1023.30 	 OutFr   0.0049 	 RMSD     2.2499
Iter 012 	 Temp     1.80 	 Delta   983.12 	 OutFr   0.0049 	 RMSD     2.2450
Iter 013 	 Temp     1.67 	 Delta   946.04 	 OutFr   0.0049 	 RMSD     2.2414
Iter 014 	 Temp     1.56 	 Delta   908.63 	 OutFr   0.0073 	 RMSD     2.2391
Iter 015 	 Temp     1.45 	 Delta   870.20 	 OutFr   0.0122 	 RMSD     2.2369
Iter 016 	 Temp     1.35 	 Delta   833.93 	 OutFr   0.0171 	 RMSD     2.2351
Iter 017 	 Temp     1.25 	 Delta   801.76 	 OutFr   0.0220 	 RMSD     2.2330
Iter 018 	 Temp     1.16 	 Delta   770.31 	 OutFr   0.0268 	 RMSD     2.2305
Iter 019 	 Temp     1.08 	 Delta   734.98 	 OutFr   0.0293 	 RMSD     2.2279
Iter 020 	 Temp     1.01 	 Delta   692.86 	 OutFr   0.0366 	 RMSD     2.2257
Iter 021 	 Temp     0.94 	 Delta   641.44 	 OutFr   0.0415 	 RMSD     2.2237
Iter 022 	 Temp     0.87 	 Delta   581.38 	 OutFr   0.0561 	 RMSD     2.2227
Iter 023 	 Temp     0.81 	 Delta   518.37 	 OutFr   0.0829 	 RMSD     2.2230
Iter 024 	 Temp     0.75 	 Delta   462.26 	 OutFr   0.1171 	 RMSD     2.2261
Iter 025 	 Temp     0.70 	 Delta   420.56 	 OutFr   0.1341 	 RMSD     2.2310
Iter 026 	 Temp     0.65 	 Delta   386.48 	 OutFr   0.1683 	 RMSD     2.2343
Iter 027 	 Temp     0.61 	 Delta   352.74 	 OutFr   0.1854 	 RMSD     2.2360
Iter 028 	 Temp     0.56 	 Delta   316.21 	 OutFr   0.2024 	 RMSD     2.2370
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.pkZNtVW8/mybin.nii.gz
+ vtklevelset /tmp/ashs.pkZNtVW8/mybin.nii.gz /tmp/ashs.pkZNtVW8/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.pkZNtVW8/mymesh.vtk /tmp/ashs.pkZNtVW8/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3049.62324189   0.89718642
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.pkZNtVW8/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -39.6544 to -15.5844
   Y : -15.0983 to 28.7364
   Z : -21.6631 to 9.24965
   Image resolution  : 99 by 156 by 117
   Image box origin  : {-44.6544, -20.0983, -26.6631}
   Image box size    : {34.375, 54.1666, 40.9495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [44.6544, 20.0983, -26.6631]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat -o /tmp/ashs.pkZNtVW8/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat -o /tmp/ashs.pkZNtVW8/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.pkZNtVW8/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.640385 0.646154
+ echo 'CHUNK 0.640385 0.646154 0.5'
CHUNK 0.640385 0.646154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.640385 0.646154 0.5
====================================
         PROGRESS: 0.640385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.pkZNtVW8/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.pkZNtVW8/fixed_hw.nii.gz /tmp/ashs.pkZNtVW8/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.474852, moving = 0.382865
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.40562, 2.36422], [0.972271, 0.982092, 0.96519]
Level     0,  Iter     0:    Energy =   0.0442
Level     0,  Iter     1:    Energy =   0.0489
Level     0,  Iter     2:    Energy =   0.0530
Level     0,  Iter     3:    Energy =   0.0565
Level     0,  Iter     4:    Energy =   0.0597
Level     0,  Iter     5:    Energy =   0.0622
Level     0,  Iter     6:    Energy =   0.0644
Level     0,  Iter     7:    Energy =   0.0663
Level     0,  Iter     8:    Energy =   0.0679
Level     0,  Iter     9:    Energy =   0.0692
Level     0,  Iter    10:    Energy =   0.0700
Level     0,  Iter    11:    Energy =   0.0708
Level     0,  Iter    12:    Energy =   0.0711
Level     0,  Iter    13:    Energy =   0.0718
Level     0,  Iter    14:    Energy =   0.0718
Level     0,  Iter    15:    Energy =   0.0725
Level     0,  Iter    16:    Energy =   0.0724
Level     0,  Iter    17:    Energy =   0.0730
Level     0,  Iter    18:    Energy =   0.0728
Level     0,  Iter    19:    Energy =   0.0733
Level     0,  Iter    20:    Energy =   0.0730
Level     0,  Iter    21:    Energy =   0.0735
Level     0,  Iter    22:    Energy =   0.0732
Level     0,  Iter    23:    Energy =   0.0737
Level     0,  Iter    24:    Energy =   0.0734
Level     0,  Iter    25:    Energy =   0.0739
Level     0,  Iter    26:    Energy =   0.0736
Level     0,  Iter    27:    Energy =   0.0741
Level     0,  Iter    28:    Energy =   0.0738
Level     0,  Iter    29:    Energy =   0.0743
Level     0,  Iter    30:    Energy =   0.0739
Level     0,  Iter    31:    Energy =   0.0744
Level     0,  Iter    32:    Energy =   0.0740
Level     0,  Iter    33:    Energy =   0.0745
Level     0,  Iter    34:    Energy =   0.0742
Level     0,  Iter    35:    Energy =   0.0746
Level     0,  Iter    36:    Energy =   0.0742
Level     0,  Iter    37:    Energy =   0.0746
Level     0,  Iter    38:    Energy =   0.0743
Level     0,  Iter    39:    Energy =   0.0747
Level     0,  Iter    40:    Energy =   0.0743
Level     0,  Iter    41:    Energy =   0.0748
Level     0,  Iter    42:    Energy =   0.0744
Level     0,  Iter    43:    Energy =   0.0748
Level     0,  Iter    44:    Energy =   0.0744
Level     0,  Iter    45:    Energy =   0.0749
Level     0,  Iter    46:    Energy =   0.0745
Level     0,  Iter    47:    Energy =   0.0748
Level     0,  Iter    48:    Energy =   0.0745
Level     0,  Iter    49:    Energy =   0.0750
Level     0,  Iter    50:    Energy =   0.0746
Level     0,  Iter    51:    Energy =   0.0749
Level     0,  Iter    52:    Energy =   0.0746
Level     0,  Iter    53:    Energy =   0.0750
Level     0,  Iter    54:    Energy =   0.0747
Level     0,  Iter    55:    Energy =   0.0751
Level     0,  Iter    56:    Energy =   0.0747
Level     0,  Iter    57:    Energy =   0.0751
Level     0,  Iter    58:    Energy =   0.0748
Level     0,  Iter    59:    Energy =   0.0752
END OF LEVEL     0    DetJac Range:   0.0824  to   3.0885 
  Avg. Gradient Time  : 0.0077s  37.49% 
  Avg. Gaussian Time  : 0.0097s  47.29% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.20281, 1.20215], [0.486136, 0.491046, 0.490774]
Level     1,  Iter     0:    Energy =   0.0574
Level     1,  Iter     1:    Energy =   0.0616
Level     1,  Iter     2:    Energy =   0.0650
Level     1,  Iter     3:    Energy =   0.0671
Level     1,  Iter     4:    Energy =   0.0688
Level     1,  Iter     5:    Energy =   0.0705
Level     1,  Iter     6:    Energy =   0.0718
Level     1,  Iter     7:    Energy =   0.0726
Level     1,  Iter     8:    Energy =   0.0735
Level     1,  Iter     9:    Energy =   0.0748
Level     1,  Iter    10:    Energy =   0.0759
Level     1,  Iter    11:    Energy =   0.0766
Level     1,  Iter    12:    Energy =   0.0772
Level     1,  Iter    13:    Energy =   0.0781
Level     1,  Iter    14:    Energy =   0.0789
Level     1,  Iter    15:    Energy =   0.0796
Level     1,  Iter    16:    Energy =   0.0802
Level     1,  Iter    17:    Energy =   0.0802
Level     1,  Iter    18:    Energy =   0.0805
Level     1,  Iter    19:    Energy =   0.0803
Level     1,  Iter    20:    Energy =   0.0808
Level     1,  Iter    21:    Energy =   0.0805
Level     1,  Iter    22:    Energy =   0.0811
Level     1,  Iter    23:    Energy =   0.0808
Level     1,  Iter    24:    Energy =   0.0812
Level     1,  Iter    25:    Energy =   0.0809
Level     1,  Iter    26:    Energy =   0.0814
Level     1,  Iter    27:    Energy =   0.0812
Level     1,  Iter    28:    Energy =   0.0816
Level     1,  Iter    29:    Energy =   0.0813
Level     1,  Iter    30:    Energy =   0.0818
Level     1,  Iter    31:    Energy =   0.0816
Level     1,  Iter    32:    Energy =   0.0819
Level     1,  Iter    33:    Energy =   0.0816
Level     1,  Iter    34:    Energy =   0.0820
Level     1,  Iter    35:    Energy =   0.0818
Level     1,  Iter    36:    Energy =   0.0822
Level     1,  Iter    37:    Energy =   0.0819
Level     1,  Iter    38:    Energy =   0.0822
Level     1,  Iter    39:    Energy =   0.0820
Level     1,  Iter    40:    Energy =   0.0822
Level     1,  Iter    41:    Energy =   0.0821
Level     1,  Iter    42:    Energy =   0.0822
Level     1,  Iter    43:    Energy =   0.0821
Level     1,  Iter    44:    Energy =   0.0822
Level     1,  Iter    45:    Energy =   0.0820
Level     1,  Iter    46:    Energy =   0.0824
Level     1,  Iter    47:    Energy =   0.0821
Level     1,  Iter    48:    Energy =   0.0825
Level     1,  Iter    49:    Energy =   0.0822
Level     1,  Iter    50:    Energy =   0.0826
Level     1,  Iter    51:    Energy =   0.0823
Level     1,  Iter    52:    Energy =   0.0826
Level     1,  Iter    53:    Energy =   0.0823
Level     1,  Iter    54:    Energy =   0.0827
Level     1,  Iter    55:    Energy =   0.0824
Level     1,  Iter    56:    Energy =   0.0827
Level     1,  Iter    57:    Energy =   0.0825
Level     1,  Iter    58:    Energy =   0.0828
Level     1,  Iter    59:    Energy =   0.0826
END OF LEVEL     1    DetJac Range:   0.0669  to   3.8251 
  Avg. Gradient Time  : 0.0447s  39.68% 
  Avg. Gaussian Time  : 0.0546s  48.38% 
  Avg. Iteration Time : 0.1128s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0457
Level     2,  Iter     1:    Energy =   0.0482
Level     2,  Iter     2:    Energy =   0.0506
Level     2,  Iter     3:    Energy =   0.0527
Level     2,  Iter     4:    Energy =   0.0546
Level     2,  Iter     5:    Energy =   0.0561
Level     2,  Iter     6:    Energy =   0.0573
Level     2,  Iter     7:    Energy =   0.0583
Level     2,  Iter     8:    Energy =   0.0593
Level     2,  Iter     9:    Energy =   0.0600
Level     2,  Iter    10:    Energy =   0.0606
Level     2,  Iter    11:    Energy =   0.0612
Level     2,  Iter    12:    Energy =   0.0618
Level     2,  Iter    13:    Energy =   0.0624
Level     2,  Iter    14:    Energy =   0.0630
Level     2,  Iter    15:    Energy =   0.0634
Level     2,  Iter    16:    Energy =   0.0639
Level     2,  Iter    17:    Energy =   0.0643
Level     2,  Iter    18:    Energy =   0.0647
Level     2,  Iter    19:    Energy =   0.0651
END OF LEVEL     2    DetJac Range:   0.0374  to   4.5554 
  Avg. Gradient Time  : 0.3187s  37.33% 
  Avg. Gaussian Time  : 0.4429s  51.87% 
  Avg. Iteration Time : 0.8539s 

real	0m28.471s
user	0m50.148s
sys	0m3.004s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.640385 0.646154
+ echo 'CHUNK 0.640385 0.646154 1'
CHUNK 0.640385 0.646154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.640385 0.646154 1
====================================
         PROGRESS: 0.640385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 008
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1894.50 	 OutFr   0.0000 	 RMSD     3.8511
Iter 002 	 Temp     3.72 	 Delta  1664.44 	 OutFr   0.0000 	 RMSD     2.2110
Iter 003 	 Temp     3.46 	 Delta  1514.90 	 OutFr   0.0000 	 RMSD     2.1414
Iter 004 	 Temp     3.22 	 Delta  1393.99 	 OutFr   0.0024 	 RMSD     2.1126
Iter 005 	 Temp     2.99 	 Delta  1288.96 	 OutFr   0.0024 	 RMSD     2.0924
Iter 006 	 Temp     2.78 	 Delta  1195.60 	 OutFr   0.0024 	 RMSD     2.0767
Iter 007 	 Temp     2.59 	 Delta  1114.69 	 OutFr   0.0024 	 RMSD     2.0640
Iter 008 	 Temp     2.41 	 Delta  1047.23 	 OutFr   0.0024 	 RMSD     2.0549
Iter 009 	 Temp     2.24 	 Delta   991.33 	 OutFr   0.0024 	 RMSD     2.0483
Iter 010 	 Temp     2.08 	 Delta   943.51 	 OutFr   0.0024 	 RMSD     2.0436
Iter 011 	 Temp     1.94 	 Delta   900.82 	 OutFr   0.0024 	 RMSD     2.0408
Iter 012 	 Temp     1.80 	 Delta   861.76 	 OutFr   0.0024 	 RMSD     2.0394
Iter 013 	 Temp     1.67 	 Delta   827.02 	 OutFr   0.0024 	 RMSD     2.0393
Iter 014 	 Temp     1.56 	 Delta   798.14 	 OutFr   0.0049 	 RMSD     2.0403
Iter 015 	 Temp     1.45 	 Delta   775.04 	 OutFr   0.0098 	 RMSD     2.0424
Iter 016 	 Temp     1.35 	 Delta   755.34 	 OutFr   0.0122 	 RMSD     2.0451
Iter 017 	 Temp     1.25 	 Delta   736.85 	 OutFr   0.0122 	 RMSD     2.0471
Iter 018 	 Temp     1.16 	 Delta   718.28 	 OutFr   0.0244 	 RMSD     2.0480
Iter 019 	 Temp     1.08 	 Delta   697.38 	 OutFr   0.0317 	 RMSD     2.0482
Iter 020 	 Temp     1.01 	 Delta   671.49 	 OutFr   0.0366 	 RMSD     2.0476
Iter 021 	 Temp     0.94 	 Delta   639.86 	 OutFr   0.0463 	 RMSD     2.0467
Iter 022 	 Temp     0.87 	 Delta   603.21 	 OutFr   0.0659 	 RMSD     2.0450
Iter 023 	 Temp     0.81 	 Delta   562.65 	 OutFr   0.0854 	 RMSD     2.0431
Iter 024 	 Temp     0.75 	 Delta   519.27 	 OutFr   0.0951 	 RMSD     2.0414
Iter 025 	 Temp     0.70 	 Delta   474.31 	 OutFr   0.1146 	 RMSD     2.0394
Iter 026 	 Temp     0.65 	 Delta   428.96 	 OutFr   0.1415 	 RMSD     2.0376
Iter 027 	 Temp     0.61 	 Delta   383.90 	 OutFr   0.1610 	 RMSD     2.0360
Iter 028 	 Temp     0.56 	 Delta   341.53 	 OutFr   0.2024 	 RMSD     2.0348
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.N7Es3ayA/mybin.nii.gz
+ vtklevelset /tmp/ashs.N7Es3ayA/mybin.nii.gz /tmp/ashs.N7Es3ayA/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.N7Es3ayA/mymesh.vtk /tmp/ashs.N7Es3ayA/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3167.34568067   0.93181987
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.N7Es3ayA/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -37.5815 to -13.1877
   Y : -16.5507 to 29.4381
   Z : -26.7154 to 3.4665
   Image resolution  : 100 by 162 by 115
   Image box origin  : {-42.5815, -21.5507, -31.7154}
   Image box size    : {34.7222, 56.25, 40.2495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [42.5815, 21.5507, -31.7154]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat -o /tmp/ashs.N7Es3ayA/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat -o /tmp/ashs.N7Es3ayA/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.N7Es3ayA/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.646154 0.651923
+ echo 'CHUNK 0.646154 0.651923 0.5'
CHUNK 0.646154 0.651923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.646154 0.651923 0.5
====================================
         PROGRESS: 0.646154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.N7Es3ayA/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.N7Es3ayA/fixed_hw.nii.gz /tmp/ashs.N7Es3ayA/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.470208, moving = 0.402024
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37629, 2.40394], [0.982092, 0.970115, 0.981404]
Level     0,  Iter     0:    Energy =   0.0322
Level     0,  Iter     1:    Energy =   0.0356
Level     0,  Iter     2:    Energy =   0.0388
Level     0,  Iter     3:    Energy =   0.0425
Level     0,  Iter     4:    Energy =   0.0462
Level     0,  Iter     5:    Energy =   0.0491
Level     0,  Iter     6:    Energy =   0.0514
Level     0,  Iter     7:    Energy =   0.0534
Level     0,  Iter     8:    Energy =   0.0545
Level     0,  Iter     9:    Energy =   0.0558
Level     0,  Iter    10:    Energy =   0.0565
Level     0,  Iter    11:    Energy =   0.0575
Level     0,  Iter    12:    Energy =   0.0580
Level     0,  Iter    13:    Energy =   0.0587
Level     0,  Iter    14:    Energy =   0.0591
Level     0,  Iter    15:    Energy =   0.0600
Level     0,  Iter    16:    Energy =   0.0602
Level     0,  Iter    17:    Energy =   0.0606
Level     0,  Iter    18:    Energy =   0.0610
Level     0,  Iter    19:    Energy =   0.0619
Level     0,  Iter    20:    Energy =   0.0620
Level     0,  Iter    21:    Energy =   0.0623
Level     0,  Iter    22:    Energy =   0.0625
Level     0,  Iter    23:    Energy =   0.0633
Level     0,  Iter    24:    Energy =   0.0633
Level     0,  Iter    25:    Energy =   0.0635
Level     0,  Iter    26:    Energy =   0.0636
Level     0,  Iter    27:    Energy =   0.0643
Level     0,  Iter    28:    Energy =   0.0642
Level     0,  Iter    29:    Energy =   0.0644
Level     0,  Iter    30:    Energy =   0.0644
Level     0,  Iter    31:    Energy =   0.0652
Level     0,  Iter    32:    Energy =   0.0651
Level     0,  Iter    33:    Energy =   0.0652
Level     0,  Iter    34:    Energy =   0.0651
Level     0,  Iter    35:    Energy =   0.0659
Level     0,  Iter    36:    Energy =   0.0657
Level     0,  Iter    37:    Energy =   0.0658
Level     0,  Iter    38:    Energy =   0.0657
Level     0,  Iter    39:    Energy =   0.0664
Level     0,  Iter    40:    Energy =   0.0661
Level     0,  Iter    41:    Energy =   0.0663
Level     0,  Iter    42:    Energy =   0.0661
Level     0,  Iter    43:    Energy =   0.0667
Level     0,  Iter    44:    Energy =   0.0663
Level     0,  Iter    45:    Energy =   0.0665
Level     0,  Iter    46:    Energy =   0.0663
Level     0,  Iter    47:    Energy =   0.0665
Level     0,  Iter    48:    Energy =   0.0664
Level     0,  Iter    49:    Energy =   0.0665
Level     0,  Iter    50:    Energy =   0.0665
Level     0,  Iter    51:    Energy =   0.0667
Level     0,  Iter    52:    Energy =   0.0664
Level     0,  Iter    53:    Energy =   0.0667
Level     0,  Iter    54:    Energy =   0.0666
Level     0,  Iter    55:    Energy =   0.0670
Level     0,  Iter    56:    Energy =   0.0667
Level     0,  Iter    57:    Energy =   0.0670
Level     0,  Iter    58:    Energy =   0.0667
Level     0,  Iter    59:    Energy =   0.0670
END OF LEVEL     0    DetJac Range:   0.1047  to   2.0139 
  Avg. Gradient Time  : 0.0078s  37.61% 
  Avg. Gaussian Time  : 0.0098s  47.50% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20197], [0.491046, 0.491046, 0.490702]
Level     1,  Iter     0:    Energy =   0.0447
Level     1,  Iter     1:    Energy =   0.0482
Level     1,  Iter     2:    Energy =   0.0509
Level     1,  Iter     3:    Energy =   0.0530
Level     1,  Iter     4:    Energy =   0.0544
Level     1,  Iter     5:    Energy =   0.0554
Level     1,  Iter     6:    Energy =   0.0563
Level     1,  Iter     7:    Energy =   0.0571
Level     1,  Iter     8:    Energy =   0.0577
Level     1,  Iter     9:    Energy =   0.0583
Level     1,  Iter    10:    Energy =   0.0589
Level     1,  Iter    11:    Energy =   0.0595
Level     1,  Iter    12:    Energy =   0.0601
Level     1,  Iter    13:    Energy =   0.0608
Level     1,  Iter    14:    Energy =   0.0615
Level     1,  Iter    15:    Energy =   0.0622
Level     1,  Iter    16:    Energy =   0.0627
Level     1,  Iter    17:    Energy =   0.0634
Level     1,  Iter    18:    Energy =   0.0639
Level     1,  Iter    19:    Energy =   0.0644
Level     1,  Iter    20:    Energy =   0.0650
Level     1,  Iter    21:    Energy =   0.0655
Level     1,  Iter    22:    Energy =   0.0661
Level     1,  Iter    23:    Energy =   0.0666
Level     1,  Iter    24:    Energy =   0.0672
Level     1,  Iter    25:    Energy =   0.0677
Level     1,  Iter    26:    Energy =   0.0680
Level     1,  Iter    27:    Energy =   0.0683
Level     1,  Iter    28:    Energy =   0.0688
Level     1,  Iter    29:    Energy =   0.0692
Level     1,  Iter    30:    Energy =   0.0696
Level     1,  Iter    31:    Energy =   0.0699
Level     1,  Iter    32:    Energy =   0.0703
Level     1,  Iter    33:    Energy =   0.0705
Level     1,  Iter    34:    Energy =   0.0708
Level     1,  Iter    35:    Energy =   0.0708
Level     1,  Iter    36:    Energy =   0.0704
Level     1,  Iter    37:    Energy =   0.0704
Level     1,  Iter    38:    Energy =   0.0704
Level     1,  Iter    39:    Energy =   0.0703
Level     1,  Iter    40:    Energy =   0.0702
Level     1,  Iter    41:    Energy =   0.0703
Level     1,  Iter    42:    Energy =   0.0701
Level     1,  Iter    43:    Energy =   0.0704
Level     1,  Iter    44:    Energy =   0.0701
Level     1,  Iter    45:    Energy =   0.0704
Level     1,  Iter    46:    Energy =   0.0702
Level     1,  Iter    47:    Energy =   0.0705
Level     1,  Iter    48:    Energy =   0.0703
Level     1,  Iter    49:    Energy =   0.0705
Level     1,  Iter    50:    Energy =   0.0704
Level     1,  Iter    51:    Energy =   0.0706
Level     1,  Iter    52:    Energy =   0.0704
Level     1,  Iter    53:    Energy =   0.0706
Level     1,  Iter    54:    Energy =   0.0705
Level     1,  Iter    55:    Energy =   0.0707
Level     1,  Iter    56:    Energy =   0.0705
Level     1,  Iter    57:    Energy =   0.0707
Level     1,  Iter    58:    Energy =   0.0705
Level     1,  Iter    59:    Energy =   0.0707
END OF LEVEL     1    DetJac Range:   0.0493  to   3.3956 
  Avg. Gradient Time  : 0.0460s  39.91% 
  Avg. Gaussian Time  : 0.0557s  48.31% 
  Avg. Iteration Time : 0.1153s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0368
Level     2,  Iter     1:    Energy =   0.0391
Level     2,  Iter     2:    Energy =   0.0411
Level     2,  Iter     3:    Energy =   0.0427
Level     2,  Iter     4:    Energy =   0.0440
Level     2,  Iter     5:    Energy =   0.0452
Level     2,  Iter     6:    Energy =   0.0463
Level     2,  Iter     7:    Energy =   0.0472
Level     2,  Iter     8:    Energy =   0.0481
Level     2,  Iter     9:    Energy =   0.0488
Level     2,  Iter    10:    Energy =   0.0494
Level     2,  Iter    11:    Energy =   0.0499
Level     2,  Iter    12:    Energy =   0.0505
Level     2,  Iter    13:    Energy =   0.0510
Level     2,  Iter    14:    Energy =   0.0515
Level     2,  Iter    15:    Energy =   0.0519
Level     2,  Iter    16:    Energy =   0.0523
Level     2,  Iter    17:    Energy =   0.0527
Level     2,  Iter    18:    Energy =   0.0530
Level     2,  Iter    19:    Energy =   0.0533
END OF LEVEL     2    DetJac Range:   0.0409  to   4.2426 
  Avg. Gradient Time  : 0.3258s  37.14% 
  Avg. Gaussian Time  : 0.4574s  52.15% 
  Avg. Iteration Time : 0.8772s 

real	0m29.201s
user	0m51.416s
sys	0m2.904s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.646154 0.651923
+ echo 'CHUNK 0.646154 0.651923 1'
CHUNK 0.646154 0.651923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.646154 0.651923 1
====================================
         PROGRESS: 0.646154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 009
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2286.15 	 OutFr   0.0024 	 RMSD     2.7400
Iter 002 	 Temp     3.72 	 Delta  2295.44 	 OutFr   0.0000 	 RMSD     2.1468
Iter 003 	 Temp     3.46 	 Delta  2225.59 	 OutFr   0.0000 	 RMSD     2.1964
Iter 004 	 Temp     3.22 	 Delta  2123.68 	 OutFr   0.0000 	 RMSD     2.2086
Iter 005 	 Temp     2.99 	 Delta  2007.41 	 OutFr   0.0024 	 RMSD     2.2000
Iter 006 	 Temp     2.78 	 Delta  1886.54 	 OutFr   0.0024 	 RMSD     2.1850
Iter 007 	 Temp     2.59 	 Delta  1765.32 	 OutFr   0.0024 	 RMSD     2.1678
Iter 008 	 Temp     2.41 	 Delta  1646.22 	 OutFr   0.0024 	 RMSD     2.1493
Iter 009 	 Temp     2.24 	 Delta  1530.71 	 OutFr   0.0024 	 RMSD     2.1324
Iter 010 	 Temp     2.08 	 Delta  1420.18 	 OutFr   0.0024 	 RMSD     2.1163
Iter 011 	 Temp     1.94 	 Delta  1316.75 	 OutFr   0.0024 	 RMSD     2.1007
Iter 012 	 Temp     1.80 	 Delta  1220.74 	 OutFr   0.0073 	 RMSD     2.0857
Iter 013 	 Temp     1.67 	 Delta  1130.99 	 OutFr   0.0098 	 RMSD     2.0727
Iter 014 	 Temp     1.56 	 Delta  1047.82 	 OutFr   0.0146 	 RMSD     2.0653
Iter 015 	 Temp     1.45 	 Delta   973.74 	 OutFr   0.0146 	 RMSD     2.0608
Iter 016 	 Temp     1.35 	 Delta   911.87 	 OutFr   0.0195 	 RMSD     2.0609
Iter 017 	 Temp     1.25 	 Delta   860.61 	 OutFr   0.0268 	 RMSD     2.0634
Iter 018 	 Temp     1.16 	 Delta   813.87 	 OutFr   0.0366 	 RMSD     2.0660
Iter 019 	 Temp     1.08 	 Delta   766.87 	 OutFr   0.0415 	 RMSD     2.0693
Iter 020 	 Temp     1.01 	 Delta   717.30 	 OutFr   0.0537 	 RMSD     2.0723
Iter 021 	 Temp     0.94 	 Delta   665.63 	 OutFr   0.0659 	 RMSD     2.0744
Iter 022 	 Temp     0.87 	 Delta   612.36 	 OutFr   0.0732 	 RMSD     2.0761
Iter 023 	 Temp     0.81 	 Delta   558.61 	 OutFr   0.0951 	 RMSD     2.0781
Iter 024 	 Temp     0.75 	 Delta   510.43 	 OutFr   0.1122 	 RMSD     2.0808
Iter 025 	 Temp     0.70 	 Delta   465.77 	 OutFr   0.1293 	 RMSD     2.0835
Iter 026 	 Temp     0.65 	 Delta   415.88 	 OutFr   0.1488 	 RMSD     2.0868
Iter 027 	 Temp     0.61 	 Delta   365.26 	 OutFr   0.1780 	 RMSD     2.0912
Iter 028 	 Temp     0.56 	 Delta   324.86 	 OutFr   0.2195 	 RMSD     2.0994
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.iJhIaEAG/mybin.nii.gz
+ vtklevelset /tmp/ashs.iJhIaEAG/mybin.nii.gz /tmp/ashs.iJhIaEAG/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.iJhIaEAG/mymesh.vtk /tmp/ashs.iJhIaEAG/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3200.88615296   0.94168733
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.iJhIaEAG/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -35.7769 to -12.1042
   Y : -10.8395 to 37.7724
   Z : -21.3322 to 6.03958
   Image resolution  : 97 by 169 by 107
   Image box origin  : {-40.7769, -15.8395, -26.3322}
   Image box size    : {33.6805, 58.6805, 37.4496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [40.7769, 15.8395, -26.3322]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat -o /tmp/ashs.iJhIaEAG/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat -o /tmp/ashs.iJhIaEAG/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.iJhIaEAG/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.651923 0.657692
+ echo 'CHUNK 0.651923 0.657692 0.5'
CHUNK 0.651923 0.657692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.651923 0.657692 0.5
====================================
         PROGRESS: 0.651923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.iJhIaEAG/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.iJhIaEAG/fixed_hw.nii.gz /tmp/ashs.iJhIaEAG/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.461566, moving = 0.691416
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.36367, 2.40239], [0.952629, 0.964963, 0.980772]
Level     0,  Iter     0:    Energy =   0.0550
Level     0,  Iter     1:    Energy =   0.0622
Level     0,  Iter     2:    Energy =   0.0694
Level     0,  Iter     3:    Energy =   0.0744
Level     0,  Iter     4:    Energy =   0.0791
Level     0,  Iter     5:    Energy =   0.0830
Level     0,  Iter     6:    Energy =   0.0855
Level     0,  Iter     7:    Energy =   0.0874
Level     0,  Iter     8:    Energy =   0.0888
Level     0,  Iter     9:    Energy =   0.0900
Level     0,  Iter    10:    Energy =   0.0911
Level     0,  Iter    11:    Energy =   0.0920
Level     0,  Iter    12:    Energy =   0.0928
Level     0,  Iter    13:    Energy =   0.0937
Level     0,  Iter    14:    Energy =   0.0948
Level     0,  Iter    15:    Energy =   0.0961
Level     0,  Iter    16:    Energy =   0.0976
Level     0,  Iter    17:    Energy =   0.0982
Level     0,  Iter    18:    Energy =   0.0982
Level     0,  Iter    19:    Energy =   0.0977
Level     0,  Iter    20:    Energy =   0.0977
Level     0,  Iter    21:    Energy =   0.0974
Level     0,  Iter    22:    Energy =   0.0976
Level     0,  Iter    23:    Energy =   0.0975
Level     0,  Iter    24:    Energy =   0.0978
Level     0,  Iter    25:    Energy =   0.0978
Level     0,  Iter    26:    Energy =   0.0980
Level     0,  Iter    27:    Energy =   0.0980
Level     0,  Iter    28:    Energy =   0.0982
Level     0,  Iter    29:    Energy =   0.0982
Level     0,  Iter    30:    Energy =   0.0983
Level     0,  Iter    31:    Energy =   0.0983
Level     0,  Iter    32:    Energy =   0.0984
Level     0,  Iter    33:    Energy =   0.0983
Level     0,  Iter    34:    Energy =   0.0984
Level     0,  Iter    35:    Energy =   0.0983
Level     0,  Iter    36:    Energy =   0.0984
Level     0,  Iter    37:    Energy =   0.0983
Level     0,  Iter    38:    Energy =   0.0985
Level     0,  Iter    39:    Energy =   0.0984
Level     0,  Iter    40:    Energy =   0.0985
Level     0,  Iter    41:    Energy =   0.0983
Level     0,  Iter    42:    Energy =   0.0985
Level     0,  Iter    43:    Energy =   0.0983
Level     0,  Iter    44:    Energy =   0.0985
Level     0,  Iter    45:    Energy =   0.0983
Level     0,  Iter    46:    Energy =   0.0985
Level     0,  Iter    47:    Energy =   0.0984
Level     0,  Iter    48:    Energy =   0.0985
Level     0,  Iter    49:    Energy =   0.0984
Level     0,  Iter    50:    Energy =   0.0985
Level     0,  Iter    51:    Energy =   0.0984
Level     0,  Iter    52:    Energy =   0.0985
Level     0,  Iter    53:    Energy =   0.0984
Level     0,  Iter    54:    Energy =   0.0985
Level     0,  Iter    55:    Energy =   0.0985
Level     0,  Iter    56:    Energy =   0.0986
Level     0,  Iter    57:    Energy =   0.0985
Level     0,  Iter    58:    Energy =   0.0986
Level     0,  Iter    59:    Energy =   0.0985
END OF LEVEL     0    DetJac Range:   0.3740  to   2.0753 
  Avg. Gradient Time  : 0.0076s  37.78% 
  Avg. Gaussian Time  : 0.0096s  47.66% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.19574, 1.2012], [0.486035, 0.488158, 0.490386]
Level     1,  Iter     0:    Energy =   0.0657
Level     1,  Iter     1:    Energy =   0.0703
Level     1,  Iter     2:    Energy =   0.0735
Level     1,  Iter     3:    Energy =   0.0767
Level     1,  Iter     4:    Energy =   0.0791
Level     1,  Iter     5:    Energy =   0.0812
Level     1,  Iter     6:    Energy =   0.0832
Level     1,  Iter     7:    Energy =   0.0847
Level     1,  Iter     8:    Energy =   0.0860
Level     1,  Iter     9:    Energy =   0.0868
Level     1,  Iter    10:    Energy =   0.0870
Level     1,  Iter    11:    Energy =   0.0878
Level     1,  Iter    12:    Energy =   0.0878
Level     1,  Iter    13:    Energy =   0.0887
Level     1,  Iter    14:    Energy =   0.0887
Level     1,  Iter    15:    Energy =   0.0893
Level     1,  Iter    16:    Energy =   0.0892
Level     1,  Iter    17:    Energy =   0.0898
Level     1,  Iter    18:    Energy =   0.0897
Level     1,  Iter    19:    Energy =   0.0902
Level     1,  Iter    20:    Energy =   0.0900
Level     1,  Iter    21:    Energy =   0.0905
Level     1,  Iter    22:    Energy =   0.0903
Level     1,  Iter    23:    Energy =   0.0908
Level     1,  Iter    24:    Energy =   0.0906
Level     1,  Iter    25:    Energy =   0.0910
Level     1,  Iter    26:    Energy =   0.0908
Level     1,  Iter    27:    Energy =   0.0912
Level     1,  Iter    28:    Energy =   0.0910
Level     1,  Iter    29:    Energy =   0.0914
Level     1,  Iter    30:    Energy =   0.0911
Level     1,  Iter    31:    Energy =   0.0915
Level     1,  Iter    32:    Energy =   0.0913
Level     1,  Iter    33:    Energy =   0.0917
Level     1,  Iter    34:    Energy =   0.0914
Level     1,  Iter    35:    Energy =   0.0918
Level     1,  Iter    36:    Energy =   0.0915
Level     1,  Iter    37:    Energy =   0.0919
Level     1,  Iter    38:    Energy =   0.0916
Level     1,  Iter    39:    Energy =   0.0920
Level     1,  Iter    40:    Energy =   0.0917
Level     1,  Iter    41:    Energy =   0.0921
Level     1,  Iter    42:    Energy =   0.0918
Level     1,  Iter    43:    Energy =   0.0921
Level     1,  Iter    44:    Energy =   0.0918
Level     1,  Iter    45:    Energy =   0.0922
Level     1,  Iter    46:    Energy =   0.0919
Level     1,  Iter    47:    Energy =   0.0922
Level     1,  Iter    48:    Energy =   0.0919
Level     1,  Iter    49:    Energy =   0.0922
Level     1,  Iter    50:    Energy =   0.0919
Level     1,  Iter    51:    Energy =   0.0923
Level     1,  Iter    52:    Energy =   0.0920
Level     1,  Iter    53:    Energy =   0.0923
Level     1,  Iter    54:    Energy =   0.0920
Level     1,  Iter    55:    Energy =   0.0923
Level     1,  Iter    56:    Energy =   0.0920
Level     1,  Iter    57:    Energy =   0.0924
Level     1,  Iter    58:    Energy =   0.0921
Level     1,  Iter    59:    Energy =   0.0925
END OF LEVEL     1    DetJac Range:   0.2310  to   3.2984 
  Avg. Gradient Time  : 0.0451s  40.19% 
  Avg. Gaussian Time  : 0.0539s  48.06% 
  Avg. Iteration Time : 0.1122s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0494
Level     2,  Iter     1:    Energy =   0.0522
Level     2,  Iter     2:    Energy =   0.0547
Level     2,  Iter     3:    Energy =   0.0566
Level     2,  Iter     4:    Energy =   0.0581
Level     2,  Iter     5:    Energy =   0.0599
Level     2,  Iter     6:    Energy =   0.0612
Level     2,  Iter     7:    Energy =   0.0626
Level     2,  Iter     8:    Energy =   0.0636
Level     2,  Iter     9:    Energy =   0.0643
Level     2,  Iter    10:    Energy =   0.0649
Level     2,  Iter    11:    Energy =   0.0654
Level     2,  Iter    12:    Energy =   0.0657
Level     2,  Iter    13:    Energy =   0.0661
Level     2,  Iter    14:    Energy =   0.0664
Level     2,  Iter    15:    Energy =   0.0668
Level     2,  Iter    16:    Energy =   0.0672
Level     2,  Iter    17:    Energy =   0.0675
Level     2,  Iter    18:    Energy =   0.0677
Level     2,  Iter    19:    Energy =   0.0679
END OF LEVEL     2    DetJac Range:   0.1359  to   5.5994 
  Avg. Gradient Time  : 0.3068s  36.49% 
  Avg. Gaussian Time  : 0.4457s  53.01% 
  Avg. Iteration Time : 0.8407s 

real	0m28.309s
user	0m50.232s
sys	0m2.732s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.651923 0.657692
+ echo 'CHUNK 0.651923 0.657692 1'
CHUNK 0.651923 0.657692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.651923 0.657692 1
====================================
         PROGRESS: 0.651923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 010
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2072.10 	 OutFr   0.0000 	 RMSD     4.0751
Iter 002 	 Temp     3.72 	 Delta  1802.85 	 OutFr   0.0000 	 RMSD     2.2155
Iter 003 	 Temp     3.46 	 Delta  1678.87 	 OutFr   0.0000 	 RMSD     2.1628
Iter 004 	 Temp     3.22 	 Delta  1590.10 	 OutFr   0.0000 	 RMSD     2.1326
Iter 005 	 Temp     2.99 	 Delta  1516.13 	 OutFr   0.0024 	 RMSD     2.1147
Iter 006 	 Temp     2.78 	 Delta  1450.80 	 OutFr   0.0049 	 RMSD     2.1023
Iter 007 	 Temp     2.59 	 Delta  1391.15 	 OutFr   0.0049 	 RMSD     2.0921
Iter 008 	 Temp     2.41 	 Delta  1334.86 	 OutFr   0.0049 	 RMSD     2.0838
Iter 009 	 Temp     2.24 	 Delta  1280.32 	 OutFr   0.0049 	 RMSD     2.0768
Iter 010 	 Temp     2.08 	 Delta  1227.64 	 OutFr   0.0049 	 RMSD     2.0704
Iter 011 	 Temp     1.94 	 Delta  1178.69 	 OutFr   0.0049 	 RMSD     2.0644
Iter 012 	 Temp     1.80 	 Delta  1135.61 	 OutFr   0.0049 	 RMSD     2.0586
Iter 013 	 Temp     1.67 	 Delta  1098.70 	 OutFr   0.0049 	 RMSD     2.0534
Iter 014 	 Temp     1.56 	 Delta  1065.85 	 OutFr   0.0073 	 RMSD     2.0490
Iter 015 	 Temp     1.45 	 Delta  1034.16 	 OutFr   0.0122 	 RMSD     2.0448
Iter 016 	 Temp     1.35 	 Delta  1001.03 	 OutFr   0.0195 	 RMSD     2.0411
Iter 017 	 Temp     1.25 	 Delta   966.60 	 OutFr   0.0268 	 RMSD     2.0377
Iter 018 	 Temp     1.16 	 Delta   932.69 	 OutFr   0.0317 	 RMSD     2.0342
Iter 019 	 Temp     1.08 	 Delta   894.84 	 OutFr   0.0390 	 RMSD     2.0311
Iter 020 	 Temp     1.01 	 Delta   848.44 	 OutFr   0.0439 	 RMSD     2.0287
Iter 021 	 Temp     0.94 	 Delta   793.80 	 OutFr   0.0561 	 RMSD     2.0268
Iter 022 	 Temp     0.87 	 Delta   734.65 	 OutFr   0.0683 	 RMSD     2.0254
Iter 023 	 Temp     0.81 	 Delta   674.03 	 OutFr   0.0732 	 RMSD     2.0241
Iter 024 	 Temp     0.75 	 Delta   611.35 	 OutFr   0.0927 	 RMSD     2.0237
Iter 025 	 Temp     0.70 	 Delta   546.26 	 OutFr   0.1171 	 RMSD     2.0245
Iter 026 	 Temp     0.65 	 Delta   481.11 	 OutFr   0.1512 	 RMSD     2.0262
Iter 027 	 Temp     0.61 	 Delta   421.39 	 OutFr   0.1902 	 RMSD     2.0299
Iter 028 	 Temp     0.56 	 Delta   368.92 	 OutFr   0.2390 	 RMSD     2.0347
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.U4QU5PAB/mybin.nii.gz
+ vtklevelset /tmp/ashs.U4QU5PAB/mybin.nii.gz /tmp/ashs.U4QU5PAB/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.U4QU5PAB/mymesh.vtk /tmp/ashs.U4QU5PAB/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3150.58663051   0.92688942
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.U4QU5PAB/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -38.2033 to -13.8136
   Y : -14.0267 to 31.5533
   Z : -16.368 to 14.416
   Image resolution  : 100 by 161 by 117
   Image box origin  : {-43.2033, -19.0267, -21.368}
   Image box size    : {34.7222, 55.9027, 40.9495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [43.2033, 19.0267, -21.368]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat -o /tmp/ashs.U4QU5PAB/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat -o /tmp/ashs.U4QU5PAB/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.U4QU5PAB/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.657692 0.663462
+ echo 'CHUNK 0.657692 0.663462 0.5'
CHUNK 0.657692 0.663462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.657692 0.663462 0.5
====================================
         PROGRESS: 0.657692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.U4QU5PAB/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.U4QU5PAB/fixed_hw.nii.gz /tmp/ashs.U4QU5PAB/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.470875, moving = 0.44331
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.36162, 2.36422], [0.982092, 0.964127, 0.96519]
Level     0,  Iter     0:    Energy =   0.0436
Level     0,  Iter     1:    Energy =   0.0488
Level     0,  Iter     2:    Energy =   0.0535
Level     0,  Iter     3:    Energy =   0.0581
Level     0,  Iter     4:    Energy =   0.0619
Level     0,  Iter     5:    Energy =   0.0657
Level     0,  Iter     6:    Energy =   0.0687
Level     0,  Iter     7:    Energy =   0.0715
Level     0,  Iter     8:    Energy =   0.0733
Level     0,  Iter     9:    Energy =   0.0749
Level     0,  Iter    10:    Energy =   0.0763
Level     0,  Iter    11:    Energy =   0.0778
Level     0,  Iter    12:    Energy =   0.0789
Level     0,  Iter    13:    Energy =   0.0797
Level     0,  Iter    14:    Energy =   0.0802
Level     0,  Iter    15:    Energy =   0.0807
Level     0,  Iter    16:    Energy =   0.0809
Level     0,  Iter    17:    Energy =   0.0813
Level     0,  Iter    18:    Energy =   0.0819
Level     0,  Iter    19:    Energy =   0.0823
Level     0,  Iter    20:    Energy =   0.0822
Level     0,  Iter    21:    Energy =   0.0825
Level     0,  Iter    22:    Energy =   0.0830
Level     0,  Iter    23:    Energy =   0.0831
Level     0,  Iter    24:    Energy =   0.0831
Level     0,  Iter    25:    Energy =   0.0833
Level     0,  Iter    26:    Energy =   0.0837
Level     0,  Iter    27:    Energy =   0.0837
Level     0,  Iter    28:    Energy =   0.0835
Level     0,  Iter    29:    Energy =   0.0836
Level     0,  Iter    30:    Energy =   0.0837
Level     0,  Iter    31:    Energy =   0.0837
Level     0,  Iter    32:    Energy =   0.0836
Level     0,  Iter    33:    Energy =   0.0837
Level     0,  Iter    34:    Energy =   0.0837
Level     0,  Iter    35:    Energy =   0.0837
Level     0,  Iter    36:    Energy =   0.0836
Level     0,  Iter    37:    Energy =   0.0836
Level     0,  Iter    38:    Energy =   0.0836
Level     0,  Iter    39:    Energy =   0.0837
Level     0,  Iter    40:    Energy =   0.0836
Level     0,  Iter    41:    Energy =   0.0837
Level     0,  Iter    42:    Energy =   0.0836
Level     0,  Iter    43:    Energy =   0.0837
Level     0,  Iter    44:    Energy =   0.0837
Level     0,  Iter    45:    Energy =   0.0837
Level     0,  Iter    46:    Energy =   0.0837
Level     0,  Iter    47:    Energy =   0.0839
Level     0,  Iter    48:    Energy =   0.0839
Level     0,  Iter    49:    Energy =   0.0840
Level     0,  Iter    50:    Energy =   0.0839
Level     0,  Iter    51:    Energy =   0.0840
Level     0,  Iter    52:    Energy =   0.0839
Level     0,  Iter    53:    Energy =   0.0840
Level     0,  Iter    54:    Energy =   0.0840
Level     0,  Iter    55:    Energy =   0.0840
Level     0,  Iter    56:    Energy =   0.0840
Level     0,  Iter    57:    Energy =   0.0840
Level     0,  Iter    58:    Energy =   0.0840
Level     0,  Iter    59:    Energy =   0.0841
END OF LEVEL     0    DetJac Range:   0.1585  to   1.9670 
  Avg. Gradient Time  : 0.0081s  37.67% 
  Avg. Gaussian Time  : 0.0102s  47.51% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19539, 1.20215], [0.491046, 0.488015, 0.490774]
Level     1,  Iter     0:    Energy =   0.0559
Level     1,  Iter     1:    Energy =   0.0587
Level     1,  Iter     2:    Energy =   0.0610
Level     1,  Iter     3:    Energy =   0.0640
Level     1,  Iter     4:    Energy =   0.0661
Level     1,  Iter     5:    Energy =   0.0677
Level     1,  Iter     6:    Energy =   0.0690
Level     1,  Iter     7:    Energy =   0.0702
Level     1,  Iter     8:    Energy =   0.0712
Level     1,  Iter     9:    Energy =   0.0721
Level     1,  Iter    10:    Energy =   0.0730
Level     1,  Iter    11:    Energy =   0.0738
Level     1,  Iter    12:    Energy =   0.0746
Level     1,  Iter    13:    Energy =   0.0752
Level     1,  Iter    14:    Energy =   0.0758
Level     1,  Iter    15:    Energy =   0.0763
Level     1,  Iter    16:    Energy =   0.0768
Level     1,  Iter    17:    Energy =   0.0772
Level     1,  Iter    18:    Energy =   0.0776
Level     1,  Iter    19:    Energy =   0.0779
Level     1,  Iter    20:    Energy =   0.0778
Level     1,  Iter    21:    Energy =   0.0780
Level     1,  Iter    22:    Energy =   0.0780
Level     1,  Iter    23:    Energy =   0.0782
Level     1,  Iter    24:    Energy =   0.0781
Level     1,  Iter    25:    Energy =   0.0783
Level     1,  Iter    26:    Energy =   0.0783
Level     1,  Iter    27:    Energy =   0.0785
Level     1,  Iter    28:    Energy =   0.0783
Level     1,  Iter    29:    Energy =   0.0786
Level     1,  Iter    30:    Energy =   0.0786
Level     1,  Iter    31:    Energy =   0.0788
Level     1,  Iter    32:    Energy =   0.0785
Level     1,  Iter    33:    Energy =   0.0787
Level     1,  Iter    34:    Energy =   0.0789
Level     1,  Iter    35:    Energy =   0.0790
Level     1,  Iter    36:    Energy =   0.0787
Level     1,  Iter    37:    Energy =   0.0789
Level     1,  Iter    38:    Energy =   0.0791
Level     1,  Iter    39:    Energy =   0.0791
Level     1,  Iter    40:    Energy =   0.0788
Level     1,  Iter    41:    Energy =   0.0790
Level     1,  Iter    42:    Energy =   0.0792
Level     1,  Iter    43:    Energy =   0.0793
Level     1,  Iter    44:    Energy =   0.0790
Level     1,  Iter    45:    Energy =   0.0792
Level     1,  Iter    46:    Energy =   0.0794
Level     1,  Iter    47:    Energy =   0.0795
Level     1,  Iter    48:    Energy =   0.0791
Level     1,  Iter    49:    Energy =   0.0793
Level     1,  Iter    50:    Energy =   0.0795
Level     1,  Iter    51:    Energy =   0.0796
Level     1,  Iter    52:    Energy =   0.0793
Level     1,  Iter    53:    Energy =   0.0795
Level     1,  Iter    54:    Energy =   0.0796
Level     1,  Iter    55:    Energy =   0.0796
Level     1,  Iter    56:    Energy =   0.0793
Level     1,  Iter    57:    Energy =   0.0794
Level     1,  Iter    58:    Energy =   0.0796
Level     1,  Iter    59:    Energy =   0.0796
END OF LEVEL     1    DetJac Range:   0.0825  to   3.5155 
  Avg. Gradient Time  : 0.0468s  39.77% 
  Avg. Gaussian Time  : 0.0569s  48.27% 
  Avg. Iteration Time : 0.1178s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0426
Level     2,  Iter     1:    Energy =   0.0448
Level     2,  Iter     2:    Energy =   0.0466
Level     2,  Iter     3:    Energy =   0.0484
Level     2,  Iter     4:    Energy =   0.0499
Level     2,  Iter     5:    Energy =   0.0512
Level     2,  Iter     6:    Energy =   0.0521
Level     2,  Iter     7:    Energy =   0.0529
Level     2,  Iter     8:    Energy =   0.0536
Level     2,  Iter     9:    Energy =   0.0544
Level     2,  Iter    10:    Energy =   0.0553
Level     2,  Iter    11:    Energy =   0.0560
Level     2,  Iter    12:    Energy =   0.0567
Level     2,  Iter    13:    Energy =   0.0574
Level     2,  Iter    14:    Energy =   0.0581
Level     2,  Iter    15:    Energy =   0.0587
Level     2,  Iter    16:    Energy =   0.0592
Level     2,  Iter    17:    Energy =   0.0596
Level     2,  Iter    18:    Energy =   0.0598
Level     2,  Iter    19:    Energy =   0.0600
END OF LEVEL     2    DetJac Range:   0.0619  to   6.2535 
  Avg. Gradient Time  : 0.3298s  36.74% 
  Avg. Gaussian Time  : 0.4731s  52.69% 
  Avg. Iteration Time : 0.8979s 

real	0m29.838s
user	0m52.780s
sys	0m2.956s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.657692 0.663462
+ echo 'CHUNK 0.657692 0.663462 1'
CHUNK 0.657692 0.663462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.657692 0.663462 1
====================================
         PROGRESS: 0.657692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 011
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1970.56 	 OutFr   0.0024 	 RMSD     3.2399
Iter 002 	 Temp     3.72 	 Delta  1734.92 	 OutFr   0.0000 	 RMSD     2.3950
Iter 003 	 Temp     3.46 	 Delta  1558.82 	 OutFr   0.0024 	 RMSD     2.3813
Iter 004 	 Temp     3.22 	 Delta  1419.49 	 OutFr   0.0024 	 RMSD     2.3622
Iter 005 	 Temp     2.99 	 Delta  1306.22 	 OutFr   0.0073 	 RMSD     2.3430
Iter 006 	 Temp     2.78 	 Delta  1214.87 	 OutFr   0.0073 	 RMSD     2.3278
Iter 007 	 Temp     2.59 	 Delta  1142.42 	 OutFr   0.0073 	 RMSD     2.3156
Iter 008 	 Temp     2.41 	 Delta  1084.91 	 OutFr   0.0122 	 RMSD     2.3052
Iter 009 	 Temp     2.24 	 Delta  1038.36 	 OutFr   0.0122 	 RMSD     2.2965
Iter 010 	 Temp     2.08 	 Delta  1000.20 	 OutFr   0.0146 	 RMSD     2.2896
Iter 011 	 Temp     1.94 	 Delta   968.62 	 OutFr   0.0146 	 RMSD     2.2840
Iter 012 	 Temp     1.80 	 Delta   941.97 	 OutFr   0.0195 	 RMSD     2.2801
Iter 013 	 Temp     1.67 	 Delta   919.09 	 OutFr   0.0195 	 RMSD     2.2774
Iter 014 	 Temp     1.56 	 Delta   898.99 	 OutFr   0.0195 	 RMSD     2.2757
Iter 015 	 Temp     1.45 	 Delta   879.95 	 OutFr   0.0195 	 RMSD     2.2741
Iter 016 	 Temp     1.35 	 Delta   859.55 	 OutFr   0.0220 	 RMSD     2.2732
Iter 017 	 Temp     1.25 	 Delta   835.74 	 OutFr   0.0244 	 RMSD     2.2726
Iter 018 	 Temp     1.16 	 Delta   807.92 	 OutFr   0.0268 	 RMSD     2.2720
Iter 019 	 Temp     1.08 	 Delta   775.64 	 OutFr   0.0341 	 RMSD     2.2714
Iter 020 	 Temp     1.01 	 Delta   737.07 	 OutFr   0.0341 	 RMSD     2.2706
Iter 021 	 Temp     0.94 	 Delta   692.13 	 OutFr   0.0463 	 RMSD     2.2698
Iter 022 	 Temp     0.87 	 Delta   642.76 	 OutFr   0.0610 	 RMSD     2.2688
Iter 023 	 Temp     0.81 	 Delta   591.51 	 OutFr   0.0707 	 RMSD     2.2676
Iter 024 	 Temp     0.75 	 Delta   540.80 	 OutFr   0.0902 	 RMSD     2.2666
Iter 025 	 Temp     0.70 	 Delta   491.81 	 OutFr   0.1244 	 RMSD     2.2660
Iter 026 	 Temp     0.65 	 Delta   446.09 	 OutFr   0.1463 	 RMSD     2.2660
Iter 027 	 Temp     0.61 	 Delta   407.31 	 OutFr   0.1854 	 RMSD     2.2669
Iter 028 	 Temp     0.56 	 Delta   374.78 	 OutFr   0.2098 	 RMSD     2.2685
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.gobP29x7/mybin.nii.gz
+ vtklevelset /tmp/ashs.gobP29x7/mybin.nii.gz /tmp/ashs.gobP29x7/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.gobP29x7/mymesh.vtk /tmp/ashs.gobP29x7/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3215.04899705   0.94585398
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.gobP29x7/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -39.1737 to -14.3055
   Y : -17.2523 to 30.6067
   Z : -22.9966 to 5.6771
   Image resolution  : 101 by 167 by 111
   Image box origin  : {-44.1737, -22.2523, -27.9966}
   Image box size    : {35.0694, 57.9861, 38.8496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [44.1737, 22.2523, -27.9966]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat -o /tmp/ashs.gobP29x7/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat -o /tmp/ashs.gobP29x7/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.gobP29x7/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.663462 0.669231
+ echo 'CHUNK 0.663462 0.669231 0.5'
CHUNK 0.663462 0.669231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.663462 0.669231 0.5
====================================
         PROGRESS: 0.663462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.gobP29x7/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.gobP29x7/fixed_hw.nii.gz /tmp/ashs.gobP29x7/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.461096, moving = 0.429881
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.39131, 2.40319], [0.953763, 0.976246, 0.981099]
Level     0,  Iter     0:    Energy =   0.0505
Level     0,  Iter     1:    Energy =   0.0569
Level     0,  Iter     2:    Energy =   0.0623
Level     0,  Iter     3:    Energy =   0.0670
Level     0,  Iter     4:    Energy =   0.0710
Level     0,  Iter     5:    Energy =   0.0739
Level     0,  Iter     6:    Energy =   0.0766
Level     0,  Iter     7:    Energy =   0.0785
Level     0,  Iter     8:    Energy =   0.0797
Level     0,  Iter     9:    Energy =   0.0809
Level     0,  Iter    10:    Energy =   0.0819
Level     0,  Iter    11:    Energy =   0.0825
Level     0,  Iter    12:    Energy =   0.0831
Level     0,  Iter    13:    Energy =   0.0833
Level     0,  Iter    14:    Energy =   0.0836
Level     0,  Iter    15:    Energy =   0.0839
Level     0,  Iter    16:    Energy =   0.0840
Level     0,  Iter    17:    Energy =   0.0842
Level     0,  Iter    18:    Energy =   0.0842
Level     0,  Iter    19:    Energy =   0.0845
Level     0,  Iter    20:    Energy =   0.0845
Level     0,  Iter    21:    Energy =   0.0847
Level     0,  Iter    22:    Energy =   0.0847
Level     0,  Iter    23:    Energy =   0.0848
Level     0,  Iter    24:    Energy =   0.0846
Level     0,  Iter    25:    Energy =   0.0850
Level     0,  Iter    26:    Energy =   0.0851
Level     0,  Iter    27:    Energy =   0.0852
Level     0,  Iter    28:    Energy =   0.0851
Level     0,  Iter    29:    Energy =   0.0853
Level     0,  Iter    30:    Energy =   0.0851
Level     0,  Iter    31:    Energy =   0.0853
Level     0,  Iter    32:    Energy =   0.0855
Level     0,  Iter    33:    Energy =   0.0854
Level     0,  Iter    34:    Energy =   0.0852
Level     0,  Iter    35:    Energy =   0.0854
Level     0,  Iter    36:    Energy =   0.0858
Level     0,  Iter    37:    Energy =   0.0860
Level     0,  Iter    38:    Energy =   0.0854
Level     0,  Iter    39:    Energy =   0.0859
Level     0,  Iter    40:    Energy =   0.0860
Level     0,  Iter    41:    Energy =   0.0858
Level     0,  Iter    42:    Energy =   0.0854
Level     0,  Iter    43:    Energy =   0.0855
Level     0,  Iter    44:    Energy =   0.0859
Level     0,  Iter    45:    Energy =   0.0861
Level     0,  Iter    46:    Energy =   0.0857
Level     0,  Iter    47:    Energy =   0.0859
Level     0,  Iter    48:    Energy =   0.0854
Level     0,  Iter    49:    Energy =   0.0858
Level     0,  Iter    50:    Energy =   0.0862
Level     0,  Iter    51:    Energy =   0.0861
Level     0,  Iter    52:    Energy =   0.0862
Level     0,  Iter    53:    Energy =   0.0859
Level     0,  Iter    54:    Energy =   0.0854
Level     0,  Iter    55:    Energy =   0.0855
Level     0,  Iter    56:    Energy =   0.0861
Level     0,  Iter    57:    Energy =   0.0861
Level     0,  Iter    58:    Energy =   0.0862
Level     0,  Iter    59:    Energy =   0.0862
END OF LEVEL     0    DetJac Range:   0.2223  to   3.1228 
  Avg. Gradient Time  : 0.0078s  37.90% 
  Avg. Gaussian Time  : 0.0098s  47.48% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.19565, 1.2016], [0.486232, 0.488123, 0.49055]
Level     1,  Iter     0:    Energy =   0.0620
Level     1,  Iter     1:    Energy =   0.0659
Level     1,  Iter     2:    Energy =   0.0695
Level     1,  Iter     3:    Energy =   0.0720
Level     1,  Iter     4:    Energy =   0.0737
Level     1,  Iter     5:    Energy =   0.0752
Level     1,  Iter     6:    Energy =   0.0770
Level     1,  Iter     7:    Energy =   0.0788
Level     1,  Iter     8:    Energy =   0.0802
Level     1,  Iter     9:    Energy =   0.0813
Level     1,  Iter    10:    Energy =   0.0816
Level     1,  Iter    11:    Energy =   0.0816
Level     1,  Iter    12:    Energy =   0.0816
Level     1,  Iter    13:    Energy =   0.0818
Level     1,  Iter    14:    Energy =   0.0817
Level     1,  Iter    15:    Energy =   0.0822
Level     1,  Iter    16:    Energy =   0.0821
Level     1,  Iter    17:    Energy =   0.0828
Level     1,  Iter    18:    Energy =   0.0825
Level     1,  Iter    19:    Energy =   0.0831
Level     1,  Iter    20:    Energy =   0.0829
Level     1,  Iter    21:    Energy =   0.0833
Level     1,  Iter    22:    Energy =   0.0830
Level     1,  Iter    23:    Energy =   0.0835
Level     1,  Iter    24:    Energy =   0.0832
Level     1,  Iter    25:    Energy =   0.0836
Level     1,  Iter    26:    Energy =   0.0833
Level     1,  Iter    27:    Energy =   0.0837
Level     1,  Iter    28:    Energy =   0.0834
Level     1,  Iter    29:    Energy =   0.0838
Level     1,  Iter    30:    Energy =   0.0834
Level     1,  Iter    31:    Energy =   0.0839
Level     1,  Iter    32:    Energy =   0.0836
Level     1,  Iter    33:    Energy =   0.0839
Level     1,  Iter    34:    Energy =   0.0836
Level     1,  Iter    35:    Energy =   0.0839
Level     1,  Iter    36:    Energy =   0.0836
Level     1,  Iter    37:    Energy =   0.0839
Level     1,  Iter    38:    Energy =   0.0836
Level     1,  Iter    39:    Energy =   0.0840
Level     1,  Iter    40:    Energy =   0.0837
Level     1,  Iter    41:    Energy =   0.0840
Level     1,  Iter    42:    Energy =   0.0837
Level     1,  Iter    43:    Energy =   0.0841
Level     1,  Iter    44:    Energy =   0.0837
Level     1,  Iter    45:    Energy =   0.0841
Level     1,  Iter    46:    Energy =   0.0838
Level     1,  Iter    47:    Energy =   0.0842
Level     1,  Iter    48:    Energy =   0.0839
Level     1,  Iter    49:    Energy =   0.0842
Level     1,  Iter    50:    Energy =   0.0838
Level     1,  Iter    51:    Energy =   0.0843
Level     1,  Iter    52:    Energy =   0.0839
Level     1,  Iter    53:    Energy =   0.0842
Level     1,  Iter    54:    Energy =   0.0839
Level     1,  Iter    55:    Energy =   0.0843
Level     1,  Iter    56:    Energy =   0.0840
Level     1,  Iter    57:    Energy =   0.0844
Level     1,  Iter    58:    Energy =   0.0840
Level     1,  Iter    59:    Energy =   0.0844
END OF LEVEL     1    DetJac Range:   0.1521  to   3.6573 
  Avg. Gradient Time  : 0.0481s  40.34% 
  Avg. Gaussian Time  : 0.0570s  47.83% 
  Avg. Iteration Time : 0.1192s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0462
Level     2,  Iter     1:    Energy =   0.0490
Level     2,  Iter     2:    Energy =   0.0511
Level     2,  Iter     3:    Energy =   0.0531
Level     2,  Iter     4:    Energy =   0.0548
Level     2,  Iter     5:    Energy =   0.0563
Level     2,  Iter     6:    Energy =   0.0575
Level     2,  Iter     7:    Energy =   0.0585
Level     2,  Iter     8:    Energy =   0.0594
Level     2,  Iter     9:    Energy =   0.0602
Level     2,  Iter    10:    Energy =   0.0608
Level     2,  Iter    11:    Energy =   0.0612
Level     2,  Iter    12:    Energy =   0.0615
Level     2,  Iter    13:    Energy =   0.0617
Level     2,  Iter    14:    Energy =   0.0618
Level     2,  Iter    15:    Energy =   0.0621
Level     2,  Iter    16:    Energy =   0.0624
Level     2,  Iter    17:    Energy =   0.0627
Level     2,  Iter    18:    Energy =   0.0632
Level     2,  Iter    19:    Energy =   0.0636
END OF LEVEL     2    DetJac Range:   0.0954  to   6.3617 
  Avg. Gradient Time  : 0.3304s  37.60% 
  Avg. Gaussian Time  : 0.4543s  51.70% 
  Avg. Iteration Time : 0.8787s 

real	0m29.467s
user	0m52.144s
sys	0m2.948s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.663462 0.669231
+ echo 'CHUNK 0.663462 0.669231 1'
CHUNK 0.663462 0.669231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.663462 0.669231 1
====================================
         PROGRESS: 0.663462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 012
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2133.29 	 OutFr   0.0049 	 RMSD     5.0171
Iter 002 	 Temp     3.72 	 Delta  1802.91 	 OutFr   0.0024 	 RMSD     2.5613
Iter 003 	 Temp     3.46 	 Delta  1695.97 	 OutFr   0.0049 	 RMSD     2.4514
Iter 004 	 Temp     3.22 	 Delta  1613.52 	 OutFr   0.0073 	 RMSD     2.4085
Iter 005 	 Temp     2.99 	 Delta  1537.77 	 OutFr   0.0098 	 RMSD     2.3843
Iter 006 	 Temp     2.78 	 Delta  1467.01 	 OutFr   0.0146 	 RMSD     2.3670
Iter 007 	 Temp     2.59 	 Delta  1401.80 	 OutFr   0.0171 	 RMSD     2.3547
Iter 008 	 Temp     2.41 	 Delta  1341.65 	 OutFr   0.0195 	 RMSD     2.3458
Iter 009 	 Temp     2.24 	 Delta  1284.30 	 OutFr   0.0244 	 RMSD     2.3397
Iter 010 	 Temp     2.08 	 Delta  1228.52 	 OutFr   0.0268 	 RMSD     2.3355
Iter 011 	 Temp     1.94 	 Delta  1175.20 	 OutFr   0.0317 	 RMSD     2.3323
Iter 012 	 Temp     1.80 	 Delta  1125.76 	 OutFr   0.0390 	 RMSD     2.3301
Iter 013 	 Temp     1.67 	 Delta  1080.77 	 OutFr   0.0512 	 RMSD     2.3291
Iter 014 	 Temp     1.56 	 Delta  1039.93 	 OutFr   0.0537 	 RMSD     2.3284
Iter 015 	 Temp     1.45 	 Delta  1001.87 	 OutFr   0.0537 	 RMSD     2.3282
Iter 016 	 Temp     1.35 	 Delta   963.60 	 OutFr   0.0561 	 RMSD     2.3280
Iter 017 	 Temp     1.25 	 Delta   922.26 	 OutFr   0.0707 	 RMSD     2.3278
Iter 018 	 Temp     1.16 	 Delta   876.89 	 OutFr   0.0829 	 RMSD     2.3277
Iter 019 	 Temp     1.08 	 Delta   827.35 	 OutFr   0.0902 	 RMSD     2.3272
Iter 020 	 Temp     1.01 	 Delta   772.81 	 OutFr   0.1049 	 RMSD     2.3264
Iter 021 	 Temp     0.94 	 Delta   713.50 	 OutFr   0.1341 	 RMSD     2.3254
Iter 022 	 Temp     0.87 	 Delta   650.70 	 OutFr   0.1634 	 RMSD     2.3240
Iter 023 	 Temp     0.81 	 Delta   588.16 	 OutFr   0.1805 	 RMSD     2.3220
Iter 024 	 Temp     0.75 	 Delta   534.44 	 OutFr   0.1976 	 RMSD     2.3194
Iter 025 	 Temp     0.70 	 Delta   488.00 	 OutFr   0.2220 	 RMSD     2.3160
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.E17D9B4n/mybin.nii.gz
+ vtklevelset /tmp/ashs.E17D9B4n/mybin.nii.gz /tmp/ashs.E17D9B4n/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.E17D9B4n/mymesh.vtk /tmp/ashs.E17D9B4n/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3085.63303271   0.90778035
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.E17D9B4n/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -35.3066 to -10.7954
   Y : -12.9459 to 31.4587
   Z : -30.2774 to 0.966659
   Image resolution  : 100 by 157 by 118
   Image box origin  : {-40.3066, -17.9459, -35.2774}
   Image box size    : {34.7222, 54.5139, 41.2995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [40.3066, 17.9459, -35.2774]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat -o /tmp/ashs.E17D9B4n/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat -o /tmp/ashs.E17D9B4n/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.E17D9B4n/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.669231 0.675
+ echo 'CHUNK 0.669231 0.675 0.5'
CHUNK 0.669231 0.675 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.669231 0.675 0.5
====================================
         PROGRESS: 0.669231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.E17D9B4n/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.E17D9B4n/fixed_hw.nii.gz /tmp/ashs.E17D9B4n/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.467956, moving = 0.778946
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.36052, 2.38443], [0.982092, 0.963678, 0.973439]
Level     0,  Iter     0:    Energy =   0.0414
Level     0,  Iter     1:    Energy =   0.0490
Level     0,  Iter     2:    Energy =   0.0543
Level     0,  Iter     3:    Energy =   0.0594
Level     0,  Iter     4:    Energy =   0.0649
Level     0,  Iter     5:    Energy =   0.0692
Level     0,  Iter     6:    Energy =   0.0728
Level     0,  Iter     7:    Energy =   0.0759
Level     0,  Iter     8:    Energy =   0.0783
Level     0,  Iter     9:    Energy =   0.0801
Level     0,  Iter    10:    Energy =   0.0809
Level     0,  Iter    11:    Energy =   0.0810
Level     0,  Iter    12:    Energy =   0.0812
Level     0,  Iter    13:    Energy =   0.0824
Level     0,  Iter    14:    Energy =   0.0823
Level     0,  Iter    15:    Energy =   0.0826
Level     0,  Iter    16:    Energy =   0.0827
Level     0,  Iter    17:    Energy =   0.0839
Level     0,  Iter    18:    Energy =   0.0837
Level     0,  Iter    19:    Energy =   0.0837
Level     0,  Iter    20:    Energy =   0.0836
Level     0,  Iter    21:    Energy =   0.0844
Level     0,  Iter    22:    Energy =   0.0843
Level     0,  Iter    23:    Energy =   0.0844
Level     0,  Iter    24:    Energy =   0.0843
Level     0,  Iter    25:    Energy =   0.0851
Level     0,  Iter    26:    Energy =   0.0848
Level     0,  Iter    27:    Energy =   0.0848
Level     0,  Iter    28:    Energy =   0.0847
Level     0,  Iter    29:    Energy =   0.0855
Level     0,  Iter    30:    Energy =   0.0852
Level     0,  Iter    31:    Energy =   0.0852
Level     0,  Iter    32:    Energy =   0.0851
Level     0,  Iter    33:    Energy =   0.0859
Level     0,  Iter    34:    Energy =   0.0855
Level     0,  Iter    35:    Energy =   0.0855
Level     0,  Iter    36:    Energy =   0.0854
Level     0,  Iter    37:    Energy =   0.0860
Level     0,  Iter    38:    Energy =   0.0856
Level     0,  Iter    39:    Energy =   0.0857
Level     0,  Iter    40:    Energy =   0.0855
Level     0,  Iter    41:    Energy =   0.0861
Level     0,  Iter    42:    Energy =   0.0858
Level     0,  Iter    43:    Energy =   0.0859
Level     0,  Iter    44:    Energy =   0.0857
Level     0,  Iter    45:    Energy =   0.0861
Level     0,  Iter    46:    Energy =   0.0859
Level     0,  Iter    47:    Energy =   0.0860
Level     0,  Iter    48:    Energy =   0.0858
Level     0,  Iter    49:    Energy =   0.0862
Level     0,  Iter    50:    Energy =   0.0859
Level     0,  Iter    51:    Energy =   0.0861
Level     0,  Iter    52:    Energy =   0.0860
Level     0,  Iter    53:    Energy =   0.0865
Level     0,  Iter    54:    Energy =   0.0862
Level     0,  Iter    55:    Energy =   0.0863
Level     0,  Iter    56:    Energy =   0.0862
Level     0,  Iter    57:    Energy =   0.0866
Level     0,  Iter    58:    Energy =   0.0863
Level     0,  Iter    59:    Energy =   0.0866
END OF LEVEL     0    DetJac Range:   0.2620  to   2.9986 
  Avg. Gradient Time  : 0.0078s  37.34% 
  Avg. Gaussian Time  : 0.0100s  47.49% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.1952, 1.21242], [0.491046, 0.487938, 0.494969]
Level     1,  Iter     0:    Energy =   0.0571
Level     1,  Iter     1:    Energy =   0.0613
Level     1,  Iter     2:    Energy =   0.0647
Level     1,  Iter     3:    Energy =   0.0675
Level     1,  Iter     4:    Energy =   0.0699
Level     1,  Iter     5:    Energy =   0.0722
Level     1,  Iter     6:    Energy =   0.0740
Level     1,  Iter     7:    Energy =   0.0757
Level     1,  Iter     8:    Energy =   0.0773
Level     1,  Iter     9:    Energy =   0.0787
Level     1,  Iter    10:    Energy =   0.0797
Level     1,  Iter    11:    Energy =   0.0802
Level     1,  Iter    12:    Energy =   0.0809
Level     1,  Iter    13:    Energy =   0.0816
Level     1,  Iter    14:    Energy =   0.0816
Level     1,  Iter    15:    Energy =   0.0816
Level     1,  Iter    16:    Energy =   0.0821
Level     1,  Iter    17:    Energy =   0.0820
Level     1,  Iter    18:    Energy =   0.0825
Level     1,  Iter    19:    Energy =   0.0824
Level     1,  Iter    20:    Energy =   0.0827
Level     1,  Iter    21:    Energy =   0.0826
Level     1,  Iter    22:    Energy =   0.0831
Level     1,  Iter    23:    Energy =   0.0829
Level     1,  Iter    24:    Energy =   0.0833
Level     1,  Iter    25:    Energy =   0.0831
Level     1,  Iter    26:    Energy =   0.0835
Level     1,  Iter    27:    Energy =   0.0834
Level     1,  Iter    28:    Energy =   0.0836
Level     1,  Iter    29:    Energy =   0.0834
Level     1,  Iter    30:    Energy =   0.0837
Level     1,  Iter    31:    Energy =   0.0836
Level     1,  Iter    32:    Energy =   0.0838
Level     1,  Iter    33:    Energy =   0.0835
Level     1,  Iter    34:    Energy =   0.0839
Level     1,  Iter    35:    Energy =   0.0839
Level     1,  Iter    36:    Energy =   0.0839
Level     1,  Iter    37:    Energy =   0.0837
Level     1,  Iter    38:    Energy =   0.0840
Level     1,  Iter    39:    Energy =   0.0840
Level     1,  Iter    40:    Energy =   0.0841
Level     1,  Iter    41:    Energy =   0.0838
Level     1,  Iter    42:    Energy =   0.0841
Level     1,  Iter    43:    Energy =   0.0841
Level     1,  Iter    44:    Energy =   0.0842
Level     1,  Iter    45:    Energy =   0.0839
Level     1,  Iter    46:    Energy =   0.0842
Level     1,  Iter    47:    Energy =   0.0843
Level     1,  Iter    48:    Energy =   0.0843
Level     1,  Iter    49:    Energy =   0.0840
Level     1,  Iter    50:    Energy =   0.0843
Level     1,  Iter    51:    Energy =   0.0844
Level     1,  Iter    52:    Energy =   0.0844
Level     1,  Iter    53:    Energy =   0.0841
Level     1,  Iter    54:    Energy =   0.0844
Level     1,  Iter    55:    Energy =   0.0844
Level     1,  Iter    56:    Energy =   0.0845
Level     1,  Iter    57:    Energy =   0.0842
Level     1,  Iter    58:    Energy =   0.0845
Level     1,  Iter    59:    Energy =   0.0845
END OF LEVEL     1    DetJac Range:   0.1306  to   3.7047 
  Avg. Gradient Time  : 0.0461s  39.97% 
  Avg. Gaussian Time  : 0.0555s  48.13% 
  Avg. Iteration Time : 0.1153s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0436
Level     2,  Iter     1:    Energy =   0.0460
Level     2,  Iter     2:    Energy =   0.0482
Level     2,  Iter     3:    Energy =   0.0502
Level     2,  Iter     4:    Energy =   0.0517
Level     2,  Iter     5:    Energy =   0.0532
Level     2,  Iter     6:    Energy =   0.0545
Level     2,  Iter     7:    Energy =   0.0556
Level     2,  Iter     8:    Energy =   0.0566
Level     2,  Iter     9:    Energy =   0.0576
Level     2,  Iter    10:    Energy =   0.0586
Level     2,  Iter    11:    Energy =   0.0592
Level     2,  Iter    12:    Energy =   0.0594
Level     2,  Iter    13:    Energy =   0.0596
Level     2,  Iter    14:    Energy =   0.0595
Level     2,  Iter    15:    Energy =   0.0595
Level     2,  Iter    16:    Energy =   0.0595
Level     2,  Iter    17:    Energy =   0.0595
Level     2,  Iter    18:    Energy =   0.0596
Level     2,  Iter    19:    Energy =   0.0597
END OF LEVEL     2    DetJac Range:   0.1190  to   5.0954 
  Avg. Gradient Time  : 0.3231s  36.65% 
  Avg. Gaussian Time  : 0.4658s  52.84% 
  Avg. Iteration Time : 0.8816s 

real	0m29.260s
user	0m51.772s
sys	0m2.952s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.669231 0.675
+ echo 'CHUNK 0.669231 0.675 1'
CHUNK 0.669231 0.675 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.669231 0.675 1
====================================
         PROGRESS: 0.669231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 013
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1966.85 	 OutFr   0.0000 	 RMSD     3.1685
Iter 002 	 Temp     3.72 	 Delta  1536.07 	 OutFr   0.0000 	 RMSD     2.0310
Iter 003 	 Temp     3.46 	 Delta  1320.50 	 OutFr   0.0024 	 RMSD     2.0459
Iter 004 	 Temp     3.22 	 Delta  1184.63 	 OutFr   0.0024 	 RMSD     2.0487
Iter 005 	 Temp     2.99 	 Delta  1079.92 	 OutFr   0.0024 	 RMSD     2.0389
Iter 006 	 Temp     2.78 	 Delta   992.39 	 OutFr   0.0024 	 RMSD     2.0255
Iter 007 	 Temp     2.59 	 Delta   918.49 	 OutFr   0.0049 	 RMSD     2.0112
Iter 008 	 Temp     2.41 	 Delta   857.25 	 OutFr   0.0049 	 RMSD     1.9978
Iter 009 	 Temp     2.24 	 Delta   808.00 	 OutFr   0.0073 	 RMSD     1.9856
Iter 010 	 Temp     2.08 	 Delta   769.71 	 OutFr   0.0122 	 RMSD     1.9761
Iter 011 	 Temp     1.94 	 Delta   740.82 	 OutFr   0.0195 	 RMSD     1.9694
Iter 012 	 Temp     1.80 	 Delta   719.41 	 OutFr   0.0195 	 RMSD     1.9644
Iter 013 	 Temp     1.67 	 Delta   703.38 	 OutFr   0.0244 	 RMSD     1.9608
Iter 014 	 Temp     1.56 	 Delta   690.64 	 OutFr   0.0293 	 RMSD     1.9580
Iter 015 	 Temp     1.45 	 Delta   679.49 	 OutFr   0.0293 	 RMSD     1.9559
Iter 016 	 Temp     1.35 	 Delta   668.19 	 OutFr   0.0317 	 RMSD     1.9546
Iter 017 	 Temp     1.25 	 Delta   654.27 	 OutFr   0.0512 	 RMSD     1.9538
Iter 018 	 Temp     1.16 	 Delta   634.87 	 OutFr   0.0659 	 RMSD     1.9537
Iter 019 	 Temp     1.08 	 Delta   609.26 	 OutFr   0.0707 	 RMSD     1.9545
Iter 020 	 Temp     1.01 	 Delta   579.27 	 OutFr   0.0805 	 RMSD     1.9563
Iter 021 	 Temp     0.94 	 Delta   547.90 	 OutFr   0.0951 	 RMSD     1.9588
Iter 022 	 Temp     0.87 	 Delta   517.65 	 OutFr   0.1024 	 RMSD     1.9615
Iter 023 	 Temp     0.81 	 Delta   489.18 	 OutFr   0.1098 	 RMSD     1.9643
Iter 024 	 Temp     0.75 	 Delta   462.71 	 OutFr   0.1317 	 RMSD     1.9671
Iter 025 	 Temp     0.70 	 Delta   439.55 	 OutFr   0.1439 	 RMSD     1.9688
Iter 026 	 Temp     0.65 	 Delta   417.21 	 OutFr   0.1610 	 RMSD     1.9699
Iter 027 	 Temp     0.61 	 Delta   392.35 	 OutFr   0.1732 	 RMSD     1.9710
Iter 028 	 Temp     0.56 	 Delta   362.30 	 OutFr   0.2073 	 RMSD     1.9728
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Wdeel5hI/mybin.nii.gz
+ vtklevelset /tmp/ashs.Wdeel5hI/mybin.nii.gz /tmp/ashs.Wdeel5hI/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Wdeel5hI/mymesh.vtk /tmp/ashs.Wdeel5hI/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 2964.05293028   0.87201199
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Wdeel5hI/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -35.2377 to -13.2709
   Y : -13.243 to 33.2434
   Z : -28.067 to -0.395511
   Image resolution  : 93 by 163 by 108
   Image box origin  : {-40.2377, -18.243, -33.067}
   Image box size    : {32.2916, 56.5972, 37.7996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [40.2377, 18.243, -33.067]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat -o /tmp/ashs.Wdeel5hI/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat -o /tmp/ashs.Wdeel5hI/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Wdeel5hI/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.675 0.680769
+ echo 'CHUNK 0.675 0.680769 0.5'
CHUNK 0.675 0.680769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.675 0.680769 0.5
====================================
         PROGRESS: 0.675               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Wdeel5hI/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Wdeel5hI/fixed_hw.nii.gz /tmp/ashs.Wdeel5hI/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.456877, moving = 0.662203
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.39096, 2.42484], [0.951402, 0.976104, 0.989938]
Level     0,  Iter     0:    Energy =   0.0337
Level     0,  Iter     1:    Energy =   0.0381
Level     0,  Iter     2:    Energy =   0.0420
Level     0,  Iter     3:    Energy =   0.0454
Level     0,  Iter     4:    Energy =   0.0492
Level     0,  Iter     5:    Energy =   0.0524
Level     0,  Iter     6:    Energy =   0.0551
Level     0,  Iter     7:    Energy =   0.0574
Level     0,  Iter     8:    Energy =   0.0586
Level     0,  Iter     9:    Energy =   0.0595
Level     0,  Iter    10:    Energy =   0.0604
Level     0,  Iter    11:    Energy =   0.0615
Level     0,  Iter    12:    Energy =   0.0621
Level     0,  Iter    13:    Energy =   0.0631
Level     0,  Iter    14:    Energy =   0.0634
Level     0,  Iter    15:    Energy =   0.0644
Level     0,  Iter    16:    Energy =   0.0646
Level     0,  Iter    17:    Energy =   0.0655
Level     0,  Iter    18:    Energy =   0.0655
Level     0,  Iter    19:    Energy =   0.0662
Level     0,  Iter    20:    Energy =   0.0660
Level     0,  Iter    21:    Energy =   0.0666
Level     0,  Iter    22:    Energy =   0.0664
Level     0,  Iter    23:    Energy =   0.0669
Level     0,  Iter    24:    Energy =   0.0667
Level     0,  Iter    25:    Energy =   0.0672
Level     0,  Iter    26:    Energy =   0.0670
Level     0,  Iter    27:    Energy =   0.0675
Level     0,  Iter    28:    Energy =   0.0674
Level     0,  Iter    29:    Energy =   0.0679
Level     0,  Iter    30:    Energy =   0.0677
Level     0,  Iter    31:    Energy =   0.0683
Level     0,  Iter    32:    Energy =   0.0681
Level     0,  Iter    33:    Energy =   0.0686
Level     0,  Iter    34:    Energy =   0.0684
Level     0,  Iter    35:    Energy =   0.0688
Level     0,  Iter    36:    Energy =   0.0686
Level     0,  Iter    37:    Energy =   0.0692
Level     0,  Iter    38:    Energy =   0.0690
Level     0,  Iter    39:    Energy =   0.0697
Level     0,  Iter    40:    Energy =   0.0694
Level     0,  Iter    41:    Energy =   0.0702
Level     0,  Iter    42:    Energy =   0.0700
Level     0,  Iter    43:    Energy =   0.0708
Level     0,  Iter    44:    Energy =   0.0705
Level     0,  Iter    45:    Energy =   0.0710
Level     0,  Iter    46:    Energy =   0.0708
Level     0,  Iter    47:    Energy =   0.0712
Level     0,  Iter    48:    Energy =   0.0711
Level     0,  Iter    49:    Energy =   0.0714
Level     0,  Iter    50:    Energy =   0.0716
Level     0,  Iter    51:    Energy =   0.0718
Level     0,  Iter    52:    Energy =   0.0719
Level     0,  Iter    53:    Energy =   0.0721
Level     0,  Iter    54:    Energy =   0.0722
Level     0,  Iter    55:    Energy =   0.0726
Level     0,  Iter    56:    Energy =   0.0723
Level     0,  Iter    57:    Energy =   0.0726
Level     0,  Iter    58:    Energy =   0.0725
Level     0,  Iter    59:    Energy =   0.0728
END OF LEVEL     0    DetJac Range:   0.1845  to   2.2423 
  Avg. Gradient Time  : 0.0073s  37.97% 
  Avg. Gaussian Time  : 0.0090s  47.32% 
  Avg. Iteration Time : 0.0191s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.19548, 1.21242], [0.485822, 0.488052, 0.494969]
Level     1,  Iter     0:    Energy =   0.0495
Level     1,  Iter     1:    Energy =   0.0541
Level     1,  Iter     2:    Energy =   0.0573
Level     1,  Iter     3:    Energy =   0.0596
Level     1,  Iter     4:    Energy =   0.0617
Level     1,  Iter     5:    Energy =   0.0635
Level     1,  Iter     6:    Energy =   0.0652
Level     1,  Iter     7:    Energy =   0.0671
Level     1,  Iter     8:    Energy =   0.0688
Level     1,  Iter     9:    Energy =   0.0700
Level     1,  Iter    10:    Energy =   0.0712
Level     1,  Iter    11:    Energy =   0.0721
Level     1,  Iter    12:    Energy =   0.0727
Level     1,  Iter    13:    Energy =   0.0731
Level     1,  Iter    14:    Energy =   0.0735
Level     1,  Iter    15:    Energy =   0.0734
Level     1,  Iter    16:    Energy =   0.0738
Level     1,  Iter    17:    Energy =   0.0737
Level     1,  Iter    18:    Energy =   0.0741
Level     1,  Iter    19:    Energy =   0.0739
Level     1,  Iter    20:    Energy =   0.0743
Level     1,  Iter    21:    Energy =   0.0742
Level     1,  Iter    22:    Energy =   0.0746
Level     1,  Iter    23:    Energy =   0.0743
Level     1,  Iter    24:    Energy =   0.0746
Level     1,  Iter    25:    Energy =   0.0746
Level     1,  Iter    26:    Energy =   0.0749
Level     1,  Iter    27:    Energy =   0.0746
Level     1,  Iter    28:    Energy =   0.0749
Level     1,  Iter    29:    Energy =   0.0749
Level     1,  Iter    30:    Energy =   0.0752
Level     1,  Iter    31:    Energy =   0.0749
Level     1,  Iter    32:    Energy =   0.0751
Level     1,  Iter    33:    Energy =   0.0751
Level     1,  Iter    34:    Energy =   0.0753
Level     1,  Iter    35:    Energy =   0.0751
Level     1,  Iter    36:    Energy =   0.0753
Level     1,  Iter    37:    Energy =   0.0753
Level     1,  Iter    38:    Energy =   0.0755
Level     1,  Iter    39:    Energy =   0.0752
Level     1,  Iter    40:    Energy =   0.0754
Level     1,  Iter    41:    Energy =   0.0755
Level     1,  Iter    42:    Energy =   0.0757
Level     1,  Iter    43:    Energy =   0.0754
Level     1,  Iter    44:    Energy =   0.0756
Level     1,  Iter    45:    Energy =   0.0757
Level     1,  Iter    46:    Energy =   0.0759
Level     1,  Iter    47:    Energy =   0.0756
Level     1,  Iter    48:    Energy =   0.0758
Level     1,  Iter    49:    Energy =   0.0759
Level     1,  Iter    50:    Energy =   0.0760
Level     1,  Iter    51:    Energy =   0.0758
Level     1,  Iter    52:    Energy =   0.0760
Level     1,  Iter    53:    Energy =   0.0760
Level     1,  Iter    54:    Energy =   0.0762
Level     1,  Iter    55:    Energy =   0.0759
Level     1,  Iter    56:    Energy =   0.0761
Level     1,  Iter    57:    Energy =   0.0762
Level     1,  Iter    58:    Energy =   0.0763
Level     1,  Iter    59:    Energy =   0.0760
END OF LEVEL     1    DetJac Range:   0.0622  to   3.6986 
  Avg. Gradient Time  : 0.0416s  39.93% 
  Avg. Gaussian Time  : 0.0502s  48.14% 
  Avg. Iteration Time : 0.1042s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0388
Level     2,  Iter     1:    Energy =   0.0412
Level     2,  Iter     2:    Energy =   0.0433
Level     2,  Iter     3:    Energy =   0.0449
Level     2,  Iter     4:    Energy =   0.0465
Level     2,  Iter     5:    Energy =   0.0481
Level     2,  Iter     6:    Energy =   0.0495
Level     2,  Iter     7:    Energy =   0.0507
Level     2,  Iter     8:    Energy =   0.0519
Level     2,  Iter     9:    Energy =   0.0529
Level     2,  Iter    10:    Energy =   0.0538
Level     2,  Iter    11:    Energy =   0.0546
Level     2,  Iter    12:    Energy =   0.0554
Level     2,  Iter    13:    Energy =   0.0560
Level     2,  Iter    14:    Energy =   0.0566
Level     2,  Iter    15:    Energy =   0.0569
Level     2,  Iter    16:    Energy =   0.0572
Level     2,  Iter    17:    Energy =   0.0572
Level     2,  Iter    18:    Energy =   0.0572
Level     2,  Iter    19:    Energy =   0.0571
END OF LEVEL     2    DetJac Range:   0.0371  to   5.7816 
  Avg. Gradient Time  : 0.2918s  37.77% 
  Avg. Gaussian Time  : 0.3982s  51.54% 
  Avg. Iteration Time : 0.7726s 

real	0m25.944s
user	0m45.812s
sys	0m2.668s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.675 0.680769
+ echo 'CHUNK 0.675 0.680769 1'
CHUNK 0.675 0.680769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.675 0.680769 1
====================================
         PROGRESS: 0.675               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 014
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1811.69 	 OutFr   0.0073 	 RMSD     3.8979
Iter 002 	 Temp     3.72 	 Delta  1529.03 	 OutFr   0.0000 	 RMSD     2.1579
Iter 003 	 Temp     3.46 	 Delta  1422.45 	 OutFr   0.0000 	 RMSD     2.1061
Iter 004 	 Temp     3.22 	 Delta  1341.85 	 OutFr   0.0000 	 RMSD     2.1015
Iter 005 	 Temp     2.99 	 Delta  1271.58 	 OutFr   0.0000 	 RMSD     2.0915
Iter 006 	 Temp     2.78 	 Delta  1207.54 	 OutFr   0.0000 	 RMSD     2.0801
Iter 007 	 Temp     2.59 	 Delta  1149.45 	 OutFr   0.0024 	 RMSD     2.0692
Iter 008 	 Temp     2.41 	 Delta  1097.65 	 OutFr   0.0024 	 RMSD     2.0595
Iter 009 	 Temp     2.24 	 Delta  1051.71 	 OutFr   0.0024 	 RMSD     2.0514
Iter 010 	 Temp     2.08 	 Delta  1011.15 	 OutFr   0.0024 	 RMSD     2.0448
Iter 011 	 Temp     1.94 	 Delta   975.36 	 OutFr   0.0024 	 RMSD     2.0398
Iter 012 	 Temp     1.80 	 Delta   942.80 	 OutFr   0.0049 	 RMSD     2.0358
Iter 013 	 Temp     1.67 	 Delta   911.89 	 OutFr   0.0098 	 RMSD     2.0323
Iter 014 	 Temp     1.56 	 Delta   881.14 	 OutFr   0.0098 	 RMSD     2.0297
Iter 015 	 Temp     1.45 	 Delta   848.33 	 OutFr   0.0171 	 RMSD     2.0273
Iter 016 	 Temp     1.35 	 Delta   811.64 	 OutFr   0.0171 	 RMSD     2.0239
Iter 017 	 Temp     1.25 	 Delta   771.45 	 OutFr   0.0220 	 RMSD     2.0202
Iter 018 	 Temp     1.16 	 Delta   729.57 	 OutFr   0.0341 	 RMSD     2.0161
Iter 019 	 Temp     1.08 	 Delta   686.86 	 OutFr   0.0439 	 RMSD     2.0117
Iter 020 	 Temp     1.01 	 Delta   642.09 	 OutFr   0.0585 	 RMSD     2.0053
Iter 021 	 Temp     0.94 	 Delta   597.51 	 OutFr   0.0780 	 RMSD     1.9989
Iter 022 	 Temp     0.87 	 Delta   555.33 	 OutFr   0.0878 	 RMSD     1.9928
Iter 023 	 Temp     0.81 	 Delta   516.35 	 OutFr   0.1146 	 RMSD     1.9888
Iter 024 	 Temp     0.75 	 Delta   482.58 	 OutFr   0.1415 	 RMSD     1.9877
Iter 025 	 Temp     0.70 	 Delta   449.90 	 OutFr   0.1683 	 RMSD     1.9878
Iter 026 	 Temp     0.65 	 Delta   414.70 	 OutFr   0.1951 	 RMSD     1.9891
Iter 027 	 Temp     0.61 	 Delta   379.15 	 OutFr   0.2195 	 RMSD     1.9910
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.OUgaaWKM/mybin.nii.gz
+ vtklevelset /tmp/ashs.OUgaaWKM/mybin.nii.gz /tmp/ashs.OUgaaWKM/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.OUgaaWKM/mymesh.vtk /tmp/ashs.OUgaaWKM/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3124.51882239   0.91922038
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.OUgaaWKM/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -37.6447 to -13.6046
   Y : -14.1573 to 31.3667
   Z : -28.0453 to 1.18755
   Image resolution  : 99 by 160 by 113
   Image box origin  : {-42.6447, -19.1573, -33.0453}
   Image box size    : {34.375, 55.5555, 39.5495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [42.6447, 19.1573, -33.0453]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat -o /tmp/ashs.OUgaaWKM/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat -o /tmp/ashs.OUgaaWKM/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.OUgaaWKM/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.680769 0.686538
+ echo 'CHUNK 0.680769 0.686538 0.5'
CHUNK 0.680769 0.686538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.680769 0.686538 0.5
====================================
         PROGRESS: 0.680769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.OUgaaWKM/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.OUgaaWKM/fixed_hw.nii.gz /tmp/ashs.OUgaaWKM/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.462217, moving = 0.506854
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.40562, 2.36213], [0.972271, 0.982092, 0.964336]
Level     0,  Iter     0:    Energy =   0.0293
Level     0,  Iter     1:    Energy =   0.0328
Level     0,  Iter     2:    Energy =   0.0369
Level     0,  Iter     3:    Energy =   0.0399
Level     0,  Iter     4:    Energy =   0.0423
Level     0,  Iter     5:    Energy =   0.0443
Level     0,  Iter     6:    Energy =   0.0462
Level     0,  Iter     7:    Energy =   0.0482
Level     0,  Iter     8:    Energy =   0.0502
Level     0,  Iter     9:    Energy =   0.0524
Level     0,  Iter    10:    Energy =   0.0545
Level     0,  Iter    11:    Energy =   0.0559
Level     0,  Iter    12:    Energy =   0.0565
Level     0,  Iter    13:    Energy =   0.0570
Level     0,  Iter    14:    Energy =   0.0572
Level     0,  Iter    15:    Energy =   0.0578
Level     0,  Iter    16:    Energy =   0.0578
Level     0,  Iter    17:    Energy =   0.0585
Level     0,  Iter    18:    Energy =   0.0585
Level     0,  Iter    19:    Energy =   0.0592
Level     0,  Iter    20:    Energy =   0.0591
Level     0,  Iter    21:    Energy =   0.0598
Level     0,  Iter    22:    Energy =   0.0597
Level     0,  Iter    23:    Energy =   0.0602
Level     0,  Iter    24:    Energy =   0.0601
Level     0,  Iter    25:    Energy =   0.0608
Level     0,  Iter    26:    Energy =   0.0607
Level     0,  Iter    27:    Energy =   0.0612
Level     0,  Iter    28:    Energy =   0.0611
Level     0,  Iter    29:    Energy =   0.0616
Level     0,  Iter    30:    Energy =   0.0615
Level     0,  Iter    31:    Energy =   0.0622
Level     0,  Iter    32:    Energy =   0.0621
Level     0,  Iter    33:    Energy =   0.0628
Level     0,  Iter    34:    Energy =   0.0628
Level     0,  Iter    35:    Energy =   0.0633
Level     0,  Iter    36:    Energy =   0.0632
Level     0,  Iter    37:    Energy =   0.0638
Level     0,  Iter    38:    Energy =   0.0636
Level     0,  Iter    39:    Energy =   0.0642
Level     0,  Iter    40:    Energy =   0.0640
Level     0,  Iter    41:    Energy =   0.0645
Level     0,  Iter    42:    Energy =   0.0643
Level     0,  Iter    43:    Energy =   0.0649
Level     0,  Iter    44:    Energy =   0.0647
Level     0,  Iter    45:    Energy =   0.0651
Level     0,  Iter    46:    Energy =   0.0649
Level     0,  Iter    47:    Energy =   0.0653
Level     0,  Iter    48:    Energy =   0.0651
Level     0,  Iter    49:    Energy =   0.0655
Level     0,  Iter    50:    Energy =   0.0653
Level     0,  Iter    51:    Energy =   0.0656
Level     0,  Iter    52:    Energy =   0.0654
Level     0,  Iter    53:    Energy =   0.0657
Level     0,  Iter    54:    Energy =   0.0655
Level     0,  Iter    55:    Energy =   0.0658
Level     0,  Iter    56:    Energy =   0.0657
Level     0,  Iter    57:    Energy =   0.0660
Level     0,  Iter    58:    Energy =   0.0657
Level     0,  Iter    59:    Energy =   0.0661
END OF LEVEL     0    DetJac Range:   0.0589  to   2.6535 
  Avg. Gradient Time  : 0.0077s  37.62% 
  Avg. Gaussian Time  : 0.0097s  47.38% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.20281, 1.20179], [0.486136, 0.491046, 0.490627]
Level     1,  Iter     0:    Energy =   0.0440
Level     1,  Iter     1:    Energy =   0.0473
Level     1,  Iter     2:    Energy =   0.0497
Level     1,  Iter     3:    Energy =   0.0518
Level     1,  Iter     4:    Energy =   0.0536
Level     1,  Iter     5:    Energy =   0.0553
Level     1,  Iter     6:    Energy =   0.0570
Level     1,  Iter     7:    Energy =   0.0588
Level     1,  Iter     8:    Energy =   0.0603
Level     1,  Iter     9:    Energy =   0.0618
Level     1,  Iter    10:    Energy =   0.0629
Level     1,  Iter    11:    Energy =   0.0638
Level     1,  Iter    12:    Energy =   0.0646
Level     1,  Iter    13:    Energy =   0.0649
Level     1,  Iter    14:    Energy =   0.0654
Level     1,  Iter    15:    Energy =   0.0657
Level     1,  Iter    16:    Energy =   0.0661
Level     1,  Iter    17:    Energy =   0.0663
Level     1,  Iter    18:    Energy =   0.0667
Level     1,  Iter    19:    Energy =   0.0668
Level     1,  Iter    20:    Energy =   0.0672
Level     1,  Iter    21:    Energy =   0.0673
Level     1,  Iter    22:    Energy =   0.0675
Level     1,  Iter    23:    Energy =   0.0676
Level     1,  Iter    24:    Energy =   0.0678
Level     1,  Iter    25:    Energy =   0.0679
Level     1,  Iter    26:    Energy =   0.0680
Level     1,  Iter    27:    Energy =   0.0681
Level     1,  Iter    28:    Energy =   0.0682
Level     1,  Iter    29:    Energy =   0.0683
Level     1,  Iter    30:    Energy =   0.0684
Level     1,  Iter    31:    Energy =   0.0685
Level     1,  Iter    32:    Energy =   0.0687
Level     1,  Iter    33:    Energy =   0.0687
Level     1,  Iter    34:    Energy =   0.0688
Level     1,  Iter    35:    Energy =   0.0688
Level     1,  Iter    36:    Energy =   0.0690
Level     1,  Iter    37:    Energy =   0.0689
Level     1,  Iter    38:    Energy =   0.0691
Level     1,  Iter    39:    Energy =   0.0691
Level     1,  Iter    40:    Energy =   0.0693
Level     1,  Iter    41:    Energy =   0.0692
Level     1,  Iter    42:    Energy =   0.0694
Level     1,  Iter    43:    Energy =   0.0693
Level     1,  Iter    44:    Energy =   0.0695
Level     1,  Iter    45:    Energy =   0.0694
Level     1,  Iter    46:    Energy =   0.0696
Level     1,  Iter    47:    Energy =   0.0695
Level     1,  Iter    48:    Energy =   0.0697
Level     1,  Iter    49:    Energy =   0.0696
Level     1,  Iter    50:    Energy =   0.0698
Level     1,  Iter    51:    Energy =   0.0697
Level     1,  Iter    52:    Energy =   0.0700
Level     1,  Iter    53:    Energy =   0.0699
Level     1,  Iter    54:    Energy =   0.0701
Level     1,  Iter    55:    Energy =   0.0700
Level     1,  Iter    56:    Energy =   0.0703
Level     1,  Iter    57:    Energy =   0.0701
Level     1,  Iter    58:    Energy =   0.0704
Level     1,  Iter    59:    Energy =   0.0702
END OF LEVEL     1    DetJac Range:   0.0210  to   4.2628 
  Avg. Gradient Time  : 0.0456s  40.24% 
  Avg. Gaussian Time  : 0.0540s  47.71% 
  Avg. Iteration Time : 0.1132s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0376
Level     2,  Iter     1:    Energy =   0.0401
Level     2,  Iter     2:    Energy =   0.0419
Level     2,  Iter     3:    Energy =   0.0437
Level     2,  Iter     4:    Energy =   0.0451
Level     2,  Iter     5:    Energy =   0.0466
Level     2,  Iter     6:    Energy =   0.0479
Level     2,  Iter     7:    Energy =   0.0490
Level     2,  Iter     8:    Energy =   0.0498
Level     2,  Iter     9:    Energy =   0.0507
Level     2,  Iter    10:    Energy =   0.0514
Level     2,  Iter    11:    Energy =   0.0521
Level     2,  Iter    12:    Energy =   0.0528
Level     2,  Iter    13:    Energy =   0.0534
Level     2,  Iter    14:    Energy =   0.0540
Level     2,  Iter    15:    Energy =   0.0544
Level     2,  Iter    16:    Energy =   0.0548
Level     2,  Iter    17:    Energy =   0.0552
Level     2,  Iter    18:    Energy =   0.0555
Level     2,  Iter    19:    Energy =   0.0557
END OF LEVEL     2    DetJac Range:   0.0218  to   6.3519 
  Avg. Gradient Time  : 0.3169s  37.57% 
  Avg. Gaussian Time  : 0.4360s  51.68% 
  Avg. Iteration Time : 0.8435s 

real	0m28.273s
user	0m49.856s
sys	0m2.780s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.680769 0.686538
+ echo 'CHUNK 0.680769 0.686538 1'
CHUNK 0.680769 0.686538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.680769 0.686538 1
====================================
         PROGRESS: 0.680769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 015
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2525.02 	 OutFr   0.0000 	 RMSD     2.8629
Iter 002 	 Temp     3.72 	 Delta  2451.63 	 OutFr   0.0000 	 RMSD     2.3604
Iter 003 	 Temp     3.46 	 Delta  2358.11 	 OutFr   0.0000 	 RMSD     2.3450
Iter 004 	 Temp     3.22 	 Delta  2234.97 	 OutFr   0.0000 	 RMSD     2.3207
Iter 005 	 Temp     2.99 	 Delta  2095.27 	 OutFr   0.0000 	 RMSD     2.2925
Iter 006 	 Temp     2.78 	 Delta  1952.10 	 OutFr   0.0000 	 RMSD     2.2642
Iter 007 	 Temp     2.59 	 Delta  1814.33 	 OutFr   0.0000 	 RMSD     2.2367
Iter 008 	 Temp     2.41 	 Delta  1686.53 	 OutFr   0.0000 	 RMSD     2.2118
Iter 009 	 Temp     2.24 	 Delta  1569.96 	 OutFr   0.0000 	 RMSD     2.1900
Iter 010 	 Temp     2.08 	 Delta  1464.24 	 OutFr   0.0000 	 RMSD     2.1728
Iter 011 	 Temp     1.94 	 Delta  1368.91 	 OutFr   0.0024 	 RMSD     2.1603
Iter 012 	 Temp     1.80 	 Delta  1283.53 	 OutFr   0.0024 	 RMSD     2.1514
Iter 013 	 Temp     1.67 	 Delta  1206.55 	 OutFr   0.0049 	 RMSD     2.1449
Iter 014 	 Temp     1.56 	 Delta  1135.59 	 OutFr   0.0049 	 RMSD     2.1408
Iter 015 	 Temp     1.45 	 Delta  1068.49 	 OutFr   0.0073 	 RMSD     2.1383
Iter 016 	 Temp     1.35 	 Delta  1003.85 	 OutFr   0.0098 	 RMSD     2.1367
Iter 017 	 Temp     1.25 	 Delta   941.20 	 OutFr   0.0171 	 RMSD     2.1362
Iter 018 	 Temp     1.16 	 Delta   879.43 	 OutFr   0.0171 	 RMSD     2.1366
Iter 019 	 Temp     1.08 	 Delta   818.59 	 OutFr   0.0268 	 RMSD     2.1376
Iter 020 	 Temp     1.01 	 Delta   759.36 	 OutFr   0.0390 	 RMSD     2.1395
Iter 021 	 Temp     0.94 	 Delta   701.95 	 OutFr   0.0512 	 RMSD     2.1419
Iter 022 	 Temp     0.87 	 Delta   648.04 	 OutFr   0.0683 	 RMSD     2.1452
Iter 023 	 Temp     0.81 	 Delta   601.13 	 OutFr   0.0854 	 RMSD     2.1486
Iter 024 	 Temp     0.75 	 Delta   558.65 	 OutFr   0.1024 	 RMSD     2.1515
Iter 025 	 Temp     0.70 	 Delta   515.83 	 OutFr   0.1195 	 RMSD     2.1548
Iter 026 	 Temp     0.65 	 Delta   473.16 	 OutFr   0.1390 	 RMSD     2.1583
Iter 027 	 Temp     0.61 	 Delta   432.24 	 OutFr   0.1537 	 RMSD     2.1629
Iter 028 	 Temp     0.56 	 Delta   390.79 	 OutFr   0.1854 	 RMSD     2.1684
Iter 029 	 Temp     0.52 	 Delta   348.69 	 OutFr   0.2146 	 RMSD     2.1727
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.8XlXGJW3/mybin.nii.gz
+ vtklevelset /tmp/ashs.8XlXGJW3/mybin.nii.gz /tmp/ashs.8XlXGJW3/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.8XlXGJW3/mymesh.vtk /tmp/ashs.8XlXGJW3/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3343.33572036   0.98359540
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.8XlXGJW3/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -38.633 to -13.6897
   Y : -17.7901 to 29.1779
   Z : -23.5257 to 5.09564
   Image resolution  : 101 by 165 by 111
   Image box origin  : {-43.633, -22.7901, -28.5257}
   Image box size    : {35.0694, 57.2916, 38.8496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [43.633, 22.7901, -28.5257]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat -o /tmp/ashs.8XlXGJW3/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat -o /tmp/ashs.8XlXGJW3/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.8XlXGJW3/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.686538 0.692308
+ echo 'CHUNK 0.686538 0.692308 0.5'
CHUNK 0.686538 0.692308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.686538 0.692308 0.5
====================================
         PROGRESS: 0.686538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.8XlXGJW3/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.8XlXGJW3/fixed_hw.nii.gz /tmp/ashs.8XlXGJW3/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.457979, moving = 0.72303
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.36267, 2.40319], [0.953763, 0.964555, 0.981099]
Level     0,  Iter     0:    Energy =   0.0487
Level     0,  Iter     1:    Energy =   0.0551
Level     0,  Iter     2:    Energy =   0.0614
Level     0,  Iter     3:    Energy =   0.0662
Level     0,  Iter     4:    Energy =   0.0711
Level     0,  Iter     5:    Energy =   0.0755
Level     0,  Iter     6:    Energy =   0.0801
Level     0,  Iter     7:    Energy =   0.0835
Level     0,  Iter     8:    Energy =   0.0854
Level     0,  Iter     9:    Energy =   0.0870
Level     0,  Iter    10:    Energy =   0.0887
Level     0,  Iter    11:    Energy =   0.0898
Level     0,  Iter    12:    Energy =   0.0905
Level     0,  Iter    13:    Energy =   0.0907
Level     0,  Iter    14:    Energy =   0.0910
Level     0,  Iter    15:    Energy =   0.0914
Level     0,  Iter    16:    Energy =   0.0915
Level     0,  Iter    17:    Energy =   0.0919
Level     0,  Iter    18:    Energy =   0.0920
Level     0,  Iter    19:    Energy =   0.0925
Level     0,  Iter    20:    Energy =   0.0925
Level     0,  Iter    21:    Energy =   0.0927
Level     0,  Iter    22:    Energy =   0.0928
Level     0,  Iter    23:    Energy =   0.0931
Level     0,  Iter    24:    Energy =   0.0932
Level     0,  Iter    25:    Energy =   0.0932
Level     0,  Iter    26:    Energy =   0.0933
Level     0,  Iter    27:    Energy =   0.0936
Level     0,  Iter    28:    Energy =   0.0937
Level     0,  Iter    29:    Energy =   0.0935
Level     0,  Iter    30:    Energy =   0.0937
Level     0,  Iter    31:    Energy =   0.0939
Level     0,  Iter    32:    Energy =   0.0940
Level     0,  Iter    33:    Energy =   0.0938
Level     0,  Iter    34:    Energy =   0.0939
Level     0,  Iter    35:    Energy =   0.0941
Level     0,  Iter    36:    Energy =   0.0942
Level     0,  Iter    37:    Energy =   0.0940
Level     0,  Iter    38:    Energy =   0.0941
Level     0,  Iter    39:    Energy =   0.0943
Level     0,  Iter    40:    Energy =   0.0943
Level     0,  Iter    41:    Energy =   0.0941
Level     0,  Iter    42:    Energy =   0.0942
Level     0,  Iter    43:    Energy =   0.0945
Level     0,  Iter    44:    Energy =   0.0944
Level     0,  Iter    45:    Energy =   0.0943
Level     0,  Iter    46:    Energy =   0.0943
Level     0,  Iter    47:    Energy =   0.0944
Level     0,  Iter    48:    Energy =   0.0945
Level     0,  Iter    49:    Energy =   0.0944
Level     0,  Iter    50:    Energy =   0.0945
Level     0,  Iter    51:    Energy =   0.0945
Level     0,  Iter    52:    Energy =   0.0945
Level     0,  Iter    53:    Energy =   0.0945
Level     0,  Iter    54:    Energy =   0.0945
Level     0,  Iter    55:    Energy =   0.0945
Level     0,  Iter    56:    Energy =   0.0946
Level     0,  Iter    57:    Energy =   0.0945
Level     0,  Iter    58:    Energy =   0.0946
Level     0,  Iter    59:    Energy =   0.0946
END OF LEVEL     0    DetJac Range:   0.2907  to   1.9163 
  Avg. Gradient Time  : 0.0080s  37.98% 
  Avg. Gaussian Time  : 0.0100s  47.46% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.19557, 1.2016], [0.486232, 0.488088, 0.49055]
Level     1,  Iter     0:    Energy =   0.0638
Level     1,  Iter     1:    Energy =   0.0684
Level     1,  Iter     2:    Energy =   0.0715
Level     1,  Iter     3:    Energy =   0.0749
Level     1,  Iter     4:    Energy =   0.0778
Level     1,  Iter     5:    Energy =   0.0799
Level     1,  Iter     6:    Energy =   0.0815
Level     1,  Iter     7:    Energy =   0.0828
Level     1,  Iter     8:    Energy =   0.0841
Level     1,  Iter     9:    Energy =   0.0852
Level     1,  Iter    10:    Energy =   0.0862
Level     1,  Iter    11:    Energy =   0.0871
Level     1,  Iter    12:    Energy =   0.0880
Level     1,  Iter    13:    Energy =   0.0880
Level     1,  Iter    14:    Energy =   0.0882
Level     1,  Iter    15:    Energy =   0.0882
Level     1,  Iter    16:    Energy =   0.0884
Level     1,  Iter    17:    Energy =   0.0886
Level     1,  Iter    18:    Energy =   0.0886
Level     1,  Iter    19:    Energy =   0.0889
Level     1,  Iter    20:    Energy =   0.0888
Level     1,  Iter    21:    Energy =   0.0891
Level     1,  Iter    22:    Energy =   0.0891
Level     1,  Iter    23:    Energy =   0.0893
Level     1,  Iter    24:    Energy =   0.0892
Level     1,  Iter    25:    Energy =   0.0894
Level     1,  Iter    26:    Energy =   0.0894
Level     1,  Iter    27:    Energy =   0.0896
Level     1,  Iter    28:    Energy =   0.0896
Level     1,  Iter    29:    Energy =   0.0896
Level     1,  Iter    30:    Energy =   0.0897
Level     1,  Iter    31:    Energy =   0.0899
Level     1,  Iter    32:    Energy =   0.0898
Level     1,  Iter    33:    Energy =   0.0898
Level     1,  Iter    34:    Energy =   0.0899
Level     1,  Iter    35:    Energy =   0.0901
Level     1,  Iter    36:    Energy =   0.0899
Level     1,  Iter    37:    Energy =   0.0899
Level     1,  Iter    38:    Energy =   0.0900
Level     1,  Iter    39:    Energy =   0.0901
Level     1,  Iter    40:    Energy =   0.0899
Level     1,  Iter    41:    Energy =   0.0900
Level     1,  Iter    42:    Energy =   0.0899
Level     1,  Iter    43:    Energy =   0.0901
Level     1,  Iter    44:    Energy =   0.0899
Level     1,  Iter    45:    Energy =   0.0901
Level     1,  Iter    46:    Energy =   0.0900
Level     1,  Iter    47:    Energy =   0.0901
Level     1,  Iter    48:    Energy =   0.0900
Level     1,  Iter    49:    Energy =   0.0901
Level     1,  Iter    50:    Energy =   0.0900
Level     1,  Iter    51:    Energy =   0.0901
Level     1,  Iter    52:    Energy =   0.0901
Level     1,  Iter    53:    Energy =   0.0901
Level     1,  Iter    54:    Energy =   0.0901
Level     1,  Iter    55:    Energy =   0.0902
Level     1,  Iter    56:    Energy =   0.0901
Level     1,  Iter    57:    Energy =   0.0902
Level     1,  Iter    58:    Energy =   0.0902
Level     1,  Iter    59:    Energy =   0.0903
END OF LEVEL     1    DetJac Range:   0.0829  to   2.5755 
  Avg. Gradient Time  : 0.0476s  40.11% 
  Avg. Gaussian Time  : 0.0570s  48.05% 
  Avg. Iteration Time : 0.1187s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0505
Level     2,  Iter     1:    Energy =   0.0534
Level     2,  Iter     2:    Energy =   0.0555
Level     2,  Iter     3:    Energy =   0.0572
Level     2,  Iter     4:    Energy =   0.0585
Level     2,  Iter     5:    Energy =   0.0596
Level     2,  Iter     6:    Energy =   0.0607
Level     2,  Iter     7:    Energy =   0.0615
Level     2,  Iter     8:    Energy =   0.0623
Level     2,  Iter     9:    Energy =   0.0630
Level     2,  Iter    10:    Energy =   0.0636
Level     2,  Iter    11:    Energy =   0.0642
Level     2,  Iter    12:    Energy =   0.0647
Level     2,  Iter    13:    Energy =   0.0652
Level     2,  Iter    14:    Energy =   0.0656
Level     2,  Iter    15:    Energy =   0.0660
Level     2,  Iter    16:    Energy =   0.0665
Level     2,  Iter    17:    Energy =   0.0669
Level     2,  Iter    18:    Energy =   0.0672
Level     2,  Iter    19:    Energy =   0.0676
END OF LEVEL     2    DetJac Range:   0.0464  to   3.3183 
  Avg. Gradient Time  : 0.3248s  37.60% 
  Avg. Gaussian Time  : 0.4466s  51.69% 
  Avg. Iteration Time : 0.8639s 

real	0m29.150s
user	0m51.484s
sys	0m2.944s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.686538 0.692308
+ echo 'CHUNK 0.686538 0.692308 1'
CHUNK 0.686538 0.692308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.686538 0.692308 1
====================================
         PROGRESS: 0.686538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 016
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2014.34 	 OutFr   0.0000 	 RMSD     4.2397
Iter 002 	 Temp     3.72 	 Delta  1773.16 	 OutFr   0.0000 	 RMSD     2.1371
Iter 003 	 Temp     3.46 	 Delta  1655.05 	 OutFr   0.0000 	 RMSD     2.0328
Iter 004 	 Temp     3.22 	 Delta  1548.05 	 OutFr   0.0000 	 RMSD     1.9934
Iter 005 	 Temp     2.99 	 Delta  1445.29 	 OutFr   0.0000 	 RMSD     1.9685
Iter 006 	 Temp     2.78 	 Delta  1347.36 	 OutFr   0.0024 	 RMSD     1.9523
Iter 007 	 Temp     2.59 	 Delta  1257.95 	 OutFr   0.0024 	 RMSD     1.9421
Iter 008 	 Temp     2.41 	 Delta  1183.36 	 OutFr   0.0073 	 RMSD     1.9358
Iter 009 	 Temp     2.24 	 Delta  1123.33 	 OutFr   0.0073 	 RMSD     1.9315
Iter 010 	 Temp     2.08 	 Delta  1071.17 	 OutFr   0.0098 	 RMSD     1.9295
Iter 011 	 Temp     1.94 	 Delta  1022.34 	 OutFr   0.0146 	 RMSD     1.9287
Iter 012 	 Temp     1.80 	 Delta   975.84 	 OutFr   0.0171 	 RMSD     1.9291
Iter 013 	 Temp     1.67 	 Delta   932.20 	 OutFr   0.0220 	 RMSD     1.9307
Iter 014 	 Temp     1.56 	 Delta   890.36 	 OutFr   0.0244 	 RMSD     1.9326
Iter 015 	 Temp     1.45 	 Delta   848.01 	 OutFr   0.0317 	 RMSD     1.9342
Iter 016 	 Temp     1.35 	 Delta   804.47 	 OutFr   0.0317 	 RMSD     1.9355
Iter 017 	 Temp     1.25 	 Delta   760.39 	 OutFr   0.0463 	 RMSD     1.9361
Iter 018 	 Temp     1.16 	 Delta   716.47 	 OutFr   0.0488 	 RMSD     1.9362
Iter 019 	 Temp     1.08 	 Delta   673.93 	 OutFr   0.0512 	 RMSD     1.9359
Iter 020 	 Temp     1.01 	 Delta   633.79 	 OutFr   0.0659 	 RMSD     1.9352
Iter 021 	 Temp     0.94 	 Delta   594.35 	 OutFr   0.0683 	 RMSD     1.9341
Iter 022 	 Temp     0.87 	 Delta   554.14 	 OutFr   0.0805 	 RMSD     1.9328
Iter 023 	 Temp     0.81 	 Delta   513.32 	 OutFr   0.1000 	 RMSD     1.9313
Iter 024 	 Temp     0.75 	 Delta   472.27 	 OutFr   0.1195 	 RMSD     1.9304
Iter 025 	 Temp     0.70 	 Delta   431.40 	 OutFr   0.1463 	 RMSD     1.9301
Iter 026 	 Temp     0.65 	 Delta   392.69 	 OutFr   0.1707 	 RMSD     1.9300
Iter 027 	 Temp     0.61 	 Delta   358.01 	 OutFr   0.1878 	 RMSD     1.9299
Iter 028 	 Temp     0.56 	 Delta   326.30 	 OutFr   0.2195 	 RMSD     1.9312
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.oztOYZFK/mybin.nii.gz
+ vtklevelset /tmp/ashs.oztOYZFK/mybin.nii.gz /tmp/ashs.oztOYZFK/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.oztOYZFK/mymesh.vtk /tmp/ashs.oztOYZFK/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 2918.65874122   0.85865721
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.oztOYZFK/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -36.7424 to -14.3941
   Y : -10.5146 to 34.7912
   Z : -36.2948 to -6.24953
   Image resolution  : 94 by 160 by 115
   Image box origin  : {-41.7424, -15.5146, -41.2948}
   Image box size    : {32.6389, 55.5555, 40.2495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [41.7424, 15.5146, -41.2948]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat -o /tmp/ashs.oztOYZFK/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat -o /tmp/ashs.oztOYZFK/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.oztOYZFK/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.692308 0.698077
+ echo 'CHUNK 0.692308 0.698077 0.5'
CHUNK 0.692308 0.698077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.692308 0.698077 0.5
====================================
         PROGRESS: 0.692308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.oztOYZFK/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.oztOYZFK/fixed_hw.nii.gz /tmp/ashs.oztOYZFK/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.47614, moving = 0.62867
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.40562, 2.40394], [0.961632, 0.982092, 0.981404]
Level     0,  Iter     0:    Energy =   0.0345
Level     0,  Iter     1:    Energy =   0.0393
Level     0,  Iter     2:    Energy =   0.0436
Level     0,  Iter     3:    Energy =   0.0472
Level     0,  Iter     4:    Energy =   0.0502
Level     0,  Iter     5:    Energy =   0.0530
Level     0,  Iter     6:    Energy =   0.0562
Level     0,  Iter     7:    Energy =   0.0584
Level     0,  Iter     8:    Energy =   0.0595
Level     0,  Iter     9:    Energy =   0.0603
Level     0,  Iter    10:    Energy =   0.0614
Level     0,  Iter    11:    Energy =   0.0622
Level     0,  Iter    12:    Energy =   0.0628
Level     0,  Iter    13:    Energy =   0.0634
Level     0,  Iter    14:    Energy =   0.0638
Level     0,  Iter    15:    Energy =   0.0644
Level     0,  Iter    16:    Energy =   0.0647
Level     0,  Iter    17:    Energy =   0.0652
Level     0,  Iter    18:    Energy =   0.0654
Level     0,  Iter    19:    Energy =   0.0659
Level     0,  Iter    20:    Energy =   0.0661
Level     0,  Iter    21:    Energy =   0.0668
Level     0,  Iter    22:    Energy =   0.0668
Level     0,  Iter    23:    Energy =   0.0670
Level     0,  Iter    24:    Energy =   0.0671
Level     0,  Iter    25:    Energy =   0.0680
Level     0,  Iter    26:    Energy =   0.0683
Level     0,  Iter    27:    Energy =   0.0684
Level     0,  Iter    28:    Energy =   0.0684
Level     0,  Iter    29:    Energy =   0.0689
Level     0,  Iter    30:    Energy =   0.0688
Level     0,  Iter    31:    Energy =   0.0695
Level     0,  Iter    32:    Energy =   0.0693
Level     0,  Iter    33:    Energy =   0.0693
Level     0,  Iter    34:    Energy =   0.0693
Level     0,  Iter    35:    Energy =   0.0698
Level     0,  Iter    36:    Energy =   0.0697
Level     0,  Iter    37:    Energy =   0.0697
Level     0,  Iter    38:    Energy =   0.0697
Level     0,  Iter    39:    Energy =   0.0703
Level     0,  Iter    40:    Energy =   0.0704
Level     0,  Iter    41:    Energy =   0.0706
Level     0,  Iter    42:    Energy =   0.0704
Level     0,  Iter    43:    Energy =   0.0704
Level     0,  Iter    44:    Energy =   0.0704
Level     0,  Iter    45:    Energy =   0.0709
Level     0,  Iter    46:    Energy =   0.0707
Level     0,  Iter    47:    Energy =   0.0708
Level     0,  Iter    48:    Energy =   0.0708
Level     0,  Iter    49:    Energy =   0.0715
Level     0,  Iter    50:    Energy =   0.0716
Level     0,  Iter    51:    Energy =   0.0719
Level     0,  Iter    52:    Energy =   0.0718
Level     0,  Iter    53:    Energy =   0.0720
Level     0,  Iter    54:    Energy =   0.0719
Level     0,  Iter    55:    Energy =   0.0721
Level     0,  Iter    56:    Energy =   0.0721
Level     0,  Iter    57:    Energy =   0.0724
Level     0,  Iter    58:    Energy =   0.0722
Level     0,  Iter    59:    Energy =   0.0723
END OF LEVEL     0    DetJac Range:   0.2800  to   2.8405 
  Avg. Gradient Time  : 0.0075s  37.39% 
  Avg. Gaussian Time  : 0.0095s  47.50% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20197], [0.491046, 0.491046, 0.490702]
Level     1,  Iter     0:    Energy =   0.0547
Level     1,  Iter     1:    Energy =   0.0596
Level     1,  Iter     2:    Energy =   0.0633
Level     1,  Iter     3:    Energy =   0.0656
Level     1,  Iter     4:    Energy =   0.0672
Level     1,  Iter     5:    Energy =   0.0691
Level     1,  Iter     6:    Energy =   0.0709
Level     1,  Iter     7:    Energy =   0.0723
Level     1,  Iter     8:    Energy =   0.0736
Level     1,  Iter     9:    Energy =   0.0748
Level     1,  Iter    10:    Energy =   0.0758
Level     1,  Iter    11:    Energy =   0.0763
Level     1,  Iter    12:    Energy =   0.0765
Level     1,  Iter    13:    Energy =   0.0770
Level     1,  Iter    14:    Energy =   0.0771
Level     1,  Iter    15:    Energy =   0.0776
Level     1,  Iter    16:    Energy =   0.0777
Level     1,  Iter    17:    Energy =   0.0779
Level     1,  Iter    18:    Energy =   0.0781
Level     1,  Iter    19:    Energy =   0.0783
Level     1,  Iter    20:    Energy =   0.0785
Level     1,  Iter    21:    Energy =   0.0787
Level     1,  Iter    22:    Energy =   0.0788
Level     1,  Iter    23:    Energy =   0.0790
Level     1,  Iter    24:    Energy =   0.0791
Level     1,  Iter    25:    Energy =   0.0792
Level     1,  Iter    26:    Energy =   0.0793
Level     1,  Iter    27:    Energy =   0.0794
Level     1,  Iter    28:    Energy =   0.0795
Level     1,  Iter    29:    Energy =   0.0795
Level     1,  Iter    30:    Energy =   0.0796
Level     1,  Iter    31:    Energy =   0.0796
Level     1,  Iter    32:    Energy =   0.0797
Level     1,  Iter    33:    Energy =   0.0797
Level     1,  Iter    34:    Energy =   0.0799
Level     1,  Iter    35:    Energy =   0.0799
Level     1,  Iter    36:    Energy =   0.0800
Level     1,  Iter    37:    Energy =   0.0800
Level     1,  Iter    38:    Energy =   0.0801
Level     1,  Iter    39:    Energy =   0.0801
Level     1,  Iter    40:    Energy =   0.0802
Level     1,  Iter    41:    Energy =   0.0802
Level     1,  Iter    42:    Energy =   0.0804
Level     1,  Iter    43:    Energy =   0.0804
Level     1,  Iter    44:    Energy =   0.0805
Level     1,  Iter    45:    Energy =   0.0804
Level     1,  Iter    46:    Energy =   0.0807
Level     1,  Iter    47:    Energy =   0.0806
Level     1,  Iter    48:    Energy =   0.0808
Level     1,  Iter    49:    Energy =   0.0807
Level     1,  Iter    50:    Energy =   0.0809
Level     1,  Iter    51:    Energy =   0.0808
Level     1,  Iter    52:    Energy =   0.0811
Level     1,  Iter    53:    Energy =   0.0809
Level     1,  Iter    54:    Energy =   0.0812
Level     1,  Iter    55:    Energy =   0.0811
Level     1,  Iter    56:    Energy =   0.0813
Level     1,  Iter    57:    Energy =   0.0812
Level     1,  Iter    58:    Energy =   0.0814
Level     1,  Iter    59:    Energy =   0.0813
END OF LEVEL     1    DetJac Range:   0.1479  to   3.9996 
  Avg. Gradient Time  : 0.0435s  40.30% 
  Avg. Gaussian Time  : 0.0515s  47.75% 
  Avg. Iteration Time : 0.1079s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0444
Level     2,  Iter     1:    Energy =   0.0470
Level     2,  Iter     2:    Energy =   0.0492
Level     2,  Iter     3:    Energy =   0.0513
Level     2,  Iter     4:    Energy =   0.0529
Level     2,  Iter     5:    Energy =   0.0543
Level     2,  Iter     6:    Energy =   0.0555
Level     2,  Iter     7:    Energy =   0.0566
Level     2,  Iter     8:    Energy =   0.0578
Level     2,  Iter     9:    Energy =   0.0588
Level     2,  Iter    10:    Energy =   0.0598
Level     2,  Iter    11:    Energy =   0.0606
Level     2,  Iter    12:    Energy =   0.0611
Level     2,  Iter    13:    Energy =   0.0614
Level     2,  Iter    14:    Energy =   0.0616
Level     2,  Iter    15:    Energy =   0.0618
Level     2,  Iter    16:    Energy =   0.0620
Level     2,  Iter    17:    Energy =   0.0624
Level     2,  Iter    18:    Energy =   0.0628
Level     2,  Iter    19:    Energy =   0.0632
END OF LEVEL     2    DetJac Range:   0.0494  to   5.8210 
  Avg. Gradient Time  : 0.3050s  37.32% 
  Avg. Gaussian Time  : 0.4249s  52.00% 
  Avg. Iteration Time : 0.8172s 

real	0m27.256s
user	0m47.756s
sys	0m2.912s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.692308 0.698077
+ echo 'CHUNK 0.692308 0.698077 1'
CHUNK 0.692308 0.698077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.692308 0.698077 1
====================================
         PROGRESS: 0.692308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 017
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1783.38 	 OutFr   0.0024 	 RMSD     2.4751
Iter 002 	 Temp     3.72 	 Delta  1685.62 	 OutFr   0.0024 	 RMSD     2.0404
Iter 003 	 Temp     3.46 	 Delta  1548.26 	 OutFr   0.0024 	 RMSD     2.0244
Iter 004 	 Temp     3.22 	 Delta  1424.51 	 OutFr   0.0024 	 RMSD     1.9943
Iter 005 	 Temp     2.99 	 Delta  1313.03 	 OutFr   0.0049 	 RMSD     1.9698
Iter 006 	 Temp     2.78 	 Delta  1213.17 	 OutFr   0.0049 	 RMSD     1.9504
Iter 007 	 Temp     2.59 	 Delta  1124.68 	 OutFr   0.0049 	 RMSD     1.9352
Iter 008 	 Temp     2.41 	 Delta  1046.86 	 OutFr   0.0073 	 RMSD     1.9233
Iter 009 	 Temp     2.24 	 Delta   978.55 	 OutFr   0.0073 	 RMSD     1.9145
Iter 010 	 Temp     2.08 	 Delta   918.28 	 OutFr   0.0073 	 RMSD     1.9076
Iter 011 	 Temp     1.94 	 Delta   864.36 	 OutFr   0.0073 	 RMSD     1.9020
Iter 012 	 Temp     1.80 	 Delta   815.03 	 OutFr   0.0073 	 RMSD     1.8972
Iter 013 	 Temp     1.67 	 Delta   768.74 	 OutFr   0.0098 	 RMSD     1.8939
Iter 014 	 Temp     1.56 	 Delta   724.60 	 OutFr   0.0098 	 RMSD     1.8906
Iter 015 	 Temp     1.45 	 Delta   682.66 	 OutFr   0.0098 	 RMSD     1.8872
Iter 016 	 Temp     1.35 	 Delta   643.56 	 OutFr   0.0171 	 RMSD     1.8846
Iter 017 	 Temp     1.25 	 Delta   607.77 	 OutFr   0.0244 	 RMSD     1.8824
Iter 018 	 Temp     1.16 	 Delta   575.57 	 OutFr   0.0293 	 RMSD     1.8804
Iter 019 	 Temp     1.08 	 Delta   547.10 	 OutFr   0.0293 	 RMSD     1.8785
Iter 020 	 Temp     1.01 	 Delta   521.82 	 OutFr   0.0366 	 RMSD     1.8773
Iter 021 	 Temp     0.94 	 Delta   499.44 	 OutFr   0.0415 	 RMSD     1.8769
Iter 022 	 Temp     0.87 	 Delta   480.37 	 OutFr   0.0561 	 RMSD     1.8770
Iter 023 	 Temp     0.81 	 Delta   462.87 	 OutFr   0.0610 	 RMSD     1.8772
Iter 024 	 Temp     0.75 	 Delta   444.02 	 OutFr   0.0756 	 RMSD     1.8773
Iter 025 	 Temp     0.70 	 Delta   422.43 	 OutFr   0.0902 	 RMSD     1.8773
Iter 026 	 Temp     0.65 	 Delta   399.77 	 OutFr   0.0951 	 RMSD     1.8773
Iter 027 	 Temp     0.61 	 Delta   377.90 	 OutFr   0.1073 	 RMSD     1.8777
Iter 028 	 Temp     0.56 	 Delta   356.48 	 OutFr   0.1244 	 RMSD     1.8789
Iter 029 	 Temp     0.52 	 Delta   334.98 	 OutFr   0.1366 	 RMSD     1.8808
Iter 030 	 Temp     0.49 	 Delta   312.19 	 OutFr   0.1634 	 RMSD     1.8831
Iter 031 	 Temp     0.45 	 Delta   286.78 	 OutFr   0.1902 	 RMSD     1.8849
Iter 032 	 Temp     0.42 	 Delta   257.95 	 OutFr   0.2366 	 RMSD     1.8860
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.TpRqWDaN/mybin.nii.gz
+ vtklevelset /tmp/ashs.TpRqWDaN/mybin.nii.gz /tmp/ashs.TpRqWDaN/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.TpRqWDaN/mymesh.vtk /tmp/ashs.TpRqWDaN/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3208.79638479   0.94401449
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.TpRqWDaN/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -38.6459 to -15.2196
   Y : -15.5135 to 33.563
   Z : -22.0583 to 3.77239
   Image resolution  : 97 by 171 by 103
   Image box origin  : {-43.6459, -20.5135, -27.0583}
   Image box size    : {33.6805, 59.375, 36.0496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [43.6459, 20.5135, -27.0583]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat -o /tmp/ashs.TpRqWDaN/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat -o /tmp/ashs.TpRqWDaN/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.TpRqWDaN/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.698077 0.703846
+ echo 'CHUNK 0.698077 0.703846 0.5'
CHUNK 0.698077 0.703846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.698077 0.703846 0.5
====================================
         PROGRESS: 0.698077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.TpRqWDaN/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.TpRqWDaN/fixed_hw.nii.gz /tmp/ashs.TpRqWDaN/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.460722, moving = 0.403567
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.39164, 2.40153], [0.952629, 0.976382, 0.98042]
Level     0,  Iter     0:    Energy =   0.0517
Level     0,  Iter     1:    Energy =   0.0577
Level     0,  Iter     2:    Energy =   0.0623
Level     0,  Iter     3:    Energy =   0.0659
Level     0,  Iter     4:    Energy =   0.0692
Level     0,  Iter     5:    Energy =   0.0726
Level     0,  Iter     6:    Energy =   0.0756
Level     0,  Iter     7:    Energy =   0.0788
Level     0,  Iter     8:    Energy =   0.0814
Level     0,  Iter     9:    Energy =   0.0835
Level     0,  Iter    10:    Energy =   0.0853
Level     0,  Iter    11:    Energy =   0.0862
Level     0,  Iter    12:    Energy =   0.0863
Level     0,  Iter    13:    Energy =   0.0877
Level     0,  Iter    14:    Energy =   0.0877
Level     0,  Iter    15:    Energy =   0.0885
Level     0,  Iter    16:    Energy =   0.0884
Level     0,  Iter    17:    Energy =   0.0891
Level     0,  Iter    18:    Energy =   0.0890
Level     0,  Iter    19:    Energy =   0.0896
Level     0,  Iter    20:    Energy =   0.0895
Level     0,  Iter    21:    Energy =   0.0901
Level     0,  Iter    22:    Energy =   0.0899
Level     0,  Iter    23:    Energy =   0.0905
Level     0,  Iter    24:    Energy =   0.0902
Level     0,  Iter    25:    Energy =   0.0908
Level     0,  Iter    26:    Energy =   0.0906
Level     0,  Iter    27:    Energy =   0.0911
Level     0,  Iter    28:    Energy =   0.0908
Level     0,  Iter    29:    Energy =   0.0913
Level     0,  Iter    30:    Energy =   0.0910
Level     0,  Iter    31:    Energy =   0.0915
Level     0,  Iter    32:    Energy =   0.0912
Level     0,  Iter    33:    Energy =   0.0918
Level     0,  Iter    34:    Energy =   0.0914
Level     0,  Iter    35:    Energy =   0.0918
Level     0,  Iter    36:    Energy =   0.0915
Level     0,  Iter    37:    Energy =   0.0919
Level     0,  Iter    38:    Energy =   0.0916
Level     0,  Iter    39:    Energy =   0.0920
Level     0,  Iter    40:    Energy =   0.0917
Level     0,  Iter    41:    Energy =   0.0920
Level     0,  Iter    42:    Energy =   0.0916
Level     0,  Iter    43:    Energy =   0.0922
Level     0,  Iter    44:    Energy =   0.0919
Level     0,  Iter    45:    Energy =   0.0923
Level     0,  Iter    46:    Energy =   0.0920
Level     0,  Iter    47:    Energy =   0.0922
Level     0,  Iter    48:    Energy =   0.0918
Level     0,  Iter    49:    Energy =   0.0924
Level     0,  Iter    50:    Energy =   0.0920
Level     0,  Iter    51:    Energy =   0.0926
Level     0,  Iter    52:    Energy =   0.0922
Level     0,  Iter    53:    Energy =   0.0924
Level     0,  Iter    54:    Energy =   0.0920
Level     0,  Iter    55:    Energy =   0.0925
Level     0,  Iter    56:    Energy =   0.0922
Level     0,  Iter    57:    Energy =   0.0926
Level     0,  Iter    58:    Energy =   0.0922
Level     0,  Iter    59:    Energy =   0.0924
END OF LEVEL     0    DetJac Range:   0.1988  to   2.3666 
  Avg. Gradient Time  : 0.0077s  37.96% 
  Avg. Gaussian Time  : 0.0096s  47.61% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.19582, 1.20076], [0.486035, 0.488191, 0.49021]
Level     1,  Iter     0:    Energy =   0.0614
Level     1,  Iter     1:    Energy =   0.0655
Level     1,  Iter     2:    Energy =   0.0685
Level     1,  Iter     3:    Energy =   0.0717
Level     1,  Iter     4:    Energy =   0.0743
Level     1,  Iter     5:    Energy =   0.0765
Level     1,  Iter     6:    Energy =   0.0782
Level     1,  Iter     7:    Energy =   0.0797
Level     1,  Iter     8:    Energy =   0.0810
Level     1,  Iter     9:    Energy =   0.0819
Level     1,  Iter    10:    Energy =   0.0826
Level     1,  Iter    11:    Energy =   0.0832
Level     1,  Iter    12:    Energy =   0.0831
Level     1,  Iter    13:    Energy =   0.0839
Level     1,  Iter    14:    Energy =   0.0840
Level     1,  Iter    15:    Energy =   0.0846
Level     1,  Iter    16:    Energy =   0.0843
Level     1,  Iter    17:    Energy =   0.0850
Level     1,  Iter    18:    Energy =   0.0849
Level     1,  Iter    19:    Energy =   0.0855
Level     1,  Iter    20:    Energy =   0.0852
Level     1,  Iter    21:    Energy =   0.0858
Level     1,  Iter    22:    Energy =   0.0857
Level     1,  Iter    23:    Energy =   0.0862
Level     1,  Iter    24:    Energy =   0.0859
Level     1,  Iter    25:    Energy =   0.0864
Level     1,  Iter    26:    Energy =   0.0862
Level     1,  Iter    27:    Energy =   0.0867
Level     1,  Iter    28:    Energy =   0.0864
Level     1,  Iter    29:    Energy =   0.0868
Level     1,  Iter    30:    Energy =   0.0865
Level     1,  Iter    31:    Energy =   0.0869
Level     1,  Iter    32:    Energy =   0.0866
Level     1,  Iter    33:    Energy =   0.0870
Level     1,  Iter    34:    Energy =   0.0867
Level     1,  Iter    35:    Energy =   0.0871
Level     1,  Iter    36:    Energy =   0.0867
Level     1,  Iter    37:    Energy =   0.0871
Level     1,  Iter    38:    Energy =   0.0868
Level     1,  Iter    39:    Energy =   0.0872
Level     1,  Iter    40:    Energy =   0.0869
Level     1,  Iter    41:    Energy =   0.0872
Level     1,  Iter    42:    Energy =   0.0869
Level     1,  Iter    43:    Energy =   0.0873
Level     1,  Iter    44:    Energy =   0.0869
Level     1,  Iter    45:    Energy =   0.0873
Level     1,  Iter    46:    Energy =   0.0871
Level     1,  Iter    47:    Energy =   0.0874
Level     1,  Iter    48:    Energy =   0.0870
Level     1,  Iter    49:    Energy =   0.0874
Level     1,  Iter    50:    Energy =   0.0872
Level     1,  Iter    51:    Energy =   0.0876
Level     1,  Iter    52:    Energy =   0.0872
Level     1,  Iter    53:    Energy =   0.0875
Level     1,  Iter    54:    Energy =   0.0872
Level     1,  Iter    55:    Energy =   0.0876
Level     1,  Iter    56:    Energy =   0.0872
Level     1,  Iter    57:    Energy =   0.0875
Level     1,  Iter    58:    Energy =   0.0873
Level     1,  Iter    59:    Energy =   0.0876
END OF LEVEL     1    DetJac Range:   0.1017  to   2.9309 
  Avg. Gradient Time  : 0.0438s  40.04% 
  Avg. Gaussian Time  : 0.0527s  48.20% 
  Avg. Iteration Time : 0.1094s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0462
Level     2,  Iter     1:    Energy =   0.0489
Level     2,  Iter     2:    Energy =   0.0512
Level     2,  Iter     3:    Energy =   0.0528
Level     2,  Iter     4:    Energy =   0.0542
Level     2,  Iter     5:    Energy =   0.0553
Level     2,  Iter     6:    Energy =   0.0564
Level     2,  Iter     7:    Energy =   0.0574
Level     2,  Iter     8:    Energy =   0.0583
Level     2,  Iter     9:    Energy =   0.0591
Level     2,  Iter    10:    Energy =   0.0599
Level     2,  Iter    11:    Energy =   0.0607
Level     2,  Iter    12:    Energy =   0.0615
Level     2,  Iter    13:    Energy =   0.0624
Level     2,  Iter    14:    Energy =   0.0630
Level     2,  Iter    15:    Energy =   0.0635
Level     2,  Iter    16:    Energy =   0.0641
Level     2,  Iter    17:    Energy =   0.0648
Level     2,  Iter    18:    Energy =   0.0654
Level     2,  Iter    19:    Energy =   0.0658
END OF LEVEL     2    DetJac Range:   0.0559  to   5.4187 
  Avg. Gradient Time  : 0.3027s  37.36% 
  Avg. Gaussian Time  : 0.4215s  52.02% 
  Avg. Iteration Time : 0.8102s 

real	0m27.225s
user	0m47.936s
sys	0m2.696s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.698077 0.703846
+ echo 'CHUNK 0.698077 0.703846 1'
CHUNK 0.698077 0.703846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.698077 0.703846 1
====================================
         PROGRESS: 0.698077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 018
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1616.47 	 OutFr   0.0049 	 RMSD     2.4865
Iter 002 	 Temp     3.72 	 Delta  1498.66 	 OutFr   0.0024 	 RMSD     1.9360
Iter 003 	 Temp     3.46 	 Delta  1373.70 	 OutFr   0.0024 	 RMSD     1.9457
Iter 004 	 Temp     3.22 	 Delta  1263.46 	 OutFr   0.0024 	 RMSD     1.9328
Iter 005 	 Temp     2.99 	 Delta  1165.14 	 OutFr   0.0024 	 RMSD     1.9113
Iter 006 	 Temp     2.78 	 Delta  1077.85 	 OutFr   0.0024 	 RMSD     1.8902
Iter 007 	 Temp     2.59 	 Delta  1001.37 	 OutFr   0.0024 	 RMSD     1.8719
Iter 008 	 Temp     2.41 	 Delta   936.10 	 OutFr   0.0049 	 RMSD     1.8557
Iter 009 	 Temp     2.24 	 Delta   881.43 	 OutFr   0.0049 	 RMSD     1.8425
Iter 010 	 Temp     2.08 	 Delta   835.27 	 OutFr   0.0049 	 RMSD     1.8317
Iter 011 	 Temp     1.94 	 Delta   795.24 	 OutFr   0.0098 	 RMSD     1.8223
Iter 012 	 Temp     1.80 	 Delta   759.35 	 OutFr   0.0098 	 RMSD     1.8138
Iter 013 	 Temp     1.67 	 Delta   726.17 	 OutFr   0.0171 	 RMSD     1.8067
Iter 014 	 Temp     1.56 	 Delta   695.15 	 OutFr   0.0171 	 RMSD     1.8005
Iter 015 	 Temp     1.45 	 Delta   666.37 	 OutFr   0.0171 	 RMSD     1.7952
Iter 016 	 Temp     1.35 	 Delta   639.72 	 OutFr   0.0244 	 RMSD     1.7914
Iter 017 	 Temp     1.25 	 Delta   615.24 	 OutFr   0.0268 	 RMSD     1.7886
Iter 018 	 Temp     1.16 	 Delta   593.05 	 OutFr   0.0293 	 RMSD     1.7865
Iter 019 	 Temp     1.08 	 Delta   572.51 	 OutFr   0.0293 	 RMSD     1.7846
Iter 020 	 Temp     1.01 	 Delta   552.25 	 OutFr   0.0317 	 RMSD     1.7825
Iter 021 	 Temp     0.94 	 Delta   531.97 	 OutFr   0.0390 	 RMSD     1.7803
Iter 022 	 Temp     0.87 	 Delta   510.40 	 OutFr   0.0439 	 RMSD     1.7776
Iter 023 	 Temp     0.81 	 Delta   485.52 	 OutFr   0.0512 	 RMSD     1.7745
Iter 024 	 Temp     0.75 	 Delta   458.78 	 OutFr   0.0659 	 RMSD     1.7719
Iter 025 	 Temp     0.70 	 Delta   431.37 	 OutFr   0.0805 	 RMSD     1.7699
Iter 026 	 Temp     0.65 	 Delta   403.18 	 OutFr   0.0927 	 RMSD     1.7688
Iter 027 	 Temp     0.61 	 Delta   374.60 	 OutFr   0.1073 	 RMSD     1.7689
Iter 028 	 Temp     0.56 	 Delta   348.68 	 OutFr   0.1268 	 RMSD     1.7699
Iter 029 	 Temp     0.52 	 Delta   325.02 	 OutFr   0.1415 	 RMSD     1.7716
Iter 030 	 Temp     0.49 	 Delta   302.40 	 OutFr   0.1829 	 RMSD     1.7737
Iter 031 	 Temp     0.45 	 Delta   278.56 	 OutFr   0.2146 	 RMSD     1.7756
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.oZ0CeMmL/mybin.nii.gz
+ vtklevelset /tmp/ashs.oZ0CeMmL/mybin.nii.gz /tmp/ashs.oZ0CeMmL/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.oZ0CeMmL/mymesh.vtk /tmp/ashs.oZ0CeMmL/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3138.74830291   0.92340664
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.oZ0CeMmL/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -39.0623 to -13.4487
   Y : -19.9582 to 25.0086
   Z : -7.42038 to 18.4263
   Image resolution  : 103 by 159 by 103
   Image box origin  : {-44.0623, -24.9582, -12.4204}
   Image box size    : {35.7639, 55.2083, 36.0496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [44.0623, 24.9582, -12.4204]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat -o /tmp/ashs.oZ0CeMmL/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat -o /tmp/ashs.oZ0CeMmL/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.oZ0CeMmL/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.703846 0.709615
+ echo 'CHUNK 0.703846 0.709615 0.5'
CHUNK 0.703846 0.709615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.703846 0.709615 0.5
====================================
         PROGRESS: 0.703846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.oZ0CeMmL/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.oZ0CeMmL/fixed_hw.nii.gz /tmp/ashs.oZ0CeMmL/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.464045, moving = 0.587289
LEVEL 1 of 3
  Smoothing sigmas: [2.38249, 2.39059, 2.40153], [0.972649, 0.975954, 0.98042]
Level     0,  Iter     0:    Energy =   0.0590
Level     0,  Iter     1:    Energy =   0.0650
Level     0,  Iter     2:    Energy =   0.0708
Level     0,  Iter     3:    Energy =   0.0771
Level     0,  Iter     4:    Energy =   0.0814
Level     0,  Iter     5:    Energy =   0.0847
Level     0,  Iter     6:    Energy =   0.0881
Level     0,  Iter     7:    Energy =   0.0907
Level     0,  Iter     8:    Energy =   0.0916
Level     0,  Iter     9:    Energy =   0.0931
Level     0,  Iter    10:    Energy =   0.0937
Level     0,  Iter    11:    Energy =   0.0945
Level     0,  Iter    12:    Energy =   0.0950
Level     0,  Iter    13:    Energy =   0.0958
Level     0,  Iter    14:    Energy =   0.0963
Level     0,  Iter    15:    Energy =   0.0969
Level     0,  Iter    16:    Energy =   0.0973
Level     0,  Iter    17:    Energy =   0.0979
Level     0,  Iter    18:    Energy =   0.0983
Level     0,  Iter    19:    Energy =   0.0987
Level     0,  Iter    20:    Energy =   0.0988
Level     0,  Iter    21:    Energy =   0.0991
Level     0,  Iter    22:    Energy =   0.0991
Level     0,  Iter    23:    Energy =   0.0993
Level     0,  Iter    24:    Energy =   0.0993
Level     0,  Iter    25:    Energy =   0.0995
Level     0,  Iter    26:    Energy =   0.0995
Level     0,  Iter    27:    Energy =   0.0997
Level     0,  Iter    28:    Energy =   0.0997
Level     0,  Iter    29:    Energy =   0.0997
Level     0,  Iter    30:    Energy =   0.0997
Level     0,  Iter    31:    Energy =   0.0998
Level     0,  Iter    32:    Energy =   0.0997
Level     0,  Iter    33:    Energy =   0.0998
Level     0,  Iter    34:    Energy =   0.0998
Level     0,  Iter    35:    Energy =   0.0998
Level     0,  Iter    36:    Energy =   0.0998
Level     0,  Iter    37:    Energy =   0.0998
Level     0,  Iter    38:    Energy =   0.0998
Level     0,  Iter    39:    Energy =   0.0999
Level     0,  Iter    40:    Energy =   0.0999
Level     0,  Iter    41:    Energy =   0.1000
Level     0,  Iter    42:    Energy =   0.1000
Level     0,  Iter    43:    Energy =   0.1001
Level     0,  Iter    44:    Energy =   0.1001
Level     0,  Iter    45:    Energy =   0.1001
Level     0,  Iter    46:    Energy =   0.1001
Level     0,  Iter    47:    Energy =   0.1001
Level     0,  Iter    48:    Energy =   0.1001
Level     0,  Iter    49:    Energy =   0.1001
Level     0,  Iter    50:    Energy =   0.1002
Level     0,  Iter    51:    Energy =   0.1002
Level     0,  Iter    52:    Energy =   0.1002
Level     0,  Iter    53:    Energy =   0.1002
Level     0,  Iter    54:    Energy =   0.1002
Level     0,  Iter    55:    Energy =   0.1002
Level     0,  Iter    56:    Energy =   0.1002
Level     0,  Iter    57:    Energy =   0.1002
Level     0,  Iter    58:    Energy =   0.1002
Level     0,  Iter    59:    Energy =   0.1002
END OF LEVEL     0    DetJac Range:   0.3316  to   1.8882 
  Avg. Gradient Time  : 0.0071s  37.49% 
  Avg. Gaussian Time  : 0.0091s  47.61% 
  Avg. Iteration Time : 0.0191s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19125, 1.19529, 1.20076], [0.486324, 0.487977, 0.49021]
Level     1,  Iter     0:    Energy =   0.0673
Level     1,  Iter     1:    Energy =   0.0720
Level     1,  Iter     2:    Energy =   0.0753
Level     1,  Iter     3:    Energy =   0.0779
Level     1,  Iter     4:    Energy =   0.0804
Level     1,  Iter     5:    Energy =   0.0825
Level     1,  Iter     6:    Energy =   0.0845
Level     1,  Iter     7:    Energy =   0.0860
Level     1,  Iter     8:    Energy =   0.0873
Level     1,  Iter     9:    Energy =   0.0882
Level     1,  Iter    10:    Energy =   0.0887
Level     1,  Iter    11:    Energy =   0.0896
Level     1,  Iter    12:    Energy =   0.0904
Level     1,  Iter    13:    Energy =   0.0912
Level     1,  Iter    14:    Energy =   0.0918
Level     1,  Iter    15:    Energy =   0.0919
Level     1,  Iter    16:    Energy =   0.0924
Level     1,  Iter    17:    Energy =   0.0922
Level     1,  Iter    18:    Energy =   0.0928
Level     1,  Iter    19:    Energy =   0.0930
Level     1,  Iter    20:    Energy =   0.0930
Level     1,  Iter    21:    Energy =   0.0929
Level     1,  Iter    22:    Energy =   0.0933
Level     1,  Iter    23:    Energy =   0.0932
Level     1,  Iter    24:    Energy =   0.0934
Level     1,  Iter    25:    Energy =   0.0933
Level     1,  Iter    26:    Energy =   0.0936
Level     1,  Iter    27:    Energy =   0.0935
Level     1,  Iter    28:    Energy =   0.0937
Level     1,  Iter    29:    Energy =   0.0936
Level     1,  Iter    30:    Energy =   0.0938
Level     1,  Iter    31:    Energy =   0.0936
Level     1,  Iter    32:    Energy =   0.0941
Level     1,  Iter    33:    Energy =   0.0939
Level     1,  Iter    34:    Energy =   0.0941
Level     1,  Iter    35:    Energy =   0.0939
Level     1,  Iter    36:    Energy =   0.0942
Level     1,  Iter    37:    Energy =   0.0940
Level     1,  Iter    38:    Energy =   0.0943
Level     1,  Iter    39:    Energy =   0.0941
Level     1,  Iter    40:    Energy =   0.0943
Level     1,  Iter    41:    Energy =   0.0942
Level     1,  Iter    42:    Energy =   0.0944
Level     1,  Iter    43:    Energy =   0.0942
Level     1,  Iter    44:    Energy =   0.0945
Level     1,  Iter    45:    Energy =   0.0942
Level     1,  Iter    46:    Energy =   0.0945
Level     1,  Iter    47:    Energy =   0.0943
Level     1,  Iter    48:    Energy =   0.0945
Level     1,  Iter    49:    Energy =   0.0943
Level     1,  Iter    50:    Energy =   0.0945
Level     1,  Iter    51:    Energy =   0.0943
Level     1,  Iter    52:    Energy =   0.0945
Level     1,  Iter    53:    Energy =   0.0944
Level     1,  Iter    54:    Energy =   0.0946
Level     1,  Iter    55:    Energy =   0.0945
Level     1,  Iter    56:    Energy =   0.0945
Level     1,  Iter    57:    Energy =   0.0943
Level     1,  Iter    58:    Energy =   0.0947
Level     1,  Iter    59:    Energy =   0.0945
END OF LEVEL     1    DetJac Range:   0.1243  to   2.7289 
  Avg. Gradient Time  : 0.0429s  40.17% 
  Avg. Gaussian Time  : 0.0511s  47.91% 
  Avg. Iteration Time : 0.1067s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0523
Level     2,  Iter     1:    Energy =   0.0546
Level     2,  Iter     2:    Energy =   0.0565
Level     2,  Iter     3:    Energy =   0.0581
Level     2,  Iter     4:    Energy =   0.0597
Level     2,  Iter     5:    Energy =   0.0611
Level     2,  Iter     6:    Energy =   0.0625
Level     2,  Iter     7:    Energy =   0.0637
Level     2,  Iter     8:    Energy =   0.0647
Level     2,  Iter     9:    Energy =   0.0656
Level     2,  Iter    10:    Energy =   0.0663
Level     2,  Iter    11:    Energy =   0.0671
Level     2,  Iter    12:    Energy =   0.0678
Level     2,  Iter    13:    Energy =   0.0685
Level     2,  Iter    14:    Energy =   0.0691
Level     2,  Iter    15:    Energy =   0.0696
Level     2,  Iter    16:    Energy =   0.0701
Level     2,  Iter    17:    Energy =   0.0706
Level     2,  Iter    18:    Energy =   0.0709
Level     2,  Iter    19:    Energy =   0.0713
END OF LEVEL     2    DetJac Range:   0.0757  to   4.3404 
  Avg. Gradient Time  : 0.2983s  36.67% 
  Avg. Gaussian Time  : 0.4304s  52.90% 
  Avg. Iteration Time : 0.8136s 

real	0m27.331s
user	0m48.208s
sys	0m2.632s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.703846 0.709615
+ echo 'CHUNK 0.703846 0.709615 1'
CHUNK 0.703846 0.709615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.703846 0.709615 1
====================================
         PROGRESS: 0.703846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 019
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2159.83 	 OutFr   0.0000 	 RMSD     3.4638
Iter 002 	 Temp     3.72 	 Delta  1844.22 	 OutFr   0.0000 	 RMSD     2.5886
Iter 003 	 Temp     3.46 	 Delta  1668.76 	 OutFr   0.0000 	 RMSD     2.4312
Iter 004 	 Temp     3.22 	 Delta  1554.20 	 OutFr   0.0024 	 RMSD     2.3582
Iter 005 	 Temp     2.99 	 Delta  1465.34 	 OutFr   0.0024 	 RMSD     2.3206
Iter 006 	 Temp     2.78 	 Delta  1388.52 	 OutFr   0.0024 	 RMSD     2.2956
Iter 007 	 Temp     2.59 	 Delta  1318.49 	 OutFr   0.0024 	 RMSD     2.2794
Iter 008 	 Temp     2.41 	 Delta  1253.32 	 OutFr   0.0049 	 RMSD     2.2666
Iter 009 	 Temp     2.24 	 Delta  1192.16 	 OutFr   0.0049 	 RMSD     2.2562
Iter 010 	 Temp     2.08 	 Delta  1133.90 	 OutFr   0.0049 	 RMSD     2.2469
Iter 011 	 Temp     1.94 	 Delta  1077.45 	 OutFr   0.0098 	 RMSD     2.2396
Iter 012 	 Temp     1.80 	 Delta  1022.58 	 OutFr   0.0220 	 RMSD     2.2331
Iter 013 	 Temp     1.67 	 Delta   970.25 	 OutFr   0.0268 	 RMSD     2.2266
Iter 014 	 Temp     1.56 	 Delta   920.38 	 OutFr   0.0366 	 RMSD     2.2214
Iter 015 	 Temp     1.45 	 Delta   870.51 	 OutFr   0.0463 	 RMSD     2.2169
Iter 016 	 Temp     1.35 	 Delta   817.94 	 OutFr   0.0585 	 RMSD     2.2126
Iter 017 	 Temp     1.25 	 Delta   761.25 	 OutFr   0.0634 	 RMSD     2.2082
Iter 018 	 Temp     1.16 	 Delta   701.60 	 OutFr   0.0732 	 RMSD     2.2036
Iter 019 	 Temp     1.08 	 Delta   643.74 	 OutFr   0.0829 	 RMSD     2.1996
Iter 020 	 Temp     1.01 	 Delta   590.24 	 OutFr   0.1122 	 RMSD     2.1968
Iter 021 	 Temp     0.94 	 Delta   544.34 	 OutFr   0.1341 	 RMSD     2.1951
Iter 022 	 Temp     0.87 	 Delta   509.25 	 OutFr   0.1439 	 RMSD     2.1962
Iter 023 	 Temp     0.81 	 Delta   479.89 	 OutFr   0.1537 	 RMSD     2.1985
Iter 024 	 Temp     0.75 	 Delta   452.46 	 OutFr   0.1707 	 RMSD     2.2002
Iter 025 	 Temp     0.70 	 Delta   425.28 	 OutFr   0.1829 	 RMSD     2.2016
Iter 026 	 Temp     0.65 	 Delta   396.01 	 OutFr   0.1976 	 RMSD     2.2040
Iter 027 	 Temp     0.61 	 Delta   364.18 	 OutFr   0.2146 	 RMSD     2.2071
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.FvyzFIv7/mybin.nii.gz
+ vtklevelset /tmp/ashs.FvyzFIv7/mybin.nii.gz /tmp/ashs.FvyzFIv7/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.FvyzFIv7/mymesh.vtk /tmp/ashs.FvyzFIv7/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3418.03514916   1.00557166
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.FvyzFIv7/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -39.3162 to -14.7393
   Y : -14.8325 to 32.0577
   Z : -20.6683 to 9.64563
   Image resolution  : 100 by 164 by 116
   Image box origin  : {-44.3162, -19.8325, -25.6683}
   Image box size    : {34.7222, 56.9444, 40.5995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [44.3162, 19.8325, -25.6683]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat -o /tmp/ashs.FvyzFIv7/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat -o /tmp/ashs.FvyzFIv7/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.FvyzFIv7/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.709615 0.715385
+ echo 'CHUNK 0.709615 0.715385 0.5'
CHUNK 0.709615 0.715385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.709615 0.715385 0.5
====================================
         PROGRESS: 0.709615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.FvyzFIv7/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.FvyzFIv7/fixed_hw.nii.gz /tmp/ashs.FvyzFIv7/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.457172, moving = 0.446889
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.42484], [0.982092, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0354
Level     0,  Iter     1:    Energy =   0.0396
Level     0,  Iter     2:    Energy =   0.0440
Level     0,  Iter     3:    Energy =   0.0481
Level     0,  Iter     4:    Energy =   0.0516
Level     0,  Iter     5:    Energy =   0.0546
Level     0,  Iter     6:    Energy =   0.0576
Level     0,  Iter     7:    Energy =   0.0609
Level     0,  Iter     8:    Energy =   0.0635
Level     0,  Iter     9:    Energy =   0.0660
Level     0,  Iter    10:    Energy =   0.0683
Level     0,  Iter    11:    Energy =   0.0701
Level     0,  Iter    12:    Energy =   0.0718
Level     0,  Iter    13:    Energy =   0.0726
Level     0,  Iter    14:    Energy =   0.0740
Level     0,  Iter    15:    Energy =   0.0747
Level     0,  Iter    16:    Energy =   0.0758
Level     0,  Iter    17:    Energy =   0.0763
Level     0,  Iter    18:    Energy =   0.0771
Level     0,  Iter    19:    Energy =   0.0776
Level     0,  Iter    20:    Energy =   0.0783
Level     0,  Iter    21:    Energy =   0.0786
Level     0,  Iter    22:    Energy =   0.0791
Level     0,  Iter    23:    Energy =   0.0794
Level     0,  Iter    24:    Energy =   0.0799
Level     0,  Iter    25:    Energy =   0.0801
Level     0,  Iter    26:    Energy =   0.0806
Level     0,  Iter    27:    Energy =   0.0808
Level     0,  Iter    28:    Energy =   0.0812
Level     0,  Iter    29:    Energy =   0.0814
Level     0,  Iter    30:    Energy =   0.0818
Level     0,  Iter    31:    Energy =   0.0820
Level     0,  Iter    32:    Energy =   0.0824
Level     0,  Iter    33:    Energy =   0.0825
Level     0,  Iter    34:    Energy =   0.0828
Level     0,  Iter    35:    Energy =   0.0828
Level     0,  Iter    36:    Energy =   0.0830
Level     0,  Iter    37:    Energy =   0.0831
Level     0,  Iter    38:    Energy =   0.0833
Level     0,  Iter    39:    Energy =   0.0834
Level     0,  Iter    40:    Energy =   0.0835
Level     0,  Iter    41:    Energy =   0.0836
Level     0,  Iter    42:    Energy =   0.0837
Level     0,  Iter    43:    Energy =   0.0838
Level     0,  Iter    44:    Energy =   0.0839
Level     0,  Iter    45:    Energy =   0.0840
Level     0,  Iter    46:    Energy =   0.0841
Level     0,  Iter    47:    Energy =   0.0841
Level     0,  Iter    48:    Energy =   0.0842
Level     0,  Iter    49:    Energy =   0.0842
Level     0,  Iter    50:    Energy =   0.0843
Level     0,  Iter    51:    Energy =   0.0843
Level     0,  Iter    52:    Energy =   0.0845
Level     0,  Iter    53:    Energy =   0.0843
Level     0,  Iter    54:    Energy =   0.0845
Level     0,  Iter    55:    Energy =   0.0844
Level     0,  Iter    56:    Energy =   0.0846
Level     0,  Iter    57:    Energy =   0.0845
Level     0,  Iter    58:    Energy =   0.0847
Level     0,  Iter    59:    Energy =   0.0845
END OF LEVEL     0    DetJac Range:   0.1863  to   2.1260 
  Avg. Gradient Time  : 0.0079s  37.66% 
  Avg. Gaussian Time  : 0.0100s  47.57% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0566
Level     1,  Iter     1:    Energy =   0.0602
Level     1,  Iter     2:    Energy =   0.0635
Level     1,  Iter     3:    Energy =   0.0665
Level     1,  Iter     4:    Energy =   0.0688
Level     1,  Iter     5:    Energy =   0.0702
Level     1,  Iter     6:    Energy =   0.0713
Level     1,  Iter     7:    Energy =   0.0721
Level     1,  Iter     8:    Energy =   0.0729
Level     1,  Iter     9:    Energy =   0.0736
Level     1,  Iter    10:    Energy =   0.0745
Level     1,  Iter    11:    Energy =   0.0753
Level     1,  Iter    12:    Energy =   0.0764
Level     1,  Iter    13:    Energy =   0.0773
Level     1,  Iter    14:    Energy =   0.0784
Level     1,  Iter    15:    Energy =   0.0795
Level     1,  Iter    16:    Energy =   0.0804
Level     1,  Iter    17:    Energy =   0.0811
Level     1,  Iter    18:    Energy =   0.0818
Level     1,  Iter    19:    Energy =   0.0824
Level     1,  Iter    20:    Energy =   0.0822
Level     1,  Iter    21:    Energy =   0.0825
Level     1,  Iter    22:    Energy =   0.0824
Level     1,  Iter    23:    Energy =   0.0826
Level     1,  Iter    24:    Energy =   0.0826
Level     1,  Iter    25:    Energy =   0.0829
Level     1,  Iter    26:    Energy =   0.0828
Level     1,  Iter    27:    Energy =   0.0831
Level     1,  Iter    28:    Energy =   0.0831
Level     1,  Iter    29:    Energy =   0.0833
Level     1,  Iter    30:    Energy =   0.0833
Level     1,  Iter    31:    Energy =   0.0835
Level     1,  Iter    32:    Energy =   0.0834
Level     1,  Iter    33:    Energy =   0.0837
Level     1,  Iter    34:    Energy =   0.0836
Level     1,  Iter    35:    Energy =   0.0838
Level     1,  Iter    36:    Energy =   0.0837
Level     1,  Iter    37:    Energy =   0.0839
Level     1,  Iter    38:    Energy =   0.0838
Level     1,  Iter    39:    Energy =   0.0840
Level     1,  Iter    40:    Energy =   0.0839
Level     1,  Iter    41:    Energy =   0.0841
Level     1,  Iter    42:    Energy =   0.0840
Level     1,  Iter    43:    Energy =   0.0842
Level     1,  Iter    44:    Energy =   0.0841
Level     1,  Iter    45:    Energy =   0.0843
Level     1,  Iter    46:    Energy =   0.0841
Level     1,  Iter    47:    Energy =   0.0844
Level     1,  Iter    48:    Energy =   0.0842
Level     1,  Iter    49:    Energy =   0.0845
Level     1,  Iter    50:    Energy =   0.0843
Level     1,  Iter    51:    Energy =   0.0846
Level     1,  Iter    52:    Energy =   0.0844
Level     1,  Iter    53:    Energy =   0.0846
Level     1,  Iter    54:    Energy =   0.0845
Level     1,  Iter    55:    Energy =   0.0847
Level     1,  Iter    56:    Energy =   0.0845
Level     1,  Iter    57:    Energy =   0.0847
Level     1,  Iter    58:    Energy =   0.0845
Level     1,  Iter    59:    Energy =   0.0848
END OF LEVEL     1    DetJac Range:   0.0455  to   2.9790 
  Avg. Gradient Time  : 0.0470s  39.91% 
  Avg. Gaussian Time  : 0.0568s  48.26% 
  Avg. Iteration Time : 0.1177s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0422
Level     2,  Iter     1:    Energy =   0.0447
Level     2,  Iter     2:    Energy =   0.0471
Level     2,  Iter     3:    Energy =   0.0491
Level     2,  Iter     4:    Energy =   0.0506
Level     2,  Iter     5:    Energy =   0.0522
Level     2,  Iter     6:    Energy =   0.0534
Level     2,  Iter     7:    Energy =   0.0544
Level     2,  Iter     8:    Energy =   0.0552
Level     2,  Iter     9:    Energy =   0.0560
Level     2,  Iter    10:    Energy =   0.0566
Level     2,  Iter    11:    Energy =   0.0572
Level     2,  Iter    12:    Energy =   0.0578
Level     2,  Iter    13:    Energy =   0.0582
Level     2,  Iter    14:    Energy =   0.0587
Level     2,  Iter    15:    Energy =   0.0590
Level     2,  Iter    16:    Energy =   0.0594
Level     2,  Iter    17:    Energy =   0.0597
Level     2,  Iter    18:    Energy =   0.0601
Level     2,  Iter    19:    Energy =   0.0605
END OF LEVEL     2    DetJac Range:   0.0397  to   4.1254 
  Avg. Gradient Time  : 0.3324s  37.04% 
  Avg. Gaussian Time  : 0.4693s  52.30% 
  Avg. Iteration Time : 0.8974s 

real	0m29.987s
user	0m52.680s
sys	0m3.136s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.709615 0.715385
+ echo 'CHUNK 0.709615 0.715385 1'
CHUNK 0.709615 0.715385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.709615 0.715385 1
====================================
         PROGRESS: 0.709615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 020
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2158.69 	 OutFr   0.0073 	 RMSD     4.4938
Iter 002 	 Temp     3.72 	 Delta  2134.83 	 OutFr   0.0000 	 RMSD     2.3400
Iter 003 	 Temp     3.46 	 Delta  2101.23 	 OutFr   0.0000 	 RMSD     2.3375
Iter 004 	 Temp     3.22 	 Delta  2046.93 	 OutFr   0.0024 	 RMSD     2.3406
Iter 005 	 Temp     2.99 	 Delta  1975.76 	 OutFr   0.0073 	 RMSD     2.3324
Iter 006 	 Temp     2.78 	 Delta  1894.27 	 OutFr   0.0073 	 RMSD     2.3186
Iter 007 	 Temp     2.59 	 Delta  1806.20 	 OutFr   0.0098 	 RMSD     2.3028
Iter 008 	 Temp     2.41 	 Delta  1714.28 	 OutFr   0.0146 	 RMSD     2.2879
Iter 009 	 Temp     2.24 	 Delta  1622.30 	 OutFr   0.0146 	 RMSD     2.2750
Iter 010 	 Temp     2.08 	 Delta  1533.98 	 OutFr   0.0146 	 RMSD     2.2640
Iter 011 	 Temp     1.94 	 Delta  1450.52 	 OutFr   0.0171 	 RMSD     2.2542
Iter 012 	 Temp     1.80 	 Delta  1371.43 	 OutFr   0.0171 	 RMSD     2.2456
Iter 013 	 Temp     1.67 	 Delta  1296.84 	 OutFr   0.0220 	 RMSD     2.2377
Iter 014 	 Temp     1.56 	 Delta  1227.58 	 OutFr   0.0268 	 RMSD     2.2327
Iter 015 	 Temp     1.45 	 Delta  1163.85 	 OutFr   0.0341 	 RMSD     2.2302
Iter 016 	 Temp     1.35 	 Delta  1104.54 	 OutFr   0.0415 	 RMSD     2.2291
Iter 017 	 Temp     1.25 	 Delta  1048.70 	 OutFr   0.0463 	 RMSD     2.2298
Iter 018 	 Temp     1.16 	 Delta   995.47 	 OutFr   0.0488 	 RMSD     2.2308
Iter 019 	 Temp     1.08 	 Delta   943.03 	 OutFr   0.0561 	 RMSD     2.2311
Iter 020 	 Temp     1.01 	 Delta   886.89 	 OutFr   0.0585 	 RMSD     2.2310
Iter 021 	 Temp     0.94 	 Delta   822.12 	 OutFr   0.0683 	 RMSD     2.2304
Iter 022 	 Temp     0.87 	 Delta   747.47 	 OutFr   0.0902 	 RMSD     2.2287
Iter 023 	 Temp     0.81 	 Delta   671.56 	 OutFr   0.1195 	 RMSD     2.2270
Iter 024 	 Temp     0.75 	 Delta   601.81 	 OutFr   0.1293 	 RMSD     2.2263
Iter 025 	 Temp     0.70 	 Delta   533.30 	 OutFr   0.1707 	 RMSD     2.2271
Iter 026 	 Temp     0.65 	 Delta   470.18 	 OutFr   0.2146 	 RMSD     2.2300
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.ufyZg49H/mybin.nii.gz
+ vtklevelset /tmp/ashs.ufyZg49H/mybin.nii.gz /tmp/ashs.ufyZg49H/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.ufyZg49H/mymesh.vtk /tmp/ashs.ufyZg49H/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3232.34105959   0.95094124
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.ufyZg49H/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.9684 to -9.52368
   Y : -14.5264 to 32.3732
   Z : -20.7788 to 11.4315
   Image resolution  : 100 by 164 by 121
   Image box origin  : {-38.9684, -19.5264, -25.7788}
   Image box size    : {34.7222, 56.9444, 42.3495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.9684, 19.5264, -25.7788]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat -o /tmp/ashs.ufyZg49H/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat -o /tmp/ashs.ufyZg49H/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.ufyZg49H/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.715385 0.721154
+ echo 'CHUNK 0.715385 0.721154 0.5'
CHUNK 0.715385 0.721154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.715385 0.721154 0.5
====================================
         PROGRESS: 0.715385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.ufyZg49H/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.ufyZg49H/fixed_hw.nii.gz /tmp/ashs.ufyZg49H/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.477267, moving = 0.456949
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.36618], [0.982092, 0.982092, 0.965988]
Level     0,  Iter     0:    Energy =   0.0312
Level     0,  Iter     1:    Energy =   0.0362
Level     0,  Iter     2:    Energy =   0.0402
Level     0,  Iter     3:    Energy =   0.0437
Level     0,  Iter     4:    Energy =   0.0475
Level     0,  Iter     5:    Energy =   0.0505
Level     0,  Iter     6:    Energy =   0.0530
Level     0,  Iter     7:    Energy =   0.0546
Level     0,  Iter     8:    Energy =   0.0561
Level     0,  Iter     9:    Energy =   0.0574
Level     0,  Iter    10:    Energy =   0.0585
Level     0,  Iter    11:    Energy =   0.0594
Level     0,  Iter    12:    Energy =   0.0603
Level     0,  Iter    13:    Energy =   0.0613
Level     0,  Iter    14:    Energy =   0.0624
Level     0,  Iter    15:    Energy =   0.0636
Level     0,  Iter    16:    Energy =   0.0645
Level     0,  Iter    17:    Energy =   0.0655
Level     0,  Iter    18:    Energy =   0.0662
Level     0,  Iter    19:    Energy =   0.0667
Level     0,  Iter    20:    Energy =   0.0666
Level     0,  Iter    21:    Energy =   0.0672
Level     0,  Iter    22:    Energy =   0.0676
Level     0,  Iter    23:    Energy =   0.0680
Level     0,  Iter    24:    Energy =   0.0682
Level     0,  Iter    25:    Energy =   0.0685
Level     0,  Iter    26:    Energy =   0.0688
Level     0,  Iter    27:    Energy =   0.0691
Level     0,  Iter    28:    Energy =   0.0691
Level     0,  Iter    29:    Energy =   0.0694
Level     0,  Iter    30:    Energy =   0.0693
Level     0,  Iter    31:    Energy =   0.0695
Level     0,  Iter    32:    Energy =   0.0695
Level     0,  Iter    33:    Energy =   0.0699
Level     0,  Iter    34:    Energy =   0.0698
Level     0,  Iter    35:    Energy =   0.0700
Level     0,  Iter    36:    Energy =   0.0703
Level     0,  Iter    37:    Energy =   0.0705
Level     0,  Iter    38:    Energy =   0.0708
Level     0,  Iter    39:    Energy =   0.0709
Level     0,  Iter    40:    Energy =   0.0709
Level     0,  Iter    41:    Energy =   0.0712
Level     0,  Iter    42:    Energy =   0.0712
Level     0,  Iter    43:    Energy =   0.0714
Level     0,  Iter    44:    Energy =   0.0712
Level     0,  Iter    45:    Energy =   0.0715
Level     0,  Iter    46:    Energy =   0.0715
Level     0,  Iter    47:    Energy =   0.0716
Level     0,  Iter    48:    Energy =   0.0716
Level     0,  Iter    49:    Energy =   0.0718
Level     0,  Iter    50:    Energy =   0.0715
Level     0,  Iter    51:    Energy =   0.0719
Level     0,  Iter    52:    Energy =   0.0717
Level     0,  Iter    53:    Energy =   0.0718
Level     0,  Iter    54:    Energy =   0.0718
Level     0,  Iter    55:    Energy =   0.0721
Level     0,  Iter    56:    Energy =   0.0719
Level     0,  Iter    57:    Energy =   0.0721
Level     0,  Iter    58:    Energy =   0.0718
Level     0,  Iter    59:    Energy =   0.0721
END OF LEVEL     0    DetJac Range:   0.2394  to   3.0621 
  Avg. Gradient Time  : 0.0084s  37.82% 
  Avg. Gaussian Time  : 0.0106s  47.46% 
  Avg. Iteration Time : 0.0223s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20248], [0.491046, 0.491046, 0.490912]
Level     1,  Iter     0:    Energy =   0.0447
Level     1,  Iter     1:    Energy =   0.0487
Level     1,  Iter     2:    Energy =   0.0517
Level     1,  Iter     3:    Energy =   0.0541
Level     1,  Iter     4:    Energy =   0.0562
Level     1,  Iter     5:    Energy =   0.0581
Level     1,  Iter     6:    Energy =   0.0597
Level     1,  Iter     7:    Energy =   0.0609
Level     1,  Iter     8:    Energy =   0.0619
Level     1,  Iter     9:    Energy =   0.0628
Level     1,  Iter    10:    Energy =   0.0636
Level     1,  Iter    11:    Energy =   0.0643
Level     1,  Iter    12:    Energy =   0.0649
Level     1,  Iter    13:    Energy =   0.0655
Level     1,  Iter    14:    Energy =   0.0660
Level     1,  Iter    15:    Energy =   0.0664
Level     1,  Iter    16:    Energy =   0.0662
Level     1,  Iter    17:    Energy =   0.0667
Level     1,  Iter    18:    Energy =   0.0668
Level     1,  Iter    19:    Energy =   0.0669
Level     1,  Iter    20:    Energy =   0.0668
Level     1,  Iter    21:    Energy =   0.0672
Level     1,  Iter    22:    Energy =   0.0671
Level     1,  Iter    23:    Energy =   0.0674
Level     1,  Iter    24:    Energy =   0.0673
Level     1,  Iter    25:    Energy =   0.0675
Level     1,  Iter    26:    Energy =   0.0675
Level     1,  Iter    27:    Energy =   0.0676
Level     1,  Iter    28:    Energy =   0.0676
Level     1,  Iter    29:    Energy =   0.0678
Level     1,  Iter    30:    Energy =   0.0677
Level     1,  Iter    31:    Energy =   0.0679
Level     1,  Iter    32:    Energy =   0.0679
Level     1,  Iter    33:    Energy =   0.0681
Level     1,  Iter    34:    Energy =   0.0680
Level     1,  Iter    35:    Energy =   0.0682
Level     1,  Iter    36:    Energy =   0.0681
Level     1,  Iter    37:    Energy =   0.0684
Level     1,  Iter    38:    Energy =   0.0683
Level     1,  Iter    39:    Energy =   0.0686
Level     1,  Iter    40:    Energy =   0.0685
Level     1,  Iter    41:    Energy =   0.0687
Level     1,  Iter    42:    Energy =   0.0686
Level     1,  Iter    43:    Energy =   0.0689
Level     1,  Iter    44:    Energy =   0.0687
Level     1,  Iter    45:    Energy =   0.0691
Level     1,  Iter    46:    Energy =   0.0689
Level     1,  Iter    47:    Energy =   0.0692
Level     1,  Iter    48:    Energy =   0.0690
Level     1,  Iter    49:    Energy =   0.0693
Level     1,  Iter    50:    Energy =   0.0691
Level     1,  Iter    51:    Energy =   0.0694
Level     1,  Iter    52:    Energy =   0.0692
Level     1,  Iter    53:    Energy =   0.0695
Level     1,  Iter    54:    Energy =   0.0692
Level     1,  Iter    55:    Energy =   0.0695
Level     1,  Iter    56:    Energy =   0.0693
Level     1,  Iter    57:    Energy =   0.0695
Level     1,  Iter    58:    Energy =   0.0693
Level     1,  Iter    59:    Energy =   0.0696
END OF LEVEL     1    DetJac Range:   0.1467  to   3.8326 
  Avg. Gradient Time  : 0.0490s  39.64% 
  Avg. Gaussian Time  : 0.0597s  48.29% 
  Avg. Iteration Time : 0.1237s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0356
Level     2,  Iter     1:    Energy =   0.0379
Level     2,  Iter     2:    Energy =   0.0400
Level     2,  Iter     3:    Energy =   0.0416
Level     2,  Iter     4:    Energy =   0.0430
Level     2,  Iter     5:    Energy =   0.0446
Level     2,  Iter     6:    Energy =   0.0459
Level     2,  Iter     7:    Energy =   0.0471
Level     2,  Iter     8:    Energy =   0.0479
Level     2,  Iter     9:    Energy =   0.0484
Level     2,  Iter    10:    Energy =   0.0489
Level     2,  Iter    11:    Energy =   0.0493
Level     2,  Iter    12:    Energy =   0.0496
Level     2,  Iter    13:    Energy =   0.0499
Level     2,  Iter    14:    Energy =   0.0502
Level     2,  Iter    15:    Energy =   0.0505
Level     2,  Iter    16:    Energy =   0.0508
Level     2,  Iter    17:    Energy =   0.0511
Level     2,  Iter    18:    Energy =   0.0513
Level     2,  Iter    19:    Energy =   0.0516
END OF LEVEL     2    DetJac Range:   0.1305  to   5.0777 
  Avg. Gradient Time  : 0.3458s  37.12% 
  Avg. Gaussian Time  : 0.4866s  52.23% 
  Avg. Iteration Time : 0.9317s 

real	0m31.197s
user	0m55.204s
sys	0m3.184s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.715385 0.721154
+ echo 'CHUNK 0.715385 0.721154 1'
CHUNK 0.715385 0.721154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.715385 0.721154 1
====================================
         PROGRESS: 0.715385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 021
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1941.96 	 OutFr   0.0000 	 RMSD     2.3088
Iter 002 	 Temp     3.72 	 Delta  1832.79 	 OutFr   0.0000 	 RMSD     1.8327
Iter 003 	 Temp     3.46 	 Delta  1693.64 	 OutFr   0.0000 	 RMSD     1.8421
Iter 004 	 Temp     3.22 	 Delta  1564.58 	 OutFr   0.0000 	 RMSD     1.8207
Iter 005 	 Temp     2.99 	 Delta  1450.26 	 OutFr   0.0000 	 RMSD     1.7985
Iter 006 	 Temp     2.78 	 Delta  1350.13 	 OutFr   0.0024 	 RMSD     1.7811
Iter 007 	 Temp     2.59 	 Delta  1262.81 	 OutFr   0.0024 	 RMSD     1.7676
Iter 008 	 Temp     2.41 	 Delta  1185.88 	 OutFr   0.0024 	 RMSD     1.7571
Iter 009 	 Temp     2.24 	 Delta  1115.78 	 OutFr   0.0024 	 RMSD     1.7478
Iter 010 	 Temp     2.08 	 Delta  1049.01 	 OutFr   0.0024 	 RMSD     1.7397
Iter 011 	 Temp     1.94 	 Delta   984.08 	 OutFr   0.0024 	 RMSD     1.7323
Iter 012 	 Temp     1.80 	 Delta   921.78 	 OutFr   0.0024 	 RMSD     1.7247
Iter 013 	 Temp     1.67 	 Delta   863.53 	 OutFr   0.0024 	 RMSD     1.7178
Iter 014 	 Temp     1.56 	 Delta   809.88 	 OutFr   0.0049 	 RMSD     1.7116
Iter 015 	 Temp     1.45 	 Delta   760.77 	 OutFr   0.0049 	 RMSD     1.7064
Iter 016 	 Temp     1.35 	 Delta   715.97 	 OutFr   0.0049 	 RMSD     1.7020
Iter 017 	 Temp     1.25 	 Delta   674.69 	 OutFr   0.0049 	 RMSD     1.6985
Iter 018 	 Temp     1.16 	 Delta   635.76 	 OutFr   0.0073 	 RMSD     1.6956
Iter 019 	 Temp     1.08 	 Delta   599.09 	 OutFr   0.0098 	 RMSD     1.6933
Iter 020 	 Temp     1.01 	 Delta   565.56 	 OutFr   0.0195 	 RMSD     1.6916
Iter 021 	 Temp     0.94 	 Delta   535.43 	 OutFr   0.0366 	 RMSD     1.6904
Iter 022 	 Temp     0.87 	 Delta   507.77 	 OutFr   0.0390 	 RMSD     1.6898
Iter 023 	 Temp     0.81 	 Delta   481.69 	 OutFr   0.0439 	 RMSD     1.6896
Iter 024 	 Temp     0.75 	 Delta   454.55 	 OutFr   0.0585 	 RMSD     1.6894
Iter 025 	 Temp     0.70 	 Delta   424.95 	 OutFr   0.0683 	 RMSD     1.6898
Iter 026 	 Temp     0.65 	 Delta   394.60 	 OutFr   0.0780 	 RMSD     1.6907
Iter 027 	 Temp     0.61 	 Delta   366.83 	 OutFr   0.1024 	 RMSD     1.6922
Iter 028 	 Temp     0.56 	 Delta   342.58 	 OutFr   0.1268 	 RMSD     1.6940
Iter 029 	 Temp     0.52 	 Delta   320.03 	 OutFr   0.1512 	 RMSD     1.6955
Iter 030 	 Temp     0.49 	 Delta   297.73 	 OutFr   0.1780 	 RMSD     1.6967
Iter 031 	 Temp     0.45 	 Delta   273.98 	 OutFr   0.2073 	 RMSD     1.6975
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.EMLo0Hhr/mybin.nii.gz
+ vtklevelset /tmp/ashs.EMLo0Hhr/mybin.nii.gz /tmp/ashs.EMLo0Hhr/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.EMLo0Hhr/mymesh.vtk /tmp/ashs.EMLo0Hhr/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3144.04068913   0.92496364
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.EMLo0Hhr/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -36.1471 to -12.2733
   Y : -16.2987 to 31.728
   Z : -39.2312 to -14.5007
   Image resolution  : 98 by 168 by 100
   Image box origin  : {-41.1471, -21.2987, -44.2312}
   Image box size    : {34.0278, 58.3333, 34.9996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [41.1471, 21.2987, -44.2312]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat -o /tmp/ashs.EMLo0Hhr/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat -o /tmp/ashs.EMLo0Hhr/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.EMLo0Hhr/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.721154 0.726923
+ echo 'CHUNK 0.721154 0.726923 0.5'
CHUNK 0.721154 0.726923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.721154 0.726923 0.5
====================================
         PROGRESS: 0.721154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.EMLo0Hhr/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.EMLo0Hhr/fixed_hw.nii.gz /tmp/ashs.EMLo0Hhr/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.460791, moving = 0.676196
LEVEL 1 of 3
  Smoothing sigmas: [2.35751, 2.40562, 2.42484], [0.96245, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0348
Level     0,  Iter     1:    Energy =   0.0414
Level     0,  Iter     2:    Energy =   0.0460
Level     0,  Iter     3:    Energy =   0.0503
Level     0,  Iter     4:    Energy =   0.0549
Level     0,  Iter     5:    Energy =   0.0598
Level     0,  Iter     6:    Energy =   0.0639
Level     0,  Iter     7:    Energy =   0.0669
Level     0,  Iter     8:    Energy =   0.0693
Level     0,  Iter     9:    Energy =   0.0717
Level     0,  Iter    10:    Energy =   0.0730
Level     0,  Iter    11:    Energy =   0.0741
Level     0,  Iter    12:    Energy =   0.0747
Level     0,  Iter    13:    Energy =   0.0756
Level     0,  Iter    14:    Energy =   0.0759
Level     0,  Iter    15:    Energy =   0.0770
Level     0,  Iter    16:    Energy =   0.0773
Level     0,  Iter    17:    Energy =   0.0780
Level     0,  Iter    18:    Energy =   0.0783
Level     0,  Iter    19:    Energy =   0.0789
Level     0,  Iter    20:    Energy =   0.0791
Level     0,  Iter    21:    Energy =   0.0799
Level     0,  Iter    22:    Energy =   0.0800
Level     0,  Iter    23:    Energy =   0.0806
Level     0,  Iter    24:    Energy =   0.0807
Level     0,  Iter    25:    Energy =   0.0815
Level     0,  Iter    26:    Energy =   0.0816
Level     0,  Iter    27:    Energy =   0.0827
Level     0,  Iter    28:    Energy =   0.0826
Level     0,  Iter    29:    Energy =   0.0828
Level     0,  Iter    30:    Energy =   0.0827
Level     0,  Iter    31:    Energy =   0.0831
Level     0,  Iter    32:    Energy =   0.0831
Level     0,  Iter    33:    Energy =   0.0836
Level     0,  Iter    34:    Energy =   0.0836
Level     0,  Iter    35:    Energy =   0.0841
Level     0,  Iter    36:    Energy =   0.0842
Level     0,  Iter    37:    Energy =   0.0851
Level     0,  Iter    38:    Energy =   0.0848
Level     0,  Iter    39:    Energy =   0.0849
Level     0,  Iter    40:    Energy =   0.0847
Level     0,  Iter    41:    Energy =   0.0850
Level     0,  Iter    42:    Energy =   0.0849
Level     0,  Iter    43:    Energy =   0.0853
Level     0,  Iter    44:    Energy =   0.0853
Level     0,  Iter    45:    Energy =   0.0860
Level     0,  Iter    46:    Energy =   0.0860
Level     0,  Iter    47:    Energy =   0.0860
Level     0,  Iter    48:    Energy =   0.0859
Level     0,  Iter    49:    Energy =   0.0860
Level     0,  Iter    50:    Energy =   0.0860
Level     0,  Iter    51:    Energy =   0.0868
Level     0,  Iter    52:    Energy =   0.0865
Level     0,  Iter    53:    Energy =   0.0863
Level     0,  Iter    54:    Energy =   0.0860
Level     0,  Iter    55:    Energy =   0.0859
Level     0,  Iter    56:    Energy =   0.0857
Level     0,  Iter    57:    Energy =   0.0859
Level     0,  Iter    58:    Energy =   0.0858
Level     0,  Iter    59:    Energy =   0.0861
END OF LEVEL     0    DetJac Range:   0.2025  to   2.0045 
  Avg. Gradient Time  : 0.0071s  37.87% 
  Avg. Gaussian Time  : 0.0089s  47.15% 
  Avg. Iteration Time : 0.0189s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0574
Level     1,  Iter     1:    Energy =   0.0620
Level     1,  Iter     2:    Energy =   0.0658
Level     1,  Iter     3:    Energy =   0.0685
Level     1,  Iter     4:    Energy =   0.0700
Level     1,  Iter     5:    Energy =   0.0712
Level     1,  Iter     6:    Energy =   0.0722
Level     1,  Iter     7:    Energy =   0.0731
Level     1,  Iter     8:    Energy =   0.0736
Level     1,  Iter     9:    Energy =   0.0740
Level     1,  Iter    10:    Energy =   0.0745
Level     1,  Iter    11:    Energy =   0.0751
Level     1,  Iter    12:    Energy =   0.0756
Level     1,  Iter    13:    Energy =   0.0763
Level     1,  Iter    14:    Energy =   0.0767
Level     1,  Iter    15:    Energy =   0.0771
Level     1,  Iter    16:    Energy =   0.0775
Level     1,  Iter    17:    Energy =   0.0780
Level     1,  Iter    18:    Energy =   0.0785
Level     1,  Iter    19:    Energy =   0.0791
Level     1,  Iter    20:    Energy =   0.0796
Level     1,  Iter    21:    Energy =   0.0799
Level     1,  Iter    22:    Energy =   0.0798
Level     1,  Iter    23:    Energy =   0.0799
Level     1,  Iter    24:    Energy =   0.0799
Level     1,  Iter    25:    Energy =   0.0799
Level     1,  Iter    26:    Energy =   0.0800
Level     1,  Iter    27:    Energy =   0.0800
Level     1,  Iter    28:    Energy =   0.0801
Level     1,  Iter    29:    Energy =   0.0802
Level     1,  Iter    30:    Energy =   0.0802
Level     1,  Iter    31:    Energy =   0.0804
Level     1,  Iter    32:    Energy =   0.0803
Level     1,  Iter    33:    Energy =   0.0805
Level     1,  Iter    34:    Energy =   0.0805
Level     1,  Iter    35:    Energy =   0.0805
Level     1,  Iter    36:    Energy =   0.0806
Level     1,  Iter    37:    Energy =   0.0806
Level     1,  Iter    38:    Energy =   0.0806
Level     1,  Iter    39:    Energy =   0.0807
Level     1,  Iter    40:    Energy =   0.0807
Level     1,  Iter    41:    Energy =   0.0807
Level     1,  Iter    42:    Energy =   0.0808
Level     1,  Iter    43:    Energy =   0.0808
Level     1,  Iter    44:    Energy =   0.0808
Level     1,  Iter    45:    Energy =   0.0809
Level     1,  Iter    46:    Energy =   0.0809
Level     1,  Iter    47:    Energy =   0.0810
Level     1,  Iter    48:    Energy =   0.0809
Level     1,  Iter    49:    Energy =   0.0810
Level     1,  Iter    50:    Energy =   0.0810
Level     1,  Iter    51:    Energy =   0.0811
Level     1,  Iter    52:    Energy =   0.0811
Level     1,  Iter    53:    Energy =   0.0811
Level     1,  Iter    54:    Energy =   0.0811
Level     1,  Iter    55:    Energy =   0.0812
Level     1,  Iter    56:    Energy =   0.0812
Level     1,  Iter    57:    Energy =   0.0812
Level     1,  Iter    58:    Energy =   0.0812
Level     1,  Iter    59:    Energy =   0.0813
END OF LEVEL     1    DetJac Range:   0.0682  to   3.0373 
  Avg. Gradient Time  : 0.0411s  40.07% 
  Avg. Gaussian Time  : 0.0492s  47.99% 
  Avg. Iteration Time : 0.1026s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0410
Level     2,  Iter     1:    Energy =   0.0433
Level     2,  Iter     2:    Energy =   0.0451
Level     2,  Iter     3:    Energy =   0.0471
Level     2,  Iter     4:    Energy =   0.0487
Level     2,  Iter     5:    Energy =   0.0501
Level     2,  Iter     6:    Energy =   0.0511
Level     2,  Iter     7:    Energy =   0.0518
Level     2,  Iter     8:    Energy =   0.0525
Level     2,  Iter     9:    Energy =   0.0531
Level     2,  Iter    10:    Energy =   0.0535
Level     2,  Iter    11:    Energy =   0.0540
Level     2,  Iter    12:    Energy =   0.0545
Level     2,  Iter    13:    Energy =   0.0549
Level     2,  Iter    14:    Energy =   0.0552
Level     2,  Iter    15:    Energy =   0.0556
Level     2,  Iter    16:    Energy =   0.0559
Level     2,  Iter    17:    Energy =   0.0562
Level     2,  Iter    18:    Energy =   0.0564
Level     2,  Iter    19:    Energy =   0.0566
END OF LEVEL     2    DetJac Range:   0.0455  to   4.2526 
  Avg. Gradient Time  : 0.2939s  37.78% 
  Avg. Gaussian Time  : 0.4010s  51.54% 
  Avg. Iteration Time : 0.7780s 

real	0m25.892s
user	0m45.528s
sys	0m2.716s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.721154 0.726923
+ echo 'CHUNK 0.721154 0.726923 1'
CHUNK 0.721154 0.726923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.721154 0.726923 1
====================================
         PROGRESS: 0.721154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 022
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1629.88 	 OutFr   0.0000 	 RMSD     2.8362
Iter 002 	 Temp     3.72 	 Delta  1567.98 	 OutFr   0.0000 	 RMSD     1.9298
Iter 003 	 Temp     3.46 	 Delta  1495.71 	 OutFr   0.0000 	 RMSD     1.9478
Iter 004 	 Temp     3.22 	 Delta  1413.54 	 OutFr   0.0000 	 RMSD     1.9302
Iter 005 	 Temp     2.99 	 Delta  1331.14 	 OutFr   0.0000 	 RMSD     1.9094
Iter 006 	 Temp     2.78 	 Delta  1252.94 	 OutFr   0.0000 	 RMSD     1.8916
Iter 007 	 Temp     2.59 	 Delta  1181.43 	 OutFr   0.0000 	 RMSD     1.8770
Iter 008 	 Temp     2.41 	 Delta  1117.76 	 OutFr   0.0000 	 RMSD     1.8652
Iter 009 	 Temp     2.24 	 Delta  1061.99 	 OutFr   0.0000 	 RMSD     1.8545
Iter 010 	 Temp     2.08 	 Delta  1013.58 	 OutFr   0.0000 	 RMSD     1.8453
Iter 011 	 Temp     1.94 	 Delta   971.52 	 OutFr   0.0000 	 RMSD     1.8375
Iter 012 	 Temp     1.80 	 Delta   934.18 	 OutFr   0.0000 	 RMSD     1.8302
Iter 013 	 Temp     1.67 	 Delta   899.10 	 OutFr   0.0000 	 RMSD     1.8238
Iter 014 	 Temp     1.56 	 Delta   863.36 	 OutFr   0.0000 	 RMSD     1.8175
Iter 015 	 Temp     1.45 	 Delta   824.68 	 OutFr   0.0000 	 RMSD     1.8123
Iter 016 	 Temp     1.35 	 Delta   782.21 	 OutFr   0.0000 	 RMSD     1.8067
Iter 017 	 Temp     1.25 	 Delta   736.35 	 OutFr   0.0024 	 RMSD     1.8012
Iter 018 	 Temp     1.16 	 Delta   688.98 	 OutFr   0.0049 	 RMSD     1.7954
Iter 019 	 Temp     1.08 	 Delta   645.48 	 OutFr   0.0171 	 RMSD     1.7901
Iter 020 	 Temp     1.01 	 Delta   609.09 	 OutFr   0.0220 	 RMSD     1.7855
Iter 021 	 Temp     0.94 	 Delta   576.73 	 OutFr   0.0268 	 RMSD     1.7818
Iter 022 	 Temp     0.87 	 Delta   546.50 	 OutFr   0.0317 	 RMSD     1.7790
Iter 023 	 Temp     0.81 	 Delta   517.10 	 OutFr   0.0488 	 RMSD     1.7773
Iter 024 	 Temp     0.75 	 Delta   485.52 	 OutFr   0.0585 	 RMSD     1.7762
Iter 025 	 Temp     0.70 	 Delta   449.57 	 OutFr   0.0732 	 RMSD     1.7753
Iter 026 	 Temp     0.65 	 Delta   411.80 	 OutFr   0.0902 	 RMSD     1.7750
Iter 027 	 Temp     0.61 	 Delta   371.80 	 OutFr   0.1098 	 RMSD     1.7747
Iter 028 	 Temp     0.56 	 Delta   331.60 	 OutFr   0.1537 	 RMSD     1.7751
Iter 029 	 Temp     0.52 	 Delta   296.05 	 OutFr   0.1756 	 RMSD     1.7765
Iter 030 	 Temp     0.49 	 Delta   265.01 	 OutFr   0.1976 	 RMSD     1.7782
Iter 031 	 Temp     0.45 	 Delta   237.12 	 OutFr   0.2341 	 RMSD     1.7795
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.ieinLG5U/mybin.nii.gz
+ vtklevelset /tmp/ashs.ieinLG5U/mybin.nii.gz /tmp/ashs.ieinLG5U/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.ieinLG5U/mymesh.vtk /tmp/ashs.ieinLG5U/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 2936.58753496   0.86393178
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.ieinLG5U/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -37.5658 to -15.0531
   Y : -9.78067 to 34.9796
   Z : -29.6808 to -2.29912
   Image resolution  : 94 by 158 by 107
   Image box origin  : {-42.5658, -14.7807, -34.6808}
   Image box size    : {32.6389, 54.8611, 37.4496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [42.5658, 14.7807, -34.6808]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat -o /tmp/ashs.ieinLG5U/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat -o /tmp/ashs.ieinLG5U/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.ieinLG5U/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.726923 0.732692
+ echo 'CHUNK 0.726923 0.732692 0.5'
CHUNK 0.726923 0.732692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.726923 0.732692 0.5
====================================
         PROGRESS: 0.726923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.ieinLG5U/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.ieinLG5U/fixed_hw.nii.gz /tmp/ashs.ieinLG5U/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.464947, moving = 0.557681
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.37555, 2.40239], [0.961632, 0.969816, 0.980772]
Level     0,  Iter     0:    Energy =   0.0522
Level     0,  Iter     1:    Energy =   0.0576
Level     0,  Iter     2:    Energy =   0.0627
Level     0,  Iter     3:    Energy =   0.0681
Level     0,  Iter     4:    Energy =   0.0725
Level     0,  Iter     5:    Energy =   0.0766
Level     0,  Iter     6:    Energy =   0.0792
Level     0,  Iter     7:    Energy =   0.0808
Level     0,  Iter     8:    Energy =   0.0817
Level     0,  Iter     9:    Energy =   0.0833
Level     0,  Iter    10:    Energy =   0.0839
Level     0,  Iter    11:    Energy =   0.0858
Level     0,  Iter    12:    Energy =   0.0860
Level     0,  Iter    13:    Energy =   0.0863
Level     0,  Iter    14:    Energy =   0.0866
Level     0,  Iter    15:    Energy =   0.0879
Level     0,  Iter    16:    Energy =   0.0881
Level     0,  Iter    17:    Energy =   0.0894
Level     0,  Iter    18:    Energy =   0.0893
Level     0,  Iter    19:    Energy =   0.0899
Level     0,  Iter    20:    Energy =   0.0899
Level     0,  Iter    21:    Energy =   0.0909
Level     0,  Iter    22:    Energy =   0.0909
Level     0,  Iter    23:    Energy =   0.0918
Level     0,  Iter    24:    Energy =   0.0916
Level     0,  Iter    25:    Energy =   0.0916
Level     0,  Iter    26:    Energy =   0.0920
Level     0,  Iter    27:    Energy =   0.0934
Level     0,  Iter    28:    Energy =   0.0940
Level     0,  Iter    29:    Energy =   0.0939
Level     0,  Iter    30:    Energy =   0.0932
Level     0,  Iter    31:    Energy =   0.0929
Level     0,  Iter    32:    Energy =   0.0926
Level     0,  Iter    33:    Energy =   0.0933
Level     0,  Iter    34:    Energy =   0.0931
Level     0,  Iter    35:    Energy =   0.0934
Level     0,  Iter    36:    Energy =   0.0933
Level     0,  Iter    37:    Energy =   0.0942
Level     0,  Iter    38:    Energy =   0.0938
Level     0,  Iter    39:    Energy =   0.0935
Level     0,  Iter    40:    Energy =   0.0931
Level     0,  Iter    41:    Energy =   0.0933
Level     0,  Iter    42:    Energy =   0.0931
Level     0,  Iter    43:    Energy =   0.0941
Level     0,  Iter    44:    Energy =   0.0936
Level     0,  Iter    45:    Energy =   0.0934
Level     0,  Iter    46:    Energy =   0.0931
Level     0,  Iter    47:    Energy =   0.0939
Level     0,  Iter    48:    Energy =   0.0937
Level     0,  Iter    49:    Energy =   0.0940
Level     0,  Iter    50:    Energy =   0.0939
Level     0,  Iter    51:    Energy =   0.0947
Level     0,  Iter    52:    Energy =   0.0941
Level     0,  Iter    53:    Energy =   0.0938
Level     0,  Iter    54:    Energy =   0.0934
Level     0,  Iter    55:    Energy =   0.0937
Level     0,  Iter    56:    Energy =   0.0938
Level     0,  Iter    57:    Energy =   0.0948
Level     0,  Iter    58:    Energy =   0.0952
Level     0,  Iter    59:    Energy =   0.0948
END OF LEVEL     0    DetJac Range:   0.2366  to   2.0846 
  Avg. Gradient Time  : 0.0070s  37.72% 
  Avg. Gaussian Time  : 0.0088s  47.40% 
  Avg. Iteration Time : 0.0187s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.2012], [0.491046, 0.491046, 0.490386]
Level     1,  Iter     0:    Energy =   0.0640
Level     1,  Iter     1:    Energy =   0.0685
Level     1,  Iter     2:    Energy =   0.0723
Level     1,  Iter     3:    Energy =   0.0756
Level     1,  Iter     4:    Energy =   0.0782
Level     1,  Iter     5:    Energy =   0.0806
Level     1,  Iter     6:    Energy =   0.0822
Level     1,  Iter     7:    Energy =   0.0836
Level     1,  Iter     8:    Energy =   0.0847
Level     1,  Iter     9:    Energy =   0.0860
Level     1,  Iter    10:    Energy =   0.0870
Level     1,  Iter    11:    Energy =   0.0879
Level     1,  Iter    12:    Energy =   0.0885
Level     1,  Iter    13:    Energy =   0.0886
Level     1,  Iter    14:    Energy =   0.0891
Level     1,  Iter    15:    Energy =   0.0892
Level     1,  Iter    16:    Energy =   0.0895
Level     1,  Iter    17:    Energy =   0.0896
Level     1,  Iter    18:    Energy =   0.0898
Level     1,  Iter    19:    Energy =   0.0898
Level     1,  Iter    20:    Energy =   0.0899
Level     1,  Iter    21:    Energy =   0.0901
Level     1,  Iter    22:    Energy =   0.0901
Level     1,  Iter    23:    Energy =   0.0905
Level     1,  Iter    24:    Energy =   0.0904
Level     1,  Iter    25:    Energy =   0.0905
Level     1,  Iter    26:    Energy =   0.0905
Level     1,  Iter    27:    Energy =   0.0906
Level     1,  Iter    28:    Energy =   0.0905
Level     1,  Iter    29:    Energy =   0.0908
Level     1,  Iter    30:    Energy =   0.0907
Level     1,  Iter    31:    Energy =   0.0908
Level     1,  Iter    32:    Energy =   0.0907
Level     1,  Iter    33:    Energy =   0.0909
Level     1,  Iter    34:    Energy =   0.0908
Level     1,  Iter    35:    Energy =   0.0911
Level     1,  Iter    36:    Energy =   0.0909
Level     1,  Iter    37:    Energy =   0.0910
Level     1,  Iter    38:    Energy =   0.0909
Level     1,  Iter    39:    Energy =   0.0910
Level     1,  Iter    40:    Energy =   0.0909
Level     1,  Iter    41:    Energy =   0.0911
Level     1,  Iter    42:    Energy =   0.0910
Level     1,  Iter    43:    Energy =   0.0911
Level     1,  Iter    44:    Energy =   0.0910
Level     1,  Iter    45:    Energy =   0.0911
Level     1,  Iter    46:    Energy =   0.0910
Level     1,  Iter    47:    Energy =   0.0913
Level     1,  Iter    48:    Energy =   0.0912
Level     1,  Iter    49:    Energy =   0.0913
Level     1,  Iter    50:    Energy =   0.0911
Level     1,  Iter    51:    Energy =   0.0914
Level     1,  Iter    52:    Energy =   0.0912
Level     1,  Iter    53:    Energy =   0.0913
Level     1,  Iter    54:    Energy =   0.0911
Level     1,  Iter    55:    Energy =   0.0914
Level     1,  Iter    56:    Energy =   0.0912
Level     1,  Iter    57:    Energy =   0.0913
Level     1,  Iter    58:    Energy =   0.0911
Level     1,  Iter    59:    Energy =   0.0913
END OF LEVEL     1    DetJac Range:   0.1931  to   3.9863 
  Avg. Gradient Time  : 0.0404s  40.31% 
  Avg. Gaussian Time  : 0.0479s  47.71% 
  Avg. Iteration Time : 0.1003s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0471
Level     2,  Iter     1:    Energy =   0.0498
Level     2,  Iter     2:    Energy =   0.0520
Level     2,  Iter     3:    Energy =   0.0544
Level     2,  Iter     4:    Energy =   0.0561
Level     2,  Iter     5:    Energy =   0.0578
Level     2,  Iter     6:    Energy =   0.0592
Level     2,  Iter     7:    Energy =   0.0603
Level     2,  Iter     8:    Energy =   0.0615
Level     2,  Iter     9:    Energy =   0.0624
Level     2,  Iter    10:    Energy =   0.0632
Level     2,  Iter    11:    Energy =   0.0640
Level     2,  Iter    12:    Energy =   0.0647
Level     2,  Iter    13:    Energy =   0.0654
Level     2,  Iter    14:    Energy =   0.0660
Level     2,  Iter    15:    Energy =   0.0661
Level     2,  Iter    16:    Energy =   0.0666
Level     2,  Iter    17:    Energy =   0.0666
Level     2,  Iter    18:    Energy =   0.0671
Level     2,  Iter    19:    Energy =   0.0671
END OF LEVEL     2    DetJac Range:   0.1031  to   4.4825 
  Avg. Gradient Time  : 0.2837s  37.53% 
  Avg. Gaussian Time  : 0.3914s  51.78% 
  Avg. Iteration Time : 0.7559s 

real	0m25.231s
user	0m44.532s
sys	0m2.544s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.726923 0.732692
+ echo 'CHUNK 0.726923 0.732692 1'
CHUNK 0.726923 0.732692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.726923 0.732692 1
====================================
         PROGRESS: 0.726923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 023
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1860.86 	 OutFr   0.0000 	 RMSD     3.6514
Iter 002 	 Temp     3.72 	 Delta  1663.73 	 OutFr   0.0000 	 RMSD     1.9516
Iter 003 	 Temp     3.46 	 Delta  1547.27 	 OutFr   0.0000 	 RMSD     1.9164
Iter 004 	 Temp     3.22 	 Delta  1454.77 	 OutFr   0.0000 	 RMSD     1.8878
Iter 005 	 Temp     2.99 	 Delta  1377.77 	 OutFr   0.0000 	 RMSD     1.8657
Iter 006 	 Temp     2.78 	 Delta  1312.58 	 OutFr   0.0000 	 RMSD     1.8483
Iter 007 	 Temp     2.59 	 Delta  1257.18 	 OutFr   0.0000 	 RMSD     1.8356
Iter 008 	 Temp     2.41 	 Delta  1209.63 	 OutFr   0.0000 	 RMSD     1.8250
Iter 009 	 Temp     2.24 	 Delta  1168.00 	 OutFr   0.0000 	 RMSD     1.8171
Iter 010 	 Temp     2.08 	 Delta  1131.05 	 OutFr   0.0024 	 RMSD     1.8112
Iter 011 	 Temp     1.94 	 Delta  1097.56 	 OutFr   0.0024 	 RMSD     1.8061
Iter 012 	 Temp     1.80 	 Delta  1065.19 	 OutFr   0.0024 	 RMSD     1.8019
Iter 013 	 Temp     1.67 	 Delta  1031.10 	 OutFr   0.0024 	 RMSD     1.7982
Iter 014 	 Temp     1.56 	 Delta   993.81 	 OutFr   0.0049 	 RMSD     1.7952
Iter 015 	 Temp     1.45 	 Delta   954.10 	 OutFr   0.0049 	 RMSD     1.7929
Iter 016 	 Temp     1.35 	 Delta   913.50 	 OutFr   0.0049 	 RMSD     1.7907
Iter 017 	 Temp     1.25 	 Delta   872.48 	 OutFr   0.0098 	 RMSD     1.7886
Iter 018 	 Temp     1.16 	 Delta   830.70 	 OutFr   0.0122 	 RMSD     1.7865
Iter 019 	 Temp     1.08 	 Delta   787.51 	 OutFr   0.0220 	 RMSD     1.7848
Iter 020 	 Temp     1.01 	 Delta   741.55 	 OutFr   0.0220 	 RMSD     1.7828
Iter 021 	 Temp     0.94 	 Delta   692.69 	 OutFr   0.0341 	 RMSD     1.7820
Iter 022 	 Temp     0.87 	 Delta   643.08 	 OutFr   0.0512 	 RMSD     1.7817
Iter 023 	 Temp     0.81 	 Delta   594.50 	 OutFr   0.0610 	 RMSD     1.7819
Iter 024 	 Temp     0.75 	 Delta   547.64 	 OutFr   0.0683 	 RMSD     1.7822
Iter 025 	 Temp     0.70 	 Delta   501.72 	 OutFr   0.0902 	 RMSD     1.7831
Iter 026 	 Temp     0.65 	 Delta   456.91 	 OutFr   0.1122 	 RMSD     1.7854
Iter 027 	 Temp     0.61 	 Delta   414.63 	 OutFr   0.1439 	 RMSD     1.7890
Iter 028 	 Temp     0.56 	 Delta   377.24 	 OutFr   0.1780 	 RMSD     1.7933
Iter 029 	 Temp     0.52 	 Delta   344.17 	 OutFr   0.2024 	 RMSD     1.7985
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Xvcihgxa/mybin.nii.gz
+ vtklevelset /tmp/ashs.Xvcihgxa/mybin.nii.gz /tmp/ashs.Xvcihgxa/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Xvcihgxa/mymesh.vtk /tmp/ashs.Xvcihgxa/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 2897.45787595   0.85242000
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Xvcihgxa/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -35.0197 to -11.6106
   Y : -13.627 to 29.7802
   Z : -24.6262 to 3.4941
   Image resolution  : 97 by 154 by 109
   Image box origin  : {-40.0197, -18.627, -29.6262}
   Image box size    : {33.6805, 53.4722, 38.1496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [40.0197, 18.627, -29.6262]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat -o /tmp/ashs.Xvcihgxa/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat -o /tmp/ashs.Xvcihgxa/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Xvcihgxa/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.732692 0.738462
+ echo 'CHUNK 0.732692 0.738462 0.5'
CHUNK 0.732692 0.738462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.732692 0.738462 0.5
====================================
         PROGRESS: 0.732692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Xvcihgxa/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Xvcihgxa/fixed_hw.nii.gz /tmp/ashs.Xvcihgxa/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.466055, moving = 0.743463
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.37478, 2.35989], [0.952629, 0.969501, 0.963422]
Level     0,  Iter     0:    Energy =   0.0485
Level     0,  Iter     1:    Energy =   0.0551
Level     0,  Iter     2:    Energy =   0.0616
Level     0,  Iter     3:    Energy =   0.0668
Level     0,  Iter     4:    Energy =   0.0720
Level     0,  Iter     5:    Energy =   0.0754
Level     0,  Iter     6:    Energy =   0.0780
Level     0,  Iter     7:    Energy =   0.0807
Level     0,  Iter     8:    Energy =   0.0828
Level     0,  Iter     9:    Energy =   0.0846
Level     0,  Iter    10:    Energy =   0.0861
Level     0,  Iter    11:    Energy =   0.0879
Level     0,  Iter    12:    Energy =   0.0899
Level     0,  Iter    13:    Energy =   0.0921
Level     0,  Iter    14:    Energy =   0.0931
Level     0,  Iter    15:    Energy =   0.0939
Level     0,  Iter    16:    Energy =   0.0946
Level     0,  Iter    17:    Energy =   0.0950
Level     0,  Iter    18:    Energy =   0.0953
Level     0,  Iter    19:    Energy =   0.0955
Level     0,  Iter    20:    Energy =   0.0958
Level     0,  Iter    21:    Energy =   0.0958
Level     0,  Iter    22:    Energy =   0.0962
Level     0,  Iter    23:    Energy =   0.0961
Level     0,  Iter    24:    Energy =   0.0966
Level     0,  Iter    25:    Energy =   0.0965
Level     0,  Iter    26:    Energy =   0.0969
Level     0,  Iter    27:    Energy =   0.0968
Level     0,  Iter    28:    Energy =   0.0972
Level     0,  Iter    29:    Energy =   0.0970
Level     0,  Iter    30:    Energy =   0.0974
Level     0,  Iter    31:    Energy =   0.0972
Level     0,  Iter    32:    Energy =   0.0976
Level     0,  Iter    33:    Energy =   0.0975
Level     0,  Iter    34:    Energy =   0.0979
Level     0,  Iter    35:    Energy =   0.0977
Level     0,  Iter    36:    Energy =   0.0980
Level     0,  Iter    37:    Energy =   0.0978
Level     0,  Iter    38:    Energy =   0.0981
Level     0,  Iter    39:    Energy =   0.0979
Level     0,  Iter    40:    Energy =   0.0982
Level     0,  Iter    41:    Energy =   0.0979
Level     0,  Iter    42:    Energy =   0.0983
Level     0,  Iter    43:    Energy =   0.0980
Level     0,  Iter    44:    Energy =   0.0983
Level     0,  Iter    45:    Energy =   0.0981
Level     0,  Iter    46:    Energy =   0.0984
Level     0,  Iter    47:    Energy =   0.0982
Level     0,  Iter    48:    Energy =   0.0985
Level     0,  Iter    49:    Energy =   0.0983
Level     0,  Iter    50:    Energy =   0.0985
Level     0,  Iter    51:    Energy =   0.0983
Level     0,  Iter    52:    Energy =   0.0986
Level     0,  Iter    53:    Energy =   0.0984
Level     0,  Iter    54:    Energy =   0.0986
Level     0,  Iter    55:    Energy =   0.0984
Level     0,  Iter    56:    Energy =   0.0987
Level     0,  Iter    57:    Energy =   0.0985
Level     0,  Iter    58:    Energy =   0.0987
Level     0,  Iter    59:    Energy =   0.0985
END OF LEVEL     0    DetJac Range:   0.3393  to   1.9859 
  Avg. Gradient Time  : 0.0072s  37.41% 
  Avg. Gaussian Time  : 0.0092s  47.84% 
  Avg. Iteration Time : 0.0193s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.2014], [0.486035, 0.491046, 0.490469]
Level     1,  Iter     0:    Energy =   0.0697
Level     1,  Iter     1:    Energy =   0.0748
Level     1,  Iter     2:    Energy =   0.0782
Level     1,  Iter     3:    Energy =   0.0809
Level     1,  Iter     4:    Energy =   0.0831
Level     1,  Iter     5:    Energy =   0.0851
Level     1,  Iter     6:    Energy =   0.0872
Level     1,  Iter     7:    Energy =   0.0889
Level     1,  Iter     8:    Energy =   0.0904
Level     1,  Iter     9:    Energy =   0.0914
Level     1,  Iter    10:    Energy =   0.0921
Level     1,  Iter    11:    Energy =   0.0927
Level     1,  Iter    12:    Energy =   0.0931
Level     1,  Iter    13:    Energy =   0.0933
Level     1,  Iter    14:    Energy =   0.0935
Level     1,  Iter    15:    Energy =   0.0936
Level     1,  Iter    16:    Energy =   0.0938
Level     1,  Iter    17:    Energy =   0.0938
Level     1,  Iter    18:    Energy =   0.0941
Level     1,  Iter    19:    Energy =   0.0940
Level     1,  Iter    20:    Energy =   0.0942
Level     1,  Iter    21:    Energy =   0.0942
Level     1,  Iter    22:    Energy =   0.0944
Level     1,  Iter    23:    Energy =   0.0943
Level     1,  Iter    24:    Energy =   0.0945
Level     1,  Iter    25:    Energy =   0.0944
Level     1,  Iter    26:    Energy =   0.0947
Level     1,  Iter    27:    Energy =   0.0945
Level     1,  Iter    28:    Energy =   0.0948
Level     1,  Iter    29:    Energy =   0.0946
Level     1,  Iter    30:    Energy =   0.0948
Level     1,  Iter    31:    Energy =   0.0946
Level     1,  Iter    32:    Energy =   0.0948
Level     1,  Iter    33:    Energy =   0.0946
Level     1,  Iter    34:    Energy =   0.0950
Level     1,  Iter    35:    Energy =   0.0948
Level     1,  Iter    36:    Energy =   0.0950
Level     1,  Iter    37:    Energy =   0.0947
Level     1,  Iter    38:    Energy =   0.0952
Level     1,  Iter    39:    Energy =   0.0949
Level     1,  Iter    40:    Energy =   0.0952
Level     1,  Iter    41:    Energy =   0.0948
Level     1,  Iter    42:    Energy =   0.0953
Level     1,  Iter    43:    Energy =   0.0950
Level     1,  Iter    44:    Energy =   0.0953
Level     1,  Iter    45:    Energy =   0.0949
Level     1,  Iter    46:    Energy =   0.0953
Level     1,  Iter    47:    Energy =   0.0951
Level     1,  Iter    48:    Energy =   0.0953
Level     1,  Iter    49:    Energy =   0.0949
Level     1,  Iter    50:    Energy =   0.0953
Level     1,  Iter    51:    Energy =   0.0951
Level     1,  Iter    52:    Energy =   0.0953
Level     1,  Iter    53:    Energy =   0.0949
Level     1,  Iter    54:    Energy =   0.0954
Level     1,  Iter    55:    Energy =   0.0951
Level     1,  Iter    56:    Energy =   0.0953
Level     1,  Iter    57:    Energy =   0.0949
Level     1,  Iter    58:    Energy =   0.0953
Level     1,  Iter    59:    Energy =   0.0952
END OF LEVEL     1    DetJac Range:   0.1087  to   2.8786 
  Avg. Gradient Time  : 0.0407s  39.71% 
  Avg. Gaussian Time  : 0.0496s  48.35% 
  Avg. Iteration Time : 0.1025s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0509
Level     2,  Iter     1:    Energy =   0.0541
Level     2,  Iter     2:    Energy =   0.0561
Level     2,  Iter     3:    Energy =   0.0577
Level     2,  Iter     4:    Energy =   0.0592
Level     2,  Iter     5:    Energy =   0.0607
Level     2,  Iter     6:    Energy =   0.0619
Level     2,  Iter     7:    Energy =   0.0629
Level     2,  Iter     8:    Energy =   0.0638
Level     2,  Iter     9:    Energy =   0.0646
Level     2,  Iter    10:    Energy =   0.0653
Level     2,  Iter    11:    Energy =   0.0659
Level     2,  Iter    12:    Energy =   0.0664
Level     2,  Iter    13:    Energy =   0.0669
Level     2,  Iter    14:    Energy =   0.0673
Level     2,  Iter    15:    Energy =   0.0677
Level     2,  Iter    16:    Energy =   0.0680
Level     2,  Iter    17:    Energy =   0.0684
Level     2,  Iter    18:    Energy =   0.0687
Level     2,  Iter    19:    Energy =   0.0690
END OF LEVEL     2    DetJac Range:   0.0502  to   3.4670 
  Avg. Gradient Time  : 0.2787s  37.60% 
  Avg. Gaussian Time  : 0.3828s  51.65% 
  Avg. Iteration Time : 0.7411s 

real	0m24.901s
user	0m44.148s
sys	0m2.464s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.732692 0.738462
+ echo 'CHUNK 0.732692 0.738462 1'
CHUNK 0.732692 0.738462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.732692 0.738462 1
====================================
         PROGRESS: 0.732692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 024
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1925.66 	 OutFr   0.0000 	 RMSD     3.0775
Iter 002 	 Temp     3.72 	 Delta  1775.63 	 OutFr   0.0000 	 RMSD     2.1344
Iter 003 	 Temp     3.46 	 Delta  1637.70 	 OutFr   0.0000 	 RMSD     2.0757
Iter 004 	 Temp     3.22 	 Delta  1523.15 	 OutFr   0.0000 	 RMSD     2.0375
Iter 005 	 Temp     2.99 	 Delta  1421.58 	 OutFr   0.0000 	 RMSD     2.0097
Iter 006 	 Temp     2.78 	 Delta  1328.56 	 OutFr   0.0000 	 RMSD     1.9902
Iter 007 	 Temp     2.59 	 Delta  1241.58 	 OutFr   0.0049 	 RMSD     1.9732
Iter 008 	 Temp     2.41 	 Delta  1158.75 	 OutFr   0.0049 	 RMSD     1.9583
Iter 009 	 Temp     2.24 	 Delta  1079.48 	 OutFr   0.0073 	 RMSD     1.9454
Iter 010 	 Temp     2.08 	 Delta  1004.92 	 OutFr   0.0098 	 RMSD     1.9339
Iter 011 	 Temp     1.94 	 Delta   937.02 	 OutFr   0.0098 	 RMSD     1.9232
Iter 012 	 Temp     1.80 	 Delta   876.45 	 OutFr   0.0098 	 RMSD     1.9137
Iter 013 	 Temp     1.67 	 Delta   821.58 	 OutFr   0.0122 	 RMSD     1.9049
Iter 014 	 Temp     1.56 	 Delta   770.82 	 OutFr   0.0122 	 RMSD     1.8969
Iter 015 	 Temp     1.45 	 Delta   724.46 	 OutFr   0.0293 	 RMSD     1.8903
Iter 016 	 Temp     1.35 	 Delta   682.66 	 OutFr   0.0341 	 RMSD     1.8851
Iter 017 	 Temp     1.25 	 Delta   643.97 	 OutFr   0.0439 	 RMSD     1.8807
Iter 018 	 Temp     1.16 	 Delta   605.54 	 OutFr   0.0488 	 RMSD     1.8771
Iter 019 	 Temp     1.08 	 Delta   567.27 	 OutFr   0.0512 	 RMSD     1.8742
Iter 020 	 Temp     1.01 	 Delta   532.91 	 OutFr   0.0634 	 RMSD     1.8715
Iter 021 	 Temp     0.94 	 Delta   503.72 	 OutFr   0.0659 	 RMSD     1.8697
Iter 022 	 Temp     0.87 	 Delta   475.50 	 OutFr   0.0780 	 RMSD     1.8690
Iter 023 	 Temp     0.81 	 Delta   445.35 	 OutFr   0.0902 	 RMSD     1.8690
Iter 024 	 Temp     0.75 	 Delta   414.27 	 OutFr   0.1024 	 RMSD     1.8706
Iter 025 	 Temp     0.70 	 Delta   383.87 	 OutFr   0.1268 	 RMSD     1.8742
Iter 026 	 Temp     0.65 	 Delta   356.49 	 OutFr   0.1512 	 RMSD     1.8786
Iter 027 	 Temp     0.61 	 Delta   332.07 	 OutFr   0.1634 	 RMSD     1.8840
Iter 028 	 Temp     0.56 	 Delta   308.07 	 OutFr   0.1878 	 RMSD     1.8905
Iter 029 	 Temp     0.52 	 Delta   283.01 	 OutFr   0.2171 	 RMSD     1.8974
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.E5Tihqsd/mybin.nii.gz
+ vtklevelset /tmp/ashs.E5Tihqsd/mybin.nii.gz /tmp/ashs.E5Tihqsd/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.E5Tihqsd/mymesh.vtk /tmp/ashs.E5Tihqsd/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 3019.76263821   0.88840155
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.E5Tihqsd/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -36.0824 to -13.8505
   Y : -8.63444 to 37.393
   Z : -27.511 to -0.386522
   Image resolution  : 93 by 162 by 107
   Image box origin  : {-41.0824, -13.6344, -32.511}
   Image box size    : {32.2916, 56.25, 37.4496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [41.0824, 13.6344, -32.511]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat -o /tmp/ashs.E5Tihqsd/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat -o /tmp/ashs.E5Tihqsd/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.E5Tihqsd/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.738462 0.744231
+ echo 'CHUNK 0.738462 0.744231 0.5'
CHUNK 0.738462 0.744231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.738462 0.744231 0.5
====================================
         PROGRESS: 0.738462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.E5Tihqsd/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.E5Tihqsd/fixed_hw.nii.gz /tmp/ashs.E5Tihqsd/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.460107, moving = 0.648921
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.37629, 2.40239], [0.951402, 0.970115, 0.980772]
Level     0,  Iter     0:    Energy =   0.0275
Level     0,  Iter     1:    Energy =   0.0321
Level     0,  Iter     2:    Energy =   0.0375
Level     0,  Iter     3:    Energy =   0.0421
Level     0,  Iter     4:    Energy =   0.0457
Level     0,  Iter     5:    Energy =   0.0488
Level     0,  Iter     6:    Energy =   0.0514
Level     0,  Iter     7:    Energy =   0.0539
Level     0,  Iter     8:    Energy =   0.0554
Level     0,  Iter     9:    Energy =   0.0569
Level     0,  Iter    10:    Energy =   0.0581
Level     0,  Iter    11:    Energy =   0.0590
Level     0,  Iter    12:    Energy =   0.0598
Level     0,  Iter    13:    Energy =   0.0608
Level     0,  Iter    14:    Energy =   0.0618
Level     0,  Iter    15:    Energy =   0.0627
Level     0,  Iter    16:    Energy =   0.0639
Level     0,  Iter    17:    Energy =   0.0648
Level     0,  Iter    18:    Energy =   0.0658
Level     0,  Iter    19:    Energy =   0.0664
Level     0,  Iter    20:    Energy =   0.0670
Level     0,  Iter    21:    Energy =   0.0671
Level     0,  Iter    22:    Energy =   0.0676
Level     0,  Iter    23:    Energy =   0.0684
Level     0,  Iter    24:    Energy =   0.0684
Level     0,  Iter    25:    Energy =   0.0688
Level     0,  Iter    26:    Energy =   0.0684
Level     0,  Iter    27:    Energy =   0.0689
Level     0,  Iter    28:    Energy =   0.0686
Level     0,  Iter    29:    Energy =   0.0690
Level     0,  Iter    30:    Energy =   0.0686
Level     0,  Iter    31:    Energy =   0.0691
Level     0,  Iter    32:    Energy =   0.0688
Level     0,  Iter    33:    Energy =   0.0692
Level     0,  Iter    34:    Energy =   0.0687
Level     0,  Iter    35:    Energy =   0.0691
Level     0,  Iter    36:    Energy =   0.0690
Level     0,  Iter    37:    Energy =   0.0695
Level     0,  Iter    38:    Energy =   0.0691
Level     0,  Iter    39:    Energy =   0.0696
Level     0,  Iter    40:    Energy =   0.0692
Level     0,  Iter    41:    Energy =   0.0696
Level     0,  Iter    42:    Energy =   0.0694
Level     0,  Iter    43:    Energy =   0.0698
Level     0,  Iter    44:    Energy =   0.0695
Level     0,  Iter    45:    Energy =   0.0699
Level     0,  Iter    46:    Energy =   0.0696
Level     0,  Iter    47:    Energy =   0.0700
Level     0,  Iter    48:    Energy =   0.0698
Level     0,  Iter    49:    Energy =   0.0701
Level     0,  Iter    50:    Energy =   0.0697
Level     0,  Iter    51:    Energy =   0.0701
Level     0,  Iter    52:    Energy =   0.0698
Level     0,  Iter    53:    Energy =   0.0702
Level     0,  Iter    54:    Energy =   0.0698
Level     0,  Iter    55:    Energy =   0.0703
Level     0,  Iter    56:    Energy =   0.0699
Level     0,  Iter    57:    Energy =   0.0703
Level     0,  Iter    58:    Energy =   0.0700
Level     0,  Iter    59:    Energy =   0.0704
END OF LEVEL     0    DetJac Range:   0.2781  to   2.4505 
  Avg. Gradient Time  : 0.0073s  38.04% 
  Avg. Gaussian Time  : 0.0091s  47.20% 
  Avg. Iteration Time : 0.0192s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.20281, 1.2012], [0.485822, 0.491046, 0.490386]
Level     1,  Iter     0:    Energy =   0.0490
Level     1,  Iter     1:    Energy =   0.0538
Level     1,  Iter     2:    Energy =   0.0573
Level     1,  Iter     3:    Energy =   0.0601
Level     1,  Iter     4:    Energy =   0.0628
Level     1,  Iter     5:    Energy =   0.0653
Level     1,  Iter     6:    Energy =   0.0672
Level     1,  Iter     7:    Energy =   0.0686
Level     1,  Iter     8:    Energy =   0.0696
Level     1,  Iter     9:    Energy =   0.0706
Level     1,  Iter    10:    Energy =   0.0718
Level     1,  Iter    11:    Energy =   0.0728
Level     1,  Iter    12:    Energy =   0.0734
Level     1,  Iter    13:    Energy =   0.0735
Level     1,  Iter    14:    Energy =   0.0733
Level     1,  Iter    15:    Energy =   0.0739
Level     1,  Iter    16:    Energy =   0.0736
Level     1,  Iter    17:    Energy =   0.0744
Level     1,  Iter    18:    Energy =   0.0742
Level     1,  Iter    19:    Energy =   0.0749
Level     1,  Iter    20:    Energy =   0.0746
Level     1,  Iter    21:    Energy =   0.0752
Level     1,  Iter    22:    Energy =   0.0751
Level     1,  Iter    23:    Energy =   0.0755
Level     1,  Iter    24:    Energy =   0.0750
Level     1,  Iter    25:    Energy =   0.0755
Level     1,  Iter    26:    Energy =   0.0757
Level     1,  Iter    27:    Energy =   0.0756
Level     1,  Iter    28:    Energy =   0.0753
Level     1,  Iter    29:    Energy =   0.0759
Level     1,  Iter    30:    Energy =   0.0756
Level     1,  Iter    31:    Energy =   0.0761
Level     1,  Iter    32:    Energy =   0.0759
Level     1,  Iter    33:    Energy =   0.0761
Level     1,  Iter    34:    Energy =   0.0762
Level     1,  Iter    35:    Energy =   0.0763
Level     1,  Iter    36:    Energy =   0.0759
Level     1,  Iter    37:    Energy =   0.0764
Level     1,  Iter    38:    Energy =   0.0762
Level     1,  Iter    39:    Energy =   0.0766
Level     1,  Iter    40:    Energy =   0.0762
Level     1,  Iter    41:    Energy =   0.0767
Level     1,  Iter    42:    Energy =   0.0765
Level     1,  Iter    43:    Energy =   0.0767
Level     1,  Iter    44:    Energy =   0.0763
Level     1,  Iter    45:    Energy =   0.0767
Level     1,  Iter    46:    Energy =   0.0766
Level     1,  Iter    47:    Energy =   0.0768
Level     1,  Iter    48:    Energy =   0.0764
Level     1,  Iter    49:    Energy =   0.0768
Level     1,  Iter    50:    Energy =   0.0767
Level     1,  Iter    51:    Energy =   0.0769
Level     1,  Iter    52:    Energy =   0.0765
Level     1,  Iter    53:    Energy =   0.0769
Level     1,  Iter    54:    Energy =   0.0769
Level     1,  Iter    55:    Energy =   0.0768
Level     1,  Iter    56:    Energy =   0.0765
Level     1,  Iter    57:    Energy =   0.0769
Level     1,  Iter    58:    Energy =   0.0766
Level     1,  Iter    59:    Energy =   0.0770
END OF LEVEL     1    DetJac Range:   0.1309  to   3.4396 
  Avg. Gradient Time  : 0.0414s  40.22% 
  Avg. Gaussian Time  : 0.0491s  47.78% 
  Avg. Iteration Time : 0.1028s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0406
Level     2,  Iter     1:    Energy =   0.0427
Level     2,  Iter     2:    Energy =   0.0443
Level     2,  Iter     3:    Energy =   0.0458
Level     2,  Iter     4:    Energy =   0.0478
Level     2,  Iter     5:    Energy =   0.0496
Level     2,  Iter     6:    Energy =   0.0512
Level     2,  Iter     7:    Energy =   0.0528
Level     2,  Iter     8:    Energy =   0.0540
Level     2,  Iter     9:    Energy =   0.0549
Level     2,  Iter    10:    Energy =   0.0557
Level     2,  Iter    11:    Energy =   0.0565
Level     2,  Iter    12:    Energy =   0.0571
Level     2,  Iter    13:    Energy =   0.0577
Level     2,  Iter    14:    Energy =   0.0582
Level     2,  Iter    15:    Energy =   0.0587
Level     2,  Iter    16:    Energy =   0.0591
Level     2,  Iter    17:    Energy =   0.0595
Level     2,  Iter    18:    Energy =   0.0598
Level     2,  Iter    19:    Energy =   0.0601
END OF LEVEL     2    DetJac Range:   0.0856  to   6.1574 
  Avg. Gradient Time  : 0.2887s  37.43% 
  Avg. Gaussian Time  : 0.4002s  51.89% 
  Avg. Iteration Time : 0.7713s 

real	0m25.766s
user	0m45.548s
sys	0m2.476s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.738462 0.744231
+ echo 'CHUNK 0.738462 0.744231 1'
CHUNK 0.738462 0.744231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.738462 0.744231 1
====================================
         PROGRESS: 0.738462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 025
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1779.08 	 OutFr   0.0000 	 RMSD     2.8211
Iter 002 	 Temp     3.72 	 Delta  1684.94 	 OutFr   0.0000 	 RMSD     1.9497
Iter 003 	 Temp     3.46 	 Delta  1569.40 	 OutFr   0.0000 	 RMSD     1.9215
Iter 004 	 Temp     3.22 	 Delta  1464.41 	 OutFr   0.0000 	 RMSD     1.8994
Iter 005 	 Temp     2.99 	 Delta  1369.19 	 OutFr   0.0024 	 RMSD     1.8810
Iter 006 	 Temp     2.78 	 Delta  1281.90 	 OutFr   0.0024 	 RMSD     1.8648
Iter 007 	 Temp     2.59 	 Delta  1201.39 	 OutFr   0.0098 	 RMSD     1.8533
Iter 008 	 Temp     2.41 	 Delta  1127.11 	 OutFr   0.0098 	 RMSD     1.8440
Iter 009 	 Temp     2.24 	 Delta  1059.09 	 OutFr   0.0098 	 RMSD     1.8357
Iter 010 	 Temp     2.08 	 Delta   997.51 	 OutFr   0.0098 	 RMSD     1.8286
Iter 011 	 Temp     1.94 	 Delta   941.96 	 OutFr   0.0146 	 RMSD     1.8227
Iter 012 	 Temp     1.80 	 Delta   891.14 	 OutFr   0.0146 	 RMSD     1.8180
Iter 013 	 Temp     1.67 	 Delta   843.42 	 OutFr   0.0146 	 RMSD     1.8147
Iter 014 	 Temp     1.56 	 Delta   797.85 	 OutFr   0.0171 	 RMSD     1.8116
Iter 015 	 Temp     1.45 	 Delta   755.85 	 OutFr   0.0171 	 RMSD     1.8090
Iter 016 	 Temp     1.35 	 Delta   720.78 	 OutFr   0.0268 	 RMSD     1.8072
Iter 017 	 Temp     1.25 	 Delta   691.33 	 OutFr   0.0317 	 RMSD     1.8055
Iter 018 	 Temp     1.16 	 Delta   662.69 	 OutFr   0.0390 	 RMSD     1.8037
Iter 019 	 Temp     1.08 	 Delta   633.43 	 OutFr   0.0488 	 RMSD     1.8022
Iter 020 	 Temp     1.01 	 Delta   602.99 	 OutFr   0.0537 	 RMSD     1.8008
Iter 021 	 Temp     0.94 	 Delta   570.04 	 OutFr   0.0659 	 RMSD     1.7994
Iter 022 	 Temp     0.87 	 Delta   533.82 	 OutFr   0.0829 	 RMSD     1.7982
Iter 023 	 Temp     0.81 	 Delta   495.89 	 OutFr   0.1000 	 RMSD     1.7970
Iter 024 	 Temp     0.75 	 Delta   457.48 	 OutFr   0.1244 	 RMSD     1.7962
Iter 025 	 Temp     0.70 	 Delta   419.27 	 OutFr   0.1463 	 RMSD     1.7959
Iter 026 	 Temp     0.65 	 Delta   380.02 	 OutFr   0.1585 	 RMSD     1.7956
Iter 027 	 Temp     0.61 	 Delta   343.41 	 OutFr   0.1780 	 RMSD     1.7968
Iter 028 	 Temp     0.56 	 Delta   312.11 	 OutFr   0.2049 	 RMSD     1.8001
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.2jFL26Of/mybin.nii.gz
+ vtklevelset /tmp/ashs.2jFL26Of/mybin.nii.gz /tmp/ashs.2jFL26Of/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.2jFL26Of/mymesh.vtk /tmp/ashs.2jFL26Of/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3399.09653407 2974.87529556   0.87519588
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.2jFL26Of/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -37.7646 to -14.7005
   Y : -10.9988 to 32.5134
   Z : -17.2356 to 9.59586
   Image resolution  : 96 by 155 by 106
   Image box origin  : {-42.7646, -15.9988, -22.2356}
   Image box size    : {33.3333, 53.8194, 37.0996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [42.7646, 15.9988, -22.2356]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat -o /tmp/ashs.2jFL26Of/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat -o /tmp/ashs.2jFL26Of/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.2jFL26Of/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.744231 0.75
+ echo 'CHUNK 0.744231 0.75 0.5'
CHUNK 0.744231 0.75 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.744231 0.75 0.5
====================================
         PROGRESS: 0.744231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.2jFL26Of/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.2jFL26Of/fixed_hw.nii.gz /tmp/ashs.2jFL26Of/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.461485, moving = 0.402007
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.3902, 2.37994], [0.982092, 0.975797, 0.971606]
Level     0,  Iter     0:    Energy =   0.0360
Level     0,  Iter     1:    Energy =   0.0408
Level     0,  Iter     2:    Energy =   0.0462
Level     0,  Iter     3:    Energy =   0.0509
Level     0,  Iter     4:    Energy =   0.0540
Level     0,  Iter     5:    Energy =   0.0577
Level     0,  Iter     6:    Energy =   0.0629
Level     0,  Iter     7:    Energy =   0.0668
Level     0,  Iter     8:    Energy =   0.0702
Level     0,  Iter     9:    Energy =   0.0725
Level     0,  Iter    10:    Energy =   0.0732
Level     0,  Iter    11:    Energy =   0.0754
Level     0,  Iter    12:    Energy =   0.0757
Level     0,  Iter    13:    Energy =   0.0772
Level     0,  Iter    14:    Energy =   0.0773
Level     0,  Iter    15:    Energy =   0.0788
Level     0,  Iter    16:    Energy =   0.0789
Level     0,  Iter    17:    Energy =   0.0792
Level     0,  Iter    18:    Energy =   0.0793
Level     0,  Iter    19:    Energy =   0.0798
Level     0,  Iter    20:    Energy =   0.0798
Level     0,  Iter    21:    Energy =   0.0803
Level     0,  Iter    22:    Energy =   0.0803
Level     0,  Iter    23:    Energy =   0.0807
Level     0,  Iter    24:    Energy =   0.0807
Level     0,  Iter    25:    Energy =   0.0811
Level     0,  Iter    26:    Energy =   0.0811
Level     0,  Iter    27:    Energy =   0.0814
Level     0,  Iter    28:    Energy =   0.0815
Level     0,  Iter    29:    Energy =   0.0817
Level     0,  Iter    30:    Energy =   0.0817
Level     0,  Iter    31:    Energy =   0.0820
Level     0,  Iter    32:    Energy =   0.0818
Level     0,  Iter    33:    Energy =   0.0825
Level     0,  Iter    34:    Energy =   0.0821
Level     0,  Iter    35:    Energy =   0.0830
Level     0,  Iter    36:    Energy =   0.0827
Level     0,  Iter    37:    Energy =   0.0832
Level     0,  Iter    38:    Energy =   0.0828
Level     0,  Iter    39:    Energy =   0.0837
Level     0,  Iter    40:    Energy =   0.0831
Level     0,  Iter    41:    Energy =   0.0838
Level     0,  Iter    42:    Energy =   0.0833
Level     0,  Iter    43:    Energy =   0.0840
Level     0,  Iter    44:    Energy =   0.0834
Level     0,  Iter    45:    Energy =   0.0840
Level     0,  Iter    46:    Energy =   0.0835
Level     0,  Iter    47:    Energy =   0.0840
Level     0,  Iter    48:    Energy =   0.0836
Level     0,  Iter    49:    Energy =   0.0842
Level     0,  Iter    50:    Energy =   0.0837
Level     0,  Iter    51:    Energy =   0.0844
Level     0,  Iter    52:    Energy =   0.0839
Level     0,  Iter    53:    Energy =   0.0843
Level     0,  Iter    54:    Energy =   0.0839
Level     0,  Iter    55:    Energy =   0.0845
Level     0,  Iter    56:    Energy =   0.0840
Level     0,  Iter    57:    Energy =   0.0846
Level     0,  Iter    58:    Energy =   0.0840
Level     0,  Iter    59:    Energy =   0.0846
END OF LEVEL     0    DetJac Range:   0.2441  to   2.0577 
  Avg. Gradient Time  : 0.0070s  37.83% 
  Avg. Gaussian Time  : 0.0088s  47.31% 
  Avg. Iteration Time : 0.0186s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.1951, 1.21242], [0.491046, 0.487898, 0.494969]
Level     1,  Iter     0:    Energy =   0.0580
Level     1,  Iter     1:    Energy =   0.0627
Level     1,  Iter     2:    Energy =   0.0671
Level     1,  Iter     3:    Energy =   0.0707
Level     1,  Iter     4:    Energy =   0.0733
Level     1,  Iter     5:    Energy =   0.0755
Level     1,  Iter     6:    Energy =   0.0772
Level     1,  Iter     7:    Energy =   0.0785
Level     1,  Iter     8:    Energy =   0.0795
Level     1,  Iter     9:    Energy =   0.0804
Level     1,  Iter    10:    Energy =   0.0812
Level     1,  Iter    11:    Energy =   0.0819
Level     1,  Iter    12:    Energy =   0.0825
Level     1,  Iter    13:    Energy =   0.0830
Level     1,  Iter    14:    Energy =   0.0833
Level     1,  Iter    15:    Energy =   0.0837
Level     1,  Iter    16:    Energy =   0.0840
Level     1,  Iter    17:    Energy =   0.0844
Level     1,  Iter    18:    Energy =   0.0841
Level     1,  Iter    19:    Energy =   0.0845
Level     1,  Iter    20:    Energy =   0.0844
Level     1,  Iter    21:    Energy =   0.0848
Level     1,  Iter    22:    Energy =   0.0845
Level     1,  Iter    23:    Energy =   0.0849
Level     1,  Iter    24:    Energy =   0.0848
Level     1,  Iter    25:    Energy =   0.0851
Level     1,  Iter    26:    Energy =   0.0849
Level     1,  Iter    27:    Energy =   0.0853
Level     1,  Iter    28:    Energy =   0.0851
Level     1,  Iter    29:    Energy =   0.0855
Level     1,  Iter    30:    Energy =   0.0852
Level     1,  Iter    31:    Energy =   0.0857
Level     1,  Iter    32:    Energy =   0.0855
Level     1,  Iter    33:    Energy =   0.0859
Level     1,  Iter    34:    Energy =   0.0856
Level     1,  Iter    35:    Energy =   0.0860
Level     1,  Iter    36:    Energy =   0.0857
Level     1,  Iter    37:    Energy =   0.0861
Level     1,  Iter    38:    Energy =   0.0858
Level     1,  Iter    39:    Energy =   0.0862
Level     1,  Iter    40:    Energy =   0.0859
Level     1,  Iter    41:    Energy =   0.0863
Level     1,  Iter    42:    Energy =   0.0860
Level     1,  Iter    43:    Energy =   0.0864
Level     1,  Iter    44:    Energy =   0.0862
Level     1,  Iter    45:    Energy =   0.0866
Level     1,  Iter    46:    Energy =   0.0862
Level     1,  Iter    47:    Energy =   0.0866
Level     1,  Iter    48:    Energy =   0.0864
Level     1,  Iter    49:    Energy =   0.0867
Level     1,  Iter    50:    Energy =   0.0863
Level     1,  Iter    51:    Energy =   0.0868
Level     1,  Iter    52:    Energy =   0.0864
Level     1,  Iter    53:    Energy =   0.0869
Level     1,  Iter    54:    Energy =   0.0865
Level     1,  Iter    55:    Energy =   0.0870
Level     1,  Iter    56:    Energy =   0.0866
Level     1,  Iter    57:    Energy =   0.0871
Level     1,  Iter    58:    Energy =   0.0867
Level     1,  Iter    59:    Energy =   0.0872
END OF LEVEL     1    DetJac Range:   0.1217  to   3.0637 
  Avg. Gradient Time  : 0.0402s  40.71% 
  Avg. Gaussian Time  : 0.0469s  47.44% 
  Avg. Iteration Time : 0.0988s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0459
Level     2,  Iter     1:    Energy =   0.0483
Level     2,  Iter     2:    Energy =   0.0507
Level     2,  Iter     3:    Energy =   0.0528
Level     2,  Iter     4:    Energy =   0.0544
Level     2,  Iter     5:    Energy =   0.0558
Level     2,  Iter     6:    Energy =   0.0573
Level     2,  Iter     7:    Energy =   0.0587
Level     2,  Iter     8:    Energy =   0.0599
Level     2,  Iter     9:    Energy =   0.0610
Level     2,  Iter    10:    Energy =   0.0619
Level     2,  Iter    11:    Energy =   0.0627
Level     2,  Iter    12:    Energy =   0.0633
Level     2,  Iter    13:    Energy =   0.0638
Level     2,  Iter    14:    Energy =   0.0643
Level     2,  Iter    15:    Energy =   0.0648
Level     2,  Iter    16:    Energy =   0.0652
Level     2,  Iter    17:    Energy =   0.0655
Level     2,  Iter    18:    Energy =   0.0657
Level     2,  Iter    19:    Energy =   0.0659
END OF LEVEL     2    DetJac Range:   0.0734  to   5.2490 
  Avg. Gradient Time  : 0.2808s  37.81% 
  Avg. Gaussian Time  : 0.3818s  51.40% 
  Avg. Iteration Time : 0.7427s 

real	0m24.876s
user	0m43.784s
sys	0m2.476s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.744231 0.75
+ echo 'CHUNK 0.744231 0.75 1'
CHUNK 0.744231 0.75 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.744231 0.75 1
====================================
         PROGRESS: 0.744231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 000
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1847.88 	 OutFr   0.0024 	 RMSD     1.9135
Iter 002 	 Temp     3.72 	 Delta  1708.65 	 OutFr   0.0000 	 RMSD     1.8504
Iter 003 	 Temp     3.46 	 Delta  1565.60 	 OutFr   0.0000 	 RMSD     1.8446
Iter 004 	 Temp     3.22 	 Delta  1429.12 	 OutFr   0.0000 	 RMSD     1.8224
Iter 005 	 Temp     2.99 	 Delta  1307.58 	 OutFr   0.0000 	 RMSD     1.7992
Iter 006 	 Temp     2.78 	 Delta  1201.99 	 OutFr   0.0000 	 RMSD     1.7770
Iter 007 	 Temp     2.59 	 Delta  1111.46 	 OutFr   0.0000 	 RMSD     1.7579
Iter 008 	 Temp     2.41 	 Delta  1034.54 	 OutFr   0.0000 	 RMSD     1.7410
Iter 009 	 Temp     2.24 	 Delta   969.47 	 OutFr   0.0000 	 RMSD     1.7256
Iter 010 	 Temp     2.08 	 Delta   914.29 	 OutFr   0.0000 	 RMSD     1.7119
Iter 011 	 Temp     1.94 	 Delta   867.01 	 OutFr   0.0024 	 RMSD     1.7009
Iter 012 	 Temp     1.80 	 Delta   825.56 	 OutFr   0.0024 	 RMSD     1.6924
Iter 013 	 Temp     1.67 	 Delta   787.80 	 OutFr   0.0049 	 RMSD     1.6861
Iter 014 	 Temp     1.56 	 Delta   751.77 	 OutFr   0.0097 	 RMSD     1.6814
Iter 015 	 Temp     1.45 	 Delta   716.32 	 OutFr   0.0122 	 RMSD     1.6782
Iter 016 	 Temp     1.35 	 Delta   681.31 	 OutFr   0.0122 	 RMSD     1.6761
Iter 017 	 Temp     1.25 	 Delta   646.70 	 OutFr   0.0195 	 RMSD     1.6756
Iter 018 	 Temp     1.16 	 Delta   611.93 	 OutFr   0.0268 	 RMSD     1.6759
Iter 019 	 Temp     1.08 	 Delta   576.81 	 OutFr   0.0316 	 RMSD     1.6769
Iter 020 	 Temp     1.01 	 Delta   542.76 	 OutFr   0.0438 	 RMSD     1.6773
Iter 021 	 Temp     0.94 	 Delta   511.63 	 OutFr   0.0560 	 RMSD     1.6777
Iter 022 	 Temp     0.87 	 Delta   482.75 	 OutFr   0.0584 	 RMSD     1.6782
Iter 023 	 Temp     0.81 	 Delta   454.50 	 OutFr   0.0633 	 RMSD     1.6792
Iter 024 	 Temp     0.75 	 Delta   425.96 	 OutFr   0.0779 	 RMSD     1.6809
Iter 025 	 Temp     0.70 	 Delta   397.71 	 OutFr   0.1119 	 RMSD     1.6834
Iter 026 	 Temp     0.65 	 Delta   372.17 	 OutFr   0.1314 	 RMSD     1.6858
Iter 027 	 Temp     0.61 	 Delta   347.84 	 OutFr   0.1363 	 RMSD     1.6884
Iter 028 	 Temp     0.56 	 Delta   323.11 	 OutFr   0.1582 	 RMSD     1.6909
Iter 029 	 Temp     0.52 	 Delta   298.57 	 OutFr   0.1873 	 RMSD     1.6937
Iter 030 	 Temp     0.49 	 Delta   275.93 	 OutFr   0.2092 	 RMSD     1.6969
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.sdGh7N8z/mybin.nii.gz
+ vtklevelset /tmp/ashs.sdGh7N8z/mybin.nii.gz /tmp/ashs.sdGh7N8z/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.sdGh7N8z/mymesh.vtk /tmp/ashs.sdGh7N8z/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 3323.71852272   1.00160709
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.sdGh7N8z/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 6.72451 to 32.8569
   Y : -13.5945 to 36.2655
   Z : -25.7907 to -0.104773
   Image resolution  : 105 by 173 by 102
   Image box origin  : {1.72451, -18.5945, -30.7907}
   Image box size    : {36.4583, 60.0694, 35.6996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-1.72451, 18.5945, -30.7907]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat -o /tmp/ashs.sdGh7N8z/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat -o /tmp/ashs.sdGh7N8z/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.sdGh7N8z/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.75 0.755769
+ echo 'CHUNK 0.75 0.755769 0.5'
CHUNK 0.75 0.755769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.75 0.755769 0.5
====================================
         PROGRESS: 0.75               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.sdGh7N8z/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.sdGh7N8z/fixed_hw.nii.gz /tmp/ashs.sdGh7N8z/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.497882, moving = 0.813308
LEVEL 1 of 3
  Smoothing sigmas: [2.3388, 2.36462, 2.37821], [0.954812, 0.965352, 0.970901]
Level     0,  Iter     0:    Energy =   0.0619
Level     0,  Iter     1:    Energy =   0.0686
Level     0,  Iter     2:    Energy =   0.0744
Level     0,  Iter     3:    Energy =   0.0786
Level     0,  Iter     4:    Energy =   0.0829
Level     0,  Iter     5:    Energy =   0.0872
Level     0,  Iter     6:    Energy =   0.0910
Level     0,  Iter     7:    Energy =   0.0935
Level     0,  Iter     8:    Energy =   0.0951
Level     0,  Iter     9:    Energy =   0.0967
Level     0,  Iter    10:    Energy =   0.0982
Level     0,  Iter    11:    Energy =   0.0997
Level     0,  Iter    12:    Energy =   0.1009
Level     0,  Iter    13:    Energy =   0.1022
Level     0,  Iter    14:    Energy =   0.1032
Level     0,  Iter    15:    Energy =   0.1035
Level     0,  Iter    16:    Energy =   0.1038
Level     0,  Iter    17:    Energy =   0.1048
Level     0,  Iter    18:    Energy =   0.1051
Level     0,  Iter    19:    Energy =   0.1061
Level     0,  Iter    20:    Energy =   0.1062
Level     0,  Iter    21:    Energy =   0.1066
Level     0,  Iter    22:    Energy =   0.1067
Level     0,  Iter    23:    Energy =   0.1075
Level     0,  Iter    24:    Energy =   0.1075
Level     0,  Iter    25:    Energy =   0.1080
Level     0,  Iter    26:    Energy =   0.1080
Level     0,  Iter    27:    Energy =   0.1085
Level     0,  Iter    28:    Energy =   0.1084
Level     0,  Iter    29:    Energy =   0.1087
Level     0,  Iter    30:    Energy =   0.1088
Level     0,  Iter    31:    Energy =   0.1090
Level     0,  Iter    32:    Energy =   0.1089
Level     0,  Iter    33:    Energy =   0.1089
Level     0,  Iter    34:    Energy =   0.1090
Level     0,  Iter    35:    Energy =   0.1094
Level     0,  Iter    36:    Energy =   0.1094
Level     0,  Iter    37:    Energy =   0.1092
Level     0,  Iter    38:    Energy =   0.1094
Level     0,  Iter    39:    Energy =   0.1098
Level     0,  Iter    40:    Energy =   0.1097
Level     0,  Iter    41:    Energy =   0.1093
Level     0,  Iter    42:    Energy =   0.1094
Level     0,  Iter    43:    Energy =   0.1096
Level     0,  Iter    44:    Energy =   0.1097
Level     0,  Iter    45:    Energy =   0.1095
Level     0,  Iter    46:    Energy =   0.1098
Level     0,  Iter    47:    Energy =   0.1102
Level     0,  Iter    48:    Energy =   0.1101
Level     0,  Iter    49:    Energy =   0.1098
Level     0,  Iter    50:    Energy =   0.1099
Level     0,  Iter    51:    Energy =   0.1099
Level     0,  Iter    52:    Energy =   0.1101
Level     0,  Iter    53:    Energy =   0.1098
Level     0,  Iter    54:    Energy =   0.1101
Level     0,  Iter    55:    Energy =   0.1102
Level     0,  Iter    56:    Energy =   0.1103
Level     0,  Iter    57:    Energy =   0.1100
Level     0,  Iter    58:    Energy =   0.1102
Level     0,  Iter    59:    Energy =   0.1102
END OF LEVEL     0    DetJac Range:   0.2398  to   2.4335 
  Avg. Gradient Time  : 0.0080s  37.94% 
  Avg. Gaussian Time  : 0.0100s  47.61% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19147, 1.1959, 1.21242], [0.486414, 0.488224, 0.494969]
Level     1,  Iter     0:    Energy =   0.0672
Level     1,  Iter     1:    Energy =   0.0715
Level     1,  Iter     2:    Energy =   0.0747
Level     1,  Iter     3:    Energy =   0.0770
Level     1,  Iter     4:    Energy =   0.0801
Level     1,  Iter     5:    Energy =   0.0824
Level     1,  Iter     6:    Energy =   0.0842
Level     1,  Iter     7:    Energy =   0.0854
Level     1,  Iter     8:    Energy =   0.0864
Level     1,  Iter     9:    Energy =   0.0872
Level     1,  Iter    10:    Energy =   0.0879
Level     1,  Iter    11:    Energy =   0.0885
Level     1,  Iter    12:    Energy =   0.0890
Level     1,  Iter    13:    Energy =   0.0895
Level     1,  Iter    14:    Energy =   0.0899
Level     1,  Iter    15:    Energy =   0.0904
Level     1,  Iter    16:    Energy =   0.0907
Level     1,  Iter    17:    Energy =   0.0911
Level     1,  Iter    18:    Energy =   0.0913
Level     1,  Iter    19:    Energy =   0.0916
Level     1,  Iter    20:    Energy =   0.0918
Level     1,  Iter    21:    Energy =   0.0917
Level     1,  Iter    22:    Energy =   0.0920
Level     1,  Iter    23:    Energy =   0.0917
Level     1,  Iter    24:    Energy =   0.0921
Level     1,  Iter    25:    Energy =   0.0919
Level     1,  Iter    26:    Energy =   0.0923
Level     1,  Iter    27:    Energy =   0.0920
Level     1,  Iter    28:    Energy =   0.0924
Level     1,  Iter    29:    Energy =   0.0922
Level     1,  Iter    30:    Energy =   0.0926
Level     1,  Iter    31:    Energy =   0.0922
Level     1,  Iter    32:    Energy =   0.0926
Level     1,  Iter    33:    Energy =   0.0925
Level     1,  Iter    34:    Energy =   0.0928
Level     1,  Iter    35:    Energy =   0.0925
Level     1,  Iter    36:    Energy =   0.0928
Level     1,  Iter    37:    Energy =   0.0927
Level     1,  Iter    38:    Energy =   0.0930
Level     1,  Iter    39:    Energy =   0.0926
Level     1,  Iter    40:    Energy =   0.0930
Level     1,  Iter    41:    Energy =   0.0929
Level     1,  Iter    42:    Energy =   0.0931
Level     1,  Iter    43:    Energy =   0.0927
Level     1,  Iter    44:    Energy =   0.0931
Level     1,  Iter    45:    Energy =   0.0930
Level     1,  Iter    46:    Energy =   0.0931
Level     1,  Iter    47:    Energy =   0.0928
Level     1,  Iter    48:    Energy =   0.0931
Level     1,  Iter    49:    Energy =   0.0931
Level     1,  Iter    50:    Energy =   0.0931
Level     1,  Iter    51:    Energy =   0.0929
Level     1,  Iter    52:    Energy =   0.0932
Level     1,  Iter    53:    Energy =   0.0930
Level     1,  Iter    54:    Energy =   0.0931
Level     1,  Iter    55:    Energy =   0.0930
Level     1,  Iter    56:    Energy =   0.0930
Level     1,  Iter    57:    Energy =   0.0930
Level     1,  Iter    58:    Energy =   0.0929
Level     1,  Iter    59:    Energy =   0.0930
END OF LEVEL     1    DetJac Range:   0.1550  to   3.4988 
  Avg. Gradient Time  : 0.0460s  39.78% 
  Avg. Gaussian Time  : 0.0560s  48.41% 
  Avg. Iteration Time : 0.1156s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0456
Level     2,  Iter     1:    Energy =   0.0482
Level     2,  Iter     2:    Energy =   0.0502
Level     2,  Iter     3:    Energy =   0.0520
Level     2,  Iter     4:    Energy =   0.0536
Level     2,  Iter     5:    Energy =   0.0551
Level     2,  Iter     6:    Energy =   0.0562
Level     2,  Iter     7:    Energy =   0.0572
Level     2,  Iter     8:    Energy =   0.0581
Level     2,  Iter     9:    Energy =   0.0589
Level     2,  Iter    10:    Energy =   0.0597
Level     2,  Iter    11:    Energy =   0.0606
Level     2,  Iter    12:    Energy =   0.0612
Level     2,  Iter    13:    Energy =   0.0616
Level     2,  Iter    14:    Energy =   0.0619
Level     2,  Iter    15:    Energy =   0.0622
Level     2,  Iter    16:    Energy =   0.0625
Level     2,  Iter    17:    Energy =   0.0629
Level     2,  Iter    18:    Energy =   0.0632
Level     2,  Iter    19:    Energy =   0.0635
END OF LEVEL     2    DetJac Range:   0.0833  to   4.1848 
  Avg. Gradient Time  : 0.3261s  37.57% 
  Avg. Gaussian Time  : 0.4471s  51.51% 
  Avg. Iteration Time : 0.8680s 

real	0m28.928s
user	0m51.164s
sys	0m2.772s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.75 0.755769
+ echo 'CHUNK 0.75 0.755769 1'
CHUNK 0.75 0.755769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.75 0.755769 1
====================================
         PROGRESS: 0.75               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 001
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2052.64 	 OutFr   0.0341 	 RMSD     3.9358
Iter 002 	 Temp     3.72 	 Delta  1862.87 	 OutFr   0.0000 	 RMSD     2.2969
Iter 003 	 Temp     3.46 	 Delta  1737.86 	 OutFr   0.0000 	 RMSD     2.2191
Iter 004 	 Temp     3.22 	 Delta  1637.92 	 OutFr   0.0000 	 RMSD     2.2009
Iter 005 	 Temp     2.99 	 Delta  1541.38 	 OutFr   0.0000 	 RMSD     2.1862
Iter 006 	 Temp     2.78 	 Delta  1440.90 	 OutFr   0.0000 	 RMSD     2.1747
Iter 007 	 Temp     2.59 	 Delta  1336.81 	 OutFr   0.0049 	 RMSD     2.1650
Iter 008 	 Temp     2.41 	 Delta  1233.58 	 OutFr   0.0073 	 RMSD     2.1567
Iter 009 	 Temp     2.24 	 Delta  1136.82 	 OutFr   0.0122 	 RMSD     2.1491
Iter 010 	 Temp     2.08 	 Delta  1050.45 	 OutFr   0.0170 	 RMSD     2.1418
Iter 011 	 Temp     1.94 	 Delta   975.23 	 OutFr   0.0195 	 RMSD     2.1343
Iter 012 	 Temp     1.80 	 Delta   909.52 	 OutFr   0.0195 	 RMSD     2.1276
Iter 013 	 Temp     1.67 	 Delta   850.72 	 OutFr   0.0243 	 RMSD     2.1227
Iter 014 	 Temp     1.56 	 Delta   798.58 	 OutFr   0.0365 	 RMSD     2.1193
Iter 015 	 Temp     1.45 	 Delta   755.87 	 OutFr   0.0462 	 RMSD     2.1179
Iter 016 	 Temp     1.35 	 Delta   721.43 	 OutFr   0.0511 	 RMSD     2.1174
Iter 017 	 Temp     1.25 	 Delta   692.85 	 OutFr   0.0584 	 RMSD     2.1183
Iter 018 	 Temp     1.16 	 Delta   668.48 	 OutFr   0.0608 	 RMSD     2.1202
Iter 019 	 Temp     1.08 	 Delta   645.90 	 OutFr   0.0681 	 RMSD     2.1228
Iter 020 	 Temp     1.01 	 Delta   623.85 	 OutFr   0.0754 	 RMSD     2.1256
Iter 021 	 Temp     0.94 	 Delta   601.34 	 OutFr   0.0852 	 RMSD     2.1284
Iter 022 	 Temp     0.87 	 Delta   575.65 	 OutFr   0.1022 	 RMSD     2.1312
Iter 023 	 Temp     0.81 	 Delta   545.44 	 OutFr   0.1217 	 RMSD     2.1334
Iter 024 	 Temp     0.75 	 Delta   510.23 	 OutFr   0.1338 	 RMSD     2.1350
Iter 025 	 Temp     0.70 	 Delta   471.79 	 OutFr   0.1679 	 RMSD     2.1363
Iter 026 	 Temp     0.65 	 Delta   431.82 	 OutFr   0.1922 	 RMSD     2.1372
Iter 027 	 Temp     0.61 	 Delta   388.90 	 OutFr   0.2117 	 RMSD     2.1381
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.fxgDusnQ/mybin.nii.gz
+ vtklevelset /tmp/ashs.fxgDusnQ/mybin.nii.gz /tmp/ashs.fxgDusnQ/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.fxgDusnQ/mymesh.vtk /tmp/ashs.fxgDusnQ/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 2870.96571045   0.86516942
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.fxgDusnQ/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.1283 to 35.8195
   Y : -9.0938 to 34.8368
   Z : -25.0552 to 1.82024
   Image resolution  : 103 by 156 by 106
   Image box origin  : {5.1283, -14.0938, -30.0552}
   Image box size    : {35.7639, 54.1666, 37.0996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.1283, 14.0938, -30.0552]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat -o /tmp/ashs.fxgDusnQ/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat -o /tmp/ashs.fxgDusnQ/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.fxgDusnQ/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.755769 0.761538
+ echo 'CHUNK 0.755769 0.761538 0.5'
CHUNK 0.755769 0.761538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.755769 0.761538 0.5
====================================
         PROGRESS: 0.755769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.fxgDusnQ/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.fxgDusnQ/fixed_hw.nii.gz /tmp/ashs.fxgDusnQ/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.483991, moving = 0.761654
LEVEL 1 of 3
  Smoothing sigmas: [2.38249, 2.40562, 2.37994], [0.972649, 0.982092, 0.971606]
Level     0,  Iter     0:    Energy =   0.0299
Level     0,  Iter     1:    Energy =   0.0360
Level     0,  Iter     2:    Energy =   0.0422
Level     0,  Iter     3:    Energy =   0.0473
Level     0,  Iter     4:    Energy =   0.0511
Level     0,  Iter     5:    Energy =   0.0541
Level     0,  Iter     6:    Energy =   0.0569
Level     0,  Iter     7:    Energy =   0.0588
Level     0,  Iter     8:    Energy =   0.0607
Level     0,  Iter     9:    Energy =   0.0621
Level     0,  Iter    10:    Energy =   0.0633
Level     0,  Iter    11:    Energy =   0.0646
Level     0,  Iter    12:    Energy =   0.0658
Level     0,  Iter    13:    Energy =   0.0671
Level     0,  Iter    14:    Energy =   0.0684
Level     0,  Iter    15:    Energy =   0.0693
Level     0,  Iter    16:    Energy =   0.0704
Level     0,  Iter    17:    Energy =   0.0714
Level     0,  Iter    18:    Energy =   0.0723
Level     0,  Iter    19:    Energy =   0.0733
Level     0,  Iter    20:    Energy =   0.0740
Level     0,  Iter    21:    Energy =   0.0743
Level     0,  Iter    22:    Energy =   0.0742
Level     0,  Iter    23:    Energy =   0.0750
Level     0,  Iter    24:    Energy =   0.0755
Level     0,  Iter    25:    Energy =   0.0756
Level     0,  Iter    26:    Energy =   0.0755
Level     0,  Iter    27:    Energy =   0.0762
Level     0,  Iter    28:    Energy =   0.0768
Level     0,  Iter    29:    Energy =   0.0767
Level     0,  Iter    30:    Energy =   0.0764
Level     0,  Iter    31:    Energy =   0.0768
Level     0,  Iter    32:    Energy =   0.0770
Level     0,  Iter    33:    Energy =   0.0766
Level     0,  Iter    34:    Energy =   0.0770
Level     0,  Iter    35:    Energy =   0.0767
Level     0,  Iter    36:    Energy =   0.0767
Level     0,  Iter    37:    Energy =   0.0764
Level     0,  Iter    38:    Energy =   0.0767
Level     0,  Iter    39:    Energy =   0.0764
Level     0,  Iter    40:    Energy =   0.0767
Level     0,  Iter    41:    Energy =   0.0764
Level     0,  Iter    42:    Energy =   0.0767
Level     0,  Iter    43:    Energy =   0.0764
Level     0,  Iter    44:    Energy =   0.0768
Level     0,  Iter    45:    Energy =   0.0765
Level     0,  Iter    46:    Energy =   0.0769
Level     0,  Iter    47:    Energy =   0.0766
Level     0,  Iter    48:    Energy =   0.0769
Level     0,  Iter    49:    Energy =   0.0766
Level     0,  Iter    50:    Energy =   0.0770
Level     0,  Iter    51:    Energy =   0.0767
Level     0,  Iter    52:    Energy =   0.0771
Level     0,  Iter    53:    Energy =   0.0768
Level     0,  Iter    54:    Energy =   0.0772
Level     0,  Iter    55:    Energy =   0.0769
Level     0,  Iter    56:    Energy =   0.0772
Level     0,  Iter    57:    Energy =   0.0769
Level     0,  Iter    58:    Energy =   0.0773
Level     0,  Iter    59:    Energy =   0.0771
END OF LEVEL     0    DetJac Range:   0.2157  to   2.6714 
  Avg. Gradient Time  : 0.0072s  37.41% 
  Avg. Gaussian Time  : 0.0091s  47.73% 
  Avg. Iteration Time : 0.0191s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19125, 1.20281, 1.21242], [0.486324, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0449
Level     1,  Iter     1:    Energy =   0.0484
Level     1,  Iter     2:    Energy =   0.0514
Level     1,  Iter     3:    Energy =   0.0540
Level     1,  Iter     4:    Energy =   0.0561
Level     1,  Iter     5:    Energy =   0.0580
Level     1,  Iter     6:    Energy =   0.0599
Level     1,  Iter     7:    Energy =   0.0612
Level     1,  Iter     8:    Energy =   0.0624
Level     1,  Iter     9:    Energy =   0.0633
Level     1,  Iter    10:    Energy =   0.0642
Level     1,  Iter    11:    Energy =   0.0650
Level     1,  Iter    12:    Energy =   0.0657
Level     1,  Iter    13:    Energy =   0.0665
Level     1,  Iter    14:    Energy =   0.0669
Level     1,  Iter    15:    Energy =   0.0673
Level     1,  Iter    16:    Energy =   0.0675
Level     1,  Iter    17:    Energy =   0.0677
Level     1,  Iter    18:    Energy =   0.0679
Level     1,  Iter    19:    Energy =   0.0680
Level     1,  Iter    20:    Energy =   0.0681
Level     1,  Iter    21:    Energy =   0.0682
Level     1,  Iter    22:    Energy =   0.0683
Level     1,  Iter    23:    Energy =   0.0684
Level     1,  Iter    24:    Energy =   0.0685
Level     1,  Iter    25:    Energy =   0.0685
Level     1,  Iter    26:    Energy =   0.0686
Level     1,  Iter    27:    Energy =   0.0687
Level     1,  Iter    28:    Energy =   0.0687
Level     1,  Iter    29:    Energy =   0.0687
Level     1,  Iter    30:    Energy =   0.0688
Level     1,  Iter    31:    Energy =   0.0689
Level     1,  Iter    32:    Energy =   0.0689
Level     1,  Iter    33:    Energy =   0.0690
Level     1,  Iter    34:    Energy =   0.0690
Level     1,  Iter    35:    Energy =   0.0691
Level     1,  Iter    36:    Energy =   0.0691
Level     1,  Iter    37:    Energy =   0.0692
Level     1,  Iter    38:    Energy =   0.0692
Level     1,  Iter    39:    Energy =   0.0692
Level     1,  Iter    40:    Energy =   0.0693
Level     1,  Iter    41:    Energy =   0.0692
Level     1,  Iter    42:    Energy =   0.0692
Level     1,  Iter    43:    Energy =   0.0692
Level     1,  Iter    44:    Energy =   0.0692
Level     1,  Iter    45:    Energy =   0.0692
Level     1,  Iter    46:    Energy =   0.0692
Level     1,  Iter    47:    Energy =   0.0691
Level     1,  Iter    48:    Energy =   0.0691
Level     1,  Iter    49:    Energy =   0.0691
Level     1,  Iter    50:    Energy =   0.0690
Level     1,  Iter    51:    Energy =   0.0690
Level     1,  Iter    52:    Energy =   0.0690
Level     1,  Iter    53:    Energy =   0.0690
Level     1,  Iter    54:    Energy =   0.0690
Level     1,  Iter    55:    Energy =   0.0690
Level     1,  Iter    56:    Energy =   0.0689
Level     1,  Iter    57:    Energy =   0.0689
Level     1,  Iter    58:    Energy =   0.0689
Level     1,  Iter    59:    Energy =   0.0688
END OF LEVEL     1    DetJac Range:   0.0479  to   3.2946 
  Avg. Gradient Time  : 0.0424s  40.16% 
  Avg. Gaussian Time  : 0.0507s  47.95% 
  Avg. Iteration Time : 0.1057s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0319
Level     2,  Iter     1:    Energy =   0.0337
Level     2,  Iter     2:    Energy =   0.0354
Level     2,  Iter     3:    Energy =   0.0367
Level     2,  Iter     4:    Energy =   0.0379
Level     2,  Iter     5:    Energy =   0.0388
Level     2,  Iter     6:    Energy =   0.0396
Level     2,  Iter     7:    Energy =   0.0401
Level     2,  Iter     8:    Energy =   0.0407
Level     2,  Iter     9:    Energy =   0.0413
Level     2,  Iter    10:    Energy =   0.0419
Level     2,  Iter    11:    Energy =   0.0425
Level     2,  Iter    12:    Energy =   0.0428
Level     2,  Iter    13:    Energy =   0.0432
Level     2,  Iter    14:    Energy =   0.0436
Level     2,  Iter    15:    Energy =   0.0439
Level     2,  Iter    16:    Energy =   0.0442
Level     2,  Iter    17:    Energy =   0.0444
Level     2,  Iter    18:    Energy =   0.0445
Level     2,  Iter    19:    Energy =   0.0447
END OF LEVEL     2    DetJac Range:   0.0381  to   4.3184 
  Avg. Gradient Time  : 0.3013s  37.38% 
  Avg. Gaussian Time  : 0.4192s  52.01% 
  Avg. Iteration Time : 0.8060s 

real	0m26.759s
user	0m47.148s
sys	0m2.684s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.755769 0.761538
+ echo 'CHUNK 0.755769 0.761538 1'
CHUNK 0.755769 0.761538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.755769 0.761538 1
====================================
         PROGRESS: 0.755769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 002
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2439.86 	 OutFr   0.0073 	 RMSD     4.3428
Iter 002 	 Temp     3.72 	 Delta  1985.29 	 OutFr   0.0049 	 RMSD     2.5135
Iter 003 	 Temp     3.46 	 Delta  1775.70 	 OutFr   0.0049 	 RMSD     2.4396
Iter 004 	 Temp     3.22 	 Delta  1633.68 	 OutFr   0.0049 	 RMSD     2.4160
Iter 005 	 Temp     2.99 	 Delta  1525.73 	 OutFr   0.0049 	 RMSD     2.4045
Iter 006 	 Temp     2.78 	 Delta  1436.04 	 OutFr   0.0049 	 RMSD     2.3967
Iter 007 	 Temp     2.59 	 Delta  1358.38 	 OutFr   0.0049 	 RMSD     2.3901
Iter 008 	 Temp     2.41 	 Delta  1290.75 	 OutFr   0.0049 	 RMSD     2.3838
Iter 009 	 Temp     2.24 	 Delta  1232.76 	 OutFr   0.0049 	 RMSD     2.3777
Iter 010 	 Temp     2.08 	 Delta  1183.83 	 OutFr   0.0049 	 RMSD     2.3720
Iter 011 	 Temp     1.94 	 Delta  1142.41 	 OutFr   0.0049 	 RMSD     2.3667
Iter 012 	 Temp     1.80 	 Delta  1105.87 	 OutFr   0.0097 	 RMSD     2.3613
Iter 013 	 Temp     1.67 	 Delta  1071.07 	 OutFr   0.0170 	 RMSD     2.3560
Iter 014 	 Temp     1.56 	 Delta  1035.51 	 OutFr   0.0170 	 RMSD     2.3510
Iter 015 	 Temp     1.45 	 Delta   997.73 	 OutFr   0.0243 	 RMSD     2.3460
Iter 016 	 Temp     1.35 	 Delta   957.65 	 OutFr   0.0292 	 RMSD     2.3409
Iter 017 	 Temp     1.25 	 Delta   917.70 	 OutFr   0.0414 	 RMSD     2.3359
Iter 018 	 Temp     1.16 	 Delta   879.83 	 OutFr   0.0487 	 RMSD     2.3314
Iter 019 	 Temp     1.08 	 Delta   841.17 	 OutFr   0.0511 	 RMSD     2.3271
Iter 020 	 Temp     1.01 	 Delta   797.17 	 OutFr   0.0584 	 RMSD     2.3231
Iter 021 	 Temp     0.94 	 Delta   745.58 	 OutFr   0.0633 	 RMSD     2.3182
Iter 022 	 Temp     0.87 	 Delta   687.16 	 OutFr   0.0876 	 RMSD     2.3123
Iter 023 	 Temp     0.81 	 Delta   622.42 	 OutFr   0.0973 	 RMSD     2.3051
Iter 024 	 Temp     0.75 	 Delta   554.38 	 OutFr   0.1314 	 RMSD     2.2969
Iter 025 	 Temp     0.70 	 Delta   492.17 	 OutFr   0.1727 	 RMSD     2.2916
Iter 026 	 Temp     0.65 	 Delta   445.04 	 OutFr   0.1946 	 RMSD     2.2929
Iter 027 	 Temp     0.61 	 Delta   408.69 	 OutFr   0.2141 	 RMSD     2.2980
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.0zdqI4Qd/mybin.nii.gz
+ vtklevelset /tmp/ashs.0zdqI4Qd/mybin.nii.gz /tmp/ashs.0zdqI4Qd/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.0zdqI4Qd/mymesh.vtk /tmp/ashs.0zdqI4Qd/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 3016.45029860   0.90901140
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.0zdqI4Qd/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 3.80249 to 29.3154
   Y : -19.0087 to 25.7556
   Z : -20.3693 to 8.99276
   Image resolution  : 103 by 158 by 113
   Image box origin  : {-1.19751, -24.0087, -25.3693}
   Image box size    : {35.7639, 54.8611, 39.5495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [1.19751, 24.0087, -25.3693]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat -o /tmp/ashs.0zdqI4Qd/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat -o /tmp/ashs.0zdqI4Qd/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.0zdqI4Qd/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.761538 0.767308
+ echo 'CHUNK 0.761538 0.767308 0.5'
CHUNK 0.761538 0.767308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.761538 0.767308 0.5
====================================
         PROGRESS: 0.761538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.0zdqI4Qd/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.0zdqI4Qd/fixed_hw.nii.gz /tmp/ashs.0zdqI4Qd/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.493876, moving = 0.521922
LEVEL 1 of 3
  Smoothing sigmas: [2.38249, 2.37555, 2.36213], [0.972649, 0.969816, 0.964336]
Level     0,  Iter     0:    Energy =   0.0529
Level     0,  Iter     1:    Energy =   0.0592
Level     0,  Iter     2:    Energy =   0.0653
Level     0,  Iter     3:    Energy =   0.0703
Level     0,  Iter     4:    Energy =   0.0745
Level     0,  Iter     5:    Energy =   0.0782
Level     0,  Iter     6:    Energy =   0.0809
Level     0,  Iter     7:    Energy =   0.0834
Level     0,  Iter     8:    Energy =   0.0854
Level     0,  Iter     9:    Energy =   0.0863
Level     0,  Iter    10:    Energy =   0.0867
Level     0,  Iter    11:    Energy =   0.0871
Level     0,  Iter    12:    Energy =   0.0875
Level     0,  Iter    13:    Energy =   0.0878
Level     0,  Iter    14:    Energy =   0.0882
Level     0,  Iter    15:    Energy =   0.0884
Level     0,  Iter    16:    Energy =   0.0888
Level     0,  Iter    17:    Energy =   0.0889
Level     0,  Iter    18:    Energy =   0.0892
Level     0,  Iter    19:    Energy =   0.0893
Level     0,  Iter    20:    Energy =   0.0896
Level     0,  Iter    21:    Energy =   0.0896
Level     0,  Iter    22:    Energy =   0.0900
Level     0,  Iter    23:    Energy =   0.0899
Level     0,  Iter    24:    Energy =   0.0904
Level     0,  Iter    25:    Energy =   0.0903
Level     0,  Iter    26:    Energy =   0.0908
Level     0,  Iter    27:    Energy =   0.0907
Level     0,  Iter    28:    Energy =   0.0910
Level     0,  Iter    29:    Energy =   0.0909
Level     0,  Iter    30:    Energy =   0.0913
Level     0,  Iter    31:    Energy =   0.0913
Level     0,  Iter    32:    Energy =   0.0916
Level     0,  Iter    33:    Energy =   0.0915
Level     0,  Iter    34:    Energy =   0.0919
Level     0,  Iter    35:    Energy =   0.0918
Level     0,  Iter    36:    Energy =   0.0921
Level     0,  Iter    37:    Energy =   0.0920
Level     0,  Iter    38:    Energy =   0.0921
Level     0,  Iter    39:    Energy =   0.0922
Level     0,  Iter    40:    Energy =   0.0923
Level     0,  Iter    41:    Energy =   0.0923
Level     0,  Iter    42:    Energy =   0.0923
Level     0,  Iter    43:    Energy =   0.0925
Level     0,  Iter    44:    Energy =   0.0925
Level     0,  Iter    45:    Energy =   0.0925
Level     0,  Iter    46:    Energy =   0.0923
Level     0,  Iter    47:    Energy =   0.0924
Level     0,  Iter    48:    Energy =   0.0923
Level     0,  Iter    49:    Energy =   0.0924
Level     0,  Iter    50:    Energy =   0.0923
Level     0,  Iter    51:    Energy =   0.0924
Level     0,  Iter    52:    Energy =   0.0923
Level     0,  Iter    53:    Energy =   0.0924
Level     0,  Iter    54:    Energy =   0.0923
Level     0,  Iter    55:    Energy =   0.0924
Level     0,  Iter    56:    Energy =   0.0923
Level     0,  Iter    57:    Energy =   0.0924
Level     0,  Iter    58:    Energy =   0.0923
Level     0,  Iter    59:    Energy =   0.0925
END OF LEVEL     0    DetJac Range:   0.2935  to   2.5483 
  Avg. Gradient Time  : 0.0077s  37.64% 
  Avg. Gaussian Time  : 0.0098s  47.41% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19125, 1.20281, 1.20179], [0.486324, 0.491046, 0.490627]
Level     1,  Iter     0:    Energy =   0.0626
Level     1,  Iter     1:    Energy =   0.0671
Level     1,  Iter     2:    Energy =   0.0702
Level     1,  Iter     3:    Energy =   0.0727
Level     1,  Iter     4:    Energy =   0.0748
Level     1,  Iter     5:    Energy =   0.0768
Level     1,  Iter     6:    Energy =   0.0783
Level     1,  Iter     7:    Energy =   0.0796
Level     1,  Iter     8:    Energy =   0.0807
Level     1,  Iter     9:    Energy =   0.0810
Level     1,  Iter    10:    Energy =   0.0813
Level     1,  Iter    11:    Energy =   0.0814
Level     1,  Iter    12:    Energy =   0.0818
Level     1,  Iter    13:    Energy =   0.0817
Level     1,  Iter    14:    Energy =   0.0822
Level     1,  Iter    15:    Energy =   0.0821
Level     1,  Iter    16:    Energy =   0.0825
Level     1,  Iter    17:    Energy =   0.0824
Level     1,  Iter    18:    Energy =   0.0827
Level     1,  Iter    19:    Energy =   0.0827
Level     1,  Iter    20:    Energy =   0.0829
Level     1,  Iter    21:    Energy =   0.0829
Level     1,  Iter    22:    Energy =   0.0831
Level     1,  Iter    23:    Energy =   0.0830
Level     1,  Iter    24:    Energy =   0.0833
Level     1,  Iter    25:    Energy =   0.0832
Level     1,  Iter    26:    Energy =   0.0834
Level     1,  Iter    27:    Energy =   0.0833
Level     1,  Iter    28:    Energy =   0.0835
Level     1,  Iter    29:    Energy =   0.0834
Level     1,  Iter    30:    Energy =   0.0836
Level     1,  Iter    31:    Energy =   0.0835
Level     1,  Iter    32:    Energy =   0.0837
Level     1,  Iter    33:    Energy =   0.0836
Level     1,  Iter    34:    Energy =   0.0838
Level     1,  Iter    35:    Energy =   0.0836
Level     1,  Iter    36:    Energy =   0.0838
Level     1,  Iter    37:    Energy =   0.0837
Level     1,  Iter    38:    Energy =   0.0839
Level     1,  Iter    39:    Energy =   0.0837
Level     1,  Iter    40:    Energy =   0.0839
Level     1,  Iter    41:    Energy =   0.0837
Level     1,  Iter    42:    Energy =   0.0839
Level     1,  Iter    43:    Energy =   0.0838
Level     1,  Iter    44:    Energy =   0.0840
Level     1,  Iter    45:    Energy =   0.0838
Level     1,  Iter    46:    Energy =   0.0840
Level     1,  Iter    47:    Energy =   0.0838
Level     1,  Iter    48:    Energy =   0.0840
Level     1,  Iter    49:    Energy =   0.0838
Level     1,  Iter    50:    Energy =   0.0840
Level     1,  Iter    51:    Energy =   0.0838
Level     1,  Iter    52:    Energy =   0.0839
Level     1,  Iter    53:    Energy =   0.0838
Level     1,  Iter    54:    Energy =   0.0839
Level     1,  Iter    55:    Energy =   0.0838
Level     1,  Iter    56:    Energy =   0.0839
Level     1,  Iter    57:    Energy =   0.0838
Level     1,  Iter    58:    Energy =   0.0839
Level     1,  Iter    59:    Energy =   0.0838
END OF LEVEL     1    DetJac Range:   0.2151  to   2.4294 
  Avg. Gradient Time  : 0.0461s  40.02% 
  Avg. Gaussian Time  : 0.0553s  48.03% 
  Avg. Iteration Time : 0.1152s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0455
Level     2,  Iter     1:    Energy =   0.0479
Level     2,  Iter     2:    Energy =   0.0497
Level     2,  Iter     3:    Energy =   0.0512
Level     2,  Iter     4:    Energy =   0.0528
Level     2,  Iter     5:    Energy =   0.0544
Level     2,  Iter     6:    Energy =   0.0556
Level     2,  Iter     7:    Energy =   0.0565
Level     2,  Iter     8:    Energy =   0.0572
Level     2,  Iter     9:    Energy =   0.0580
Level     2,  Iter    10:    Energy =   0.0586
Level     2,  Iter    11:    Energy =   0.0592
Level     2,  Iter    12:    Energy =   0.0598
Level     2,  Iter    13:    Energy =   0.0603
Level     2,  Iter    14:    Energy =   0.0608
Level     2,  Iter    15:    Energy =   0.0613
Level     2,  Iter    16:    Energy =   0.0618
Level     2,  Iter    17:    Energy =   0.0622
Level     2,  Iter    18:    Energy =   0.0627
Level     2,  Iter    19:    Energy =   0.0630
END OF LEVEL     2    DetJac Range:   0.0867  to   3.7446 
  Avg. Gradient Time  : 0.3260s  37.55% 
  Avg. Gaussian Time  : 0.4490s  51.72% 
  Avg. Iteration Time : 0.8682s 

real	0m28.932s
user	0m51.008s
sys	0m2.912s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.761538 0.767308
+ echo 'CHUNK 0.761538 0.767308 1'
CHUNK 0.761538 0.767308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.761538 0.767308 1
====================================
         PROGRESS: 0.761538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 003
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2005.69 	 OutFr   0.0024 	 RMSD     3.3411
Iter 002 	 Temp     3.72 	 Delta  1817.58 	 OutFr   0.0000 	 RMSD     1.8993
Iter 003 	 Temp     3.46 	 Delta  1659.27 	 OutFr   0.0000 	 RMSD     1.8977
Iter 004 	 Temp     3.22 	 Delta  1531.64 	 OutFr   0.0000 	 RMSD     1.8796
Iter 005 	 Temp     2.99 	 Delta  1422.94 	 OutFr   0.0000 	 RMSD     1.8586
Iter 006 	 Temp     2.78 	 Delta  1328.29 	 OutFr   0.0000 	 RMSD     1.8384
Iter 007 	 Temp     2.59 	 Delta  1244.92 	 OutFr   0.0000 	 RMSD     1.8205
Iter 008 	 Temp     2.41 	 Delta  1170.56 	 OutFr   0.0000 	 RMSD     1.8050
Iter 009 	 Temp     2.24 	 Delta  1103.06 	 OutFr   0.0024 	 RMSD     1.7901
Iter 010 	 Temp     2.08 	 Delta  1040.41 	 OutFr   0.0024 	 RMSD     1.7754
Iter 011 	 Temp     1.94 	 Delta   980.54 	 OutFr   0.0049 	 RMSD     1.7609
Iter 012 	 Temp     1.80 	 Delta   921.80 	 OutFr   0.0049 	 RMSD     1.7466
Iter 013 	 Temp     1.67 	 Delta   863.82 	 OutFr   0.0073 	 RMSD     1.7321
Iter 014 	 Temp     1.56 	 Delta   807.70 	 OutFr   0.0122 	 RMSD     1.7162
Iter 015 	 Temp     1.45 	 Delta   755.36 	 OutFr   0.0146 	 RMSD     1.7011
Iter 016 	 Temp     1.35 	 Delta   708.49 	 OutFr   0.0170 	 RMSD     1.6880
Iter 017 	 Temp     1.25 	 Delta   667.34 	 OutFr   0.0243 	 RMSD     1.6770
Iter 018 	 Temp     1.16 	 Delta   630.29 	 OutFr   0.0243 	 RMSD     1.6682
Iter 019 	 Temp     1.08 	 Delta   595.64 	 OutFr   0.0243 	 RMSD     1.6617
Iter 020 	 Temp     1.01 	 Delta   563.66 	 OutFr   0.0268 	 RMSD     1.6571
Iter 021 	 Temp     0.94 	 Delta   535.32 	 OutFr   0.0341 	 RMSD     1.6537
Iter 022 	 Temp     0.87 	 Delta   510.94 	 OutFr   0.0438 	 RMSD     1.6508
Iter 023 	 Temp     0.81 	 Delta   488.33 	 OutFr   0.0487 	 RMSD     1.6485
Iter 024 	 Temp     0.75 	 Delta   463.27 	 OutFr   0.0511 	 RMSD     1.6471
Iter 025 	 Temp     0.70 	 Delta   435.39 	 OutFr   0.0657 	 RMSD     1.6469
Iter 026 	 Temp     0.65 	 Delta   408.24 	 OutFr   0.0803 	 RMSD     1.6480
Iter 027 	 Temp     0.61 	 Delta   378.61 	 OutFr   0.0973 	 RMSD     1.6505
Iter 028 	 Temp     0.56 	 Delta   343.55 	 OutFr   0.1290 	 RMSD     1.6539
Iter 029 	 Temp     0.52 	 Delta   309.50 	 OutFr   0.1509 	 RMSD     1.6588
Iter 030 	 Temp     0.49 	 Delta   281.34 	 OutFr   0.1849 	 RMSD     1.6647
Iter 031 	 Temp     0.45 	 Delta   254.68 	 OutFr   0.2019 	 RMSD     1.6693
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.cHwvR1y4/mybin.nii.gz
+ vtklevelset /tmp/ashs.cHwvR1y4/mybin.nii.gz /tmp/ashs.cHwvR1y4/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.cHwvR1y4/mymesh.vtk /tmp/ashs.cHwvR1y4/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 2833.84397985   0.85398273
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.cHwvR1y4/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.94376 to 34.0839
   Y : -11.7605 to 33.8557
   Z : -33.5733 to -9.21143
   Image resolution  : 99 by 161 by 99
   Image box origin  : {4.94376, -16.7605, -38.5733}
   Image box size    : {34.375, 55.9027, 34.6496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.94376, 16.7605, -38.5733]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat -o /tmp/ashs.cHwvR1y4/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat -o /tmp/ashs.cHwvR1y4/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.cHwvR1y4/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.767308 0.773077
+ echo 'CHUNK 0.767308 0.773077 0.5'
CHUNK 0.767308 0.773077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.767308 0.773077 0.5
====================================
         PROGRESS: 0.767308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.cHwvR1y4/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.cHwvR1y4/fixed_hw.nii.gz /tmp/ashs.cHwvR1y4/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.49027, moving = 0.240203
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.36162, 2.40059], [0.972271, 0.964127, 0.980039]
Level     0,  Iter     0:    Energy =   0.0361
Level     0,  Iter     1:    Energy =   0.0409
Level     0,  Iter     2:    Energy =   0.0463
Level     0,  Iter     3:    Energy =   0.0502
Level     0,  Iter     4:    Energy =   0.0536
Level     0,  Iter     5:    Energy =   0.0568
Level     0,  Iter     6:    Energy =   0.0599
Level     0,  Iter     7:    Energy =   0.0625
Level     0,  Iter     8:    Energy =   0.0646
Level     0,  Iter     9:    Energy =   0.0663
Level     0,  Iter    10:    Energy =   0.0675
Level     0,  Iter    11:    Energy =   0.0681
Level     0,  Iter    12:    Energy =   0.0689
Level     0,  Iter    13:    Energy =   0.0694
Level     0,  Iter    14:    Energy =   0.0701
Level     0,  Iter    15:    Energy =   0.0705
Level     0,  Iter    16:    Energy =   0.0711
Level     0,  Iter    17:    Energy =   0.0713
Level     0,  Iter    18:    Energy =   0.0718
Level     0,  Iter    19:    Energy =   0.0720
Level     0,  Iter    20:    Energy =   0.0725
Level     0,  Iter    21:    Energy =   0.0726
Level     0,  Iter    22:    Energy =   0.0730
Level     0,  Iter    23:    Energy =   0.0732
Level     0,  Iter    24:    Energy =   0.0735
Level     0,  Iter    25:    Energy =   0.0737
Level     0,  Iter    26:    Energy =   0.0740
Level     0,  Iter    27:    Energy =   0.0742
Level     0,  Iter    28:    Energy =   0.0744
Level     0,  Iter    29:    Energy =   0.0746
Level     0,  Iter    30:    Energy =   0.0748
Level     0,  Iter    31:    Energy =   0.0749
Level     0,  Iter    32:    Energy =   0.0753
Level     0,  Iter    33:    Energy =   0.0754
Level     0,  Iter    34:    Energy =   0.0757
Level     0,  Iter    35:    Energy =   0.0758
Level     0,  Iter    36:    Energy =   0.0760
Level     0,  Iter    37:    Energy =   0.0760
Level     0,  Iter    38:    Energy =   0.0763
Level     0,  Iter    39:    Energy =   0.0763
Level     0,  Iter    40:    Energy =   0.0766
Level     0,  Iter    41:    Energy =   0.0766
Level     0,  Iter    42:    Energy =   0.0769
Level     0,  Iter    43:    Energy =   0.0769
Level     0,  Iter    44:    Energy =   0.0772
Level     0,  Iter    45:    Energy =   0.0772
Level     0,  Iter    46:    Energy =   0.0775
Level     0,  Iter    47:    Energy =   0.0774
Level     0,  Iter    48:    Energy =   0.0777
Level     0,  Iter    49:    Energy =   0.0777
Level     0,  Iter    50:    Energy =   0.0778
Level     0,  Iter    51:    Energy =   0.0778
Level     0,  Iter    52:    Energy =   0.0782
Level     0,  Iter    53:    Energy =   0.0782
Level     0,  Iter    54:    Energy =   0.0783
Level     0,  Iter    55:    Energy =   0.0784
Level     0,  Iter    56:    Energy =   0.0784
Level     0,  Iter    57:    Energy =   0.0785
Level     0,  Iter    58:    Energy =   0.0785
Level     0,  Iter    59:    Energy =   0.0786
END OF LEVEL     0    DetJac Range:   0.3771  to   2.3842 
  Avg. Gradient Time  : 0.0070s  37.44% 
  Avg. Gaussian Time  : 0.0089s  47.71% 
  Avg. Iteration Time : 0.0186s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.19539, 1.2003], [0.486136, 0.488015, 0.490019]
Level     1,  Iter     0:    Energy =   0.0498
Level     1,  Iter     1:    Energy =   0.0538
Level     1,  Iter     2:    Energy =   0.0571
Level     1,  Iter     3:    Energy =   0.0589
Level     1,  Iter     4:    Energy =   0.0603
Level     1,  Iter     5:    Energy =   0.0621
Level     1,  Iter     6:    Energy =   0.0634
Level     1,  Iter     7:    Energy =   0.0648
Level     1,  Iter     8:    Energy =   0.0659
Level     1,  Iter     9:    Energy =   0.0668
Level     1,  Iter    10:    Energy =   0.0677
Level     1,  Iter    11:    Energy =   0.0686
Level     1,  Iter    12:    Energy =   0.0694
Level     1,  Iter    13:    Energy =   0.0701
Level     1,  Iter    14:    Energy =   0.0708
Level     1,  Iter    15:    Energy =   0.0713
Level     1,  Iter    16:    Energy =   0.0719
Level     1,  Iter    17:    Energy =   0.0716
Level     1,  Iter    18:    Energy =   0.0721
Level     1,  Iter    19:    Energy =   0.0718
Level     1,  Iter    20:    Energy =   0.0723
Level     1,  Iter    21:    Energy =   0.0721
Level     1,  Iter    22:    Energy =   0.0726
Level     1,  Iter    23:    Energy =   0.0722
Level     1,  Iter    24:    Energy =   0.0727
Level     1,  Iter    25:    Energy =   0.0725
Level     1,  Iter    26:    Energy =   0.0730
Level     1,  Iter    27:    Energy =   0.0727
Level     1,  Iter    28:    Energy =   0.0732
Level     1,  Iter    29:    Energy =   0.0730
Level     1,  Iter    30:    Energy =   0.0734
Level     1,  Iter    31:    Energy =   0.0731
Level     1,  Iter    32:    Energy =   0.0735
Level     1,  Iter    33:    Energy =   0.0734
Level     1,  Iter    34:    Energy =   0.0736
Level     1,  Iter    35:    Energy =   0.0733
Level     1,  Iter    36:    Energy =   0.0738
Level     1,  Iter    37:    Energy =   0.0735
Level     1,  Iter    38:    Energy =   0.0738
Level     1,  Iter    39:    Energy =   0.0735
Level     1,  Iter    40:    Energy =   0.0738
Level     1,  Iter    41:    Energy =   0.0737
Level     1,  Iter    42:    Energy =   0.0740
Level     1,  Iter    43:    Energy =   0.0736
Level     1,  Iter    44:    Energy =   0.0741
Level     1,  Iter    45:    Energy =   0.0738
Level     1,  Iter    46:    Energy =   0.0741
Level     1,  Iter    47:    Energy =   0.0738
Level     1,  Iter    48:    Energy =   0.0742
Level     1,  Iter    49:    Energy =   0.0740
Level     1,  Iter    50:    Energy =   0.0743
Level     1,  Iter    51:    Energy =   0.0740
Level     1,  Iter    52:    Energy =   0.0743
Level     1,  Iter    53:    Energy =   0.0741
Level     1,  Iter    54:    Energy =   0.0745
Level     1,  Iter    55:    Energy =   0.0741
Level     1,  Iter    56:    Energy =   0.0744
Level     1,  Iter    57:    Energy =   0.0742
Level     1,  Iter    58:    Energy =   0.0745
Level     1,  Iter    59:    Energy =   0.0742
END OF LEVEL     1    DetJac Range:   0.0893  to   3.2990 
  Avg. Gradient Time  : 0.0406s  40.31% 
  Avg. Gaussian Time  : 0.0482s  47.86% 
  Avg. Iteration Time : 0.1008s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0382
Level     2,  Iter     1:    Energy =   0.0404
Level     2,  Iter     2:    Energy =   0.0421
Level     2,  Iter     3:    Energy =   0.0435
Level     2,  Iter     4:    Energy =   0.0446
Level     2,  Iter     5:    Energy =   0.0458
Level     2,  Iter     6:    Energy =   0.0469
Level     2,  Iter     7:    Energy =   0.0478
Level     2,  Iter     8:    Energy =   0.0488
Level     2,  Iter     9:    Energy =   0.0496
Level     2,  Iter    10:    Energy =   0.0504
Level     2,  Iter    11:    Energy =   0.0512
Level     2,  Iter    12:    Energy =   0.0519
Level     2,  Iter    13:    Energy =   0.0525
Level     2,  Iter    14:    Energy =   0.0531
Level     2,  Iter    15:    Energy =   0.0537
Level     2,  Iter    16:    Energy =   0.0541
Level     2,  Iter    17:    Energy =   0.0546
Level     2,  Iter    18:    Energy =   0.0550
Level     2,  Iter    19:    Energy =   0.0554
END OF LEVEL     2    DetJac Range:   0.0323  to   5.2740 
  Avg. Gradient Time  : 0.2786s  37.46% 
  Avg. Gaussian Time  : 0.3861s  51.91% 
  Avg. Iteration Time : 0.7437s 

real	0m24.975s
user	0m43.980s
sys	0m2.564s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.767308 0.773077
+ echo 'CHUNK 0.767308 0.773077 1'
CHUNK 0.767308 0.773077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.767308 0.773077 1
====================================
         PROGRESS: 0.767308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 004
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2469.90 	 OutFr   0.0073 	 RMSD     3.1293
Iter 002 	 Temp     3.72 	 Delta  2216.48 	 OutFr   0.0000 	 RMSD     2.3212
Iter 003 	 Temp     3.46 	 Delta  2063.28 	 OutFr   0.0000 	 RMSD     2.2871
Iter 004 	 Temp     3.22 	 Delta  1914.62 	 OutFr   0.0000 	 RMSD     2.2644
Iter 005 	 Temp     2.99 	 Delta  1771.75 	 OutFr   0.0024 	 RMSD     2.2466
Iter 006 	 Temp     2.78 	 Delta  1635.59 	 OutFr   0.0073 	 RMSD     2.2343
Iter 007 	 Temp     2.59 	 Delta  1508.03 	 OutFr   0.0097 	 RMSD     2.2244
Iter 008 	 Temp     2.41 	 Delta  1391.58 	 OutFr   0.0097 	 RMSD     2.2157
Iter 009 	 Temp     2.24 	 Delta  1288.07 	 OutFr   0.0122 	 RMSD     2.2085
Iter 010 	 Temp     2.08 	 Delta  1197.76 	 OutFr   0.0146 	 RMSD     2.2029
Iter 011 	 Temp     1.94 	 Delta  1119.27 	 OutFr   0.0243 	 RMSD     2.1989
Iter 012 	 Temp     1.80 	 Delta  1050.23 	 OutFr   0.0316 	 RMSD     2.1962
Iter 013 	 Temp     1.67 	 Delta   988.33 	 OutFr   0.0316 	 RMSD     2.1938
Iter 014 	 Temp     1.56 	 Delta   932.15 	 OutFr   0.0389 	 RMSD     2.1923
Iter 015 	 Temp     1.45 	 Delta   881.23 	 OutFr   0.0438 	 RMSD     2.1910
Iter 016 	 Temp     1.35 	 Delta   835.20 	 OutFr   0.0511 	 RMSD     2.1893
Iter 017 	 Temp     1.25 	 Delta   792.80 	 OutFr   0.0608 	 RMSD     2.1878
Iter 018 	 Temp     1.16 	 Delta   752.01 	 OutFr   0.0681 	 RMSD     2.1865
Iter 019 	 Temp     1.08 	 Delta   710.58 	 OutFr   0.0706 	 RMSD     2.1850
Iter 020 	 Temp     1.01 	 Delta   666.85 	 OutFr   0.0803 	 RMSD     2.1833
Iter 021 	 Temp     0.94 	 Delta   621.20 	 OutFr   0.0973 	 RMSD     2.1812
Iter 022 	 Temp     0.87 	 Delta   575.08 	 OutFr   0.1071 	 RMSD     2.1787
Iter 023 	 Temp     0.81 	 Delta   530.82 	 OutFr   0.1290 	 RMSD     2.1755
Iter 024 	 Temp     0.75 	 Delta   489.17 	 OutFr   0.1509 	 RMSD     2.1723
Iter 025 	 Temp     0.70 	 Delta   449.09 	 OutFr   0.1606 	 RMSD     2.1693
Iter 026 	 Temp     0.65 	 Delta   410.55 	 OutFr   0.1800 	 RMSD     2.1663
Iter 027 	 Temp     0.61 	 Delta   372.77 	 OutFr   0.2019 	 RMSD     2.1639
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.0SgY0OGC/mybin.nii.gz
+ vtklevelset /tmp/ashs.0SgY0OGC/mybin.nii.gz /tmp/ashs.0SgY0OGC/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.0SgY0OGC/mymesh.vtk /tmp/ashs.0SgY0OGC/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 2757.66809613   0.83102703
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.0SgY0OGC/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.47845 to 33.7642
   Y : -9.24732 to 38.2012
   Z : -26.7739 to -2.20162
   Image resolution  : 99 by 166 by 99
   Image box origin  : {4.47845, -14.2473, -31.7739}
   Image box size    : {34.375, 57.6389, 34.6496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.47845, 14.2473, -31.7739]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat -o /tmp/ashs.0SgY0OGC/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat -o /tmp/ashs.0SgY0OGC/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.0SgY0OGC/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.773077 0.778846
+ echo 'CHUNK 0.773077 0.778846 0.5'
CHUNK 0.773077 0.778846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.773077 0.778846 0.5
====================================
         PROGRESS: 0.773077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.0SgY0OGC/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.0SgY0OGC/fixed_hw.nii.gz /tmp/ashs.0SgY0OGC/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.49208, moving = 0.596261
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.37699, 2.40059], [0.972271, 0.970401, 0.980039]
Level     0,  Iter     0:    Energy =   0.0406
Level     0,  Iter     1:    Energy =   0.0474
Level     0,  Iter     2:    Energy =   0.0535
Level     0,  Iter     3:    Energy =   0.0579
Level     0,  Iter     4:    Energy =   0.0623
Level     0,  Iter     5:    Energy =   0.0660
Level     0,  Iter     6:    Energy =   0.0687
Level     0,  Iter     7:    Energy =   0.0709
Level     0,  Iter     8:    Energy =   0.0736
Level     0,  Iter     9:    Energy =   0.0759
Level     0,  Iter    10:    Energy =   0.0777
Level     0,  Iter    11:    Energy =   0.0787
Level     0,  Iter    12:    Energy =   0.0792
Level     0,  Iter    13:    Energy =   0.0797
Level     0,  Iter    14:    Energy =   0.0802
Level     0,  Iter    15:    Energy =   0.0809
Level     0,  Iter    16:    Energy =   0.0813
Level     0,  Iter    17:    Energy =   0.0809
Level     0,  Iter    18:    Energy =   0.0814
Level     0,  Iter    19:    Energy =   0.0819
Level     0,  Iter    20:    Energy =   0.0824
Level     0,  Iter    21:    Energy =   0.0819
Level     0,  Iter    22:    Energy =   0.0824
Level     0,  Iter    23:    Energy =   0.0830
Level     0,  Iter    24:    Energy =   0.0834
Level     0,  Iter    25:    Energy =   0.0828
Level     0,  Iter    26:    Energy =   0.0834
Level     0,  Iter    27:    Energy =   0.0840
Level     0,  Iter    28:    Energy =   0.0843
Level     0,  Iter    29:    Energy =   0.0835
Level     0,  Iter    30:    Energy =   0.0839
Level     0,  Iter    31:    Energy =   0.0844
Level     0,  Iter    32:    Energy =   0.0846
Level     0,  Iter    33:    Energy =   0.0838
Level     0,  Iter    34:    Energy =   0.0844
Level     0,  Iter    35:    Energy =   0.0853
Level     0,  Iter    36:    Energy =   0.0854
Level     0,  Iter    37:    Energy =   0.0847
Level     0,  Iter    38:    Energy =   0.0849
Level     0,  Iter    39:    Energy =   0.0848
Level     0,  Iter    40:    Energy =   0.0851
Level     0,  Iter    41:    Energy =   0.0857
Level     0,  Iter    42:    Energy =   0.0857
Level     0,  Iter    43:    Energy =   0.0849
Level     0,  Iter    44:    Energy =   0.0852
Level     0,  Iter    45:    Energy =   0.0857
Level     0,  Iter    46:    Energy =   0.0857
Level     0,  Iter    47:    Energy =   0.0853
Level     0,  Iter    48:    Energy =   0.0856
Level     0,  Iter    49:    Energy =   0.0863
Level     0,  Iter    50:    Energy =   0.0862
Level     0,  Iter    51:    Energy =   0.0854
Level     0,  Iter    52:    Energy =   0.0857
Level     0,  Iter    53:    Energy =   0.0863
Level     0,  Iter    54:    Energy =   0.0863
Level     0,  Iter    55:    Energy =   0.0858
Level     0,  Iter    56:    Energy =   0.0861
Level     0,  Iter    57:    Energy =   0.0867
Level     0,  Iter    58:    Energy =   0.0868
Level     0,  Iter    59:    Energy =   0.0858
END OF LEVEL     0    DetJac Range:   0.2403  to   2.5874 
  Avg. Gradient Time  : 0.0071s  37.48% 
  Avg. Gaussian Time  : 0.0090s  47.63% 
  Avg. Iteration Time : 0.0189s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.20281, 1.2003], [0.486136, 0.491046, 0.490019]
Level     1,  Iter     0:    Energy =   0.0592
Level     1,  Iter     1:    Energy =   0.0632
Level     1,  Iter     2:    Energy =   0.0667
Level     1,  Iter     3:    Energy =   0.0692
Level     1,  Iter     4:    Energy =   0.0712
Level     1,  Iter     5:    Energy =   0.0730
Level     1,  Iter     6:    Energy =   0.0739
Level     1,  Iter     7:    Energy =   0.0746
Level     1,  Iter     8:    Energy =   0.0754
Level     1,  Iter     9:    Energy =   0.0761
Level     1,  Iter    10:    Energy =   0.0765
Level     1,  Iter    11:    Energy =   0.0767
Level     1,  Iter    12:    Energy =   0.0770
Level     1,  Iter    13:    Energy =   0.0773
Level     1,  Iter    14:    Energy =   0.0775
Level     1,  Iter    15:    Energy =   0.0778
Level     1,  Iter    16:    Energy =   0.0779
Level     1,  Iter    17:    Energy =   0.0781
Level     1,  Iter    18:    Energy =   0.0783
Level     1,  Iter    19:    Energy =   0.0785
Level     1,  Iter    20:    Energy =   0.0785
Level     1,  Iter    21:    Energy =   0.0786
Level     1,  Iter    22:    Energy =   0.0788
Level     1,  Iter    23:    Energy =   0.0789
Level     1,  Iter    24:    Energy =   0.0789
Level     1,  Iter    25:    Energy =   0.0790
Level     1,  Iter    26:    Energy =   0.0791
Level     1,  Iter    27:    Energy =   0.0791
Level     1,  Iter    28:    Energy =   0.0792
Level     1,  Iter    29:    Energy =   0.0792
Level     1,  Iter    30:    Energy =   0.0793
Level     1,  Iter    31:    Energy =   0.0793
Level     1,  Iter    32:    Energy =   0.0794
Level     1,  Iter    33:    Energy =   0.0794
Level     1,  Iter    34:    Energy =   0.0795
Level     1,  Iter    35:    Energy =   0.0795
Level     1,  Iter    36:    Energy =   0.0796
Level     1,  Iter    37:    Energy =   0.0795
Level     1,  Iter    38:    Energy =   0.0796
Level     1,  Iter    39:    Energy =   0.0796
Level     1,  Iter    40:    Energy =   0.0797
Level     1,  Iter    41:    Energy =   0.0796
Level     1,  Iter    42:    Energy =   0.0797
Level     1,  Iter    43:    Energy =   0.0797
Level     1,  Iter    44:    Energy =   0.0798
Level     1,  Iter    45:    Energy =   0.0797
Level     1,  Iter    46:    Energy =   0.0798
Level     1,  Iter    47:    Energy =   0.0797
Level     1,  Iter    48:    Energy =   0.0798
Level     1,  Iter    49:    Energy =   0.0798
Level     1,  Iter    50:    Energy =   0.0799
Level     1,  Iter    51:    Energy =   0.0798
Level     1,  Iter    52:    Energy =   0.0799
Level     1,  Iter    53:    Energy =   0.0798
Level     1,  Iter    54:    Energy =   0.0799
Level     1,  Iter    55:    Energy =   0.0798
Level     1,  Iter    56:    Energy =   0.0799
Level     1,  Iter    57:    Energy =   0.0799
Level     1,  Iter    58:    Energy =   0.0799
Level     1,  Iter    59:    Energy =   0.0799
END OF LEVEL     1    DetJac Range:   0.1364  to   3.1765 
  Avg. Gradient Time  : 0.0402s  39.43% 
  Avg. Gaussian Time  : 0.0494s  48.55% 
  Avg. Iteration Time : 0.1018s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0424
Level     2,  Iter     1:    Energy =   0.0446
Level     2,  Iter     2:    Energy =   0.0462
Level     2,  Iter     3:    Energy =   0.0475
Level     2,  Iter     4:    Energy =   0.0485
Level     2,  Iter     5:    Energy =   0.0495
Level     2,  Iter     6:    Energy =   0.0504
Level     2,  Iter     7:    Energy =   0.0512
Level     2,  Iter     8:    Energy =   0.0520
Level     2,  Iter     9:    Energy =   0.0525
Level     2,  Iter    10:    Energy =   0.0530
Level     2,  Iter    11:    Energy =   0.0534
Level     2,  Iter    12:    Energy =   0.0539
Level     2,  Iter    13:    Energy =   0.0543
Level     2,  Iter    14:    Energy =   0.0547
Level     2,  Iter    15:    Energy =   0.0550
Level     2,  Iter    16:    Energy =   0.0553
Level     2,  Iter    17:    Energy =   0.0556
Level     2,  Iter    18:    Energy =   0.0559
Level     2,  Iter    19:    Energy =   0.0561
END OF LEVEL     2    DetJac Range:   0.0582  to   4.4119 
  Avg. Gradient Time  : 0.2848s  37.45% 
  Avg. Gaussian Time  : 0.3938s  51.79% 
  Avg. Iteration Time : 0.7604s 

real	0m25.430s
user	0m44.936s
sys	0m2.548s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.773077 0.778846
+ echo 'CHUNK 0.773077 0.778846 1'
CHUNK 0.773077 0.778846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.773077 0.778846 1
====================================
         PROGRESS: 0.773077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 005
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2092.73 	 OutFr   0.0000 	 RMSD     3.2807
Iter 002 	 Temp     3.72 	 Delta  1839.72 	 OutFr   0.0000 	 RMSD     2.3242
Iter 003 	 Temp     3.46 	 Delta  1717.75 	 OutFr   0.0000 	 RMSD     2.3235
Iter 004 	 Temp     3.22 	 Delta  1633.23 	 OutFr   0.0000 	 RMSD     2.3188
Iter 005 	 Temp     2.99 	 Delta  1564.54 	 OutFr   0.0000 	 RMSD     2.3105
Iter 006 	 Temp     2.78 	 Delta  1505.63 	 OutFr   0.0000 	 RMSD     2.3023
Iter 007 	 Temp     2.59 	 Delta  1453.86 	 OutFr   0.0000 	 RMSD     2.2941
Iter 008 	 Temp     2.41 	 Delta  1407.77 	 OutFr   0.0000 	 RMSD     2.2863
Iter 009 	 Temp     2.24 	 Delta  1366.72 	 OutFr   0.0000 	 RMSD     2.2793
Iter 010 	 Temp     2.08 	 Delta  1330.20 	 OutFr   0.0000 	 RMSD     2.2725
Iter 011 	 Temp     1.94 	 Delta  1296.37 	 OutFr   0.0024 	 RMSD     2.2655
Iter 012 	 Temp     1.80 	 Delta  1261.66 	 OutFr   0.0073 	 RMSD     2.2592
Iter 013 	 Temp     1.67 	 Delta  1222.60 	 OutFr   0.0146 	 RMSD     2.2533
Iter 014 	 Temp     1.56 	 Delta  1176.98 	 OutFr   0.0170 	 RMSD     2.2473
Iter 015 	 Temp     1.45 	 Delta  1123.62 	 OutFr   0.0219 	 RMSD     2.2412
Iter 016 	 Temp     1.35 	 Delta  1063.66 	 OutFr   0.0316 	 RMSD     2.2351
Iter 017 	 Temp     1.25 	 Delta   999.41 	 OutFr   0.0389 	 RMSD     2.2282
Iter 018 	 Temp     1.16 	 Delta   929.25 	 OutFr   0.0511 	 RMSD     2.2211
Iter 019 	 Temp     1.08 	 Delta   852.47 	 OutFr   0.0633 	 RMSD     2.2135
Iter 020 	 Temp     1.01 	 Delta   776.67 	 OutFr   0.0827 	 RMSD     2.2061
Iter 021 	 Temp     0.94 	 Delta   709.86 	 OutFr   0.1071 	 RMSD     2.2000
Iter 022 	 Temp     0.87 	 Delta   650.06 	 OutFr   0.1192 	 RMSD     2.1967
Iter 023 	 Temp     0.81 	 Delta   590.08 	 OutFr   0.1411 	 RMSD     2.1979
Iter 024 	 Temp     0.75 	 Delta   528.19 	 OutFr   0.1679 	 RMSD     2.2045
Iter 025 	 Temp     0.70 	 Delta   476.36 	 OutFr   0.1946 	 RMSD     2.2157
Iter 026 	 Temp     0.65 	 Delta   424.25 	 OutFr   0.2165 	 RMSD     2.2248
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.gsfrf8f6/mybin.nii.gz
+ vtklevelset /tmp/ashs.gsfrf8f6/mybin.nii.gz /tmp/ashs.gsfrf8f6/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.gsfrf8f6/mymesh.vtk /tmp/ashs.gsfrf8f6/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 3236.65432180   0.97537018
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.gsfrf8f6/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.075 to 36.5922
   Y : -10.0666 to 38.1817
   Z : -11.9074 to 16.9837
   Image resolution  : 103 by 168 by 112
   Image box origin  : {6.075, -15.0666, -16.9074}
   Image box size    : {35.7639, 58.3333, 39.1996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.075, 15.0666, -16.9074]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat -o /tmp/ashs.gsfrf8f6/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat -o /tmp/ashs.gsfrf8f6/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.gsfrf8f6/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.778846 0.784615
+ echo 'CHUNK 0.778846 0.784615 0.5'
CHUNK 0.778846 0.784615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.778846 0.784615 0.5
====================================
         PROGRESS: 0.778846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.gsfrf8f6/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.gsfrf8f6/fixed_hw.nii.gz /tmp/ashs.gsfrf8f6/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.487301, moving = 0.617144
LEVEL 1 of 3
  Smoothing sigmas: [2.38249, 2.40562, 2.42484], [0.972649, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0438
Level     0,  Iter     1:    Energy =   0.0488
Level     0,  Iter     2:    Energy =   0.0539
Level     0,  Iter     3:    Energy =   0.0591
Level     0,  Iter     4:    Energy =   0.0634
Level     0,  Iter     5:    Energy =   0.0669
Level     0,  Iter     6:    Energy =   0.0698
Level     0,  Iter     7:    Energy =   0.0721
Level     0,  Iter     8:    Energy =   0.0741
Level     0,  Iter     9:    Energy =   0.0758
Level     0,  Iter    10:    Energy =   0.0769
Level     0,  Iter    11:    Energy =   0.0782
Level     0,  Iter    12:    Energy =   0.0790
Level     0,  Iter    13:    Energy =   0.0802
Level     0,  Iter    14:    Energy =   0.0810
Level     0,  Iter    15:    Energy =   0.0820
Level     0,  Iter    16:    Energy =   0.0828
Level     0,  Iter    17:    Energy =   0.0836
Level     0,  Iter    18:    Energy =   0.0842
Level     0,  Iter    19:    Energy =   0.0850
Level     0,  Iter    20:    Energy =   0.0854
Level     0,  Iter    21:    Energy =   0.0859
Level     0,  Iter    22:    Energy =   0.0861
Level     0,  Iter    23:    Energy =   0.0865
Level     0,  Iter    24:    Energy =   0.0865
Level     0,  Iter    25:    Energy =   0.0871
Level     0,  Iter    26:    Energy =   0.0870
Level     0,  Iter    27:    Energy =   0.0876
Level     0,  Iter    28:    Energy =   0.0875
Level     0,  Iter    29:    Energy =   0.0881
Level     0,  Iter    30:    Energy =   0.0880
Level     0,  Iter    31:    Energy =   0.0885
Level     0,  Iter    32:    Energy =   0.0883
Level     0,  Iter    33:    Energy =   0.0889
Level     0,  Iter    34:    Energy =   0.0888
Level     0,  Iter    35:    Energy =   0.0891
Level     0,  Iter    36:    Energy =   0.0890
Level     0,  Iter    37:    Energy =   0.0896
Level     0,  Iter    38:    Energy =   0.0896
Level     0,  Iter    39:    Energy =   0.0897
Level     0,  Iter    40:    Energy =   0.0895
Level     0,  Iter    41:    Energy =   0.0901
Level     0,  Iter    42:    Energy =   0.0908
Level     0,  Iter    43:    Energy =   0.0905
Level     0,  Iter    44:    Energy =   0.0903
Level     0,  Iter    45:    Energy =   0.0909
Level     0,  Iter    46:    Energy =   0.0916
Level     0,  Iter    47:    Energy =   0.0916
Level     0,  Iter    48:    Energy =   0.0915
Level     0,  Iter    49:    Energy =   0.0920
Level     0,  Iter    50:    Energy =   0.0923
Level     0,  Iter    51:    Energy =   0.0919
Level     0,  Iter    52:    Energy =   0.0920
Level     0,  Iter    53:    Energy =   0.0924
Level     0,  Iter    54:    Energy =   0.0925
Level     0,  Iter    55:    Energy =   0.0920
Level     0,  Iter    56:    Energy =   0.0920
Level     0,  Iter    57:    Energy =   0.0924
Level     0,  Iter    58:    Energy =   0.0922
Level     0,  Iter    59:    Energy =   0.0919
END OF LEVEL     0    DetJac Range:   0.1640  to   2.9760 
  Avg. Gradient Time  : 0.0077s  38.11% 
  Avg. Gaussian Time  : 0.0096s  47.21% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19125, 1.20281, 1.21242], [0.486324, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0555
Level     1,  Iter     1:    Energy =   0.0587
Level     1,  Iter     2:    Energy =   0.0617
Level     1,  Iter     3:    Energy =   0.0646
Level     1,  Iter     4:    Energy =   0.0670
Level     1,  Iter     5:    Energy =   0.0689
Level     1,  Iter     6:    Energy =   0.0708
Level     1,  Iter     7:    Energy =   0.0722
Level     1,  Iter     8:    Energy =   0.0734
Level     1,  Iter     9:    Energy =   0.0746
Level     1,  Iter    10:    Energy =   0.0756
Level     1,  Iter    11:    Energy =   0.0765
Level     1,  Iter    12:    Energy =   0.0771
Level     1,  Iter    13:    Energy =   0.0772
Level     1,  Iter    14:    Energy =   0.0774
Level     1,  Iter    15:    Energy =   0.0778
Level     1,  Iter    16:    Energy =   0.0781
Level     1,  Iter    17:    Energy =   0.0781
Level     1,  Iter    18:    Energy =   0.0783
Level     1,  Iter    19:    Energy =   0.0784
Level     1,  Iter    20:    Energy =   0.0785
Level     1,  Iter    21:    Energy =   0.0785
Level     1,  Iter    22:    Energy =   0.0786
Level     1,  Iter    23:    Energy =   0.0786
Level     1,  Iter    24:    Energy =   0.0786
Level     1,  Iter    25:    Energy =   0.0787
Level     1,  Iter    26:    Energy =   0.0786
Level     1,  Iter    27:    Energy =   0.0787
Level     1,  Iter    28:    Energy =   0.0787
Level     1,  Iter    29:    Energy =   0.0788
Level     1,  Iter    30:    Energy =   0.0788
Level     1,  Iter    31:    Energy =   0.0788
Level     1,  Iter    32:    Energy =   0.0789
Level     1,  Iter    33:    Energy =   0.0789
Level     1,  Iter    34:    Energy =   0.0790
Level     1,  Iter    35:    Energy =   0.0789
Level     1,  Iter    36:    Energy =   0.0790
Level     1,  Iter    37:    Energy =   0.0789
Level     1,  Iter    38:    Energy =   0.0790
Level     1,  Iter    39:    Energy =   0.0790
Level     1,  Iter    40:    Energy =   0.0791
Level     1,  Iter    41:    Energy =   0.0790
Level     1,  Iter    42:    Energy =   0.0791
Level     1,  Iter    43:    Energy =   0.0791
Level     1,  Iter    44:    Energy =   0.0791
Level     1,  Iter    45:    Energy =   0.0791
Level     1,  Iter    46:    Energy =   0.0791
Level     1,  Iter    47:    Energy =   0.0791
Level     1,  Iter    48:    Energy =   0.0791
Level     1,  Iter    49:    Energy =   0.0791
Level     1,  Iter    50:    Energy =   0.0791
Level     1,  Iter    51:    Energy =   0.0791
Level     1,  Iter    52:    Energy =   0.0791
Level     1,  Iter    53:    Energy =   0.0791
Level     1,  Iter    54:    Energy =   0.0791
Level     1,  Iter    55:    Energy =   0.0791
Level     1,  Iter    56:    Energy =   0.0791
Level     1,  Iter    57:    Energy =   0.0791
Level     1,  Iter    58:    Energy =   0.0791
Level     1,  Iter    59:    Energy =   0.0792
END OF LEVEL     1    DetJac Range:   0.1159  to   4.2339 
  Avg. Gradient Time  : 0.0491s  39.07% 
  Avg. Gaussian Time  : 0.0624s  49.65% 
  Avg. Iteration Time : 0.1257s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0393
Level     2,  Iter     1:    Energy =   0.0414
Level     2,  Iter     2:    Energy =   0.0435
Level     2,  Iter     3:    Energy =   0.0449
Level     2,  Iter     4:    Energy =   0.0459
Level     2,  Iter     5:    Energy =   0.0468
Level     2,  Iter     6:    Energy =   0.0476
Level     2,  Iter     7:    Energy =   0.0483
Level     2,  Iter     8:    Energy =   0.0489
Level     2,  Iter     9:    Energy =   0.0496
Level     2,  Iter    10:    Energy =   0.0502
Level     2,  Iter    11:    Energy =   0.0508
Level     2,  Iter    12:    Energy =   0.0514
Level     2,  Iter    13:    Energy =   0.0521
Level     2,  Iter    14:    Energy =   0.0528
Level     2,  Iter    15:    Energy =   0.0534
Level     2,  Iter    16:    Energy =   0.0541
Level     2,  Iter    17:    Energy =   0.0547
Level     2,  Iter    18:    Energy =   0.0551
Level     2,  Iter    19:    Energy =   0.0554
END OF LEVEL     2    DetJac Range:   0.0719  to   4.8920 
  Avg. Gradient Time  : 0.3435s  37.63% 
  Avg. Gaussian Time  : 0.4725s  51.76% 
  Avg. Iteration Time : 0.9129s 

real	0m30.573s
user	0m54.344s
sys	0m2.916s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.778846 0.784615
+ echo 'CHUNK 0.778846 0.784615 1'
CHUNK 0.778846 0.784615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.778846 0.784615 1
====================================
         PROGRESS: 0.778846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 006
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1904.09 	 OutFr   0.0000 	 RMSD     2.6198
Iter 002 	 Temp     3.72 	 Delta  1814.91 	 OutFr   0.0000 	 RMSD     1.8760
Iter 003 	 Temp     3.46 	 Delta  1702.80 	 OutFr   0.0000 	 RMSD     1.8857
Iter 004 	 Temp     3.22 	 Delta  1590.14 	 OutFr   0.0000 	 RMSD     1.8657
Iter 005 	 Temp     2.99 	 Delta  1488.19 	 OutFr   0.0000 	 RMSD     1.8449
Iter 006 	 Temp     2.78 	 Delta  1398.49 	 OutFr   0.0000 	 RMSD     1.8278
Iter 007 	 Temp     2.59 	 Delta  1320.33 	 OutFr   0.0000 	 RMSD     1.8148
Iter 008 	 Temp     2.41 	 Delta  1252.32 	 OutFr   0.0000 	 RMSD     1.8046
Iter 009 	 Temp     2.24 	 Delta  1192.62 	 OutFr   0.0000 	 RMSD     1.7961
Iter 010 	 Temp     2.08 	 Delta  1139.02 	 OutFr   0.0024 	 RMSD     1.7890
Iter 011 	 Temp     1.94 	 Delta  1089.00 	 OutFr   0.0024 	 RMSD     1.7826
Iter 012 	 Temp     1.80 	 Delta  1040.11 	 OutFr   0.0049 	 RMSD     1.7771
Iter 013 	 Temp     1.67 	 Delta   990.59 	 OutFr   0.0097 	 RMSD     1.7722
Iter 014 	 Temp     1.56 	 Delta   939.54 	 OutFr   0.0122 	 RMSD     1.7672
Iter 015 	 Temp     1.45 	 Delta   886.99 	 OutFr   0.0146 	 RMSD     1.7623
Iter 016 	 Temp     1.35 	 Delta   833.96 	 OutFr   0.0170 	 RMSD     1.7581
Iter 017 	 Temp     1.25 	 Delta   782.37 	 OutFr   0.0170 	 RMSD     1.7546
Iter 018 	 Temp     1.16 	 Delta   733.56 	 OutFr   0.0243 	 RMSD     1.7512
Iter 019 	 Temp     1.08 	 Delta   687.45 	 OutFr   0.0316 	 RMSD     1.7482
Iter 020 	 Temp     1.01 	 Delta   644.13 	 OutFr   0.0438 	 RMSD     1.7460
Iter 021 	 Temp     0.94 	 Delta   603.64 	 OutFr   0.0511 	 RMSD     1.7443
Iter 022 	 Temp     0.87 	 Delta   565.06 	 OutFr   0.0633 	 RMSD     1.7433
Iter 023 	 Temp     0.81 	 Delta   527.47 	 OutFr   0.0706 	 RMSD     1.7428
Iter 024 	 Temp     0.75 	 Delta   492.85 	 OutFr   0.0827 	 RMSD     1.7435
Iter 025 	 Temp     0.70 	 Delta   460.67 	 OutFr   0.1022 	 RMSD     1.7448
Iter 026 	 Temp     0.65 	 Delta   425.47 	 OutFr   0.1119 	 RMSD     1.7472
Iter 027 	 Temp     0.61 	 Delta   388.41 	 OutFr   0.1460 	 RMSD     1.7504
Iter 028 	 Temp     0.56 	 Delta   352.06 	 OutFr   0.1655 	 RMSD     1.7543
Iter 029 	 Temp     0.52 	 Delta   319.42 	 OutFr   0.1898 	 RMSD     1.7586
Iter 030 	 Temp     0.49 	 Delta   289.20 	 OutFr   0.2165 	 RMSD     1.7627
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.mnK7ZdfG/mybin.nii.gz
+ vtklevelset /tmp/ashs.mnK7ZdfG/mybin.nii.gz /tmp/ashs.mnK7ZdfG/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.mnK7ZdfG/mymesh.vtk /tmp/ashs.mnK7ZdfG/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 2972.27260409   0.89569839
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.mnK7ZdfG/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.39325 to 32.8804
   Y : -8.60946 to 37.0529
   Z : -23.9091 to 2.40425
   Image resolution  : 100 by 161 by 104
   Image box origin  : {3.39325, -13.6095, -28.9091}
   Image box size    : {34.7222, 55.9027, 36.3996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.39325, 13.6095, -28.9091]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat -o /tmp/ashs.mnK7ZdfG/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat -o /tmp/ashs.mnK7ZdfG/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.mnK7ZdfG/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.784615 0.790385
+ echo 'CHUNK 0.784615 0.790385 0.5'
CHUNK 0.784615 0.790385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.784615 0.790385 0.5
====================================
         PROGRESS: 0.784615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.mnK7ZdfG/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.mnK7ZdfG/fixed_hw.nii.gz /tmp/ashs.mnK7ZdfG/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.493471, moving = 0.497352
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.36162, 2.42484], [0.982092, 0.964127, 0.989938]
Level     0,  Iter     0:    Energy =   0.0431
Level     0,  Iter     1:    Energy =   0.0493
Level     0,  Iter     2:    Energy =   0.0558
Level     0,  Iter     3:    Energy =   0.0606
Level     0,  Iter     4:    Energy =   0.0639
Level     0,  Iter     5:    Energy =   0.0678
Level     0,  Iter     6:    Energy =   0.0715
Level     0,  Iter     7:    Energy =   0.0748
Level     0,  Iter     8:    Energy =   0.0777
Level     0,  Iter     9:    Energy =   0.0795
Level     0,  Iter    10:    Energy =   0.0808
Level     0,  Iter    11:    Energy =   0.0824
Level     0,  Iter    12:    Energy =   0.0842
Level     0,  Iter    13:    Energy =   0.0853
Level     0,  Iter    14:    Energy =   0.0859
Level     0,  Iter    15:    Energy =   0.0866
Level     0,  Iter    16:    Energy =   0.0868
Level     0,  Iter    17:    Energy =   0.0874
Level     0,  Iter    18:    Energy =   0.0873
Level     0,  Iter    19:    Energy =   0.0879
Level     0,  Iter    20:    Energy =   0.0879
Level     0,  Iter    21:    Energy =   0.0885
Level     0,  Iter    22:    Energy =   0.0884
Level     0,  Iter    23:    Energy =   0.0890
Level     0,  Iter    24:    Energy =   0.0890
Level     0,  Iter    25:    Energy =   0.0895
Level     0,  Iter    26:    Energy =   0.0894
Level     0,  Iter    27:    Energy =   0.0900
Level     0,  Iter    28:    Energy =   0.0899
Level     0,  Iter    29:    Energy =   0.0904
Level     0,  Iter    30:    Energy =   0.0903
Level     0,  Iter    31:    Energy =   0.0908
Level     0,  Iter    32:    Energy =   0.0906
Level     0,  Iter    33:    Energy =   0.0911
Level     0,  Iter    34:    Energy =   0.0909
Level     0,  Iter    35:    Energy =   0.0913
Level     0,  Iter    36:    Energy =   0.0911
Level     0,  Iter    37:    Energy =   0.0917
Level     0,  Iter    38:    Energy =   0.0915
Level     0,  Iter    39:    Energy =   0.0917
Level     0,  Iter    40:    Energy =   0.0916
Level     0,  Iter    41:    Energy =   0.0921
Level     0,  Iter    42:    Energy =   0.0918
Level     0,  Iter    43:    Energy =   0.0919
Level     0,  Iter    44:    Energy =   0.0917
Level     0,  Iter    45:    Energy =   0.0922
Level     0,  Iter    46:    Energy =   0.0920
Level     0,  Iter    47:    Energy =   0.0921
Level     0,  Iter    48:    Energy =   0.0919
Level     0,  Iter    49:    Energy =   0.0924
Level     0,  Iter    50:    Energy =   0.0922
Level     0,  Iter    51:    Energy =   0.0922
Level     0,  Iter    52:    Energy =   0.0920
Level     0,  Iter    53:    Energy =   0.0925
Level     0,  Iter    54:    Energy =   0.0922
Level     0,  Iter    55:    Energy =   0.0924
Level     0,  Iter    56:    Energy =   0.0922
Level     0,  Iter    57:    Energy =   0.0927
Level     0,  Iter    58:    Energy =   0.0925
Level     0,  Iter    59:    Energy =   0.0925
END OF LEVEL     0    DetJac Range:   0.3285  to   2.1155 
  Avg. Gradient Time  : 0.0072s  37.89% 
  Avg. Gaussian Time  : 0.0089s  47.13% 
  Avg. Iteration Time : 0.0189s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19539, 1.21242], [0.491046, 0.488015, 0.494969]
Level     1,  Iter     0:    Energy =   0.0654
Level     1,  Iter     1:    Energy =   0.0691
Level     1,  Iter     2:    Energy =   0.0717
Level     1,  Iter     3:    Energy =   0.0743
Level     1,  Iter     4:    Energy =   0.0762
Level     1,  Iter     5:    Energy =   0.0781
Level     1,  Iter     6:    Energy =   0.0798
Level     1,  Iter     7:    Energy =   0.0811
Level     1,  Iter     8:    Energy =   0.0822
Level     1,  Iter     9:    Energy =   0.0829
Level     1,  Iter    10:    Energy =   0.0835
Level     1,  Iter    11:    Energy =   0.0841
Level     1,  Iter    12:    Energy =   0.0848
Level     1,  Iter    13:    Energy =   0.0855
Level     1,  Iter    14:    Energy =   0.0853
Level     1,  Iter    15:    Energy =   0.0852
Level     1,  Iter    16:    Energy =   0.0853
Level     1,  Iter    17:    Energy =   0.0851
Level     1,  Iter    18:    Energy =   0.0854
Level     1,  Iter    19:    Energy =   0.0853
Level     1,  Iter    20:    Energy =   0.0856
Level     1,  Iter    21:    Energy =   0.0855
Level     1,  Iter    22:    Energy =   0.0859
Level     1,  Iter    23:    Energy =   0.0858
Level     1,  Iter    24:    Energy =   0.0861
Level     1,  Iter    25:    Energy =   0.0859
Level     1,  Iter    26:    Energy =   0.0862
Level     1,  Iter    27:    Energy =   0.0860
Level     1,  Iter    28:    Energy =   0.0864
Level     1,  Iter    29:    Energy =   0.0862
Level     1,  Iter    30:    Energy =   0.0866
Level     1,  Iter    31:    Energy =   0.0864
Level     1,  Iter    32:    Energy =   0.0867
Level     1,  Iter    33:    Energy =   0.0865
Level     1,  Iter    34:    Energy =   0.0869
Level     1,  Iter    35:    Energy =   0.0867
Level     1,  Iter    36:    Energy =   0.0867
Level     1,  Iter    37:    Energy =   0.0865
Level     1,  Iter    38:    Energy =   0.0869
Level     1,  Iter    39:    Energy =   0.0867
Level     1,  Iter    40:    Energy =   0.0870
Level     1,  Iter    41:    Energy =   0.0868
Level     1,  Iter    42:    Energy =   0.0871
Level     1,  Iter    43:    Energy =   0.0870
Level     1,  Iter    44:    Energy =   0.0870
Level     1,  Iter    45:    Energy =   0.0867
Level     1,  Iter    46:    Energy =   0.0872
Level     1,  Iter    47:    Energy =   0.0870
Level     1,  Iter    48:    Energy =   0.0871
Level     1,  Iter    49:    Energy =   0.0868
Level     1,  Iter    50:    Energy =   0.0873
Level     1,  Iter    51:    Energy =   0.0870
Level     1,  Iter    52:    Energy =   0.0872
Level     1,  Iter    53:    Energy =   0.0869
Level     1,  Iter    54:    Energy =   0.0873
Level     1,  Iter    55:    Energy =   0.0871
Level     1,  Iter    56:    Energy =   0.0872
Level     1,  Iter    57:    Energy =   0.0870
Level     1,  Iter    58:    Energy =   0.0874
Level     1,  Iter    59:    Energy =   0.0872
END OF LEVEL     1    DetJac Range:   0.0875  to   3.0840 
  Avg. Gradient Time  : 0.0422s  40.39% 
  Avg. Gaussian Time  : 0.0500s  47.91% 
  Avg. Iteration Time : 0.1045s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0437
Level     2,  Iter     1:    Energy =   0.0464
Level     2,  Iter     2:    Energy =   0.0487
Level     2,  Iter     3:    Energy =   0.0504
Level     2,  Iter     4:    Energy =   0.0520
Level     2,  Iter     5:    Energy =   0.0534
Level     2,  Iter     6:    Energy =   0.0544
Level     2,  Iter     7:    Energy =   0.0553
Level     2,  Iter     8:    Energy =   0.0565
Level     2,  Iter     9:    Energy =   0.0575
Level     2,  Iter    10:    Energy =   0.0583
Level     2,  Iter    11:    Energy =   0.0591
Level     2,  Iter    12:    Energy =   0.0598
Level     2,  Iter    13:    Energy =   0.0605
Level     2,  Iter    14:    Energy =   0.0610
Level     2,  Iter    15:    Energy =   0.0615
Level     2,  Iter    16:    Energy =   0.0619
Level     2,  Iter    17:    Energy =   0.0624
Level     2,  Iter    18:    Energy =   0.0627
Level     2,  Iter    19:    Energy =   0.0630
END OF LEVEL     2    DetJac Range:   0.0404  to   4.8278 
  Avg. Gradient Time  : 0.2976s  37.35% 
  Avg. Gaussian Time  : 0.4156s  52.16% 
  Avg. Iteration Time : 0.7968s 

real	0m26.459s
user	0m46.552s
sys	0m2.684s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.784615 0.790385
+ echo 'CHUNK 0.784615 0.790385 1'
CHUNK 0.784615 0.790385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.784615 0.790385 1
====================================
         PROGRESS: 0.784615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 007
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2600.09 	 OutFr   0.0097 	 RMSD     5.1565
Iter 002 	 Temp     3.72 	 Delta  2182.09 	 OutFr   0.0000 	 RMSD     2.5439
Iter 003 	 Temp     3.46 	 Delta  2013.91 	 OutFr   0.0000 	 RMSD     2.4484
Iter 004 	 Temp     3.22 	 Delta  1887.60 	 OutFr   0.0024 	 RMSD     2.4024
Iter 005 	 Temp     2.99 	 Delta  1776.20 	 OutFr   0.0049 	 RMSD     2.3717
Iter 006 	 Temp     2.78 	 Delta  1673.85 	 OutFr   0.0097 	 RMSD     2.3489
Iter 007 	 Temp     2.59 	 Delta  1579.09 	 OutFr   0.0097 	 RMSD     2.3326
Iter 008 	 Temp     2.41 	 Delta  1491.28 	 OutFr   0.0097 	 RMSD     2.3197
Iter 009 	 Temp     2.24 	 Delta  1409.79 	 OutFr   0.0170 	 RMSD     2.3092
Iter 010 	 Temp     2.08 	 Delta  1334.66 	 OutFr   0.0243 	 RMSD     2.3007
Iter 011 	 Temp     1.94 	 Delta  1266.69 	 OutFr   0.0268 	 RMSD     2.2937
Iter 012 	 Temp     1.80 	 Delta  1206.43 	 OutFr   0.0341 	 RMSD     2.2881
Iter 013 	 Temp     1.67 	 Delta  1153.12 	 OutFr   0.0414 	 RMSD     2.2836
Iter 014 	 Temp     1.56 	 Delta  1104.37 	 OutFr   0.0487 	 RMSD     2.2801
Iter 015 	 Temp     1.45 	 Delta  1056.85 	 OutFr   0.0535 	 RMSD     2.2775
Iter 016 	 Temp     1.35 	 Delta  1007.05 	 OutFr   0.0584 	 RMSD     2.2756
Iter 017 	 Temp     1.25 	 Delta   952.73 	 OutFr   0.0608 	 RMSD     2.2742
Iter 018 	 Temp     1.16 	 Delta   894.19 	 OutFr   0.0730 	 RMSD     2.2735
Iter 019 	 Temp     1.08 	 Delta   833.93 	 OutFr   0.0852 	 RMSD     2.2734
Iter 020 	 Temp     1.01 	 Delta   773.24 	 OutFr   0.0949 	 RMSD     2.2743
Iter 021 	 Temp     0.94 	 Delta   710.58 	 OutFr   0.1119 	 RMSD     2.2760
Iter 022 	 Temp     0.87 	 Delta   645.78 	 OutFr   0.1436 	 RMSD     2.2779
Iter 023 	 Temp     0.81 	 Delta   580.96 	 OutFr   0.1655 	 RMSD     2.2788
Iter 024 	 Temp     0.75 	 Delta   519.12 	 OutFr   0.1825 	 RMSD     2.2786
Iter 025 	 Temp     0.70 	 Delta   457.42 	 OutFr   0.1971 	 RMSD     2.2783
Iter 026 	 Temp     0.65 	 Delta   398.01 	 OutFr   0.2482 	 RMSD     2.2785
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.8K4pAbVE/mybin.nii.gz
+ vtklevelset /tmp/ashs.8K4pAbVE/mybin.nii.gz /tmp/ashs.8K4pAbVE/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.8K4pAbVE/mymesh.vtk /tmp/ashs.8K4pAbVE/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 3008.61818389   0.90665118
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.8K4pAbVE/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 7.47484 to 32.2239
   Y : -15.353 to 29.6711
   Z : -22.8248 to 8.69512
   Image resolution  : 101 by 159 by 119
   Image box origin  : {2.47484, -20.353, -27.8248}
   Image box size    : {35.0694, 55.2083, 41.6495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-2.47484, 20.353, -27.8248]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat -o /tmp/ashs.8K4pAbVE/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat -o /tmp/ashs.8K4pAbVE/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.8K4pAbVE/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.790385 0.796154
+ echo 'CHUNK 0.790385 0.796154 0.5'
CHUNK 0.790385 0.796154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.790385 0.796154 0.5
====================================
         PROGRESS: 0.790385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.8K4pAbVE/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.8K4pAbVE/fixed_hw.nii.gz /tmp/ashs.8K4pAbVE/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.505375, moving = 0.405054
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.39059, 2.40464], [0.953763, 0.975954, 0.981689]
Level     0,  Iter     0:    Energy =   0.0285
Level     0,  Iter     1:    Energy =   0.0345
Level     0,  Iter     2:    Energy =   0.0390
Level     0,  Iter     3:    Energy =   0.0422
Level     0,  Iter     4:    Energy =   0.0447
Level     0,  Iter     5:    Energy =   0.0473
Level     0,  Iter     6:    Energy =   0.0505
Level     0,  Iter     7:    Energy =   0.0533
Level     0,  Iter     8:    Energy =   0.0554
Level     0,  Iter     9:    Energy =   0.0568
Level     0,  Iter    10:    Energy =   0.0582
Level     0,  Iter    11:    Energy =   0.0594
Level     0,  Iter    12:    Energy =   0.0605
Level     0,  Iter    13:    Energy =   0.0614
Level     0,  Iter    14:    Energy =   0.0621
Level     0,  Iter    15:    Energy =   0.0629
Level     0,  Iter    16:    Energy =   0.0638
Level     0,  Iter    17:    Energy =   0.0647
Level     0,  Iter    18:    Energy =   0.0658
Level     0,  Iter    19:    Energy =   0.0665
Level     0,  Iter    20:    Energy =   0.0670
Level     0,  Iter    21:    Energy =   0.0677
Level     0,  Iter    22:    Energy =   0.0680
Level     0,  Iter    23:    Energy =   0.0682
Level     0,  Iter    24:    Energy =   0.0682
Level     0,  Iter    25:    Energy =   0.0687
Level     0,  Iter    26:    Energy =   0.0689
Level     0,  Iter    27:    Energy =   0.0688
Level     0,  Iter    28:    Energy =   0.0688
Level     0,  Iter    29:    Energy =   0.0694
Level     0,  Iter    30:    Energy =   0.0693
Level     0,  Iter    31:    Energy =   0.0697
Level     0,  Iter    32:    Energy =   0.0696
Level     0,  Iter    33:    Energy =   0.0701
Level     0,  Iter    34:    Energy =   0.0700
Level     0,  Iter    35:    Energy =   0.0703
Level     0,  Iter    36:    Energy =   0.0702
Level     0,  Iter    37:    Energy =   0.0705
Level     0,  Iter    38:    Energy =   0.0704
Level     0,  Iter    39:    Energy =   0.0708
Level     0,  Iter    40:    Energy =   0.0707
Level     0,  Iter    41:    Energy =   0.0709
Level     0,  Iter    42:    Energy =   0.0707
Level     0,  Iter    43:    Energy =   0.0710
Level     0,  Iter    44:    Energy =   0.0709
Level     0,  Iter    45:    Energy =   0.0711
Level     0,  Iter    46:    Energy =   0.0710
Level     0,  Iter    47:    Energy =   0.0712
Level     0,  Iter    48:    Energy =   0.0711
Level     0,  Iter    49:    Energy =   0.0714
Level     0,  Iter    50:    Energy =   0.0713
Level     0,  Iter    51:    Energy =   0.0715
Level     0,  Iter    52:    Energy =   0.0714
Level     0,  Iter    53:    Energy =   0.0716
Level     0,  Iter    54:    Energy =   0.0715
Level     0,  Iter    55:    Energy =   0.0716
Level     0,  Iter    56:    Energy =   0.0715
Level     0,  Iter    57:    Energy =   0.0716
Level     0,  Iter    58:    Energy =   0.0716
Level     0,  Iter    59:    Energy =   0.0716
END OF LEVEL     0    DetJac Range:   0.0596  to   2.8239 
  Avg. Gradient Time  : 0.0079s  37.72% 
  Avg. Gaussian Time  : 0.0099s  47.20% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.19529, 1.20232], [0.486232, 0.487977, 0.490844]
Level     1,  Iter     0:    Energy =   0.0504
Level     1,  Iter     1:    Energy =   0.0539
Level     1,  Iter     2:    Energy =   0.0572
Level     1,  Iter     3:    Energy =   0.0602
Level     1,  Iter     4:    Energy =   0.0618
Level     1,  Iter     5:    Energy =   0.0634
Level     1,  Iter     6:    Energy =   0.0648
Level     1,  Iter     7:    Energy =   0.0657
Level     1,  Iter     8:    Energy =   0.0665
Level     1,  Iter     9:    Energy =   0.0674
Level     1,  Iter    10:    Energy =   0.0681
Level     1,  Iter    11:    Energy =   0.0688
Level     1,  Iter    12:    Energy =   0.0694
Level     1,  Iter    13:    Energy =   0.0698
Level     1,  Iter    14:    Energy =   0.0703
Level     1,  Iter    15:    Energy =   0.0706
Level     1,  Iter    16:    Energy =   0.0709
Level     1,  Iter    17:    Energy =   0.0712
Level     1,  Iter    18:    Energy =   0.0714
Level     1,  Iter    19:    Energy =   0.0716
Level     1,  Iter    20:    Energy =   0.0716
Level     1,  Iter    21:    Energy =   0.0715
Level     1,  Iter    22:    Energy =   0.0716
Level     1,  Iter    23:    Energy =   0.0717
Level     1,  Iter    24:    Energy =   0.0717
Level     1,  Iter    25:    Energy =   0.0717
Level     1,  Iter    26:    Energy =   0.0718
Level     1,  Iter    27:    Energy =   0.0717
Level     1,  Iter    28:    Energy =   0.0719
Level     1,  Iter    29:    Energy =   0.0718
Level     1,  Iter    30:    Energy =   0.0719
Level     1,  Iter    31:    Energy =   0.0718
Level     1,  Iter    32:    Energy =   0.0720
Level     1,  Iter    33:    Energy =   0.0720
Level     1,  Iter    34:    Energy =   0.0720
Level     1,  Iter    35:    Energy =   0.0719
Level     1,  Iter    36:    Energy =   0.0721
Level     1,  Iter    37:    Energy =   0.0720
Level     1,  Iter    38:    Energy =   0.0721
Level     1,  Iter    39:    Energy =   0.0720
Level     1,  Iter    40:    Energy =   0.0722
Level     1,  Iter    41:    Energy =   0.0721
Level     1,  Iter    42:    Energy =   0.0722
Level     1,  Iter    43:    Energy =   0.0720
Level     1,  Iter    44:    Energy =   0.0722
Level     1,  Iter    45:    Energy =   0.0721
Level     1,  Iter    46:    Energy =   0.0722
Level     1,  Iter    47:    Energy =   0.0721
Level     1,  Iter    48:    Energy =   0.0722
Level     1,  Iter    49:    Energy =   0.0721
Level     1,  Iter    50:    Energy =   0.0722
Level     1,  Iter    51:    Energy =   0.0722
Level     1,  Iter    52:    Energy =   0.0723
Level     1,  Iter    53:    Energy =   0.0722
Level     1,  Iter    54:    Energy =   0.0723
Level     1,  Iter    55:    Energy =   0.0722
Level     1,  Iter    56:    Energy =   0.0723
Level     1,  Iter    57:    Energy =   0.0722
Level     1,  Iter    58:    Energy =   0.0724
Level     1,  Iter    59:    Energy =   0.0722
END OF LEVEL     1    DetJac Range:   0.0280  to   3.5122 
  Avg. Gradient Time  : 0.0479s  40.26% 
  Avg. Gaussian Time  : 0.0568s  47.78% 
  Avg. Iteration Time : 0.1189s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0383
Level     2,  Iter     1:    Energy =   0.0401
Level     2,  Iter     2:    Energy =   0.0418
Level     2,  Iter     3:    Energy =   0.0433
Level     2,  Iter     4:    Energy =   0.0447
Level     2,  Iter     5:    Energy =   0.0463
Level     2,  Iter     6:    Energy =   0.0474
Level     2,  Iter     7:    Energy =   0.0484
Level     2,  Iter     8:    Energy =   0.0491
Level     2,  Iter     9:    Energy =   0.0497
Level     2,  Iter    10:    Energy =   0.0501
Level     2,  Iter    11:    Energy =   0.0505
Level     2,  Iter    12:    Energy =   0.0508
Level     2,  Iter    13:    Energy =   0.0511
Level     2,  Iter    14:    Energy =   0.0513
Level     2,  Iter    15:    Energy =   0.0516
Level     2,  Iter    16:    Energy =   0.0518
Level     2,  Iter    17:    Energy =   0.0520
Level     2,  Iter    18:    Energy =   0.0522
Level     2,  Iter    19:    Energy =   0.0523
END OF LEVEL     2    DetJac Range:   0.0139  to   4.6887 
  Avg. Gradient Time  : 0.3319s  37.13% 
  Avg. Gaussian Time  : 0.4667s  52.21% 
  Avg. Iteration Time : 0.8938s 

real	0m29.839s
user	0m52.696s
sys	0m3.112s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.790385 0.796154
+ echo 'CHUNK 0.790385 0.796154 1'
CHUNK 0.790385 0.796154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.790385 0.796154 1
====================================
         PROGRESS: 0.790385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 008
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2016.49 	 OutFr   0.0073 	 RMSD     4.1128
Iter 002 	 Temp     3.72 	 Delta  1912.93 	 OutFr   0.0049 	 RMSD     2.5474
Iter 003 	 Temp     3.46 	 Delta  1796.28 	 OutFr   0.0049 	 RMSD     2.4924
Iter 004 	 Temp     3.22 	 Delta  1692.82 	 OutFr   0.0049 	 RMSD     2.4653
Iter 005 	 Temp     2.99 	 Delta  1595.65 	 OutFr   0.0049 	 RMSD     2.4459
Iter 006 	 Temp     2.78 	 Delta  1502.64 	 OutFr   0.0049 	 RMSD     2.4299
Iter 007 	 Temp     2.59 	 Delta  1414.51 	 OutFr   0.0049 	 RMSD     2.4168
Iter 008 	 Temp     2.41 	 Delta  1332.45 	 OutFr   0.0049 	 RMSD     2.4055
Iter 009 	 Temp     2.24 	 Delta  1256.86 	 OutFr   0.0049 	 RMSD     2.3949
Iter 010 	 Temp     2.08 	 Delta  1187.06 	 OutFr   0.0049 	 RMSD     2.3865
Iter 011 	 Temp     1.94 	 Delta  1122.55 	 OutFr   0.0049 	 RMSD     2.3791
Iter 012 	 Temp     1.80 	 Delta  1062.76 	 OutFr   0.0219 	 RMSD     2.3727
Iter 013 	 Temp     1.67 	 Delta  1005.96 	 OutFr   0.0292 	 RMSD     2.3672
Iter 014 	 Temp     1.56 	 Delta   951.88 	 OutFr   0.0365 	 RMSD     2.3629
Iter 015 	 Temp     1.45 	 Delta   903.83 	 OutFr   0.0389 	 RMSD     2.3592
Iter 016 	 Temp     1.35 	 Delta   862.79 	 OutFr   0.0462 	 RMSD     2.3553
Iter 017 	 Temp     1.25 	 Delta   823.87 	 OutFr   0.0511 	 RMSD     2.3515
Iter 018 	 Temp     1.16 	 Delta   782.69 	 OutFr   0.0560 	 RMSD     2.3482
Iter 019 	 Temp     1.08 	 Delta   737.66 	 OutFr   0.0608 	 RMSD     2.3453
Iter 020 	 Temp     1.01 	 Delta   688.66 	 OutFr   0.0681 	 RMSD     2.3431
Iter 021 	 Temp     0.94 	 Delta   635.11 	 OutFr   0.0925 	 RMSD     2.3411
Iter 022 	 Temp     0.87 	 Delta   578.23 	 OutFr   0.1192 	 RMSD     2.3390
Iter 023 	 Temp     0.81 	 Delta   523.29 	 OutFr   0.1314 	 RMSD     2.3369
Iter 024 	 Temp     0.75 	 Delta   474.54 	 OutFr   0.1557 	 RMSD     2.3344
Iter 025 	 Temp     0.70 	 Delta   432.33 	 OutFr   0.1922 	 RMSD     2.3321
Iter 026 	 Temp     0.65 	 Delta   394.24 	 OutFr   0.2165 	 RMSD     2.3307
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.TN763T7j/mybin.nii.gz
+ vtklevelset /tmp/ashs.TN763T7j/mybin.nii.gz /tmp/ashs.TN763T7j/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.TN763T7j/mymesh.vtk /tmp/ashs.TN763T7j/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 2992.59943764   0.90182391
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.TN763T7j/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.44044 to 34.3841
   Y : -15.2807 to 29.1005
   Z : -24.7182 to 3.25643
   Image resolution  : 104 by 157 by 109
   Image box origin  : {3.44044, -20.2807, -29.7182}
   Image box size    : {36.1111, 54.5139, 38.1496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.44044, 20.2807, -29.7182]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat -o /tmp/ashs.TN763T7j/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat -o /tmp/ashs.TN763T7j/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.TN763T7j/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.796154 0.801923
+ echo 'CHUNK 0.796154 0.801923 0.5'
CHUNK 0.796154 0.801923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.796154 0.801923 0.5
====================================
         PROGRESS: 0.796154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.TN763T7j/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.TN763T7j/fixed_hw.nii.gz /tmp/ashs.TN763T7j/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.486874, moving = 0.39224
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.36052, 2.35989], [0.982092, 0.963678, 0.963422]
Level     0,  Iter     0:    Energy =   0.0340
Level     0,  Iter     1:    Energy =   0.0389
Level     0,  Iter     2:    Energy =   0.0433
Level     0,  Iter     3:    Energy =   0.0470
Level     0,  Iter     4:    Energy =   0.0505
Level     0,  Iter     5:    Energy =   0.0545
Level     0,  Iter     6:    Energy =   0.0583
Level     0,  Iter     7:    Energy =   0.0612
Level     0,  Iter     8:    Energy =   0.0640
Level     0,  Iter     9:    Energy =   0.0660
Level     0,  Iter    10:    Energy =   0.0673
Level     0,  Iter    11:    Energy =   0.0687
Level     0,  Iter    12:    Energy =   0.0696
Level     0,  Iter    13:    Energy =   0.0699
Level     0,  Iter    14:    Energy =   0.0703
Level     0,  Iter    15:    Energy =   0.0703
Level     0,  Iter    16:    Energy =   0.0709
Level     0,  Iter    17:    Energy =   0.0707
Level     0,  Iter    18:    Energy =   0.0712
Level     0,  Iter    19:    Energy =   0.0711
Level     0,  Iter    20:    Energy =   0.0715
Level     0,  Iter    21:    Energy =   0.0715
Level     0,  Iter    22:    Energy =   0.0719
Level     0,  Iter    23:    Energy =   0.0718
Level     0,  Iter    24:    Energy =   0.0722
Level     0,  Iter    25:    Energy =   0.0721
Level     0,  Iter    26:    Energy =   0.0725
Level     0,  Iter    27:    Energy =   0.0724
Level     0,  Iter    28:    Energy =   0.0728
Level     0,  Iter    29:    Energy =   0.0727
Level     0,  Iter    30:    Energy =   0.0730
Level     0,  Iter    31:    Energy =   0.0729
Level     0,  Iter    32:    Energy =   0.0732
Level     0,  Iter    33:    Energy =   0.0731
Level     0,  Iter    34:    Energy =   0.0734
Level     0,  Iter    35:    Energy =   0.0734
Level     0,  Iter    36:    Energy =   0.0736
Level     0,  Iter    37:    Energy =   0.0735
Level     0,  Iter    38:    Energy =   0.0738
Level     0,  Iter    39:    Energy =   0.0736
Level     0,  Iter    40:    Energy =   0.0739
Level     0,  Iter    41:    Energy =   0.0738
Level     0,  Iter    42:    Energy =   0.0741
Level     0,  Iter    43:    Energy =   0.0739
Level     0,  Iter    44:    Energy =   0.0742
Level     0,  Iter    45:    Energy =   0.0741
Level     0,  Iter    46:    Energy =   0.0743
Level     0,  Iter    47:    Energy =   0.0742
Level     0,  Iter    48:    Energy =   0.0746
Level     0,  Iter    49:    Energy =   0.0744
Level     0,  Iter    50:    Energy =   0.0747
Level     0,  Iter    51:    Energy =   0.0745
Level     0,  Iter    52:    Energy =   0.0748
Level     0,  Iter    53:    Energy =   0.0746
Level     0,  Iter    54:    Energy =   0.0749
Level     0,  Iter    55:    Energy =   0.0747
Level     0,  Iter    56:    Energy =   0.0750
Level     0,  Iter    57:    Energy =   0.0748
Level     0,  Iter    58:    Energy =   0.0751
Level     0,  Iter    59:    Energy =   0.0749
END OF LEVEL     0    DetJac Range:   0.2585  to   2.0367 
  Avg. Gradient Time  : 0.0073s  37.41% 
  Avg. Gaussian Time  : 0.0094s  47.82% 
  Avg. Iteration Time : 0.0196s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.1952, 1.2014], [0.491046, 0.487938, 0.490469]
Level     1,  Iter     0:    Energy =   0.0469
Level     1,  Iter     1:    Energy =   0.0503
Level     1,  Iter     2:    Energy =   0.0529
Level     1,  Iter     3:    Energy =   0.0551
Level     1,  Iter     4:    Energy =   0.0572
Level     1,  Iter     5:    Energy =   0.0590
Level     1,  Iter     6:    Energy =   0.0604
Level     1,  Iter     7:    Energy =   0.0614
Level     1,  Iter     8:    Energy =   0.0623
Level     1,  Iter     9:    Energy =   0.0630
Level     1,  Iter    10:    Energy =   0.0635
Level     1,  Iter    11:    Energy =   0.0639
Level     1,  Iter    12:    Energy =   0.0643
Level     1,  Iter    13:    Energy =   0.0646
Level     1,  Iter    14:    Energy =   0.0649
Level     1,  Iter    15:    Energy =   0.0651
Level     1,  Iter    16:    Energy =   0.0653
Level     1,  Iter    17:    Energy =   0.0655
Level     1,  Iter    18:    Energy =   0.0657
Level     1,  Iter    19:    Energy =   0.0659
Level     1,  Iter    20:    Energy =   0.0661
Level     1,  Iter    21:    Energy =   0.0663
Level     1,  Iter    22:    Energy =   0.0665
Level     1,  Iter    23:    Energy =   0.0667
Level     1,  Iter    24:    Energy =   0.0669
Level     1,  Iter    25:    Energy =   0.0671
Level     1,  Iter    26:    Energy =   0.0673
Level     1,  Iter    27:    Energy =   0.0675
Level     1,  Iter    28:    Energy =   0.0678
Level     1,  Iter    29:    Energy =   0.0681
Level     1,  Iter    30:    Energy =   0.0684
Level     1,  Iter    31:    Energy =   0.0687
Level     1,  Iter    32:    Energy =   0.0691
Level     1,  Iter    33:    Energy =   0.0694
Level     1,  Iter    34:    Energy =   0.0697
Level     1,  Iter    35:    Energy =   0.0700
Level     1,  Iter    36:    Energy =   0.0704
Level     1,  Iter    37:    Energy =   0.0706
Level     1,  Iter    38:    Energy =   0.0707
Level     1,  Iter    39:    Energy =   0.0709
Level     1,  Iter    40:    Energy =   0.0707
Level     1,  Iter    41:    Energy =   0.0709
Level     1,  Iter    42:    Energy =   0.0710
Level     1,  Iter    43:    Energy =   0.0710
Level     1,  Iter    44:    Energy =   0.0710
Level     1,  Iter    45:    Energy =   0.0712
Level     1,  Iter    46:    Energy =   0.0711
Level     1,  Iter    47:    Energy =   0.0712
Level     1,  Iter    48:    Energy =   0.0711
Level     1,  Iter    49:    Energy =   0.0713
Level     1,  Iter    50:    Energy =   0.0714
Level     1,  Iter    51:    Energy =   0.0715
Level     1,  Iter    52:    Energy =   0.0713
Level     1,  Iter    53:    Energy =   0.0715
Level     1,  Iter    54:    Energy =   0.0716
Level     1,  Iter    55:    Energy =   0.0717
Level     1,  Iter    56:    Energy =   0.0717
Level     1,  Iter    57:    Energy =   0.0718
Level     1,  Iter    58:    Energy =   0.0717
Level     1,  Iter    59:    Energy =   0.0719
END OF LEVEL     1    DetJac Range:   0.0604  to   2.9071 
  Avg. Gradient Time  : 0.0442s  39.94% 
  Avg. Gaussian Time  : 0.0533s  48.20% 
  Avg. Iteration Time : 0.1106s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0353
Level     2,  Iter     1:    Energy =   0.0369
Level     2,  Iter     2:    Energy =   0.0382
Level     2,  Iter     3:    Energy =   0.0395
Level     2,  Iter     4:    Energy =   0.0406
Level     2,  Iter     5:    Energy =   0.0415
Level     2,  Iter     6:    Energy =   0.0423
Level     2,  Iter     7:    Energy =   0.0430
Level     2,  Iter     8:    Energy =   0.0438
Level     2,  Iter     9:    Energy =   0.0445
Level     2,  Iter    10:    Energy =   0.0451
Level     2,  Iter    11:    Energy =   0.0457
Level     2,  Iter    12:    Energy =   0.0464
Level     2,  Iter    13:    Energy =   0.0470
Level     2,  Iter    14:    Energy =   0.0477
Level     2,  Iter    15:    Energy =   0.0482
Level     2,  Iter    16:    Energy =   0.0486
Level     2,  Iter    17:    Energy =   0.0489
Level     2,  Iter    18:    Energy =   0.0492
Level     2,  Iter    19:    Energy =   0.0495
END OF LEVEL     2    DetJac Range:   0.0389  to   4.6200 
  Avg. Gradient Time  : 0.3097s  37.25% 
  Avg. Gaussian Time  : 0.4333s  52.11% 
  Avg. Iteration Time : 0.8314s 

real	0m27.750s
user	0m49.120s
sys	0m2.720s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.796154 0.801923
+ echo 'CHUNK 0.796154 0.801923 1'
CHUNK 0.796154 0.801923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.796154 0.801923 1
====================================
         PROGRESS: 0.796154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 009
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2433.53 	 OutFr   0.0000 	 RMSD     3.1475
Iter 002 	 Temp     3.72 	 Delta  2380.50 	 OutFr   0.0000 	 RMSD     2.2644
Iter 003 	 Temp     3.46 	 Delta  2291.63 	 OutFr   0.0000 	 RMSD     2.2702
Iter 004 	 Temp     3.22 	 Delta  2183.04 	 OutFr   0.0000 	 RMSD     2.2806
Iter 005 	 Temp     2.99 	 Delta  2063.82 	 OutFr   0.0000 	 RMSD     2.2777
Iter 006 	 Temp     2.78 	 Delta  1939.82 	 OutFr   0.0000 	 RMSD     2.2693
Iter 007 	 Temp     2.59 	 Delta  1814.21 	 OutFr   0.0000 	 RMSD     2.2581
Iter 008 	 Temp     2.41 	 Delta  1689.31 	 OutFr   0.0000 	 RMSD     2.2458
Iter 009 	 Temp     2.24 	 Delta  1567.29 	 OutFr   0.0000 	 RMSD     2.2336
Iter 010 	 Temp     2.08 	 Delta  1450.21 	 OutFr   0.0170 	 RMSD     2.2216
Iter 011 	 Temp     1.94 	 Delta  1340.19 	 OutFr   0.0243 	 RMSD     2.2106
Iter 012 	 Temp     1.80 	 Delta  1239.24 	 OutFr   0.0268 	 RMSD     2.2015
Iter 013 	 Temp     1.67 	 Delta  1148.39 	 OutFr   0.0341 	 RMSD     2.1931
Iter 014 	 Temp     1.56 	 Delta  1067.56 	 OutFr   0.0341 	 RMSD     2.1864
Iter 015 	 Temp     1.45 	 Delta   996.33 	 OutFr   0.0414 	 RMSD     2.1807
Iter 016 	 Temp     1.35 	 Delta   934.92 	 OutFr   0.0511 	 RMSD     2.1756
Iter 017 	 Temp     1.25 	 Delta   883.74 	 OutFr   0.0608 	 RMSD     2.1715
Iter 018 	 Temp     1.16 	 Delta   840.68 	 OutFr   0.0657 	 RMSD     2.1680
Iter 019 	 Temp     1.08 	 Delta   800.87 	 OutFr   0.0730 	 RMSD     2.1652
Iter 020 	 Temp     1.01 	 Delta   757.89 	 OutFr   0.0827 	 RMSD     2.1626
Iter 021 	 Temp     0.94 	 Delta   706.01 	 OutFr   0.0949 	 RMSD     2.1601
Iter 022 	 Temp     0.87 	 Delta   644.99 	 OutFr   0.1144 	 RMSD     2.1581
Iter 023 	 Temp     0.81 	 Delta   577.58 	 OutFr   0.1363 	 RMSD     2.1574
Iter 024 	 Temp     0.75 	 Delta   502.24 	 OutFr   0.1557 	 RMSD     2.1592
Iter 025 	 Temp     0.70 	 Delta   435.32 	 OutFr   0.1922 	 RMSD     2.1676
Iter 026 	 Temp     0.65 	 Delta   384.21 	 OutFr   0.2287 	 RMSD     2.1784
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.uVtByeWU/mybin.nii.gz
+ vtklevelset /tmp/ashs.uVtByeWU/mybin.nii.gz /tmp/ashs.uVtByeWU/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.uVtByeWU/mymesh.vtk /tmp/ashs.uVtByeWU/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 3077.56715320   0.92742904
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.uVtByeWU/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.10488 to 34.5419
   Y : -8.13257 to 38.2198
   Z : -23.0831 to 4.40889
   Image resolution  : 103 by 163 by 108
   Image box origin  : {4.10488, -13.1326, -28.0831}
   Image box size    : {35.7639, 56.5972, 37.7996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.10488, 13.1326, -28.0831]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat -o /tmp/ashs.uVtByeWU/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat -o /tmp/ashs.uVtByeWU/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.uVtByeWU/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.801923 0.807692
+ echo 'CHUNK 0.801923 0.807692 0.5'
CHUNK 0.801923 0.807692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.801923 0.807692 0.5
====================================
         PROGRESS: 0.801923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.uVtByeWU/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.uVtByeWU/fixed_hw.nii.gz /tmp/ashs.uVtByeWU/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.496261, moving = 0.728753
LEVEL 1 of 3
  Smoothing sigmas: [2.38249, 2.39096, 2.42484], [0.972649, 0.976104, 0.989938]
Level     0,  Iter     0:    Energy =   0.0510
Level     0,  Iter     1:    Energy =   0.0591
Level     0,  Iter     2:    Energy =   0.0675
Level     0,  Iter     3:    Energy =   0.0732
Level     0,  Iter     4:    Energy =   0.0780
Level     0,  Iter     5:    Energy =   0.0817
Level     0,  Iter     6:    Energy =   0.0850
Level     0,  Iter     7:    Energy =   0.0875
Level     0,  Iter     8:    Energy =   0.0896
Level     0,  Iter     9:    Energy =   0.0907
Level     0,  Iter    10:    Energy =   0.0916
Level     0,  Iter    11:    Energy =   0.0923
Level     0,  Iter    12:    Energy =   0.0931
Level     0,  Iter    13:    Energy =   0.0936
Level     0,  Iter    14:    Energy =   0.0942
Level     0,  Iter    15:    Energy =   0.0947
Level     0,  Iter    16:    Energy =   0.0951
Level     0,  Iter    17:    Energy =   0.0954
Level     0,  Iter    18:    Energy =   0.0958
Level     0,  Iter    19:    Energy =   0.0958
Level     0,  Iter    20:    Energy =   0.0961
Level     0,  Iter    21:    Energy =   0.0961
Level     0,  Iter    22:    Energy =   0.0963
Level     0,  Iter    23:    Energy =   0.0962
Level     0,  Iter    24:    Energy =   0.0964
Level     0,  Iter    25:    Energy =   0.0964
Level     0,  Iter    26:    Energy =   0.0966
Level     0,  Iter    27:    Energy =   0.0965
Level     0,  Iter    28:    Energy =   0.0967
Level     0,  Iter    29:    Energy =   0.0967
Level     0,  Iter    30:    Energy =   0.0969
Level     0,  Iter    31:    Energy =   0.0968
Level     0,  Iter    32:    Energy =   0.0970
Level     0,  Iter    33:    Energy =   0.0970
Level     0,  Iter    34:    Energy =   0.0971
Level     0,  Iter    35:    Energy =   0.0970
Level     0,  Iter    36:    Energy =   0.0972
Level     0,  Iter    37:    Energy =   0.0972
Level     0,  Iter    38:    Energy =   0.0973
Level     0,  Iter    39:    Energy =   0.0972
Level     0,  Iter    40:    Energy =   0.0973
Level     0,  Iter    41:    Energy =   0.0973
Level     0,  Iter    42:    Energy =   0.0974
Level     0,  Iter    43:    Energy =   0.0973
Level     0,  Iter    44:    Energy =   0.0974
Level     0,  Iter    45:    Energy =   0.0974
Level     0,  Iter    46:    Energy =   0.0975
Level     0,  Iter    47:    Energy =   0.0974
Level     0,  Iter    48:    Energy =   0.0975
Level     0,  Iter    49:    Energy =   0.0975
Level     0,  Iter    50:    Energy =   0.0976
Level     0,  Iter    51:    Energy =   0.0975
Level     0,  Iter    52:    Energy =   0.0976
Level     0,  Iter    53:    Energy =   0.0976
Level     0,  Iter    54:    Energy =   0.0977
Level     0,  Iter    55:    Energy =   0.0975
Level     0,  Iter    56:    Energy =   0.0977
Level     0,  Iter    57:    Energy =   0.0977
Level     0,  Iter    58:    Energy =   0.0978
Level     0,  Iter    59:    Energy =   0.0976
END OF LEVEL     0    DetJac Range:   0.3256  to   2.3873 
  Avg. Gradient Time  : 0.0075s  37.61% 
  Avg. Gaussian Time  : 0.0095s  47.71% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19125, 1.19548, 1.21242], [0.486324, 0.488052, 0.494969]
Level     1,  Iter     0:    Energy =   0.0636
Level     1,  Iter     1:    Energy =   0.0672
Level     1,  Iter     2:    Energy =   0.0699
Level     1,  Iter     3:    Energy =   0.0731
Level     1,  Iter     4:    Energy =   0.0755
Level     1,  Iter     5:    Energy =   0.0772
Level     1,  Iter     6:    Energy =   0.0784
Level     1,  Iter     7:    Energy =   0.0794
Level     1,  Iter     8:    Energy =   0.0797
Level     1,  Iter     9:    Energy =   0.0801
Level     1,  Iter    10:    Energy =   0.0806
Level     1,  Iter    11:    Energy =   0.0807
Level     1,  Iter    12:    Energy =   0.0815
Level     1,  Iter    13:    Energy =   0.0814
Level     1,  Iter    14:    Energy =   0.0824
Level     1,  Iter    15:    Energy =   0.0822
Level     1,  Iter    16:    Energy =   0.0831
Level     1,  Iter    17:    Energy =   0.0829
Level     1,  Iter    18:    Energy =   0.0837
Level     1,  Iter    19:    Energy =   0.0834
Level     1,  Iter    20:    Energy =   0.0840
Level     1,  Iter    21:    Energy =   0.0837
Level     1,  Iter    22:    Energy =   0.0842
Level     1,  Iter    23:    Energy =   0.0839
Level     1,  Iter    24:    Energy =   0.0844
Level     1,  Iter    25:    Energy =   0.0841
Level     1,  Iter    26:    Energy =   0.0846
Level     1,  Iter    27:    Energy =   0.0843
Level     1,  Iter    28:    Energy =   0.0847
Level     1,  Iter    29:    Energy =   0.0844
Level     1,  Iter    30:    Energy =   0.0849
Level     1,  Iter    31:    Energy =   0.0846
Level     1,  Iter    32:    Energy =   0.0850
Level     1,  Iter    33:    Energy =   0.0847
Level     1,  Iter    34:    Energy =   0.0851
Level     1,  Iter    35:    Energy =   0.0848
Level     1,  Iter    36:    Energy =   0.0852
Level     1,  Iter    37:    Energy =   0.0849
Level     1,  Iter    38:    Energy =   0.0852
Level     1,  Iter    39:    Energy =   0.0850
Level     1,  Iter    40:    Energy =   0.0853
Level     1,  Iter    41:    Energy =   0.0850
Level     1,  Iter    42:    Energy =   0.0853
Level     1,  Iter    43:    Energy =   0.0851
Level     1,  Iter    44:    Energy =   0.0854
Level     1,  Iter    45:    Energy =   0.0851
Level     1,  Iter    46:    Energy =   0.0854
Level     1,  Iter    47:    Energy =   0.0851
Level     1,  Iter    48:    Energy =   0.0854
Level     1,  Iter    49:    Energy =   0.0852
Level     1,  Iter    50:    Energy =   0.0854
Level     1,  Iter    51:    Energy =   0.0852
Level     1,  Iter    52:    Energy =   0.0854
Level     1,  Iter    53:    Energy =   0.0851
Level     1,  Iter    54:    Energy =   0.0854
Level     1,  Iter    55:    Energy =   0.0851
Level     1,  Iter    56:    Energy =   0.0854
Level     1,  Iter    57:    Energy =   0.0851
Level     1,  Iter    58:    Energy =   0.0854
Level     1,  Iter    59:    Energy =   0.0851
END OF LEVEL     1    DetJac Range:   0.1917  to   2.8381 
  Avg. Gradient Time  : 0.0440s  39.73% 
  Avg. Gaussian Time  : 0.0535s  48.32% 
  Avg. Iteration Time : 0.1107s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0436
Level     2,  Iter     1:    Energy =   0.0456
Level     2,  Iter     2:    Energy =   0.0478
Level     2,  Iter     3:    Energy =   0.0499
Level     2,  Iter     4:    Energy =   0.0514
Level     2,  Iter     5:    Energy =   0.0525
Level     2,  Iter     6:    Energy =   0.0533
Level     2,  Iter     7:    Energy =   0.0541
Level     2,  Iter     8:    Energy =   0.0548
Level     2,  Iter     9:    Energy =   0.0557
Level     2,  Iter    10:    Energy =   0.0569
Level     2,  Iter    11:    Energy =   0.0579
Level     2,  Iter    12:    Energy =   0.0588
Level     2,  Iter    13:    Energy =   0.0594
Level     2,  Iter    14:    Energy =   0.0600
Level     2,  Iter    15:    Energy =   0.0604
Level     2,  Iter    16:    Energy =   0.0608
Level     2,  Iter    17:    Energy =   0.0612
Level     2,  Iter    18:    Energy =   0.0614
Level     2,  Iter    19:    Energy =   0.0617
END OF LEVEL     2    DetJac Range:   0.1395  to   3.8805 
  Avg. Gradient Time  : 0.3179s  37.37% 
  Avg. Gaussian Time  : 0.4424s  52.00% 
  Avg. Iteration Time : 0.8507s 

real	0m28.213s
user	0m49.936s
sys	0m2.860s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.801923 0.807692
+ echo 'CHUNK 0.801923 0.807692 1'
CHUNK 0.801923 0.807692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.801923 0.807692 1
====================================
         PROGRESS: 0.801923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 010
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2587.24 	 OutFr   0.0170 	 RMSD     4.9162
Iter 002 	 Temp     3.72 	 Delta  2359.16 	 OutFr   0.0000 	 RMSD     2.4245
Iter 003 	 Temp     3.46 	 Delta  2122.84 	 OutFr   0.0000 	 RMSD     2.3097
Iter 004 	 Temp     3.22 	 Delta  1939.12 	 OutFr   0.0000 	 RMSD     2.2634
Iter 005 	 Temp     2.99 	 Delta  1795.08 	 OutFr   0.0000 	 RMSD     2.2372
Iter 006 	 Temp     2.78 	 Delta  1680.33 	 OutFr   0.0000 	 RMSD     2.2188
Iter 007 	 Temp     2.59 	 Delta  1588.06 	 OutFr   0.0000 	 RMSD     2.2061
Iter 008 	 Temp     2.41 	 Delta  1513.66 	 OutFr   0.0000 	 RMSD     2.1964
Iter 009 	 Temp     2.24 	 Delta  1453.46 	 OutFr   0.0024 	 RMSD     2.1884
Iter 010 	 Temp     2.08 	 Delta  1404.04 	 OutFr   0.0073 	 RMSD     2.1816
Iter 011 	 Temp     1.94 	 Delta  1361.65 	 OutFr   0.0073 	 RMSD     2.1758
Iter 012 	 Temp     1.80 	 Delta  1322.24 	 OutFr   0.0097 	 RMSD     2.1710
Iter 013 	 Temp     1.67 	 Delta  1281.85 	 OutFr   0.0122 	 RMSD     2.1669
Iter 014 	 Temp     1.56 	 Delta  1236.75 	 OutFr   0.0146 	 RMSD     2.1634
Iter 015 	 Temp     1.45 	 Delta  1183.97 	 OutFr   0.0195 	 RMSD     2.1602
Iter 016 	 Temp     1.35 	 Delta  1123.18 	 OutFr   0.0195 	 RMSD     2.1577
Iter 017 	 Temp     1.25 	 Delta  1057.07 	 OutFr   0.0268 	 RMSD     2.1560
Iter 018 	 Temp     1.16 	 Delta   989.73 	 OutFr   0.0389 	 RMSD     2.1551
Iter 019 	 Temp     1.08 	 Delta   926.25 	 OutFr   0.0487 	 RMSD     2.1548
Iter 020 	 Temp     1.01 	 Delta   867.35 	 OutFr   0.0584 	 RMSD     2.1545
Iter 021 	 Temp     0.94 	 Delta   807.25 	 OutFr   0.0657 	 RMSD     2.1541
Iter 022 	 Temp     0.87 	 Delta   741.81 	 OutFr   0.0803 	 RMSD     2.1536
Iter 023 	 Temp     0.81 	 Delta   670.41 	 OutFr   0.1046 	 RMSD     2.1528
Iter 024 	 Temp     0.75 	 Delta   596.54 	 OutFr   0.1241 	 RMSD     2.1525
Iter 025 	 Temp     0.70 	 Delta   529.50 	 OutFr   0.1679 	 RMSD     2.1527
Iter 026 	 Temp     0.65 	 Delta   471.54 	 OutFr   0.1995 	 RMSD     2.1529
Iter 027 	 Temp     0.61 	 Delta   421.64 	 OutFr   0.2360 	 RMSD     2.1532
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.xedeD8OX/mybin.nii.gz
+ vtklevelset /tmp/ashs.xedeD8OX/mybin.nii.gz /tmp/ashs.xedeD8OX/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.xedeD8OX/mymesh.vtk /tmp/ashs.xedeD8OX/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 3183.56478629   0.95937157
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.xedeD8OX/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 7.86945 to 33.9516
   Y : -11.375 to 33.0348
   Z : -16.694 to 14.8186
   Image resolution  : 104 by 157 by 119
   Image box origin  : {2.86945, -16.375, -21.694}
   Image box size    : {36.1111, 54.5139, 41.6495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-2.86945, 16.375, -21.694]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat -o /tmp/ashs.xedeD8OX/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat -o /tmp/ashs.xedeD8OX/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.xedeD8OX/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.807692 0.813462
+ echo 'CHUNK 0.807692 0.813462 0.5'
CHUNK 0.807692 0.813462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.807692 0.813462 0.5
====================================
         PROGRESS: 0.807692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.xedeD8OX/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.xedeD8OX/fixed_hw.nii.gz /tmp/ashs.xedeD8OX/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.496665, moving = 0.462673
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.36052, 2.40464], [0.982092, 0.963678, 0.981689]
Level     0,  Iter     0:    Energy =   0.0432
Level     0,  Iter     1:    Energy =   0.0487
Level     0,  Iter     2:    Energy =   0.0531
Level     0,  Iter     3:    Energy =   0.0575
Level     0,  Iter     4:    Energy =   0.0610
Level     0,  Iter     5:    Energy =   0.0641
Level     0,  Iter     6:    Energy =   0.0661
Level     0,  Iter     7:    Energy =   0.0674
Level     0,  Iter     8:    Energy =   0.0679
Level     0,  Iter     9:    Energy =   0.0691
Level     0,  Iter    10:    Energy =   0.0696
Level     0,  Iter    11:    Energy =   0.0707
Level     0,  Iter    12:    Energy =   0.0711
Level     0,  Iter    13:    Energy =   0.0720
Level     0,  Iter    14:    Energy =   0.0723
Level     0,  Iter    15:    Energy =   0.0730
Level     0,  Iter    16:    Energy =   0.0732
Level     0,  Iter    17:    Energy =   0.0737
Level     0,  Iter    18:    Energy =   0.0739
Level     0,  Iter    19:    Energy =   0.0745
Level     0,  Iter    20:    Energy =   0.0745
Level     0,  Iter    21:    Energy =   0.0750
Level     0,  Iter    22:    Energy =   0.0751
Level     0,  Iter    23:    Energy =   0.0755
Level     0,  Iter    24:    Energy =   0.0756
Level     0,  Iter    25:    Energy =   0.0759
Level     0,  Iter    26:    Energy =   0.0760
Level     0,  Iter    27:    Energy =   0.0764
Level     0,  Iter    28:    Energy =   0.0764
Level     0,  Iter    29:    Energy =   0.0768
Level     0,  Iter    30:    Energy =   0.0767
Level     0,  Iter    31:    Energy =   0.0771
Level     0,  Iter    32:    Energy =   0.0770
Level     0,  Iter    33:    Energy =   0.0773
Level     0,  Iter    34:    Energy =   0.0772
Level     0,  Iter    35:    Energy =   0.0776
Level     0,  Iter    36:    Energy =   0.0774
Level     0,  Iter    37:    Energy =   0.0778
Level     0,  Iter    38:    Energy =   0.0776
Level     0,  Iter    39:    Energy =   0.0779
Level     0,  Iter    40:    Energy =   0.0777
Level     0,  Iter    41:    Energy =   0.0780
Level     0,  Iter    42:    Energy =   0.0779
Level     0,  Iter    43:    Energy =   0.0782
Level     0,  Iter    44:    Energy =   0.0780
Level     0,  Iter    45:    Energy =   0.0783
Level     0,  Iter    46:    Energy =   0.0781
Level     0,  Iter    47:    Energy =   0.0784
Level     0,  Iter    48:    Energy =   0.0782
Level     0,  Iter    49:    Energy =   0.0785
Level     0,  Iter    50:    Energy =   0.0783
Level     0,  Iter    51:    Energy =   0.0785
Level     0,  Iter    52:    Energy =   0.0784
Level     0,  Iter    53:    Energy =   0.0786
Level     0,  Iter    54:    Energy =   0.0784
Level     0,  Iter    55:    Energy =   0.0787
Level     0,  Iter    56:    Energy =   0.0785
Level     0,  Iter    57:    Energy =   0.0787
Level     0,  Iter    58:    Energy =   0.0785
Level     0,  Iter    59:    Energy =   0.0788
END OF LEVEL     0    DetJac Range:   0.2550  to   2.6082 
  Avg. Gradient Time  : 0.0069s  37.60% 
  Avg. Gaussian Time  : 0.0087s  47.30% 
  Avg. Iteration Time : 0.0184s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.1952, 1.20232], [0.491046, 0.487938, 0.490844]
Level     1,  Iter     0:    Energy =   0.0545
Level     1,  Iter     1:    Energy =   0.0577
Level     1,  Iter     2:    Energy =   0.0604
Level     1,  Iter     3:    Energy =   0.0625
Level     1,  Iter     4:    Energy =   0.0641
Level     1,  Iter     5:    Energy =   0.0655
Level     1,  Iter     6:    Energy =   0.0668
Level     1,  Iter     7:    Energy =   0.0678
Level     1,  Iter     8:    Energy =   0.0686
Level     1,  Iter     9:    Energy =   0.0693
Level     1,  Iter    10:    Energy =   0.0698
Level     1,  Iter    11:    Energy =   0.0703
Level     1,  Iter    12:    Energy =   0.0707
Level     1,  Iter    13:    Energy =   0.0710
Level     1,  Iter    14:    Energy =   0.0713
Level     1,  Iter    15:    Energy =   0.0715
Level     1,  Iter    16:    Energy =   0.0717
Level     1,  Iter    17:    Energy =   0.0719
Level     1,  Iter    18:    Energy =   0.0720
Level     1,  Iter    19:    Energy =   0.0721
Level     1,  Iter    20:    Energy =   0.0722
Level     1,  Iter    21:    Energy =   0.0723
Level     1,  Iter    22:    Energy =   0.0724
Level     1,  Iter    23:    Energy =   0.0725
Level     1,  Iter    24:    Energy =   0.0726
Level     1,  Iter    25:    Energy =   0.0726
Level     1,  Iter    26:    Energy =   0.0727
Level     1,  Iter    27:    Energy =   0.0727
Level     1,  Iter    28:    Energy =   0.0728
Level     1,  Iter    29:    Energy =   0.0728
Level     1,  Iter    30:    Energy =   0.0729
Level     1,  Iter    31:    Energy =   0.0729
Level     1,  Iter    32:    Energy =   0.0729
Level     1,  Iter    33:    Energy =   0.0730
Level     1,  Iter    34:    Energy =   0.0731
Level     1,  Iter    35:    Energy =   0.0731
Level     1,  Iter    36:    Energy =   0.0731
Level     1,  Iter    37:    Energy =   0.0732
Level     1,  Iter    38:    Energy =   0.0732
Level     1,  Iter    39:    Energy =   0.0733
Level     1,  Iter    40:    Energy =   0.0733
Level     1,  Iter    41:    Energy =   0.0733
Level     1,  Iter    42:    Energy =   0.0733
Level     1,  Iter    43:    Energy =   0.0734
Level     1,  Iter    44:    Energy =   0.0734
Level     1,  Iter    45:    Energy =   0.0734
Level     1,  Iter    46:    Energy =   0.0734
Level     1,  Iter    47:    Energy =   0.0734
Level     1,  Iter    48:    Energy =   0.0734
Level     1,  Iter    49:    Energy =   0.0735
Level     1,  Iter    50:    Energy =   0.0735
Level     1,  Iter    51:    Energy =   0.0735
Level     1,  Iter    52:    Energy =   0.0735
Level     1,  Iter    53:    Energy =   0.0735
Level     1,  Iter    54:    Energy =   0.0735
Level     1,  Iter    55:    Energy =   0.0735
Level     1,  Iter    56:    Energy =   0.0735
Level     1,  Iter    57:    Energy =   0.0735
Level     1,  Iter    58:    Energy =   0.0735
Level     1,  Iter    59:    Energy =   0.0736
END OF LEVEL     1    DetJac Range:   0.0998  to   3.3519 
  Avg. Gradient Time  : 0.0436s  40.67% 
  Avg. Gaussian Time  : 0.0510s  47.58% 
  Avg. Iteration Time : 0.1071s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0389
Level     2,  Iter     1:    Energy =   0.0411
Level     2,  Iter     2:    Energy =   0.0429
Level     2,  Iter     3:    Energy =   0.0443
Level     2,  Iter     4:    Energy =   0.0458
Level     2,  Iter     5:    Energy =   0.0470
Level     2,  Iter     6:    Energy =   0.0478
Level     2,  Iter     7:    Energy =   0.0485
Level     2,  Iter     8:    Energy =   0.0494
Level     2,  Iter     9:    Energy =   0.0502
Level     2,  Iter    10:    Energy =   0.0508
Level     2,  Iter    11:    Energy =   0.0514
Level     2,  Iter    12:    Energy =   0.0520
Level     2,  Iter    13:    Energy =   0.0526
Level     2,  Iter    14:    Energy =   0.0531
Level     2,  Iter    15:    Energy =   0.0536
Level     2,  Iter    16:    Energy =   0.0540
Level     2,  Iter    17:    Energy =   0.0544
Level     2,  Iter    18:    Energy =   0.0548
Level     2,  Iter    19:    Energy =   0.0551
END OF LEVEL     2    DetJac Range:   0.0728  to   4.7982 
  Avg. Gradient Time  : 0.3087s  37.84% 
  Avg. Gaussian Time  : 0.4213s  51.63% 
  Avg. Iteration Time : 0.8160s 

real	0m26.995s
user	0m47.636s
sys	0m2.856s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.807692 0.813462
+ echo 'CHUNK 0.807692 0.813462 1'
CHUNK 0.807692 0.813462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.807692 0.813462 1
====================================
         PROGRESS: 0.807692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 011
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2634.02 	 OutFr   0.0000 	 RMSD     3.9516
Iter 002 	 Temp     3.72 	 Delta  2369.22 	 OutFr   0.0000 	 RMSD     2.4356
Iter 003 	 Temp     3.46 	 Delta  2189.29 	 OutFr   0.0000 	 RMSD     2.4012
Iter 004 	 Temp     3.22 	 Delta  2031.37 	 OutFr   0.0024 	 RMSD     2.3843
Iter 005 	 Temp     2.99 	 Delta  1885.89 	 OutFr   0.0024 	 RMSD     2.3728
Iter 006 	 Temp     2.78 	 Delta  1750.47 	 OutFr   0.0024 	 RMSD     2.3633
Iter 007 	 Temp     2.59 	 Delta  1626.33 	 OutFr   0.0049 	 RMSD     2.3557
Iter 008 	 Temp     2.41 	 Delta  1518.13 	 OutFr   0.0097 	 RMSD     2.3489
Iter 009 	 Temp     2.24 	 Delta  1430.12 	 OutFr   0.0146 	 RMSD     2.3425
Iter 010 	 Temp     2.08 	 Delta  1355.98 	 OutFr   0.0170 	 RMSD     2.3374
Iter 011 	 Temp     1.94 	 Delta  1289.21 	 OutFr   0.0268 	 RMSD     2.3332
Iter 012 	 Temp     1.80 	 Delta  1228.98 	 OutFr   0.0316 	 RMSD     2.3299
Iter 013 	 Temp     1.67 	 Delta  1173.48 	 OutFr   0.0389 	 RMSD     2.3277
Iter 014 	 Temp     1.56 	 Delta  1119.48 	 OutFr   0.0414 	 RMSD     2.3267
Iter 015 	 Temp     1.45 	 Delta  1064.54 	 OutFr   0.0535 	 RMSD     2.3257
Iter 016 	 Temp     1.35 	 Delta  1008.37 	 OutFr   0.0608 	 RMSD     2.3252
Iter 017 	 Temp     1.25 	 Delta   952.04 	 OutFr   0.0730 	 RMSD     2.3249
Iter 018 	 Temp     1.16 	 Delta   895.73 	 OutFr   0.0827 	 RMSD     2.3244
Iter 019 	 Temp     1.08 	 Delta   838.97 	 OutFr   0.0900 	 RMSD     2.3236
Iter 020 	 Temp     1.01 	 Delta   781.59 	 OutFr   0.0998 	 RMSD     2.3229
Iter 021 	 Temp     0.94 	 Delta   723.14 	 OutFr   0.1192 	 RMSD     2.3223
Iter 022 	 Temp     0.87 	 Delta   663.77 	 OutFr   0.1484 	 RMSD     2.3216
Iter 023 	 Temp     0.81 	 Delta   603.45 	 OutFr   0.1582 	 RMSD     2.3203
Iter 024 	 Temp     0.75 	 Delta   544.12 	 OutFr   0.1776 	 RMSD     2.3188
Iter 025 	 Temp     0.70 	 Delta   487.36 	 OutFr   0.2044 	 RMSD     2.3169
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.2GZj8WMt/mybin.nii.gz
+ vtklevelset /tmp/ashs.2GZj8WMt/mybin.nii.gz /tmp/ashs.2GZj8WMt/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.2GZj8WMt/mymesh.vtk /tmp/ashs.2GZj8WMt/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 3185.71493542   0.96001952
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.2GZj8WMt/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 7.3962 to 34.2568
   Y : -15.2404 to 32.7729
   Z : -26.3802 to 2.66379
   Image resolution  : 107 by 168 by 112
   Image box origin  : {2.3962, -20.2404, -31.3802}
   Image box size    : {37.1528, 58.3333, 39.1996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-2.3962, 20.2404, -31.3802]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat -o /tmp/ashs.2GZj8WMt/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat -o /tmp/ashs.2GZj8WMt/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.2GZj8WMt/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.813462 0.819231
+ echo 'CHUNK 0.813462 0.819231 0.5'
CHUNK 0.813462 0.819231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.813462 0.819231 0.5
====================================
         PROGRESS: 0.813462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.2GZj8WMt/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.2GZj8WMt/fixed_hw.nii.gz /tmp/ashs.2GZj8WMt/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.494975, moving = 0.429035
LEVEL 1 of 3
  Smoothing sigmas: [2.38335, 2.40562, 2.42484], [0.972999, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0350
Level     0,  Iter     1:    Energy =   0.0397
Level     0,  Iter     2:    Energy =   0.0444
Level     0,  Iter     3:    Energy =   0.0480
Level     0,  Iter     4:    Energy =   0.0510
Level     0,  Iter     5:    Energy =   0.0534
Level     0,  Iter     6:    Energy =   0.0558
Level     0,  Iter     7:    Energy =   0.0576
Level     0,  Iter     8:    Energy =   0.0591
Level     0,  Iter     9:    Energy =   0.0605
Level     0,  Iter    10:    Energy =   0.0618
Level     0,  Iter    11:    Energy =   0.0621
Level     0,  Iter    12:    Energy =   0.0624
Level     0,  Iter    13:    Energy =   0.0632
Level     0,  Iter    14:    Energy =   0.0635
Level     0,  Iter    15:    Energy =   0.0640
Level     0,  Iter    16:    Energy =   0.0643
Level     0,  Iter    17:    Energy =   0.0649
Level     0,  Iter    18:    Energy =   0.0650
Level     0,  Iter    19:    Energy =   0.0649
Level     0,  Iter    20:    Energy =   0.0651
Level     0,  Iter    21:    Energy =   0.0649
Level     0,  Iter    22:    Energy =   0.0650
Level     0,  Iter    23:    Energy =   0.0652
Level     0,  Iter    24:    Energy =   0.0653
Level     0,  Iter    25:    Energy =   0.0651
Level     0,  Iter    26:    Energy =   0.0653
Level     0,  Iter    27:    Energy =   0.0653
Level     0,  Iter    28:    Energy =   0.0654
Level     0,  Iter    29:    Energy =   0.0654
Level     0,  Iter    30:    Energy =   0.0655
Level     0,  Iter    31:    Energy =   0.0653
Level     0,  Iter    32:    Energy =   0.0655
Level     0,  Iter    33:    Energy =   0.0655
Level     0,  Iter    34:    Energy =   0.0656
Level     0,  Iter    35:    Energy =   0.0655
Level     0,  Iter    36:    Energy =   0.0657
Level     0,  Iter    37:    Energy =   0.0656
Level     0,  Iter    38:    Energy =   0.0657
Level     0,  Iter    39:    Energy =   0.0656
Level     0,  Iter    40:    Energy =   0.0657
Level     0,  Iter    41:    Energy =   0.0656
Level     0,  Iter    42:    Energy =   0.0658
Level     0,  Iter    43:    Energy =   0.0658
Level     0,  Iter    44:    Energy =   0.0659
Level     0,  Iter    45:    Energy =   0.0658
Level     0,  Iter    46:    Energy =   0.0659
Level     0,  Iter    47:    Energy =   0.0657
Level     0,  Iter    48:    Energy =   0.0659
Level     0,  Iter    49:    Energy =   0.0660
Level     0,  Iter    50:    Energy =   0.0660
Level     0,  Iter    51:    Energy =   0.0659
Level     0,  Iter    52:    Energy =   0.0661
Level     0,  Iter    53:    Energy =   0.0658
Level     0,  Iter    54:    Energy =   0.0661
Level     0,  Iter    55:    Energy =   0.0661
Level     0,  Iter    56:    Energy =   0.0661
Level     0,  Iter    57:    Energy =   0.0660
Level     0,  Iter    58:    Energy =   0.0662
Level     0,  Iter    59:    Energy =   0.0660
END OF LEVEL     0    DetJac Range:   0.3963  to   2.3447 
  Avg. Gradient Time  : 0.0079s  37.61% 
  Avg. Gaussian Time  : 0.0100s  47.75% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19168, 1.20281, 1.21242], [0.486499, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0549
Level     1,  Iter     1:    Energy =   0.0576
Level     1,  Iter     2:    Energy =   0.0604
Level     1,  Iter     3:    Energy =   0.0620
Level     1,  Iter     4:    Energy =   0.0638
Level     1,  Iter     5:    Energy =   0.0649
Level     1,  Iter     6:    Energy =   0.0657
Level     1,  Iter     7:    Energy =   0.0662
Level     1,  Iter     8:    Energy =   0.0665
Level     1,  Iter     9:    Energy =   0.0671
Level     1,  Iter    10:    Energy =   0.0674
Level     1,  Iter    11:    Energy =   0.0678
Level     1,  Iter    12:    Energy =   0.0680
Level     1,  Iter    13:    Energy =   0.0684
Level     1,  Iter    14:    Energy =   0.0685
Level     1,  Iter    15:    Energy =   0.0688
Level     1,  Iter    16:    Energy =   0.0688
Level     1,  Iter    17:    Energy =   0.0691
Level     1,  Iter    18:    Energy =   0.0691
Level     1,  Iter    19:    Energy =   0.0694
Level     1,  Iter    20:    Energy =   0.0694
Level     1,  Iter    21:    Energy =   0.0696
Level     1,  Iter    22:    Energy =   0.0696
Level     1,  Iter    23:    Energy =   0.0698
Level     1,  Iter    24:    Energy =   0.0697
Level     1,  Iter    25:    Energy =   0.0699
Level     1,  Iter    26:    Energy =   0.0699
Level     1,  Iter    27:    Energy =   0.0700
Level     1,  Iter    28:    Energy =   0.0700
Level     1,  Iter    29:    Energy =   0.0701
Level     1,  Iter    30:    Energy =   0.0701
Level     1,  Iter    31:    Energy =   0.0702
Level     1,  Iter    32:    Energy =   0.0702
Level     1,  Iter    33:    Energy =   0.0703
Level     1,  Iter    34:    Energy =   0.0703
Level     1,  Iter    35:    Energy =   0.0704
Level     1,  Iter    36:    Energy =   0.0703
Level     1,  Iter    37:    Energy =   0.0704
Level     1,  Iter    38:    Energy =   0.0704
Level     1,  Iter    39:    Energy =   0.0705
Level     1,  Iter    40:    Energy =   0.0704
Level     1,  Iter    41:    Energy =   0.0705
Level     1,  Iter    42:    Energy =   0.0704
Level     1,  Iter    43:    Energy =   0.0705
Level     1,  Iter    44:    Energy =   0.0705
Level     1,  Iter    45:    Energy =   0.0706
Level     1,  Iter    46:    Energy =   0.0705
Level     1,  Iter    47:    Energy =   0.0706
Level     1,  Iter    48:    Energy =   0.0705
Level     1,  Iter    49:    Energy =   0.0706
Level     1,  Iter    50:    Energy =   0.0705
Level     1,  Iter    51:    Energy =   0.0706
Level     1,  Iter    52:    Energy =   0.0706
Level     1,  Iter    53:    Energy =   0.0706
Level     1,  Iter    54:    Energy =   0.0706
Level     1,  Iter    55:    Energy =   0.0707
Level     1,  Iter    56:    Energy =   0.0706
Level     1,  Iter    57:    Energy =   0.0707
Level     1,  Iter    58:    Energy =   0.0706
Level     1,  Iter    59:    Energy =   0.0707
END OF LEVEL     1    DetJac Range:   0.1148  to   2.7694 
  Avg. Gradient Time  : 0.0497s  40.20% 
  Avg. Gaussian Time  : 0.0593s  47.94% 
  Avg. Iteration Time : 0.1237s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0371
Level     2,  Iter     1:    Energy =   0.0393
Level     2,  Iter     2:    Energy =   0.0411
Level     2,  Iter     3:    Energy =   0.0431
Level     2,  Iter     4:    Energy =   0.0448
Level     2,  Iter     5:    Energy =   0.0462
Level     2,  Iter     6:    Energy =   0.0474
Level     2,  Iter     7:    Energy =   0.0483
Level     2,  Iter     8:    Energy =   0.0489
Level     2,  Iter     9:    Energy =   0.0494
Level     2,  Iter    10:    Energy =   0.0497
Level     2,  Iter    11:    Energy =   0.0500
Level     2,  Iter    12:    Energy =   0.0503
Level     2,  Iter    13:    Energy =   0.0506
Level     2,  Iter    14:    Energy =   0.0508
Level     2,  Iter    15:    Energy =   0.0510
Level     2,  Iter    16:    Energy =   0.0513
Level     2,  Iter    17:    Energy =   0.0515
Level     2,  Iter    18:    Energy =   0.0517
Level     2,  Iter    19:    Energy =   0.0519
END OF LEVEL     2    DetJac Range:   0.0503  to   3.8981 
  Avg. Gradient Time  : 0.3468s  37.04% 
  Avg. Gaussian Time  : 0.4905s  52.40% 
  Avg. Iteration Time : 0.9361s 

real	0m31.043s
user	0m55.192s
sys	0m3.004s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.813462 0.819231
+ echo 'CHUNK 0.813462 0.819231 1'
CHUNK 0.813462 0.819231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.813462 0.819231 1
====================================
         PROGRESS: 0.813462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 012
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2171.45 	 OutFr   0.0243 	 RMSD     5.5009
Iter 002 	 Temp     3.72 	 Delta  2083.18 	 OutFr   0.0097 	 RMSD     2.5168
Iter 003 	 Temp     3.46 	 Delta  1973.95 	 OutFr   0.0097 	 RMSD     2.3994
Iter 004 	 Temp     3.22 	 Delta  1872.91 	 OutFr   0.0097 	 RMSD     2.3736
Iter 005 	 Temp     2.99 	 Delta  1769.82 	 OutFr   0.0097 	 RMSD     2.3567
Iter 006 	 Temp     2.78 	 Delta  1663.82 	 OutFr   0.0146 	 RMSD     2.3395
Iter 007 	 Temp     2.59 	 Delta  1559.73 	 OutFr   0.0146 	 RMSD     2.3217
Iter 008 	 Temp     2.41 	 Delta  1463.14 	 OutFr   0.0195 	 RMSD     2.3044
Iter 009 	 Temp     2.24 	 Delta  1377.43 	 OutFr   0.0219 	 RMSD     2.2899
Iter 010 	 Temp     2.08 	 Delta  1303.01 	 OutFr   0.0292 	 RMSD     2.2784
Iter 011 	 Temp     1.94 	 Delta  1238.52 	 OutFr   0.0365 	 RMSD     2.2679
Iter 012 	 Temp     1.80 	 Delta  1182.05 	 OutFr   0.0414 	 RMSD     2.2603
Iter 013 	 Temp     1.67 	 Delta  1131.09 	 OutFr   0.0535 	 RMSD     2.2553
Iter 014 	 Temp     1.56 	 Delta  1082.55 	 OutFr   0.0608 	 RMSD     2.2523
Iter 015 	 Temp     1.45 	 Delta  1033.29 	 OutFr   0.0681 	 RMSD     2.2498
Iter 016 	 Temp     1.35 	 Delta   980.66 	 OutFr   0.0779 	 RMSD     2.2488
Iter 017 	 Temp     1.25 	 Delta   923.10 	 OutFr   0.0827 	 RMSD     2.2497
Iter 018 	 Temp     1.16 	 Delta   861.69 	 OutFr   0.0973 	 RMSD     2.2513
Iter 019 	 Temp     1.08 	 Delta   802.34 	 OutFr   0.1071 	 RMSD     2.2538
Iter 020 	 Temp     1.01 	 Delta   750.34 	 OutFr   0.1217 	 RMSD     2.2580
Iter 021 	 Temp     0.94 	 Delta   701.54 	 OutFr   0.1314 	 RMSD     2.2635
Iter 022 	 Temp     0.87 	 Delta   649.76 	 OutFr   0.1533 	 RMSD     2.2688
Iter 023 	 Temp     0.81 	 Delta   592.19 	 OutFr   0.1630 	 RMSD     2.2748
Iter 024 	 Temp     0.75 	 Delta   529.80 	 OutFr   0.1825 	 RMSD     2.2813
Iter 025 	 Temp     0.70 	 Delta   467.09 	 OutFr   0.2068 	 RMSD     2.2881
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.7r4Fbd4E/mybin.nii.gz
+ vtklevelset /tmp/ashs.7r4Fbd4E/mybin.nii.gz /tmp/ashs.7r4Fbd4E/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.7r4Fbd4E/mymesh.vtk /tmp/ashs.7r4Fbd4E/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 2820.44238457   0.84994415
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.7r4Fbd4E/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 12.3412 to 35.2103
   Y : -12.033 to 33.1229
   Z : -33.2579 to -2.17155
   Image resolution  : 95 by 159 by 118
   Image box origin  : {7.3412, -17.033, -38.2579}
   Image box size    : {32.9861, 55.2083, 41.2995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-7.3412, 17.033, -38.2579]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat -o /tmp/ashs.7r4Fbd4E/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat -o /tmp/ashs.7r4Fbd4E/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.7r4Fbd4E/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.819231 0.825
+ echo 'CHUNK 0.819231 0.825 0.5'
CHUNK 0.819231 0.825 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.819231 0.825 0.5
====================================
         PROGRESS: 0.819231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.7r4Fbd4E/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.7r4Fbd4E/fixed_hw.nii.gz /tmp/ashs.7r4Fbd4E/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.539356, moving = 0.769725
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.39059, 2.38443], [0.971862, 0.975954, 0.973439]
Level     0,  Iter     0:    Energy =   0.0201
Level     0,  Iter     1:    Energy =   0.0240
Level     0,  Iter     2:    Energy =   0.0286
Level     0,  Iter     3:    Energy =   0.0333
Level     0,  Iter     4:    Energy =   0.0381
Level     0,  Iter     5:    Energy =   0.0413
Level     0,  Iter     6:    Energy =   0.0441
Level     0,  Iter     7:    Energy =   0.0472
Level     0,  Iter     8:    Energy =   0.0495
Level     0,  Iter     9:    Energy =   0.0513
Level     0,  Iter    10:    Energy =   0.0524
Level     0,  Iter    11:    Energy =   0.0536
Level     0,  Iter    12:    Energy =   0.0551
Level     0,  Iter    13:    Energy =   0.0562
Level     0,  Iter    14:    Energy =   0.0571
Level     0,  Iter    15:    Energy =   0.0578
Level     0,  Iter    16:    Energy =   0.0584
Level     0,  Iter    17:    Energy =   0.0590
Level     0,  Iter    18:    Energy =   0.0595
Level     0,  Iter    19:    Energy =   0.0599
Level     0,  Iter    20:    Energy =   0.0603
Level     0,  Iter    21:    Energy =   0.0607
Level     0,  Iter    22:    Energy =   0.0610
Level     0,  Iter    23:    Energy =   0.0613
Level     0,  Iter    24:    Energy =   0.0616
Level     0,  Iter    25:    Energy =   0.0619
Level     0,  Iter    26:    Energy =   0.0621
Level     0,  Iter    27:    Energy =   0.0624
Level     0,  Iter    28:    Energy =   0.0627
Level     0,  Iter    29:    Energy =   0.0631
Level     0,  Iter    30:    Energy =   0.0636
Level     0,  Iter    31:    Energy =   0.0642
Level     0,  Iter    32:    Energy =   0.0646
Level     0,  Iter    33:    Energy =   0.0651
Level     0,  Iter    34:    Energy =   0.0654
Level     0,  Iter    35:    Energy =   0.0657
Level     0,  Iter    36:    Energy =   0.0660
Level     0,  Iter    37:    Energy =   0.0663
Level     0,  Iter    38:    Energy =   0.0666
Level     0,  Iter    39:    Energy =   0.0669
Level     0,  Iter    40:    Energy =   0.0671
Level     0,  Iter    41:    Energy =   0.0673
Level     0,  Iter    42:    Energy =   0.0675
Level     0,  Iter    43:    Energy =   0.0677
Level     0,  Iter    44:    Energy =   0.0679
Level     0,  Iter    45:    Energy =   0.0681
Level     0,  Iter    46:    Energy =   0.0682
Level     0,  Iter    47:    Energy =   0.0683
Level     0,  Iter    48:    Energy =   0.0685
Level     0,  Iter    49:    Energy =   0.0687
Level     0,  Iter    50:    Energy =   0.0689
Level     0,  Iter    51:    Energy =   0.0693
Level     0,  Iter    52:    Energy =   0.0696
Level     0,  Iter    53:    Energy =   0.0700
Level     0,  Iter    54:    Energy =   0.0704
Level     0,  Iter    55:    Energy =   0.0707
Level     0,  Iter    56:    Energy =   0.0712
Level     0,  Iter    57:    Energy =   0.0715
Level     0,  Iter    58:    Energy =   0.0719
Level     0,  Iter    59:    Energy =   0.0716
END OF LEVEL     0    DetJac Range:   0.0883  to   4.9376 
  Avg. Gradient Time  : 0.0075s  37.73% 
  Avg. Gaussian Time  : 0.0094s  46.94% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.19529, 1.21242], [0.485931, 0.487977, 0.494969]
Level     1,  Iter     0:    Energy =   0.0498
Level     1,  Iter     1:    Energy =   0.0531
Level     1,  Iter     2:    Energy =   0.0561
Level     1,  Iter     3:    Energy =   0.0583
Level     1,  Iter     4:    Energy =   0.0599
Level     1,  Iter     5:    Energy =   0.0617
Level     1,  Iter     6:    Energy =   0.0630
Level     1,  Iter     7:    Energy =   0.0640
Level     1,  Iter     8:    Energy =   0.0649
Level     1,  Iter     9:    Energy =   0.0656
Level     1,  Iter    10:    Energy =   0.0662
Level     1,  Iter    11:    Energy =   0.0668
Level     1,  Iter    12:    Energy =   0.0673
Level     1,  Iter    13:    Energy =   0.0678
Level     1,  Iter    14:    Energy =   0.0682
Level     1,  Iter    15:    Energy =   0.0686
Level     1,  Iter    16:    Energy =   0.0687
Level     1,  Iter    17:    Energy =   0.0686
Level     1,  Iter    18:    Energy =   0.0688
Level     1,  Iter    19:    Energy =   0.0688
Level     1,  Iter    20:    Energy =   0.0690
Level     1,  Iter    21:    Energy =   0.0690
Level     1,  Iter    22:    Energy =   0.0692
Level     1,  Iter    23:    Energy =   0.0692
Level     1,  Iter    24:    Energy =   0.0693
Level     1,  Iter    25:    Energy =   0.0694
Level     1,  Iter    26:    Energy =   0.0695
Level     1,  Iter    27:    Energy =   0.0695
Level     1,  Iter    28:    Energy =   0.0696
Level     1,  Iter    29:    Energy =   0.0696
Level     1,  Iter    30:    Energy =   0.0698
Level     1,  Iter    31:    Energy =   0.0697
Level     1,  Iter    32:    Energy =   0.0699
Level     1,  Iter    33:    Energy =   0.0698
Level     1,  Iter    34:    Energy =   0.0700
Level     1,  Iter    35:    Energy =   0.0699
Level     1,  Iter    36:    Energy =   0.0701
Level     1,  Iter    37:    Energy =   0.0700
Level     1,  Iter    38:    Energy =   0.0702
Level     1,  Iter    39:    Energy =   0.0701
Level     1,  Iter    40:    Energy =   0.0702
Level     1,  Iter    41:    Energy =   0.0702
Level     1,  Iter    42:    Energy =   0.0702
Level     1,  Iter    43:    Energy =   0.0702
Level     1,  Iter    44:    Energy =   0.0703
Level     1,  Iter    45:    Energy =   0.0703
Level     1,  Iter    46:    Energy =   0.0704
Level     1,  Iter    47:    Energy =   0.0703
Level     1,  Iter    48:    Energy =   0.0704
Level     1,  Iter    49:    Energy =   0.0704
Level     1,  Iter    50:    Energy =   0.0704
Level     1,  Iter    51:    Energy =   0.0704
Level     1,  Iter    52:    Energy =   0.0705
Level     1,  Iter    53:    Energy =   0.0704
Level     1,  Iter    54:    Energy =   0.0705
Level     1,  Iter    55:    Energy =   0.0705
Level     1,  Iter    56:    Energy =   0.0705
Level     1,  Iter    57:    Energy =   0.0705
Level     1,  Iter    58:    Energy =   0.0706
Level     1,  Iter    59:    Energy =   0.0706
END OF LEVEL     1    DetJac Range:   0.0763  to   4.4222 
  Avg. Gradient Time  : 0.0453s  40.50% 
  Avg. Gaussian Time  : 0.0532s  47.57% 
  Avg. Iteration Time : 0.1118s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0364
Level     2,  Iter     1:    Energy =   0.0382
Level     2,  Iter     2:    Energy =   0.0396
Level     2,  Iter     3:    Energy =   0.0409
Level     2,  Iter     4:    Energy =   0.0423
Level     2,  Iter     5:    Energy =   0.0435
Level     2,  Iter     6:    Energy =   0.0445
Level     2,  Iter     7:    Energy =   0.0453
Level     2,  Iter     8:    Energy =   0.0459
Level     2,  Iter     9:    Energy =   0.0464
Level     2,  Iter    10:    Energy =   0.0469
Level     2,  Iter    11:    Energy =   0.0473
Level     2,  Iter    12:    Energy =   0.0478
Level     2,  Iter    13:    Energy =   0.0482
Level     2,  Iter    14:    Energy =   0.0485
Level     2,  Iter    15:    Energy =   0.0488
Level     2,  Iter    16:    Energy =   0.0490
Level     2,  Iter    17:    Energy =   0.0491
Level     2,  Iter    18:    Energy =   0.0493
Level     2,  Iter    19:    Energy =   0.0494
END OF LEVEL     2    DetJac Range:   0.0416  to   5.6961 
  Avg. Gradient Time  : 0.3160s  37.37% 
  Avg. Gaussian Time  : 0.4396s  51.99% 
  Avg. Iteration Time : 0.8455s 

real	0m28.191s
user	0m49.920s
sys	0m2.780s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.819231 0.825
+ echo 'CHUNK 0.819231 0.825 1'
CHUNK 0.819231 0.825 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.819231 0.825 1
====================================
         PROGRESS: 0.819231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 013
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2783.84 	 OutFr   0.0024 	 RMSD     3.6795
Iter 002 	 Temp     3.72 	 Delta  2534.78 	 OutFr   0.0000 	 RMSD     2.1595
Iter 003 	 Temp     3.46 	 Delta  2309.83 	 OutFr   0.0000 	 RMSD     2.1307
Iter 004 	 Temp     3.22 	 Delta  2102.10 	 OutFr   0.0000 	 RMSD     2.1142
Iter 005 	 Temp     2.99 	 Delta  1918.78 	 OutFr   0.0024 	 RMSD     2.0996
Iter 006 	 Temp     2.78 	 Delta  1758.03 	 OutFr   0.0049 	 RMSD     2.0880
Iter 007 	 Temp     2.59 	 Delta  1616.21 	 OutFr   0.0097 	 RMSD     2.0796
Iter 008 	 Temp     2.41 	 Delta  1490.00 	 OutFr   0.0122 	 RMSD     2.0738
Iter 009 	 Temp     2.24 	 Delta  1377.08 	 OutFr   0.0170 	 RMSD     2.0694
Iter 010 	 Temp     2.08 	 Delta  1275.45 	 OutFr   0.0170 	 RMSD     2.0659
Iter 011 	 Temp     1.94 	 Delta  1183.26 	 OutFr   0.0219 	 RMSD     2.0627
Iter 012 	 Temp     1.80 	 Delta  1099.69 	 OutFr   0.0219 	 RMSD     2.0598
Iter 013 	 Temp     1.67 	 Delta  1025.62 	 OutFr   0.0243 	 RMSD     2.0575
Iter 014 	 Temp     1.56 	 Delta   961.88 	 OutFr   0.0268 	 RMSD     2.0556
Iter 015 	 Temp     1.45 	 Delta   907.19 	 OutFr   0.0365 	 RMSD     2.0542
Iter 016 	 Temp     1.35 	 Delta   859.22 	 OutFr   0.0389 	 RMSD     2.0536
Iter 017 	 Temp     1.25 	 Delta   815.68 	 OutFr   0.0462 	 RMSD     2.0535
Iter 018 	 Temp     1.16 	 Delta   774.09 	 OutFr   0.0560 	 RMSD     2.0534
Iter 019 	 Temp     1.08 	 Delta   732.17 	 OutFr   0.0608 	 RMSD     2.0535
Iter 020 	 Temp     1.01 	 Delta   688.73 	 OutFr   0.0681 	 RMSD     2.0535
Iter 021 	 Temp     0.94 	 Delta   643.98 	 OutFr   0.0779 	 RMSD     2.0536
Iter 022 	 Temp     0.87 	 Delta   598.57 	 OutFr   0.0949 	 RMSD     2.0540
Iter 023 	 Temp     0.81 	 Delta   552.01 	 OutFr   0.1168 	 RMSD     2.0543
Iter 024 	 Temp     0.75 	 Delta   504.49 	 OutFr   0.1314 	 RMSD     2.0546
Iter 025 	 Temp     0.70 	 Delta   458.66 	 OutFr   0.1655 	 RMSD     2.0555
Iter 026 	 Temp     0.65 	 Delta   417.30 	 OutFr   0.2019 	 RMSD     2.0569
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.6bUBYbCI/mybin.nii.gz
+ vtklevelset /tmp/ashs.6bUBYbCI/mybin.nii.gz /tmp/ashs.6bUBYbCI/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.6bUBYbCI/mymesh.vtk /tmp/ashs.6bUBYbCI/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 2937.65213146   0.88526546
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.6bUBYbCI/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 13.3418 to 37.4959
   Y : -10.3463 to 35.7362
   Z : -30.4819 to -2.92447
   Image resolution  : 99 by 162 by 108
   Image box origin  : {8.3418, -15.3463, -35.4819}
   Image box size    : {34.375, 56.25, 37.7996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-8.3418, 15.3463, -35.4819]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat -o /tmp/ashs.6bUBYbCI/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat -o /tmp/ashs.6bUBYbCI/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.6bUBYbCI/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.825 0.830769
+ echo 'CHUNK 0.825 0.830769 0.5'
CHUNK 0.825 0.830769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.825 0.830769 0.5
====================================
         PROGRESS: 0.825               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.6bUBYbCI/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.6bUBYbCI/fixed_hw.nii.gz /tmp/ashs.6bUBYbCI/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.496167, moving = 0.585646
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.37629, 2.42484], [0.972271, 0.970115, 0.989938]
Level     0,  Iter     0:    Energy =   0.0457
Level     0,  Iter     1:    Energy =   0.0511
Level     0,  Iter     2:    Energy =   0.0558
Level     0,  Iter     3:    Energy =   0.0599
Level     0,  Iter     4:    Energy =   0.0634
Level     0,  Iter     5:    Energy =   0.0665
Level     0,  Iter     6:    Energy =   0.0693
Level     0,  Iter     7:    Energy =   0.0716
Level     0,  Iter     8:    Energy =   0.0735
Level     0,  Iter     9:    Energy =   0.0751
Level     0,  Iter    10:    Energy =   0.0763
Level     0,  Iter    11:    Energy =   0.0773
Level     0,  Iter    12:    Energy =   0.0778
Level     0,  Iter    13:    Energy =   0.0785
Level     0,  Iter    14:    Energy =   0.0787
Level     0,  Iter    15:    Energy =   0.0798
Level     0,  Iter    16:    Energy =   0.0801
Level     0,  Iter    17:    Energy =   0.0805
Level     0,  Iter    18:    Energy =   0.0808
Level     0,  Iter    19:    Energy =   0.0812
Level     0,  Iter    20:    Energy =   0.0815
Level     0,  Iter    21:    Energy =   0.0819
Level     0,  Iter    22:    Energy =   0.0825
Level     0,  Iter    23:    Energy =   0.0827
Level     0,  Iter    24:    Energy =   0.0831
Level     0,  Iter    25:    Energy =   0.0832
Level     0,  Iter    26:    Energy =   0.0832
Level     0,  Iter    27:    Energy =   0.0835
Level     0,  Iter    28:    Energy =   0.0835
Level     0,  Iter    29:    Energy =   0.0837
Level     0,  Iter    30:    Energy =   0.0835
Level     0,  Iter    31:    Energy =   0.0838
Level     0,  Iter    32:    Energy =   0.0836
Level     0,  Iter    33:    Energy =   0.0839
Level     0,  Iter    34:    Energy =   0.0838
Level     0,  Iter    35:    Energy =   0.0841
Level     0,  Iter    36:    Energy =   0.0841
Level     0,  Iter    37:    Energy =   0.0843
Level     0,  Iter    38:    Energy =   0.0843
Level     0,  Iter    39:    Energy =   0.0845
Level     0,  Iter    40:    Energy =   0.0845
Level     0,  Iter    41:    Energy =   0.0846
Level     0,  Iter    42:    Energy =   0.0845
Level     0,  Iter    43:    Energy =   0.0846
Level     0,  Iter    44:    Energy =   0.0845
Level     0,  Iter    45:    Energy =   0.0847
Level     0,  Iter    46:    Energy =   0.0846
Level     0,  Iter    47:    Energy =   0.0848
Level     0,  Iter    48:    Energy =   0.0846
Level     0,  Iter    49:    Energy =   0.0848
Level     0,  Iter    50:    Energy =   0.0847
Level     0,  Iter    51:    Energy =   0.0848
Level     0,  Iter    52:    Energy =   0.0847
Level     0,  Iter    53:    Energy =   0.0849
Level     0,  Iter    54:    Energy =   0.0847
Level     0,  Iter    55:    Energy =   0.0849
Level     0,  Iter    56:    Energy =   0.0848
Level     0,  Iter    57:    Energy =   0.0850
Level     0,  Iter    58:    Energy =   0.0849
Level     0,  Iter    59:    Energy =   0.0851
END OF LEVEL     0    DetJac Range:   0.1611  to   2.7349 
  Avg. Gradient Time  : 0.0072s  37.97% 
  Avg. Gaussian Time  : 0.0090s  47.21% 
  Avg. Iteration Time : 0.0190s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.20281, 1.21242], [0.486136, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0557
Level     1,  Iter     1:    Energy =   0.0601
Level     1,  Iter     2:    Energy =   0.0633
Level     1,  Iter     3:    Energy =   0.0649
Level     1,  Iter     4:    Energy =   0.0662
Level     1,  Iter     5:    Energy =   0.0676
Level     1,  Iter     6:    Energy =   0.0691
Level     1,  Iter     7:    Energy =   0.0705
Level     1,  Iter     8:    Energy =   0.0719
Level     1,  Iter     9:    Energy =   0.0730
Level     1,  Iter    10:    Energy =   0.0741
Level     1,  Iter    11:    Energy =   0.0753
Level     1,  Iter    12:    Energy =   0.0760
Level     1,  Iter    13:    Energy =   0.0762
Level     1,  Iter    14:    Energy =   0.0764
Level     1,  Iter    15:    Energy =   0.0762
Level     1,  Iter    16:    Energy =   0.0768
Level     1,  Iter    17:    Energy =   0.0768
Level     1,  Iter    18:    Energy =   0.0771
Level     1,  Iter    19:    Energy =   0.0769
Level     1,  Iter    20:    Energy =   0.0774
Level     1,  Iter    21:    Energy =   0.0774
Level     1,  Iter    22:    Energy =   0.0776
Level     1,  Iter    23:    Energy =   0.0773
Level     1,  Iter    24:    Energy =   0.0779
Level     1,  Iter    25:    Energy =   0.0776
Level     1,  Iter    26:    Energy =   0.0780
Level     1,  Iter    27:    Energy =   0.0777
Level     1,  Iter    28:    Energy =   0.0781
Level     1,  Iter    29:    Energy =   0.0780
Level     1,  Iter    30:    Energy =   0.0782
Level     1,  Iter    31:    Energy =   0.0779
Level     1,  Iter    32:    Energy =   0.0783
Level     1,  Iter    33:    Energy =   0.0782
Level     1,  Iter    34:    Energy =   0.0784
Level     1,  Iter    35:    Energy =   0.0781
Level     1,  Iter    36:    Energy =   0.0785
Level     1,  Iter    37:    Energy =   0.0784
Level     1,  Iter    38:    Energy =   0.0786
Level     1,  Iter    39:    Energy =   0.0783
Level     1,  Iter    40:    Energy =   0.0787
Level     1,  Iter    41:    Energy =   0.0785
Level     1,  Iter    42:    Energy =   0.0787
Level     1,  Iter    43:    Energy =   0.0785
Level     1,  Iter    44:    Energy =   0.0786
Level     1,  Iter    45:    Energy =   0.0785
Level     1,  Iter    46:    Energy =   0.0784
Level     1,  Iter    47:    Energy =   0.0787
Level     1,  Iter    48:    Energy =   0.0784
Level     1,  Iter    49:    Energy =   0.0788
Level     1,  Iter    50:    Energy =   0.0785
Level     1,  Iter    51:    Energy =   0.0788
Level     1,  Iter    52:    Energy =   0.0785
Level     1,  Iter    53:    Energy =   0.0789
Level     1,  Iter    54:    Energy =   0.0787
Level     1,  Iter    55:    Energy =   0.0789
Level     1,  Iter    56:    Energy =   0.0786
Level     1,  Iter    57:    Energy =   0.0790
Level     1,  Iter    58:    Energy =   0.0788
Level     1,  Iter    59:    Energy =   0.0789
END OF LEVEL     1    DetJac Range:   0.1003  to   3.4838 
  Avg. Gradient Time  : 0.0426s  39.94% 
  Avg. Gaussian Time  : 0.0513s  48.06% 
  Avg. Iteration Time : 0.1068s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0394
Level     2,  Iter     1:    Energy =   0.0413
Level     2,  Iter     2:    Energy =   0.0430
Level     2,  Iter     3:    Energy =   0.0446
Level     2,  Iter     4:    Energy =   0.0459
Level     2,  Iter     5:    Energy =   0.0467
Level     2,  Iter     6:    Energy =   0.0473
Level     2,  Iter     7:    Energy =   0.0480
Level     2,  Iter     8:    Energy =   0.0489
Level     2,  Iter     9:    Energy =   0.0499
Level     2,  Iter    10:    Energy =   0.0508
Level     2,  Iter    11:    Energy =   0.0516
Level     2,  Iter    12:    Energy =   0.0524
Level     2,  Iter    13:    Energy =   0.0532
Level     2,  Iter    14:    Energy =   0.0538
Level     2,  Iter    15:    Energy =   0.0543
Level     2,  Iter    16:    Energy =   0.0547
Level     2,  Iter    17:    Energy =   0.0551
Level     2,  Iter    18:    Energy =   0.0555
Level     2,  Iter    19:    Energy =   0.0558
END OF LEVEL     2    DetJac Range:   0.0775  to   6.2454 
  Avg. Gradient Time  : 0.3047s  37.56% 
  Avg. Gaussian Time  : 0.4195s  51.72% 
  Avg. Iteration Time : 0.8111s 

real	0m27.023s
user	0m47.696s
sys	0m2.764s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.825 0.830769
+ echo 'CHUNK 0.825 0.830769 1'
CHUNK 0.825 0.830769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.825 0.830769 1
====================================
         PROGRESS: 0.825               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 014
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1947.00 	 OutFr   0.0000 	 RMSD     3.5360
Iter 002 	 Temp     3.72 	 Delta  1780.39 	 OutFr   0.0000 	 RMSD     2.0872
Iter 003 	 Temp     3.46 	 Delta  1677.28 	 OutFr   0.0000 	 RMSD     2.0698
Iter 004 	 Temp     3.22 	 Delta  1584.99 	 OutFr   0.0000 	 RMSD     2.0580
Iter 005 	 Temp     2.99 	 Delta  1500.05 	 OutFr   0.0000 	 RMSD     2.0438
Iter 006 	 Temp     2.78 	 Delta  1421.24 	 OutFr   0.0000 	 RMSD     2.0313
Iter 007 	 Temp     2.59 	 Delta  1348.50 	 OutFr   0.0000 	 RMSD     2.0204
Iter 008 	 Temp     2.41 	 Delta  1282.70 	 OutFr   0.0000 	 RMSD     2.0109
Iter 009 	 Temp     2.24 	 Delta  1224.31 	 OutFr   0.0000 	 RMSD     2.0026
Iter 010 	 Temp     2.08 	 Delta  1172.57 	 OutFr   0.0000 	 RMSD     1.9949
Iter 011 	 Temp     1.94 	 Delta  1125.30 	 OutFr   0.0000 	 RMSD     1.9883
Iter 012 	 Temp     1.80 	 Delta  1078.91 	 OutFr   0.0000 	 RMSD     1.9825
Iter 013 	 Temp     1.67 	 Delta  1030.04 	 OutFr   0.0049 	 RMSD     1.9771
Iter 014 	 Temp     1.56 	 Delta   978.59 	 OutFr   0.0073 	 RMSD     1.9722
Iter 015 	 Temp     1.45 	 Delta   926.57 	 OutFr   0.0097 	 RMSD     1.9675
Iter 016 	 Temp     1.35 	 Delta   875.96 	 OutFr   0.0122 	 RMSD     1.9625
Iter 017 	 Temp     1.25 	 Delta   828.22 	 OutFr   0.0195 	 RMSD     1.9577
Iter 018 	 Temp     1.16 	 Delta   782.94 	 OutFr   0.0219 	 RMSD     1.9532
Iter 019 	 Temp     1.08 	 Delta   738.43 	 OutFr   0.0292 	 RMSD     1.9493
Iter 020 	 Temp     1.01 	 Delta   693.65 	 OutFr   0.0365 	 RMSD     1.9461
Iter 021 	 Temp     0.94 	 Delta   647.93 	 OutFr   0.0462 	 RMSD     1.9435
Iter 022 	 Temp     0.87 	 Delta   602.83 	 OutFr   0.0584 	 RMSD     1.9419
Iter 023 	 Temp     0.81 	 Delta   560.66 	 OutFr   0.0681 	 RMSD     1.9411
Iter 024 	 Temp     0.75 	 Delta   520.46 	 OutFr   0.1046 	 RMSD     1.9408
Iter 025 	 Temp     0.70 	 Delta   479.31 	 OutFr   0.1241 	 RMSD     1.9415
Iter 026 	 Temp     0.65 	 Delta   437.81 	 OutFr   0.1606 	 RMSD     1.9429
Iter 027 	 Temp     0.61 	 Delta   398.98 	 OutFr   0.1825 	 RMSD     1.9448
Iter 028 	 Temp     0.56 	 Delta   361.49 	 OutFr   0.2190 	 RMSD     1.9473
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.sHwvumjD/mybin.nii.gz
+ vtklevelset /tmp/ashs.sHwvumjD/mybin.nii.gz /tmp/ashs.sHwvumjD/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.sHwvumjD/mymesh.vtk /tmp/ashs.sHwvumjD/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 3066.90786399   0.92421685
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.sHwvumjD/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.94748 to 34.4579
   Y : -14.6822 to 31.6711
   Z : -29.0018 to -0.732233
   Image resolution  : 100 by 163 by 110
   Image box origin  : {4.94748, -19.6822, -34.0018}
   Image box size    : {34.7222, 56.5972, 38.4996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.94748, 19.6822, -34.0018]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat -o /tmp/ashs.sHwvumjD/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat -o /tmp/ashs.sHwvumjD/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.sHwvumjD/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.830769 0.836538
+ echo 'CHUNK 0.830769 0.836538 0.5'
CHUNK 0.830769 0.836538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.830769 0.836538 0.5
====================================
         PROGRESS: 0.830769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.sHwvumjD/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.sHwvumjD/fixed_hw.nii.gz /tmp/ashs.sHwvumjD/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.491971, moving = 0.442691
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.39096, 2.38154], [0.982092, 0.976104, 0.972261]
Level     0,  Iter     0:    Energy =   0.0514
Level     0,  Iter     1:    Energy =   0.0561
Level     0,  Iter     2:    Energy =   0.0601
Level     0,  Iter     3:    Energy =   0.0632
Level     0,  Iter     4:    Energy =   0.0662
Level     0,  Iter     5:    Energy =   0.0698
Level     0,  Iter     6:    Energy =   0.0728
Level     0,  Iter     7:    Energy =   0.0753
Level     0,  Iter     8:    Energy =   0.0770
Level     0,  Iter     9:    Energy =   0.0784
Level     0,  Iter    10:    Energy =   0.0796
Level     0,  Iter    11:    Energy =   0.0808
Level     0,  Iter    12:    Energy =   0.0816
Level     0,  Iter    13:    Energy =   0.0826
Level     0,  Iter    14:    Energy =   0.0833
Level     0,  Iter    15:    Energy =   0.0839
Level     0,  Iter    16:    Energy =   0.0845
Level     0,  Iter    17:    Energy =   0.0852
Level     0,  Iter    18:    Energy =   0.0855
Level     0,  Iter    19:    Energy =   0.0864
Level     0,  Iter    20:    Energy =   0.0865
Level     0,  Iter    21:    Energy =   0.0870
Level     0,  Iter    22:    Energy =   0.0871
Level     0,  Iter    23:    Energy =   0.0878
Level     0,  Iter    24:    Energy =   0.0877
Level     0,  Iter    25:    Energy =   0.0880
Level     0,  Iter    26:    Energy =   0.0879
Level     0,  Iter    27:    Energy =   0.0885
Level     0,  Iter    28:    Energy =   0.0884
Level     0,  Iter    29:    Energy =   0.0887
Level     0,  Iter    30:    Energy =   0.0886
Level     0,  Iter    31:    Energy =   0.0890
Level     0,  Iter    32:    Energy =   0.0889
Level     0,  Iter    33:    Energy =   0.0890
Level     0,  Iter    34:    Energy =   0.0889
Level     0,  Iter    35:    Energy =   0.0893
Level     0,  Iter    36:    Energy =   0.0892
Level     0,  Iter    37:    Energy =   0.0894
Level     0,  Iter    38:    Energy =   0.0893
Level     0,  Iter    39:    Energy =   0.0895
Level     0,  Iter    40:    Energy =   0.0894
Level     0,  Iter    41:    Energy =   0.0896
Level     0,  Iter    42:    Energy =   0.0894
Level     0,  Iter    43:    Energy =   0.0897
Level     0,  Iter    44:    Energy =   0.0895
Level     0,  Iter    45:    Energy =   0.0896
Level     0,  Iter    46:    Energy =   0.0894
Level     0,  Iter    47:    Energy =   0.0896
Level     0,  Iter    48:    Energy =   0.0895
Level     0,  Iter    49:    Energy =   0.0896
Level     0,  Iter    50:    Energy =   0.0895
Level     0,  Iter    51:    Energy =   0.0898
Level     0,  Iter    52:    Energy =   0.0896
Level     0,  Iter    53:    Energy =   0.0896
Level     0,  Iter    54:    Energy =   0.0894
Level     0,  Iter    55:    Energy =   0.0896
Level     0,  Iter    56:    Energy =   0.0895
Level     0,  Iter    57:    Energy =   0.0895
Level     0,  Iter    58:    Energy =   0.0894
Level     0,  Iter    59:    Energy =   0.0896
END OF LEVEL     0    DetJac Range:   0.1268  to   2.0393 
  Avg. Gradient Time  : 0.0063s  37.82% 
  Avg. Gaussian Time  : 0.0079s  47.13% 
  Avg. Iteration Time : 0.0167s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19548, 1.21242], [0.491046, 0.488052, 0.494969]
Level     1,  Iter     0:    Energy =   0.0571
Level     1,  Iter     1:    Energy =   0.0617
Level     1,  Iter     2:    Energy =   0.0654
Level     1,  Iter     3:    Energy =   0.0683
Level     1,  Iter     4:    Energy =   0.0706
Level     1,  Iter     5:    Energy =   0.0725
Level     1,  Iter     6:    Energy =   0.0740
Level     1,  Iter     7:    Energy =   0.0751
Level     1,  Iter     8:    Energy =   0.0761
Level     1,  Iter     9:    Energy =   0.0770
Level     1,  Iter    10:    Energy =   0.0779
Level     1,  Iter    11:    Energy =   0.0782
Level     1,  Iter    12:    Energy =   0.0789
Level     1,  Iter    13:    Energy =   0.0791
Level     1,  Iter    14:    Energy =   0.0797
Level     1,  Iter    15:    Energy =   0.0798
Level     1,  Iter    16:    Energy =   0.0798
Level     1,  Iter    17:    Energy =   0.0800
Level     1,  Iter    18:    Energy =   0.0799
Level     1,  Iter    19:    Energy =   0.0801
Level     1,  Iter    20:    Energy =   0.0802
Level     1,  Iter    21:    Energy =   0.0804
Level     1,  Iter    22:    Energy =   0.0804
Level     1,  Iter    23:    Energy =   0.0807
Level     1,  Iter    24:    Energy =   0.0808
Level     1,  Iter    25:    Energy =   0.0810
Level     1,  Iter    26:    Energy =   0.0809
Level     1,  Iter    27:    Energy =   0.0811
Level     1,  Iter    28:    Energy =   0.0813
Level     1,  Iter    29:    Energy =   0.0814
Level     1,  Iter    30:    Energy =   0.0814
Level     1,  Iter    31:    Energy =   0.0815
Level     1,  Iter    32:    Energy =   0.0816
Level     1,  Iter    33:    Energy =   0.0817
Level     1,  Iter    34:    Energy =   0.0817
Level     1,  Iter    35:    Energy =   0.0818
Level     1,  Iter    36:    Energy =   0.0819
Level     1,  Iter    37:    Energy =   0.0819
Level     1,  Iter    38:    Energy =   0.0819
Level     1,  Iter    39:    Energy =   0.0820
Level     1,  Iter    40:    Energy =   0.0820
Level     1,  Iter    41:    Energy =   0.0821
Level     1,  Iter    42:    Energy =   0.0821
Level     1,  Iter    43:    Energy =   0.0822
Level     1,  Iter    44:    Energy =   0.0822
Level     1,  Iter    45:    Energy =   0.0822
Level     1,  Iter    46:    Energy =   0.0823
Level     1,  Iter    47:    Energy =   0.0823
Level     1,  Iter    48:    Energy =   0.0824
Level     1,  Iter    49:    Energy =   0.0824
Level     1,  Iter    50:    Energy =   0.0824
Level     1,  Iter    51:    Energy =   0.0824
Level     1,  Iter    52:    Energy =   0.0825
Level     1,  Iter    53:    Energy =   0.0825
Level     1,  Iter    54:    Energy =   0.0825
Level     1,  Iter    55:    Energy =   0.0824
Level     1,  Iter    56:    Energy =   0.0824
Level     1,  Iter    57:    Energy =   0.0824
Level     1,  Iter    58:    Energy =   0.0824
Level     1,  Iter    59:    Energy =   0.0824
END OF LEVEL     1    DetJac Range:   0.0530  to   2.6796 
  Avg. Gradient Time  : 0.0385s  40.01% 
  Avg. Gaussian Time  : 0.0464s  48.19% 
  Avg. Iteration Time : 0.0963s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0394
Level     2,  Iter     1:    Energy =   0.0413
Level     2,  Iter     2:    Energy =   0.0431
Level     2,  Iter     3:    Energy =   0.0446
Level     2,  Iter     4:    Energy =   0.0459
Level     2,  Iter     5:    Energy =   0.0470
Level     2,  Iter     6:    Energy =   0.0478
Level     2,  Iter     7:    Energy =   0.0485
Level     2,  Iter     8:    Energy =   0.0492
Level     2,  Iter     9:    Energy =   0.0498
Level     2,  Iter    10:    Energy =   0.0503
Level     2,  Iter    11:    Energy =   0.0508
Level     2,  Iter    12:    Energy =   0.0513
Level     2,  Iter    13:    Energy =   0.0516
Level     2,  Iter    14:    Energy =   0.0520
Level     2,  Iter    15:    Energy =   0.0522
Level     2,  Iter    16:    Energy =   0.0525
Level     2,  Iter    17:    Energy =   0.0527
Level     2,  Iter    18:    Energy =   0.0530
Level     2,  Iter    19:    Energy =   0.0532
END OF LEVEL     2    DetJac Range:   0.0459  to   3.6367 
  Avg. Gradient Time  : 0.2834s  37.83% 
  Avg. Gaussian Time  : 0.3868s  51.62% 
  Avg. Iteration Time : 0.7493s 

real	0m24.651s
user	0m43.436s
sys	0m2.708s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.830769 0.836538
+ echo 'CHUNK 0.830769 0.836538 1'
CHUNK 0.830769 0.836538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.830769 0.836538 1
====================================
         PROGRESS: 0.830769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 015
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2689.11 	 OutFr   0.0049 	 RMSD     3.5190
Iter 002 	 Temp     3.72 	 Delta  2292.12 	 OutFr   0.0049 	 RMSD     2.6427
Iter 003 	 Temp     3.46 	 Delta  2093.17 	 OutFr   0.0049 	 RMSD     2.5582
Iter 004 	 Temp     3.22 	 Delta  1953.23 	 OutFr   0.0049 	 RMSD     2.5214
Iter 005 	 Temp     2.99 	 Delta  1835.71 	 OutFr   0.0049 	 RMSD     2.5043
Iter 006 	 Temp     2.78 	 Delta  1729.24 	 OutFr   0.0049 	 RMSD     2.4929
Iter 007 	 Temp     2.59 	 Delta  1630.35 	 OutFr   0.0073 	 RMSD     2.4820
Iter 008 	 Temp     2.41 	 Delta  1537.77 	 OutFr   0.0073 	 RMSD     2.4712
Iter 009 	 Temp     2.24 	 Delta  1450.45 	 OutFr   0.0097 	 RMSD     2.4607
Iter 010 	 Temp     2.08 	 Delta  1367.84 	 OutFr   0.0097 	 RMSD     2.4500
Iter 011 	 Temp     1.94 	 Delta  1289.77 	 OutFr   0.0122 	 RMSD     2.4392
Iter 012 	 Temp     1.80 	 Delta  1215.46 	 OutFr   0.0122 	 RMSD     2.4287
Iter 013 	 Temp     1.67 	 Delta  1143.74 	 OutFr   0.0122 	 RMSD     2.4191
Iter 014 	 Temp     1.56 	 Delta  1072.45 	 OutFr   0.0170 	 RMSD     2.4102
Iter 015 	 Temp     1.45 	 Delta   999.33 	 OutFr   0.0195 	 RMSD     2.4022
Iter 016 	 Temp     1.35 	 Delta   924.85 	 OutFr   0.0268 	 RMSD     2.3952
Iter 017 	 Temp     1.25 	 Delta   852.65 	 OutFr   0.0365 	 RMSD     2.3897
Iter 018 	 Temp     1.16 	 Delta   783.64 	 OutFr   0.0438 	 RMSD     2.3860
Iter 019 	 Temp     1.08 	 Delta   716.71 	 OutFr   0.0608 	 RMSD     2.3853
Iter 020 	 Temp     1.01 	 Delta   658.63 	 OutFr   0.0754 	 RMSD     2.3887
Iter 021 	 Temp     0.94 	 Delta   611.75 	 OutFr   0.0949 	 RMSD     2.3958
Iter 022 	 Temp     0.87 	 Delta   570.78 	 OutFr   0.1046 	 RMSD     2.4045
Iter 023 	 Temp     0.81 	 Delta   533.18 	 OutFr   0.1265 	 RMSD     2.4126
Iter 024 	 Temp     0.75 	 Delta   497.84 	 OutFr   0.1436 	 RMSD     2.4194
Iter 025 	 Temp     0.70 	 Delta   466.38 	 OutFr   0.1630 	 RMSD     2.4248
Iter 026 	 Temp     0.65 	 Delta   435.81 	 OutFr   0.1752 	 RMSD     2.4285
Iter 027 	 Temp     0.61 	 Delta   401.77 	 OutFr   0.1873 	 RMSD     2.4315
Iter 028 	 Temp     0.56 	 Delta   364.53 	 OutFr   0.2117 	 RMSD     2.4346
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.f1ZpLTwM/mybin.nii.gz
+ vtklevelset /tmp/ashs.f1ZpLTwM/mybin.nii.gz /tmp/ashs.f1ZpLTwM/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.f1ZpLTwM/mymesh.vtk /tmp/ashs.f1ZpLTwM/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 3352.64150566   1.01032307
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.f1ZpLTwM/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.3569 to 37.6324
   Y : -16.1561 to 30.0204
   Z : -22.3349 to 5.90209
   Image resolution  : 108 by 162 by 110
   Image box origin  : {5.3569, -21.1561, -27.3349}
   Image box size    : {37.5, 56.25, 38.4996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.3569, 21.1561, -27.3349]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat -o /tmp/ashs.f1ZpLTwM/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat -o /tmp/ashs.f1ZpLTwM/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.f1ZpLTwM/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.836538 0.842308
+ echo 'CHUNK 0.836538 0.842308 0.5'
CHUNK 0.836538 0.842308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.836538 0.842308 0.5
====================================
         PROGRESS: 0.836538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.f1ZpLTwM/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.f1ZpLTwM/fixed_hw.nii.gz /tmp/ashs.f1ZpLTwM/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.485917, moving = 0.713389
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37629, 2.38154], [0.982092, 0.970115, 0.972261]
Level     0,  Iter     0:    Energy =   0.0503
Level     0,  Iter     1:    Energy =   0.0567
Level     0,  Iter     2:    Energy =   0.0636
Level     0,  Iter     3:    Energy =   0.0691
Level     0,  Iter     4:    Energy =   0.0740
Level     0,  Iter     5:    Energy =   0.0781
Level     0,  Iter     6:    Energy =   0.0814
Level     0,  Iter     7:    Energy =   0.0846
Level     0,  Iter     8:    Energy =   0.0871
Level     0,  Iter     9:    Energy =   0.0890
Level     0,  Iter    10:    Energy =   0.0905
Level     0,  Iter    11:    Energy =   0.0915
Level     0,  Iter    12:    Energy =   0.0921
Level     0,  Iter    13:    Energy =   0.0926
Level     0,  Iter    14:    Energy =   0.0931
Level     0,  Iter    15:    Energy =   0.0933
Level     0,  Iter    16:    Energy =   0.0938
Level     0,  Iter    17:    Energy =   0.0939
Level     0,  Iter    18:    Energy =   0.0943
Level     0,  Iter    19:    Energy =   0.0944
Level     0,  Iter    20:    Energy =   0.0947
Level     0,  Iter    21:    Energy =   0.0948
Level     0,  Iter    22:    Energy =   0.0951
Level     0,  Iter    23:    Energy =   0.0952
Level     0,  Iter    24:    Energy =   0.0954
Level     0,  Iter    25:    Energy =   0.0955
Level     0,  Iter    26:    Energy =   0.0957
Level     0,  Iter    27:    Energy =   0.0957
Level     0,  Iter    28:    Energy =   0.0959
Level     0,  Iter    29:    Energy =   0.0958
Level     0,  Iter    30:    Energy =   0.0960
Level     0,  Iter    31:    Energy =   0.0960
Level     0,  Iter    32:    Energy =   0.0961
Level     0,  Iter    33:    Energy =   0.0961
Level     0,  Iter    34:    Energy =   0.0962
Level     0,  Iter    35:    Energy =   0.0962
Level     0,  Iter    36:    Energy =   0.0963
Level     0,  Iter    37:    Energy =   0.0963
Level     0,  Iter    38:    Energy =   0.0964
Level     0,  Iter    39:    Energy =   0.0964
Level     0,  Iter    40:    Energy =   0.0965
Level     0,  Iter    41:    Energy =   0.0965
Level     0,  Iter    42:    Energy =   0.0966
Level     0,  Iter    43:    Energy =   0.0965
Level     0,  Iter    44:    Energy =   0.0967
Level     0,  Iter    45:    Energy =   0.0966
Level     0,  Iter    46:    Energy =   0.0968
Level     0,  Iter    47:    Energy =   0.0968
Level     0,  Iter    48:    Energy =   0.0969
Level     0,  Iter    49:    Energy =   0.0968
Level     0,  Iter    50:    Energy =   0.0969
Level     0,  Iter    51:    Energy =   0.0968
Level     0,  Iter    52:    Energy =   0.0970
Level     0,  Iter    53:    Energy =   0.0969
Level     0,  Iter    54:    Energy =   0.0970
Level     0,  Iter    55:    Energy =   0.0969
Level     0,  Iter    56:    Energy =   0.0971
Level     0,  Iter    57:    Energy =   0.0970
Level     0,  Iter    58:    Energy =   0.0971
Level     0,  Iter    59:    Energy =   0.0970
END OF LEVEL     0    DetJac Range:   0.1827  to   2.1001 
  Avg. Gradient Time  : 0.0068s  37.75% 
  Avg. Gaussian Time  : 0.0085s  47.50% 
  Avg. Iteration Time : 0.0180s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0652
Level     1,  Iter     1:    Energy =   0.0698
Level     1,  Iter     2:    Energy =   0.0725
Level     1,  Iter     3:    Energy =   0.0752
Level     1,  Iter     4:    Energy =   0.0777
Level     1,  Iter     5:    Energy =   0.0798
Level     1,  Iter     6:    Energy =   0.0812
Level     1,  Iter     7:    Energy =   0.0816
Level     1,  Iter     8:    Energy =   0.0824
Level     1,  Iter     9:    Energy =   0.0827
Level     1,  Iter    10:    Energy =   0.0836
Level     1,  Iter    11:    Energy =   0.0835
Level     1,  Iter    12:    Energy =   0.0845
Level     1,  Iter    13:    Energy =   0.0850
Level     1,  Iter    14:    Energy =   0.0851
Level     1,  Iter    15:    Energy =   0.0851
Level     1,  Iter    16:    Energy =   0.0857
Level     1,  Iter    17:    Energy =   0.0855
Level     1,  Iter    18:    Energy =   0.0864
Level     1,  Iter    19:    Energy =   0.0861
Level     1,  Iter    20:    Energy =   0.0868
Level     1,  Iter    21:    Energy =   0.0865
Level     1,  Iter    22:    Energy =   0.0870
Level     1,  Iter    23:    Energy =   0.0867
Level     1,  Iter    24:    Energy =   0.0872
Level     1,  Iter    25:    Energy =   0.0869
Level     1,  Iter    26:    Energy =   0.0871
Level     1,  Iter    27:    Energy =   0.0869
Level     1,  Iter    28:    Energy =   0.0872
Level     1,  Iter    29:    Energy =   0.0869
Level     1,  Iter    30:    Energy =   0.0873
Level     1,  Iter    31:    Energy =   0.0871
Level     1,  Iter    32:    Energy =   0.0873
Level     1,  Iter    33:    Energy =   0.0871
Level     1,  Iter    34:    Energy =   0.0874
Level     1,  Iter    35:    Energy =   0.0872
Level     1,  Iter    36:    Energy =   0.0874
Level     1,  Iter    37:    Energy =   0.0873
Level     1,  Iter    38:    Energy =   0.0875
Level     1,  Iter    39:    Energy =   0.0873
Level     1,  Iter    40:    Energy =   0.0876
Level     1,  Iter    41:    Energy =   0.0874
Level     1,  Iter    42:    Energy =   0.0876
Level     1,  Iter    43:    Energy =   0.0874
Level     1,  Iter    44:    Energy =   0.0876
Level     1,  Iter    45:    Energy =   0.0875
Level     1,  Iter    46:    Energy =   0.0877
Level     1,  Iter    47:    Energy =   0.0875
Level     1,  Iter    48:    Energy =   0.0877
Level     1,  Iter    49:    Energy =   0.0876
Level     1,  Iter    50:    Energy =   0.0877
Level     1,  Iter    51:    Energy =   0.0876
Level     1,  Iter    52:    Energy =   0.0877
Level     1,  Iter    53:    Energy =   0.0877
Level     1,  Iter    54:    Energy =   0.0877
Level     1,  Iter    55:    Energy =   0.0878
Level     1,  Iter    56:    Energy =   0.0878
Level     1,  Iter    57:    Energy =   0.0878
Level     1,  Iter    58:    Energy =   0.0878
Level     1,  Iter    59:    Energy =   0.0878
END OF LEVEL     1    DetJac Range:   0.1958  to   2.6245 
  Avg. Gradient Time  : 0.0418s  40.52% 
  Avg. Gaussian Time  : 0.0495s  47.97% 
  Avg. Iteration Time : 0.1032s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0452
Level     2,  Iter     1:    Energy =   0.0475
Level     2,  Iter     2:    Energy =   0.0496
Level     2,  Iter     3:    Energy =   0.0515
Level     2,  Iter     4:    Energy =   0.0535
Level     2,  Iter     5:    Energy =   0.0551
Level     2,  Iter     6:    Energy =   0.0563
Level     2,  Iter     7:    Energy =   0.0573
Level     2,  Iter     8:    Energy =   0.0581
Level     2,  Iter     9:    Energy =   0.0588
Level     2,  Iter    10:    Energy =   0.0595
Level     2,  Iter    11:    Energy =   0.0600
Level     2,  Iter    12:    Energy =   0.0605
Level     2,  Iter    13:    Energy =   0.0610
Level     2,  Iter    14:    Energy =   0.0614
Level     2,  Iter    15:    Energy =   0.0617
Level     2,  Iter    16:    Energy =   0.0620
Level     2,  Iter    17:    Energy =   0.0623
Level     2,  Iter    18:    Energy =   0.0626
Level     2,  Iter    19:    Energy =   0.0630
END OF LEVEL     2    DetJac Range:   0.0744  to   3.9421 
  Avg. Gradient Time  : 0.2995s  37.36% 
  Avg. Gaussian Time  : 0.4172s  52.05% 
  Avg. Iteration Time : 0.8017s 

real	0m26.403s
user	0m46.800s
sys	0m2.652s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.836538 0.842308
+ echo 'CHUNK 0.836538 0.842308 1'
CHUNK 0.836538 0.842308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.836538 0.842308 1
====================================
         PROGRESS: 0.836538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 016
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2199.68 	 OutFr   0.0170 	 RMSD     4.7095
Iter 002 	 Temp     3.72 	 Delta  1920.97 	 OutFr   0.0049 	 RMSD     2.3527
Iter 003 	 Temp     3.46 	 Delta  1748.33 	 OutFr   0.0024 	 RMSD     2.2677
Iter 004 	 Temp     3.22 	 Delta  1630.40 	 OutFr   0.0024 	 RMSD     2.2349
Iter 005 	 Temp     2.99 	 Delta  1538.70 	 OutFr   0.0049 	 RMSD     2.2191
Iter 006 	 Temp     2.78 	 Delta  1461.16 	 OutFr   0.0073 	 RMSD     2.2088
Iter 007 	 Temp     2.59 	 Delta  1392.14 	 OutFr   0.0073 	 RMSD     2.2010
Iter 008 	 Temp     2.41 	 Delta  1329.11 	 OutFr   0.0097 	 RMSD     2.1952
Iter 009 	 Temp     2.24 	 Delta  1271.49 	 OutFr   0.0097 	 RMSD     2.1909
Iter 010 	 Temp     2.08 	 Delta  1219.92 	 OutFr   0.0097 	 RMSD     2.1876
Iter 011 	 Temp     1.94 	 Delta  1174.70 	 OutFr   0.0097 	 RMSD     2.1851
Iter 012 	 Temp     1.80 	 Delta  1134.57 	 OutFr   0.0097 	 RMSD     2.1832
Iter 013 	 Temp     1.67 	 Delta  1096.93 	 OutFr   0.0146 	 RMSD     2.1818
Iter 014 	 Temp     1.56 	 Delta  1058.56 	 OutFr   0.0170 	 RMSD     2.1807
Iter 015 	 Temp     1.45 	 Delta  1016.53 	 OutFr   0.0219 	 RMSD     2.1798
Iter 016 	 Temp     1.35 	 Delta   969.73 	 OutFr   0.0316 	 RMSD     2.1793
Iter 017 	 Temp     1.25 	 Delta   919.87 	 OutFr   0.0414 	 RMSD     2.1788
Iter 018 	 Temp     1.16 	 Delta   869.12 	 OutFr   0.0511 	 RMSD     2.1784
Iter 019 	 Temp     1.08 	 Delta   816.31 	 OutFr   0.0608 	 RMSD     2.1784
Iter 020 	 Temp     1.01 	 Delta   760.61 	 OutFr   0.0779 	 RMSD     2.1785
Iter 021 	 Temp     0.94 	 Delta   703.85 	 OutFr   0.0852 	 RMSD     2.1786
Iter 022 	 Temp     0.87 	 Delta   647.72 	 OutFr   0.0973 	 RMSD     2.1790
Iter 023 	 Temp     0.81 	 Delta   594.67 	 OutFr   0.1192 	 RMSD     2.1792
Iter 024 	 Temp     0.75 	 Delta   544.62 	 OutFr   0.1411 	 RMSD     2.1802
Iter 025 	 Temp     0.70 	 Delta   493.44 	 OutFr   0.1582 	 RMSD     2.1818
Iter 026 	 Temp     0.65 	 Delta   442.22 	 OutFr   0.1922 	 RMSD     2.1839
Iter 027 	 Temp     0.61 	 Delta   397.74 	 OutFr   0.2263 	 RMSD     2.1867
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.lYgcnuWA/mybin.nii.gz
+ vtklevelset /tmp/ashs.lYgcnuWA/mybin.nii.gz /tmp/ashs.lYgcnuWA/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.lYgcnuWA/mymesh.vtk /tmp/ashs.lYgcnuWA/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 3028.77480744   0.91272540
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.lYgcnuWA/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.12882 to 33.1813
   Y : -8.45861 to 36.6906
   Z : -36.4077 to -5.94364
   Image resolution  : 99 by 159 by 116
   Image box origin  : {4.12882, -13.4586, -41.4077}
   Image box size    : {34.375, 55.2083, 40.5995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.12882, 13.4586, -41.4077]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat -o /tmp/ashs.lYgcnuWA/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat -o /tmp/ashs.lYgcnuWA/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.lYgcnuWA/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.842308 0.848077
+ echo 'CHUNK 0.842308 0.848077 0.5'
CHUNK 0.842308 0.848077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.842308 0.848077 0.5
====================================
         PROGRESS: 0.842308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.lYgcnuWA/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.lYgcnuWA/fixed_hw.nii.gz /tmp/ashs.lYgcnuWA/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.49697, moving = 0.637367
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.39059, 2.42484], [0.972271, 0.975954, 0.989938]
Level     0,  Iter     0:    Energy =   0.0469
Level     0,  Iter     1:    Energy =   0.0546
Level     0,  Iter     2:    Energy =   0.0603
Level     0,  Iter     3:    Energy =   0.0649
Level     0,  Iter     4:    Energy =   0.0689
Level     0,  Iter     5:    Energy =   0.0728
Level     0,  Iter     6:    Energy =   0.0760
Level     0,  Iter     7:    Energy =   0.0786
Level     0,  Iter     8:    Energy =   0.0807
Level     0,  Iter     9:    Energy =   0.0830
Level     0,  Iter    10:    Energy =   0.0852
Level     0,  Iter    11:    Energy =   0.0869
Level     0,  Iter    12:    Energy =   0.0887
Level     0,  Iter    13:    Energy =   0.0899
Level     0,  Iter    14:    Energy =   0.0906
Level     0,  Iter    15:    Energy =   0.0905
Level     0,  Iter    16:    Energy =   0.0909
Level     0,  Iter    17:    Energy =   0.0907
Level     0,  Iter    18:    Energy =   0.0910
Level     0,  Iter    19:    Energy =   0.0911
Level     0,  Iter    20:    Energy =   0.0914
Level     0,  Iter    21:    Energy =   0.0915
Level     0,  Iter    22:    Energy =   0.0918
Level     0,  Iter    23:    Energy =   0.0919
Level     0,  Iter    24:    Energy =   0.0921
Level     0,  Iter    25:    Energy =   0.0922
Level     0,  Iter    26:    Energy =   0.0925
Level     0,  Iter    27:    Energy =   0.0925
Level     0,  Iter    28:    Energy =   0.0928
Level     0,  Iter    29:    Energy =   0.0929
Level     0,  Iter    30:    Energy =   0.0931
Level     0,  Iter    31:    Energy =   0.0930
Level     0,  Iter    32:    Energy =   0.0932
Level     0,  Iter    33:    Energy =   0.0932
Level     0,  Iter    34:    Energy =   0.0934
Level     0,  Iter    35:    Energy =   0.0934
Level     0,  Iter    36:    Energy =   0.0935
Level     0,  Iter    37:    Energy =   0.0935
Level     0,  Iter    38:    Energy =   0.0936
Level     0,  Iter    39:    Energy =   0.0935
Level     0,  Iter    40:    Energy =   0.0936
Level     0,  Iter    41:    Energy =   0.0936
Level     0,  Iter    42:    Energy =   0.0937
Level     0,  Iter    43:    Energy =   0.0936
Level     0,  Iter    44:    Energy =   0.0937
Level     0,  Iter    45:    Energy =   0.0936
Level     0,  Iter    46:    Energy =   0.0938
Level     0,  Iter    47:    Energy =   0.0937
Level     0,  Iter    48:    Energy =   0.0938
Level     0,  Iter    49:    Energy =   0.0937
Level     0,  Iter    50:    Energy =   0.0938
Level     0,  Iter    51:    Energy =   0.0938
Level     0,  Iter    52:    Energy =   0.0939
Level     0,  Iter    53:    Energy =   0.0938
Level     0,  Iter    54:    Energy =   0.0939
Level     0,  Iter    55:    Energy =   0.0939
Level     0,  Iter    56:    Energy =   0.0940
Level     0,  Iter    57:    Energy =   0.0939
Level     0,  Iter    58:    Energy =   0.0940
Level     0,  Iter    59:    Energy =   0.0939
END OF LEVEL     0    DetJac Range:   0.1810  to   1.9712 
  Avg. Gradient Time  : 0.0075s  37.61% 
  Avg. Gaussian Time  : 0.0094s  47.21% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.19529, 1.21242], [0.486136, 0.487977, 0.494969]
Level     1,  Iter     0:    Energy =   0.0629
Level     1,  Iter     1:    Energy =   0.0671
Level     1,  Iter     2:    Energy =   0.0697
Level     1,  Iter     3:    Energy =   0.0716
Level     1,  Iter     4:    Energy =   0.0737
Level     1,  Iter     5:    Energy =   0.0755
Level     1,  Iter     6:    Energy =   0.0775
Level     1,  Iter     7:    Energy =   0.0789
Level     1,  Iter     8:    Energy =   0.0801
Level     1,  Iter     9:    Energy =   0.0811
Level     1,  Iter    10:    Energy =   0.0817
Level     1,  Iter    11:    Energy =   0.0816
Level     1,  Iter    12:    Energy =   0.0822
Level     1,  Iter    13:    Energy =   0.0821
Level     1,  Iter    14:    Energy =   0.0827
Level     1,  Iter    15:    Energy =   0.0825
Level     1,  Iter    16:    Energy =   0.0830
Level     1,  Iter    17:    Energy =   0.0828
Level     1,  Iter    18:    Energy =   0.0832
Level     1,  Iter    19:    Energy =   0.0830
Level     1,  Iter    20:    Energy =   0.0833
Level     1,  Iter    21:    Energy =   0.0832
Level     1,  Iter    22:    Energy =   0.0835
Level     1,  Iter    23:    Energy =   0.0833
Level     1,  Iter    24:    Energy =   0.0835
Level     1,  Iter    25:    Energy =   0.0834
Level     1,  Iter    26:    Energy =   0.0836
Level     1,  Iter    27:    Energy =   0.0835
Level     1,  Iter    28:    Energy =   0.0837
Level     1,  Iter    29:    Energy =   0.0836
Level     1,  Iter    30:    Energy =   0.0838
Level     1,  Iter    31:    Energy =   0.0837
Level     1,  Iter    32:    Energy =   0.0839
Level     1,  Iter    33:    Energy =   0.0837
Level     1,  Iter    34:    Energy =   0.0839
Level     1,  Iter    35:    Energy =   0.0838
Level     1,  Iter    36:    Energy =   0.0840
Level     1,  Iter    37:    Energy =   0.0839
Level     1,  Iter    38:    Energy =   0.0840
Level     1,  Iter    39:    Energy =   0.0839
Level     1,  Iter    40:    Energy =   0.0841
Level     1,  Iter    41:    Energy =   0.0840
Level     1,  Iter    42:    Energy =   0.0841
Level     1,  Iter    43:    Energy =   0.0840
Level     1,  Iter    44:    Energy =   0.0842
Level     1,  Iter    45:    Energy =   0.0840
Level     1,  Iter    46:    Energy =   0.0842
Level     1,  Iter    47:    Energy =   0.0840
Level     1,  Iter    48:    Energy =   0.0842
Level     1,  Iter    49:    Energy =   0.0840
Level     1,  Iter    50:    Energy =   0.0842
Level     1,  Iter    51:    Energy =   0.0840
Level     1,  Iter    52:    Energy =   0.0842
Level     1,  Iter    53:    Energy =   0.0841
Level     1,  Iter    54:    Energy =   0.0843
Level     1,  Iter    55:    Energy =   0.0841
Level     1,  Iter    56:    Energy =   0.0843
Level     1,  Iter    57:    Energy =   0.0841
Level     1,  Iter    58:    Energy =   0.0843
Level     1,  Iter    59:    Energy =   0.0841
END OF LEVEL     1    DetJac Range:   0.1460  to   2.8893 
  Avg. Gradient Time  : 0.0448s  40.20% 
  Avg. Gaussian Time  : 0.0533s  47.89% 
  Avg. Iteration Time : 0.1114s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0433
Level     2,  Iter     1:    Energy =   0.0448
Level     2,  Iter     2:    Energy =   0.0462
Level     2,  Iter     3:    Energy =   0.0477
Level     2,  Iter     4:    Energy =   0.0496
Level     2,  Iter     5:    Energy =   0.0510
Level     2,  Iter     6:    Energy =   0.0522
Level     2,  Iter     7:    Energy =   0.0534
Level     2,  Iter     8:    Energy =   0.0545
Level     2,  Iter     9:    Energy =   0.0554
Level     2,  Iter    10:    Energy =   0.0563
Level     2,  Iter    11:    Energy =   0.0570
Level     2,  Iter    12:    Energy =   0.0577
Level     2,  Iter    13:    Energy =   0.0582
Level     2,  Iter    14:    Energy =   0.0585
Level     2,  Iter    15:    Energy =   0.0586
Level     2,  Iter    16:    Energy =   0.0587
Level     2,  Iter    17:    Energy =   0.0587
Level     2,  Iter    18:    Energy =   0.0588
Level     2,  Iter    19:    Energy =   0.0589
END OF LEVEL     2    DetJac Range:   0.0618  to   3.4460 
  Avg. Gradient Time  : 0.3166s  37.15% 
  Avg. Gaussian Time  : 0.4438s  52.07% 
  Avg. Iteration Time : 0.8523s 

real	0m28.261s
user	0m49.872s
sys	0m2.836s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.842308 0.848077
+ echo 'CHUNK 0.842308 0.848077 1'
CHUNK 0.842308 0.848077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.842308 0.848077 1
====================================
         PROGRESS: 0.842308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 017
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2880.09 	 OutFr   0.0195 	 RMSD     1.9607
Iter 002 	 Temp     3.72 	 Delta  2782.58 	 OutFr   0.0195 	 RMSD     1.9465
Iter 003 	 Temp     3.46 	 Delta  2562.49 	 OutFr   0.0195 	 RMSD     1.9550
Iter 004 	 Temp     3.22 	 Delta  2334.19 	 OutFr   0.0195 	 RMSD     1.9369
Iter 005 	 Temp     2.99 	 Delta  2115.61 	 OutFr   0.0195 	 RMSD     1.9153
Iter 006 	 Temp     2.78 	 Delta  1911.20 	 OutFr   0.0219 	 RMSD     1.8933
Iter 007 	 Temp     2.59 	 Delta  1723.27 	 OutFr   0.0219 	 RMSD     1.8714
Iter 008 	 Temp     2.41 	 Delta  1553.61 	 OutFr   0.0219 	 RMSD     1.8495
Iter 009 	 Temp     2.24 	 Delta  1402.78 	 OutFr   0.0219 	 RMSD     1.8281
Iter 010 	 Temp     2.08 	 Delta  1269.65 	 OutFr   0.0219 	 RMSD     1.8067
Iter 011 	 Temp     1.94 	 Delta  1151.75 	 OutFr   0.0219 	 RMSD     1.7861
Iter 012 	 Temp     1.80 	 Delta  1047.01 	 OutFr   0.0219 	 RMSD     1.7675
Iter 013 	 Temp     1.67 	 Delta   954.92 	 OutFr   0.0243 	 RMSD     1.7483
Iter 014 	 Temp     1.56 	 Delta   875.39 	 OutFr   0.0292 	 RMSD     1.7307
Iter 015 	 Temp     1.45 	 Delta   807.56 	 OutFr   0.0316 	 RMSD     1.7162
Iter 016 	 Temp     1.35 	 Delta   750.16 	 OutFr   0.0316 	 RMSD     1.7041
Iter 017 	 Temp     1.25 	 Delta   701.29 	 OutFr   0.0365 	 RMSD     1.6951
Iter 018 	 Temp     1.16 	 Delta   657.44 	 OutFr   0.0414 	 RMSD     1.6895
Iter 019 	 Temp     1.08 	 Delta   616.27 	 OutFr   0.0462 	 RMSD     1.6871
Iter 020 	 Temp     1.01 	 Delta   576.97 	 OutFr   0.0511 	 RMSD     1.6857
Iter 021 	 Temp     0.94 	 Delta   538.46 	 OutFr   0.0657 	 RMSD     1.6848
Iter 022 	 Temp     0.87 	 Delta   502.22 	 OutFr   0.0803 	 RMSD     1.6846
Iter 023 	 Temp     0.81 	 Delta   473.01 	 OutFr   0.0949 	 RMSD     1.6849
Iter 024 	 Temp     0.75 	 Delta   450.71 	 OutFr   0.1095 	 RMSD     1.6854
Iter 025 	 Temp     0.70 	 Delta   429.32 	 OutFr   0.1119 	 RMSD     1.6861
Iter 026 	 Temp     0.65 	 Delta   405.87 	 OutFr   0.1192 	 RMSD     1.6874
Iter 027 	 Temp     0.61 	 Delta   380.18 	 OutFr   0.1290 	 RMSD     1.6893
Iter 028 	 Temp     0.56 	 Delta   351.18 	 OutFr   0.1484 	 RMSD     1.6914
Iter 029 	 Temp     0.52 	 Delta   318.14 	 OutFr   0.1703 	 RMSD     1.6942
Iter 030 	 Temp     0.49 	 Delta   284.45 	 OutFr   0.2141 	 RMSD     1.6978
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.f7x4CqBI/mybin.nii.gz
+ vtklevelset /tmp/ashs.f7x4CqBI/mybin.nii.gz /tmp/ashs.f7x4CqBI/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.f7x4CqBI/mymesh.vtk /tmp/ashs.f7x4CqBI/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 3116.53572082   0.93917227
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.f7x4CqBI/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 7.76765 to 32.5026
   Y : -13.9894 to 33.9385
   Z : -20.7498 to 4.4573
   Image resolution  : 101 by 167 by 101
   Image box origin  : {2.76765, -18.9894, -25.7498}
   Image box size    : {35.0694, 57.9861, 35.3496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-2.76765, 18.9894, -25.7498]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat -o /tmp/ashs.f7x4CqBI/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat -o /tmp/ashs.f7x4CqBI/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.f7x4CqBI/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.848077 0.853846
+ echo 'CHUNK 0.848077 0.853846 0.5'
CHUNK 0.848077 0.853846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.848077 0.853846 0.5
====================================
         PROGRESS: 0.848077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.f7x4CqBI/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.f7x4CqBI/fixed_hw.nii.gz /tmp/ashs.f7x4CqBI/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.49702, moving = 0.393896
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.39131, 2.3549], [0.953763, 0.976246, 0.961382]
Level     0,  Iter     0:    Energy =   0.0504
Level     0,  Iter     1:    Energy =   0.0560
Level     0,  Iter     2:    Energy =   0.0611
Level     0,  Iter     3:    Energy =   0.0656
Level     0,  Iter     4:    Energy =   0.0696
Level     0,  Iter     5:    Energy =   0.0737
Level     0,  Iter     6:    Energy =   0.0772
Level     0,  Iter     7:    Energy =   0.0792
Level     0,  Iter     8:    Energy =   0.0803
Level     0,  Iter     9:    Energy =   0.0813
Level     0,  Iter    10:    Energy =   0.0819
Level     0,  Iter    11:    Energy =   0.0824
Level     0,  Iter    12:    Energy =   0.0828
Level     0,  Iter    13:    Energy =   0.0832
Level     0,  Iter    14:    Energy =   0.0834
Level     0,  Iter    15:    Energy =   0.0836
Level     0,  Iter    16:    Energy =   0.0839
Level     0,  Iter    17:    Energy =   0.0841
Level     0,  Iter    18:    Energy =   0.0845
Level     0,  Iter    19:    Energy =   0.0847
Level     0,  Iter    20:    Energy =   0.0851
Level     0,  Iter    21:    Energy =   0.0852
Level     0,  Iter    22:    Energy =   0.0856
Level     0,  Iter    23:    Energy =   0.0857
Level     0,  Iter    24:    Energy =   0.0860
Level     0,  Iter    25:    Energy =   0.0860
Level     0,  Iter    26:    Energy =   0.0863
Level     0,  Iter    27:    Energy =   0.0862
Level     0,  Iter    28:    Energy =   0.0863
Level     0,  Iter    29:    Energy =   0.0863
Level     0,  Iter    30:    Energy =   0.0864
Level     0,  Iter    31:    Energy =   0.0864
Level     0,  Iter    32:    Energy =   0.0866
Level     0,  Iter    33:    Energy =   0.0866
Level     0,  Iter    34:    Energy =   0.0870
Level     0,  Iter    35:    Energy =   0.0868
Level     0,  Iter    36:    Energy =   0.0870
Level     0,  Iter    37:    Energy =   0.0870
Level     0,  Iter    38:    Energy =   0.0872
Level     0,  Iter    39:    Energy =   0.0870
Level     0,  Iter    40:    Energy =   0.0871
Level     0,  Iter    41:    Energy =   0.0870
Level     0,  Iter    42:    Energy =   0.0870
Level     0,  Iter    43:    Energy =   0.0869
Level     0,  Iter    44:    Energy =   0.0868
Level     0,  Iter    45:    Energy =   0.0868
Level     0,  Iter    46:    Energy =   0.0869
Level     0,  Iter    47:    Energy =   0.0868
Level     0,  Iter    48:    Energy =   0.0868
Level     0,  Iter    49:    Energy =   0.0869
Level     0,  Iter    50:    Energy =   0.0871
Level     0,  Iter    51:    Energy =   0.0870
Level     0,  Iter    52:    Energy =   0.0869
Level     0,  Iter    53:    Energy =   0.0869
Level     0,  Iter    54:    Energy =   0.0870
Level     0,  Iter    55:    Energy =   0.0870
Level     0,  Iter    56:    Energy =   0.0872
Level     0,  Iter    57:    Energy =   0.0872
Level     0,  Iter    58:    Energy =   0.0874
Level     0,  Iter    59:    Energy =   0.0872
END OF LEVEL     0    DetJac Range:   0.3112  to   2.2986 
  Avg. Gradient Time  : 0.0073s  38.18% 
  Avg. Gaussian Time  : 0.0090s  47.03% 
  Avg. Iteration Time : 0.0191s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.19565, 1.20054], [0.486232, 0.488123, 0.490116]
Level     1,  Iter     0:    Energy =   0.0591
Level     1,  Iter     1:    Energy =   0.0629
Level     1,  Iter     2:    Energy =   0.0662
Level     1,  Iter     3:    Energy =   0.0690
Level     1,  Iter     4:    Energy =   0.0714
Level     1,  Iter     5:    Energy =   0.0737
Level     1,  Iter     6:    Energy =   0.0753
Level     1,  Iter     7:    Energy =   0.0767
Level     1,  Iter     8:    Energy =   0.0778
Level     1,  Iter     9:    Energy =   0.0786
Level     1,  Iter    10:    Energy =   0.0792
Level     1,  Iter    11:    Energy =   0.0798
Level     1,  Iter    12:    Energy =   0.0804
Level     1,  Iter    13:    Energy =   0.0810
Level     1,  Iter    14:    Energy =   0.0813
Level     1,  Iter    15:    Energy =   0.0816
Level     1,  Iter    16:    Energy =   0.0817
Level     1,  Iter    17:    Energy =   0.0821
Level     1,  Iter    18:    Energy =   0.0822
Level     1,  Iter    19:    Energy =   0.0824
Level     1,  Iter    20:    Energy =   0.0826
Level     1,  Iter    21:    Energy =   0.0826
Level     1,  Iter    22:    Energy =   0.0828
Level     1,  Iter    23:    Energy =   0.0827
Level     1,  Iter    24:    Energy =   0.0829
Level     1,  Iter    25:    Energy =   0.0828
Level     1,  Iter    26:    Energy =   0.0830
Level     1,  Iter    27:    Energy =   0.0829
Level     1,  Iter    28:    Energy =   0.0831
Level     1,  Iter    29:    Energy =   0.0830
Level     1,  Iter    30:    Energy =   0.0832
Level     1,  Iter    31:    Energy =   0.0831
Level     1,  Iter    32:    Energy =   0.0833
Level     1,  Iter    33:    Energy =   0.0832
Level     1,  Iter    34:    Energy =   0.0834
Level     1,  Iter    35:    Energy =   0.0832
Level     1,  Iter    36:    Energy =   0.0834
Level     1,  Iter    37:    Energy =   0.0834
Level     1,  Iter    38:    Energy =   0.0835
Level     1,  Iter    39:    Energy =   0.0833
Level     1,  Iter    40:    Energy =   0.0835
Level     1,  Iter    41:    Energy =   0.0835
Level     1,  Iter    42:    Energy =   0.0836
Level     1,  Iter    43:    Energy =   0.0834
Level     1,  Iter    44:    Energy =   0.0836
Level     1,  Iter    45:    Energy =   0.0835
Level     1,  Iter    46:    Energy =   0.0837
Level     1,  Iter    47:    Energy =   0.0836
Level     1,  Iter    48:    Energy =   0.0838
Level     1,  Iter    49:    Energy =   0.0836
Level     1,  Iter    50:    Energy =   0.0838
Level     1,  Iter    51:    Energy =   0.0836
Level     1,  Iter    52:    Energy =   0.0838
Level     1,  Iter    53:    Energy =   0.0837
Level     1,  Iter    54:    Energy =   0.0839
Level     1,  Iter    55:    Energy =   0.0837
Level     1,  Iter    56:    Energy =   0.0839
Level     1,  Iter    57:    Energy =   0.0838
Level     1,  Iter    58:    Energy =   0.0840
Level     1,  Iter    59:    Energy =   0.0837
END OF LEVEL     1    DetJac Range:   0.0681  to   4.1741 
  Avg. Gradient Time  : 0.0427s  40.23% 
  Avg. Gaussian Time  : 0.0508s  47.86% 
  Avg. Iteration Time : 0.1061s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0441
Level     2,  Iter     1:    Energy =   0.0464
Level     2,  Iter     2:    Energy =   0.0484
Level     2,  Iter     3:    Energy =   0.0499
Level     2,  Iter     4:    Energy =   0.0513
Level     2,  Iter     5:    Energy =   0.0525
Level     2,  Iter     6:    Energy =   0.0534
Level     2,  Iter     7:    Energy =   0.0543
Level     2,  Iter     8:    Energy =   0.0552
Level     2,  Iter     9:    Energy =   0.0562
Level     2,  Iter    10:    Energy =   0.0573
Level     2,  Iter    11:    Energy =   0.0583
Level     2,  Iter    12:    Energy =   0.0591
Level     2,  Iter    13:    Energy =   0.0598
Level     2,  Iter    14:    Energy =   0.0604
Level     2,  Iter    15:    Energy =   0.0610
Level     2,  Iter    16:    Energy =   0.0613
Level     2,  Iter    17:    Energy =   0.0617
Level     2,  Iter    18:    Energy =   0.0619
Level     2,  Iter    19:    Energy =   0.0620
END OF LEVEL     2    DetJac Range:   0.0893  to   5.0617 
  Avg. Gradient Time  : 0.2979s  37.54% 
  Avg. Gaussian Time  : 0.4108s  51.77% 
  Avg. Iteration Time : 0.7935s 

real	0m26.532s
user	0m46.696s
sys	0m2.708s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.848077 0.853846
+ echo 'CHUNK 0.848077 0.853846 1'
CHUNK 0.848077 0.853846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.848077 0.853846 1
====================================
         PROGRESS: 0.848077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 018
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2215.87 	 OutFr   0.0000 	 RMSD     3.1054
Iter 002 	 Temp     3.72 	 Delta  1922.88 	 OutFr   0.0000 	 RMSD     2.2365
Iter 003 	 Temp     3.46 	 Delta  1753.37 	 OutFr   0.0000 	 RMSD     2.1973
Iter 004 	 Temp     3.22 	 Delta  1621.80 	 OutFr   0.0000 	 RMSD     2.1708
Iter 005 	 Temp     2.99 	 Delta  1505.48 	 OutFr   0.0000 	 RMSD     2.1459
Iter 006 	 Temp     2.78 	 Delta  1401.41 	 OutFr   0.0000 	 RMSD     2.1253
Iter 007 	 Temp     2.59 	 Delta  1310.30 	 OutFr   0.0000 	 RMSD     2.1084
Iter 008 	 Temp     2.41 	 Delta  1231.88 	 OutFr   0.0000 	 RMSD     2.0944
Iter 009 	 Temp     2.24 	 Delta  1164.19 	 OutFr   0.0000 	 RMSD     2.0825
Iter 010 	 Temp     2.08 	 Delta  1104.51 	 OutFr   0.0024 	 RMSD     2.0725
Iter 011 	 Temp     1.94 	 Delta  1050.36 	 OutFr   0.0073 	 RMSD     2.0642
Iter 012 	 Temp     1.80 	 Delta   999.80 	 OutFr   0.0073 	 RMSD     2.0572
Iter 013 	 Temp     1.67 	 Delta   950.76 	 OutFr   0.0097 	 RMSD     2.0516
Iter 014 	 Temp     1.56 	 Delta   901.75 	 OutFr   0.0122 	 RMSD     2.0469
Iter 015 	 Temp     1.45 	 Delta   852.60 	 OutFr   0.0122 	 RMSD     2.0434
Iter 016 	 Temp     1.35 	 Delta   803.45 	 OutFr   0.0122 	 RMSD     2.0411
Iter 017 	 Temp     1.25 	 Delta   753.88 	 OutFr   0.0146 	 RMSD     2.0393
Iter 018 	 Temp     1.16 	 Delta   703.07 	 OutFr   0.0341 	 RMSD     2.0371
Iter 019 	 Temp     1.08 	 Delta   652.46 	 OutFr   0.0389 	 RMSD     2.0352
Iter 020 	 Temp     1.01 	 Delta   606.51 	 OutFr   0.0487 	 RMSD     2.0336
Iter 021 	 Temp     0.94 	 Delta   569.52 	 OutFr   0.0584 	 RMSD     2.0323
Iter 022 	 Temp     0.87 	 Delta   539.78 	 OutFr   0.0754 	 RMSD     2.0319
Iter 023 	 Temp     0.81 	 Delta   511.27 	 OutFr   0.0852 	 RMSD     2.0328
Iter 024 	 Temp     0.75 	 Delta   477.89 	 OutFr   0.1022 	 RMSD     2.0356
Iter 025 	 Temp     0.70 	 Delta   446.90 	 OutFr   0.1192 	 RMSD     2.0395
Iter 026 	 Temp     0.65 	 Delta   418.14 	 OutFr   0.1265 	 RMSD     2.0420
Iter 027 	 Temp     0.61 	 Delta   389.49 	 OutFr   0.1436 	 RMSD     2.0440
Iter 028 	 Temp     0.56 	 Delta   361.52 	 OutFr   0.1679 	 RMSD     2.0463
Iter 029 	 Temp     0.52 	 Delta   334.83 	 OutFr   0.1849 	 RMSD     2.0487
Iter 030 	 Temp     0.49 	 Delta   308.33 	 OutFr   0.2068 	 RMSD     2.0509
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.rSoeVZ4r/mybin.nii.gz
+ vtklevelset /tmp/ashs.rSoeVZ4r/mybin.nii.gz /tmp/ashs.rSoeVZ4r/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.rSoeVZ4r/mymesh.vtk /tmp/ashs.rSoeVZ4r/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 3029.25592071   0.91287039
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.rSoeVZ4r/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.554 to 36.9822
   Y : -21.0352 to 23.1377
   Z : -7.99614 to 17.2375
   Image resolution  : 105 by 157 by 101
   Image box origin  : {5.554, -26.0352, -12.9961}
   Image box size    : {36.4583, 54.5139, 35.3496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.554, 26.0352, -12.9961]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat -o /tmp/ashs.rSoeVZ4r/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat -o /tmp/ashs.rSoeVZ4r/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.rSoeVZ4r/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.853846 0.859615
+ echo 'CHUNK 0.853846 0.859615 0.5'
CHUNK 0.853846 0.859615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.853846 0.859615 0.5
====================================
         PROGRESS: 0.853846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.rSoeVZ4r/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.rSoeVZ4r/fixed_hw.nii.gz /tmp/ashs.rSoeVZ4r/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.493815, moving = 0.581535
LEVEL 1 of 3
  Smoothing sigmas: [2.3388, 2.36052, 2.3549], [0.954812, 0.963678, 0.961382]
Level     0,  Iter     0:    Energy =   0.0560
Level     0,  Iter     1:    Energy =   0.0622
Level     0,  Iter     2:    Energy =   0.0673
Level     0,  Iter     3:    Energy =   0.0721
Level     0,  Iter     4:    Energy =   0.0763
Level     0,  Iter     5:    Energy =   0.0799
Level     0,  Iter     6:    Energy =   0.0836
Level     0,  Iter     7:    Energy =   0.0865
Level     0,  Iter     8:    Energy =   0.0890
Level     0,  Iter     9:    Energy =   0.0908
Level     0,  Iter    10:    Energy =   0.0924
Level     0,  Iter    11:    Energy =   0.0937
Level     0,  Iter    12:    Energy =   0.0949
Level     0,  Iter    13:    Energy =   0.0956
Level     0,  Iter    14:    Energy =   0.0963
Level     0,  Iter    15:    Energy =   0.0964
Level     0,  Iter    16:    Energy =   0.0966
Level     0,  Iter    17:    Energy =   0.0967
Level     0,  Iter    18:    Energy =   0.0969
Level     0,  Iter    19:    Energy =   0.0972
Level     0,  Iter    20:    Energy =   0.0974
Level     0,  Iter    21:    Energy =   0.0976
Level     0,  Iter    22:    Energy =   0.0977
Level     0,  Iter    23:    Energy =   0.0981
Level     0,  Iter    24:    Energy =   0.0982
Level     0,  Iter    25:    Energy =   0.0984
Level     0,  Iter    26:    Energy =   0.0985
Level     0,  Iter    27:    Energy =   0.0986
Level     0,  Iter    28:    Energy =   0.0987
Level     0,  Iter    29:    Energy =   0.0988
Level     0,  Iter    30:    Energy =   0.0989
Level     0,  Iter    31:    Energy =   0.0989
Level     0,  Iter    32:    Energy =   0.0988
Level     0,  Iter    33:    Energy =   0.0988
Level     0,  Iter    34:    Energy =   0.0987
Level     0,  Iter    35:    Energy =   0.0987
Level     0,  Iter    36:    Energy =   0.0986
Level     0,  Iter    37:    Energy =   0.0986
Level     0,  Iter    38:    Energy =   0.0985
Level     0,  Iter    39:    Energy =   0.0986
Level     0,  Iter    40:    Energy =   0.0985
Level     0,  Iter    41:    Energy =   0.0986
Level     0,  Iter    42:    Energy =   0.0985
Level     0,  Iter    43:    Energy =   0.0986
Level     0,  Iter    44:    Energy =   0.0985
Level     0,  Iter    45:    Energy =   0.0985
Level     0,  Iter    46:    Energy =   0.0984
Level     0,  Iter    47:    Energy =   0.0985
Level     0,  Iter    48:    Energy =   0.0984
Level     0,  Iter    49:    Energy =   0.0985
Level     0,  Iter    50:    Energy =   0.0983
Level     0,  Iter    51:    Energy =   0.0985
Level     0,  Iter    52:    Energy =   0.0983
Level     0,  Iter    53:    Energy =   0.0984
Level     0,  Iter    54:    Energy =   0.0983
Level     0,  Iter    55:    Energy =   0.0985
Level     0,  Iter    56:    Energy =   0.0983
Level     0,  Iter    57:    Energy =   0.0985
Level     0,  Iter    58:    Energy =   0.0983
Level     0,  Iter    59:    Energy =   0.0985
END OF LEVEL     0    DetJac Range:   0.2431  to   2.0291 
  Avg. Gradient Time  : 0.0071s  37.78% 
  Avg. Gaussian Time  : 0.0089s  47.25% 
  Avg. Iteration Time : 0.0187s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19147, 1.1952, 1.20054], [0.486414, 0.487938, 0.490116]
Level     1,  Iter     0:    Energy =   0.0642
Level     1,  Iter     1:    Energy =   0.0680
Level     1,  Iter     2:    Energy =   0.0712
Level     1,  Iter     3:    Energy =   0.0737
Level     1,  Iter     4:    Energy =   0.0758
Level     1,  Iter     5:    Energy =   0.0783
Level     1,  Iter     6:    Energy =   0.0800
Level     1,  Iter     7:    Energy =   0.0816
Level     1,  Iter     8:    Energy =   0.0818
Level     1,  Iter     9:    Energy =   0.0822
Level     1,  Iter    10:    Energy =   0.0824
Level     1,  Iter    11:    Energy =   0.0827
Level     1,  Iter    12:    Energy =   0.0829
Level     1,  Iter    13:    Energy =   0.0832
Level     1,  Iter    14:    Energy =   0.0833
Level     1,  Iter    15:    Energy =   0.0835
Level     1,  Iter    16:    Energy =   0.0837
Level     1,  Iter    17:    Energy =   0.0838
Level     1,  Iter    18:    Energy =   0.0839
Level     1,  Iter    19:    Energy =   0.0841
Level     1,  Iter    20:    Energy =   0.0842
Level     1,  Iter    21:    Energy =   0.0843
Level     1,  Iter    22:    Energy =   0.0844
Level     1,  Iter    23:    Energy =   0.0846
Level     1,  Iter    24:    Energy =   0.0846
Level     1,  Iter    25:    Energy =   0.0848
Level     1,  Iter    26:    Energy =   0.0848
Level     1,  Iter    27:    Energy =   0.0849
Level     1,  Iter    28:    Energy =   0.0850
Level     1,  Iter    29:    Energy =   0.0851
Level     1,  Iter    30:    Energy =   0.0851
Level     1,  Iter    31:    Energy =   0.0852
Level     1,  Iter    32:    Energy =   0.0853
Level     1,  Iter    33:    Energy =   0.0853
Level     1,  Iter    34:    Energy =   0.0853
Level     1,  Iter    35:    Energy =   0.0854
Level     1,  Iter    36:    Energy =   0.0854
Level     1,  Iter    37:    Energy =   0.0855
Level     1,  Iter    38:    Energy =   0.0855
Level     1,  Iter    39:    Energy =   0.0856
Level     1,  Iter    40:    Energy =   0.0856
Level     1,  Iter    41:    Energy =   0.0857
Level     1,  Iter    42:    Energy =   0.0857
Level     1,  Iter    43:    Energy =   0.0857
Level     1,  Iter    44:    Energy =   0.0857
Level     1,  Iter    45:    Energy =   0.0858
Level     1,  Iter    46:    Energy =   0.0858
Level     1,  Iter    47:    Energy =   0.0858
Level     1,  Iter    48:    Energy =   0.0859
Level     1,  Iter    49:    Energy =   0.0858
Level     1,  Iter    50:    Energy =   0.0859
Level     1,  Iter    51:    Energy =   0.0859
Level     1,  Iter    52:    Energy =   0.0859
Level     1,  Iter    53:    Energy =   0.0859
Level     1,  Iter    54:    Energy =   0.0860
Level     1,  Iter    55:    Energy =   0.0860
Level     1,  Iter    56:    Energy =   0.0860
Level     1,  Iter    57:    Energy =   0.0860
Level     1,  Iter    58:    Energy =   0.0860
Level     1,  Iter    59:    Energy =   0.0860
END OF LEVEL     1    DetJac Range:   0.1923  to   2.6392 
  Avg. Gradient Time  : 0.0414s  40.23% 
  Avg. Gaussian Time  : 0.0492s  47.82% 
  Avg. Iteration Time : 0.1030s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0450
Level     2,  Iter     1:    Energy =   0.0468
Level     2,  Iter     2:    Energy =   0.0483
Level     2,  Iter     3:    Energy =   0.0499
Level     2,  Iter     4:    Energy =   0.0518
Level     2,  Iter     5:    Energy =   0.0536
Level     2,  Iter     6:    Energy =   0.0556
Level     2,  Iter     7:    Energy =   0.0569
Level     2,  Iter     8:    Energy =   0.0578
Level     2,  Iter     9:    Energy =   0.0586
Level     2,  Iter    10:    Energy =   0.0594
Level     2,  Iter    11:    Energy =   0.0602
Level     2,  Iter    12:    Energy =   0.0612
Level     2,  Iter    13:    Energy =   0.0620
Level     2,  Iter    14:    Energy =   0.0623
Level     2,  Iter    15:    Energy =   0.0623
Level     2,  Iter    16:    Energy =   0.0625
Level     2,  Iter    17:    Energy =   0.0626
Level     2,  Iter    18:    Energy =   0.0627
Level     2,  Iter    19:    Energy =   0.0628
END OF LEVEL     2    DetJac Range:   0.1057  to   3.4043 
  Avg. Gradient Time  : 0.2900s  37.45% 
  Avg. Gaussian Time  : 0.4009s  51.77% 
  Avg. Iteration Time : 0.7744s 

real	0m25.843s
user	0m45.740s
sys	0m2.468s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.853846 0.859615
+ echo 'CHUNK 0.853846 0.859615 1'
CHUNK 0.853846 0.859615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.853846 0.859615 1
====================================
         PROGRESS: 0.853846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 019
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1822.57 	 OutFr   0.0073 	 RMSD     3.3823
Iter 002 	 Temp     3.72 	 Delta  1685.74 	 OutFr   0.0049 	 RMSD     2.2637
Iter 003 	 Temp     3.46 	 Delta  1557.08 	 OutFr   0.0049 	 RMSD     2.2424
Iter 004 	 Temp     3.22 	 Delta  1448.72 	 OutFr   0.0049 	 RMSD     2.2257
Iter 005 	 Temp     2.99 	 Delta  1356.15 	 OutFr   0.0049 	 RMSD     2.2119
Iter 006 	 Temp     2.78 	 Delta  1275.23 	 OutFr   0.0049 	 RMSD     2.2013
Iter 007 	 Temp     2.59 	 Delta  1203.14 	 OutFr   0.0049 	 RMSD     2.1934
Iter 008 	 Temp     2.41 	 Delta  1138.52 	 OutFr   0.0073 	 RMSD     2.1873
Iter 009 	 Temp     2.24 	 Delta  1080.91 	 OutFr   0.0097 	 RMSD     2.1821
Iter 010 	 Temp     2.08 	 Delta  1029.78 	 OutFr   0.0122 	 RMSD     2.1775
Iter 011 	 Temp     1.94 	 Delta   984.09 	 OutFr   0.0170 	 RMSD     2.1735
Iter 012 	 Temp     1.80 	 Delta   942.51 	 OutFr   0.0170 	 RMSD     2.1698
Iter 013 	 Temp     1.67 	 Delta   904.14 	 OutFr   0.0219 	 RMSD     2.1664
Iter 014 	 Temp     1.56 	 Delta   868.41 	 OutFr   0.0268 	 RMSD     2.1632
Iter 015 	 Temp     1.45 	 Delta   833.72 	 OutFr   0.0292 	 RMSD     2.1601
Iter 016 	 Temp     1.35 	 Delta   796.91 	 OutFr   0.0292 	 RMSD     2.1570
Iter 017 	 Temp     1.25 	 Delta   755.00 	 OutFr   0.0316 	 RMSD     2.1537
Iter 018 	 Temp     1.16 	 Delta   706.97 	 OutFr   0.0438 	 RMSD     2.1502
Iter 019 	 Temp     1.08 	 Delta   655.64 	 OutFr   0.0535 	 RMSD     2.1470
Iter 020 	 Temp     1.01 	 Delta   608.29 	 OutFr   0.0681 	 RMSD     2.1442
Iter 021 	 Temp     0.94 	 Delta   570.04 	 OutFr   0.0803 	 RMSD     2.1425
Iter 022 	 Temp     0.87 	 Delta   540.86 	 OutFr   0.0973 	 RMSD     2.1424
Iter 023 	 Temp     0.81 	 Delta   512.21 	 OutFr   0.1071 	 RMSD     2.1432
Iter 024 	 Temp     0.75 	 Delta   482.73 	 OutFr   0.1338 	 RMSD     2.1451
Iter 025 	 Temp     0.70 	 Delta   453.98 	 OutFr   0.1411 	 RMSD     2.1474
Iter 026 	 Temp     0.65 	 Delta   422.02 	 OutFr   0.1606 	 RMSD     2.1508
Iter 027 	 Temp     0.61 	 Delta   388.83 	 OutFr   0.1776 	 RMSD     2.1551
Iter 028 	 Temp     0.56 	 Delta   358.25 	 OutFr   0.2117 	 RMSD     2.1594
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.r3N9cc0g/mybin.nii.gz
+ vtklevelset /tmp/ashs.r3N9cc0g/mybin.nii.gz /tmp/ashs.r3N9cc0g/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.r3N9cc0g/mymesh.vtk /tmp/ashs.r3N9cc0g/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 3225.16210834   0.97190698
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.r3N9cc0g/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.69737 to 35.0266
   Y : -13.1125 to 33.4835
   Z : -20.7009 to 8.03391
   Image resolution  : 102 by 163 by 111
   Image box origin  : {4.69737, -18.1125, -25.7009}
   Image box size    : {35.4166, 56.5972, 38.8496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.69737, 18.1125, -25.7009]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat -o /tmp/ashs.r3N9cc0g/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat -o /tmp/ashs.r3N9cc0g/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.r3N9cc0g/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.859615 0.865385
+ echo 'CHUNK 0.859615 0.865385 0.5'
CHUNK 0.859615 0.865385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.859615 0.865385 0.5
====================================
         PROGRESS: 0.859615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.r3N9cc0g/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.r3N9cc0g/fixed_hw.nii.gz /tmp/ashs.r3N9cc0g/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.485483, moving = 0.477585
LEVEL 1 of 3
  Smoothing sigmas: [2.35936, 2.39096, 2.40319], [0.963206, 0.976104, 0.981099]
Level     0,  Iter     0:    Energy =   0.0451
Level     0,  Iter     1:    Energy =   0.0491
Level     0,  Iter     2:    Energy =   0.0533
Level     0,  Iter     3:    Energy =   0.0576
Level     0,  Iter     4:    Energy =   0.0614
Level     0,  Iter     5:    Energy =   0.0650
Level     0,  Iter     6:    Energy =   0.0679
Level     0,  Iter     7:    Energy =   0.0701
Level     0,  Iter     8:    Energy =   0.0715
Level     0,  Iter     9:    Energy =   0.0731
Level     0,  Iter    10:    Energy =   0.0746
Level     0,  Iter    11:    Energy =   0.0758
Level     0,  Iter    12:    Energy =   0.0758
Level     0,  Iter    13:    Energy =   0.0768
Level     0,  Iter    14:    Energy =   0.0767
Level     0,  Iter    15:    Energy =   0.0777
Level     0,  Iter    16:    Energy =   0.0778
Level     0,  Iter    17:    Energy =   0.0783
Level     0,  Iter    18:    Energy =   0.0782
Level     0,  Iter    19:    Energy =   0.0790
Level     0,  Iter    20:    Energy =   0.0789
Level     0,  Iter    21:    Energy =   0.0793
Level     0,  Iter    22:    Energy =   0.0792
Level     0,  Iter    23:    Energy =   0.0799
Level     0,  Iter    24:    Energy =   0.0798
Level     0,  Iter    25:    Energy =   0.0802
Level     0,  Iter    26:    Energy =   0.0801
Level     0,  Iter    27:    Energy =   0.0807
Level     0,  Iter    28:    Energy =   0.0807
Level     0,  Iter    29:    Energy =   0.0810
Level     0,  Iter    30:    Energy =   0.0809
Level     0,  Iter    31:    Energy =   0.0814
Level     0,  Iter    32:    Energy =   0.0813
Level     0,  Iter    33:    Energy =   0.0815
Level     0,  Iter    34:    Energy =   0.0814
Level     0,  Iter    35:    Energy =   0.0820
Level     0,  Iter    36:    Energy =   0.0817
Level     0,  Iter    37:    Energy =   0.0819
Level     0,  Iter    38:    Energy =   0.0816
Level     0,  Iter    39:    Energy =   0.0822
Level     0,  Iter    40:    Energy =   0.0820
Level     0,  Iter    41:    Energy =   0.0821
Level     0,  Iter    42:    Energy =   0.0818
Level     0,  Iter    43:    Energy =   0.0824
Level     0,  Iter    44:    Energy =   0.0822
Level     0,  Iter    45:    Energy =   0.0824
Level     0,  Iter    46:    Energy =   0.0821
Level     0,  Iter    47:    Energy =   0.0826
Level     0,  Iter    48:    Energy =   0.0824
Level     0,  Iter    49:    Energy =   0.0826
Level     0,  Iter    50:    Energy =   0.0823
Level     0,  Iter    51:    Energy =   0.0826
Level     0,  Iter    52:    Energy =   0.0827
Level     0,  Iter    53:    Energy =   0.0825
Level     0,  Iter    54:    Energy =   0.0823
Level     0,  Iter    55:    Energy =   0.0828
Level     0,  Iter    56:    Energy =   0.0831
Level     0,  Iter    57:    Energy =   0.0828
Level     0,  Iter    58:    Energy =   0.0827
Level     0,  Iter    59:    Energy =   0.0829
END OF LEVEL     0    DetJac Range:   0.1247  to   2.1735 
  Avg. Gradient Time  : 0.0075s  37.77% 
  Avg. Gaussian Time  : 0.0094s  47.47% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19548, 1.2016], [0.491046, 0.488052, 0.49055]
Level     1,  Iter     0:    Energy =   0.0543
Level     1,  Iter     1:    Energy =   0.0588
Level     1,  Iter     2:    Energy =   0.0622
Level     1,  Iter     3:    Energy =   0.0649
Level     1,  Iter     4:    Energy =   0.0671
Level     1,  Iter     5:    Energy =   0.0687
Level     1,  Iter     6:    Energy =   0.0701
Level     1,  Iter     7:    Energy =   0.0714
Level     1,  Iter     8:    Energy =   0.0725
Level     1,  Iter     9:    Energy =   0.0737
Level     1,  Iter    10:    Energy =   0.0745
Level     1,  Iter    11:    Energy =   0.0752
Level     1,  Iter    12:    Energy =   0.0758
Level     1,  Iter    13:    Energy =   0.0763
Level     1,  Iter    14:    Energy =   0.0767
Level     1,  Iter    15:    Energy =   0.0765
Level     1,  Iter    16:    Energy =   0.0770
Level     1,  Iter    17:    Energy =   0.0769
Level     1,  Iter    18:    Energy =   0.0773
Level     1,  Iter    19:    Energy =   0.0771
Level     1,  Iter    20:    Energy =   0.0775
Level     1,  Iter    21:    Energy =   0.0774
Level     1,  Iter    22:    Energy =   0.0777
Level     1,  Iter    23:    Energy =   0.0775
Level     1,  Iter    24:    Energy =   0.0779
Level     1,  Iter    25:    Energy =   0.0778
Level     1,  Iter    26:    Energy =   0.0779
Level     1,  Iter    27:    Energy =   0.0778
Level     1,  Iter    28:    Energy =   0.0778
Level     1,  Iter    29:    Energy =   0.0778
Level     1,  Iter    30:    Energy =   0.0779
Level     1,  Iter    31:    Energy =   0.0778
Level     1,  Iter    32:    Energy =   0.0779
Level     1,  Iter    33:    Energy =   0.0779
Level     1,  Iter    34:    Energy =   0.0781
Level     1,  Iter    35:    Energy =   0.0780
Level     1,  Iter    36:    Energy =   0.0783
Level     1,  Iter    37:    Energy =   0.0781
Level     1,  Iter    38:    Energy =   0.0784
Level     1,  Iter    39:    Energy =   0.0782
Level     1,  Iter    40:    Energy =   0.0783
Level     1,  Iter    41:    Energy =   0.0783
Level     1,  Iter    42:    Energy =   0.0781
Level     1,  Iter    43:    Energy =   0.0784
Level     1,  Iter    44:    Energy =   0.0783
Level     1,  Iter    45:    Energy =   0.0784
Level     1,  Iter    46:    Energy =   0.0782
Level     1,  Iter    47:    Energy =   0.0785
Level     1,  Iter    48:    Energy =   0.0783
Level     1,  Iter    49:    Energy =   0.0786
Level     1,  Iter    50:    Energy =   0.0783
Level     1,  Iter    51:    Energy =   0.0786
Level     1,  Iter    52:    Energy =   0.0784
Level     1,  Iter    53:    Energy =   0.0786
Level     1,  Iter    54:    Energy =   0.0783
Level     1,  Iter    55:    Energy =   0.0786
Level     1,  Iter    56:    Energy =   0.0785
Level     1,  Iter    57:    Energy =   0.0786
Level     1,  Iter    58:    Energy =   0.0783
Level     1,  Iter    59:    Energy =   0.0787
END OF LEVEL     1    DetJac Range:   0.0214  to   3.6728 
  Avg. Gradient Time  : 0.0454s  40.14% 
  Avg. Gaussian Time  : 0.0544s  48.13% 
  Avg. Iteration Time : 0.1130s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0408
Level     2,  Iter     1:    Energy =   0.0428
Level     2,  Iter     2:    Energy =   0.0449
Level     2,  Iter     3:    Energy =   0.0466
Level     2,  Iter     4:    Energy =   0.0481
Level     2,  Iter     5:    Energy =   0.0495
Level     2,  Iter     6:    Energy =   0.0508
Level     2,  Iter     7:    Energy =   0.0519
Level     2,  Iter     8:    Energy =   0.0526
Level     2,  Iter     9:    Energy =   0.0536
Level     2,  Iter    10:    Energy =   0.0544
Level     2,  Iter    11:    Energy =   0.0554
Level     2,  Iter    12:    Energy =   0.0562
Level     2,  Iter    13:    Energy =   0.0570
Level     2,  Iter    14:    Energy =   0.0577
Level     2,  Iter    15:    Energy =   0.0582
Level     2,  Iter    16:    Energy =   0.0588
Level     2,  Iter    17:    Energy =   0.0592
Level     2,  Iter    18:    Energy =   0.0597
Level     2,  Iter    19:    Energy =   0.0600
END OF LEVEL     2    DetJac Range:   0.0192  to   4.7218 
  Avg. Gradient Time  : 0.3239s  37.57% 
  Avg. Gaussian Time  : 0.4462s  51.75% 
  Avg. Iteration Time : 0.8621s 

real	0m28.627s
user	0m50.552s
sys	0m2.948s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.859615 0.865385
+ echo 'CHUNK 0.859615 0.865385 1'
CHUNK 0.859615 0.865385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.859615 0.865385 1
====================================
         PROGRESS: 0.859615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 020
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2446.30 	 OutFr   0.0170 	 RMSD     4.7012
Iter 002 	 Temp     3.72 	 Delta  2124.74 	 OutFr   0.0146 	 RMSD     2.7076
Iter 003 	 Temp     3.46 	 Delta  2018.02 	 OutFr   0.0146 	 RMSD     2.6115
Iter 004 	 Temp     3.22 	 Delta  1935.78 	 OutFr   0.0146 	 RMSD     2.5876
Iter 005 	 Temp     2.99 	 Delta  1859.69 	 OutFr   0.0146 	 RMSD     2.5763
Iter 006 	 Temp     2.78 	 Delta  1788.16 	 OutFr   0.0146 	 RMSD     2.5689
Iter 007 	 Temp     2.59 	 Delta  1720.43 	 OutFr   0.0146 	 RMSD     2.5632
Iter 008 	 Temp     2.41 	 Delta  1656.26 	 OutFr   0.0146 	 RMSD     2.5581
Iter 009 	 Temp     2.24 	 Delta  1595.64 	 OutFr   0.0146 	 RMSD     2.5529
Iter 010 	 Temp     2.08 	 Delta  1538.35 	 OutFr   0.0146 	 RMSD     2.5478
Iter 011 	 Temp     1.94 	 Delta  1482.83 	 OutFr   0.0170 	 RMSD     2.5424
Iter 012 	 Temp     1.80 	 Delta  1426.58 	 OutFr   0.0219 	 RMSD     2.5367
Iter 013 	 Temp     1.67 	 Delta  1367.82 	 OutFr   0.0268 	 RMSD     2.5309
Iter 014 	 Temp     1.56 	 Delta  1305.43 	 OutFr   0.0316 	 RMSD     2.5257
Iter 015 	 Temp     1.45 	 Delta  1238.70 	 OutFr   0.0389 	 RMSD     2.5213
Iter 016 	 Temp     1.35 	 Delta  1169.06 	 OutFr   0.0438 	 RMSD     2.5176
Iter 017 	 Temp     1.25 	 Delta  1099.31 	 OutFr   0.0608 	 RMSD     2.5146
Iter 018 	 Temp     1.16 	 Delta  1028.13 	 OutFr   0.0633 	 RMSD     2.5126
Iter 019 	 Temp     1.08 	 Delta   952.11 	 OutFr   0.0681 	 RMSD     2.5111
Iter 020 	 Temp     1.01 	 Delta   872.82 	 OutFr   0.0730 	 RMSD     2.5103
Iter 021 	 Temp     0.94 	 Delta   795.72 	 OutFr   0.0803 	 RMSD     2.5102
Iter 022 	 Temp     0.87 	 Delta   724.68 	 OutFr   0.1022 	 RMSD     2.5105
Iter 023 	 Temp     0.81 	 Delta   657.24 	 OutFr   0.1217 	 RMSD     2.5107
Iter 024 	 Temp     0.75 	 Delta   589.03 	 OutFr   0.1533 	 RMSD     2.5110
Iter 025 	 Temp     0.70 	 Delta   519.18 	 OutFr   0.1873 	 RMSD     2.5117
Iter 026 	 Temp     0.65 	 Delta   450.27 	 OutFr   0.2287 	 RMSD     2.5126
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.QtvOZI5d/mybin.nii.gz
+ vtklevelset /tmp/ashs.QtvOZI5d/mybin.nii.gz /tmp/ashs.QtvOZI5d/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.QtvOZI5d/mymesh.vtk /tmp/ashs.QtvOZI5d/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 3243.75170095   0.97750898
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.QtvOZI5d/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 13.4481 to 37.8982
   Y : -17.0978 to 29.88
   Z : -21.6446 to 9.98671
   Image resolution  : 100 by 165 by 119
   Image box origin  : {8.4481, -22.0978, -26.6446}
   Image box size    : {34.7222, 57.2916, 41.6495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-8.4481, 22.0978, -26.6446]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat -o /tmp/ashs.QtvOZI5d/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat -o /tmp/ashs.QtvOZI5d/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.QtvOZI5d/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.865385 0.871154
+ echo 'CHUNK 0.865385 0.871154 0.5'
CHUNK 0.865385 0.871154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.865385 0.871154 0.5
====================================
         PROGRESS: 0.865385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.QtvOZI5d/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.QtvOZI5d/fixed_hw.nii.gz /tmp/ashs.QtvOZI5d/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.486797, moving = 0.482117
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.36267, 2.40464], [0.982092, 0.964555, 0.981689]
Level     0,  Iter     0:    Energy =   0.0340
Level     0,  Iter     1:    Energy =   0.0398
Level     0,  Iter     2:    Energy =   0.0452
Level     0,  Iter     3:    Energy =   0.0496
Level     0,  Iter     4:    Energy =   0.0537
Level     0,  Iter     5:    Energy =   0.0573
Level     0,  Iter     6:    Energy =   0.0603
Level     0,  Iter     7:    Energy =   0.0625
Level     0,  Iter     8:    Energy =   0.0642
Level     0,  Iter     9:    Energy =   0.0657
Level     0,  Iter    10:    Energy =   0.0675
Level     0,  Iter    11:    Energy =   0.0697
Level     0,  Iter    12:    Energy =   0.0713
Level     0,  Iter    13:    Energy =   0.0728
Level     0,  Iter    14:    Energy =   0.0744
Level     0,  Iter    15:    Energy =   0.0752
Level     0,  Iter    16:    Energy =   0.0756
Level     0,  Iter    17:    Energy =   0.0756
Level     0,  Iter    18:    Energy =   0.0759
Level     0,  Iter    19:    Energy =   0.0762
Level     0,  Iter    20:    Energy =   0.0764
Level     0,  Iter    21:    Energy =   0.0766
Level     0,  Iter    22:    Energy =   0.0767
Level     0,  Iter    23:    Energy =   0.0770
Level     0,  Iter    24:    Energy =   0.0771
Level     0,  Iter    25:    Energy =   0.0773
Level     0,  Iter    26:    Energy =   0.0773
Level     0,  Iter    27:    Energy =   0.0775
Level     0,  Iter    28:    Energy =   0.0774
Level     0,  Iter    29:    Energy =   0.0776
Level     0,  Iter    30:    Energy =   0.0775
Level     0,  Iter    31:    Energy =   0.0777
Level     0,  Iter    32:    Energy =   0.0777
Level     0,  Iter    33:    Energy =   0.0779
Level     0,  Iter    34:    Energy =   0.0778
Level     0,  Iter    35:    Energy =   0.0780
Level     0,  Iter    36:    Energy =   0.0780
Level     0,  Iter    37:    Energy =   0.0781
Level     0,  Iter    38:    Energy =   0.0781
Level     0,  Iter    39:    Energy =   0.0783
Level     0,  Iter    40:    Energy =   0.0783
Level     0,  Iter    41:    Energy =   0.0784
Level     0,  Iter    42:    Energy =   0.0784
Level     0,  Iter    43:    Energy =   0.0786
Level     0,  Iter    44:    Energy =   0.0786
Level     0,  Iter    45:    Energy =   0.0787
Level     0,  Iter    46:    Energy =   0.0787
Level     0,  Iter    47:    Energy =   0.0789
Level     0,  Iter    48:    Energy =   0.0788
Level     0,  Iter    49:    Energy =   0.0790
Level     0,  Iter    50:    Energy =   0.0789
Level     0,  Iter    51:    Energy =   0.0791
Level     0,  Iter    52:    Energy =   0.0790
Level     0,  Iter    53:    Energy =   0.0792
Level     0,  Iter    54:    Energy =   0.0791
Level     0,  Iter    55:    Energy =   0.0793
Level     0,  Iter    56:    Energy =   0.0793
Level     0,  Iter    57:    Energy =   0.0794
Level     0,  Iter    58:    Energy =   0.0793
Level     0,  Iter    59:    Energy =   0.0795
END OF LEVEL     0    DetJac Range:   0.2492  to   2.2756 
  Avg. Gradient Time  : 0.0080s  38.19% 
  Avg. Gaussian Time  : 0.0099s  46.85% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19557, 1.20232], [0.491046, 0.488088, 0.490844]
Level     1,  Iter     0:    Energy =   0.0505
Level     1,  Iter     1:    Energy =   0.0539
Level     1,  Iter     2:    Energy =   0.0574
Level     1,  Iter     3:    Energy =   0.0604
Level     1,  Iter     4:    Energy =   0.0622
Level     1,  Iter     5:    Energy =   0.0640
Level     1,  Iter     6:    Energy =   0.0659
Level     1,  Iter     7:    Energy =   0.0674
Level     1,  Iter     8:    Energy =   0.0687
Level     1,  Iter     9:    Energy =   0.0697
Level     1,  Iter    10:    Energy =   0.0705
Level     1,  Iter    11:    Energy =   0.0709
Level     1,  Iter    12:    Energy =   0.0711
Level     1,  Iter    13:    Energy =   0.0712
Level     1,  Iter    14:    Energy =   0.0719
Level     1,  Iter    15:    Energy =   0.0718
Level     1,  Iter    16:    Energy =   0.0724
Level     1,  Iter    17:    Energy =   0.0724
Level     1,  Iter    18:    Energy =   0.0724
Level     1,  Iter    19:    Energy =   0.0729
Level     1,  Iter    20:    Energy =   0.0729
Level     1,  Iter    21:    Energy =   0.0735
Level     1,  Iter    22:    Energy =   0.0734
Level     1,  Iter    23:    Energy =   0.0739
Level     1,  Iter    24:    Energy =   0.0738
Level     1,  Iter    25:    Energy =   0.0743
Level     1,  Iter    26:    Energy =   0.0741
Level     1,  Iter    27:    Energy =   0.0746
Level     1,  Iter    28:    Energy =   0.0744
Level     1,  Iter    29:    Energy =   0.0748
Level     1,  Iter    30:    Energy =   0.0746
Level     1,  Iter    31:    Energy =   0.0749
Level     1,  Iter    32:    Energy =   0.0748
Level     1,  Iter    33:    Energy =   0.0750
Level     1,  Iter    34:    Energy =   0.0748
Level     1,  Iter    35:    Energy =   0.0750
Level     1,  Iter    36:    Energy =   0.0749
Level     1,  Iter    37:    Energy =   0.0752
Level     1,  Iter    38:    Energy =   0.0749
Level     1,  Iter    39:    Energy =   0.0752
Level     1,  Iter    40:    Energy =   0.0752
Level     1,  Iter    41:    Energy =   0.0753
Level     1,  Iter    42:    Energy =   0.0750
Level     1,  Iter    43:    Energy =   0.0753
Level     1,  Iter    44:    Energy =   0.0753
Level     1,  Iter    45:    Energy =   0.0754
Level     1,  Iter    46:    Energy =   0.0751
Level     1,  Iter    47:    Energy =   0.0755
Level     1,  Iter    48:    Energy =   0.0754
Level     1,  Iter    49:    Energy =   0.0756
Level     1,  Iter    50:    Energy =   0.0753
Level     1,  Iter    51:    Energy =   0.0756
Level     1,  Iter    52:    Energy =   0.0755
Level     1,  Iter    53:    Energy =   0.0756
Level     1,  Iter    54:    Energy =   0.0753
Level     1,  Iter    55:    Energy =   0.0757
Level     1,  Iter    56:    Energy =   0.0755
Level     1,  Iter    57:    Energy =   0.0757
Level     1,  Iter    58:    Energy =   0.0754
Level     1,  Iter    59:    Energy =   0.0757
END OF LEVEL     1    DetJac Range:   0.1720  to   4.1086 
  Avg. Gradient Time  : 0.0487s  40.27% 
  Avg. Gaussian Time  : 0.0579s  47.92% 
  Avg. Iteration Time : 0.1209s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0391
Level     2,  Iter     1:    Energy =   0.0412
Level     2,  Iter     2:    Energy =   0.0430
Level     2,  Iter     3:    Energy =   0.0444
Level     2,  Iter     4:    Energy =   0.0459
Level     2,  Iter     5:    Energy =   0.0474
Level     2,  Iter     6:    Energy =   0.0487
Level     2,  Iter     7:    Energy =   0.0497
Level     2,  Iter     8:    Energy =   0.0506
Level     2,  Iter     9:    Energy =   0.0513
Level     2,  Iter    10:    Energy =   0.0519
Level     2,  Iter    11:    Energy =   0.0524
Level     2,  Iter    12:    Energy =   0.0529
Level     2,  Iter    13:    Energy =   0.0533
Level     2,  Iter    14:    Energy =   0.0536
Level     2,  Iter    15:    Energy =   0.0540
Level     2,  Iter    16:    Energy =   0.0542
Level     2,  Iter    17:    Energy =   0.0544
Level     2,  Iter    18:    Energy =   0.0546
Level     2,  Iter    19:    Energy =   0.0547
END OF LEVEL     2    DetJac Range:   0.0767  to   5.2715 
  Avg. Gradient Time  : 0.3458s  37.34% 
  Avg. Gaussian Time  : 0.4807s  51.91% 
  Avg. Iteration Time : 0.9260s 

real	0m30.708s
user	0m54.488s
sys	0m2.928s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.865385 0.871154
+ echo 'CHUNK 0.865385 0.871154 1'
CHUNK 0.865385 0.871154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.865385 0.871154 1
====================================
         PROGRESS: 0.865385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=021
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 021
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 021 right 0
+ local tid=021
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2338.48 	 OutFr   0.0049 	 RMSD     2.3506
Iter 002 	 Temp     3.72 	 Delta  2286.42 	 OutFr   0.0049 	 RMSD     2.2448
Iter 003 	 Temp     3.46 	 Delta  2168.96 	 OutFr   0.0049 	 RMSD     2.2289
Iter 004 	 Temp     3.22 	 Delta  2037.74 	 OutFr   0.0049 	 RMSD     2.2127
Iter 005 	 Temp     2.99 	 Delta  1904.53 	 OutFr   0.0049 	 RMSD     2.1983
Iter 006 	 Temp     2.78 	 Delta  1773.70 	 OutFr   0.0049 	 RMSD     2.1852
Iter 007 	 Temp     2.59 	 Delta  1648.94 	 OutFr   0.0049 	 RMSD     2.1734
Iter 008 	 Temp     2.41 	 Delta  1534.08 	 OutFr   0.0049 	 RMSD     2.1633
Iter 009 	 Temp     2.24 	 Delta  1432.24 	 OutFr   0.0049 	 RMSD     2.1542
Iter 010 	 Temp     2.08 	 Delta  1344.87 	 OutFr   0.0049 	 RMSD     2.1462
Iter 011 	 Temp     1.94 	 Delta  1270.38 	 OutFr   0.0049 	 RMSD     2.1394
Iter 012 	 Temp     1.80 	 Delta  1204.12 	 OutFr   0.0049 	 RMSD     2.1335
Iter 013 	 Temp     1.67 	 Delta  1140.92 	 OutFr   0.0049 	 RMSD     2.1281
Iter 014 	 Temp     1.56 	 Delta  1077.14 	 OutFr   0.0049 	 RMSD     2.1230
Iter 015 	 Temp     1.45 	 Delta  1011.73 	 OutFr   0.0073 	 RMSD     2.1182
Iter 016 	 Temp     1.35 	 Delta   946.29 	 OutFr   0.0097 	 RMSD     2.1137
Iter 017 	 Temp     1.25 	 Delta   883.06 	 OutFr   0.0195 	 RMSD     2.1092
Iter 018 	 Temp     1.16 	 Delta   821.80 	 OutFr   0.0268 	 RMSD     2.1046
Iter 019 	 Temp     1.08 	 Delta   761.52 	 OutFr   0.0341 	 RMSD     2.1005
Iter 020 	 Temp     1.01 	 Delta   702.90 	 OutFr   0.0389 	 RMSD     2.0969
Iter 021 	 Temp     0.94 	 Delta   647.70 	 OutFr   0.0438 	 RMSD     2.0932
Iter 022 	 Temp     0.87 	 Delta   599.01 	 OutFr   0.0584 	 RMSD     2.0905
Iter 023 	 Temp     0.81 	 Delta   555.69 	 OutFr   0.0706 	 RMSD     2.0892
Iter 024 	 Temp     0.75 	 Delta   514.75 	 OutFr   0.0803 	 RMSD     2.0887
Iter 025 	 Temp     0.70 	 Delta   475.04 	 OutFr   0.0973 	 RMSD     2.0897
Iter 026 	 Temp     0.65 	 Delta   436.76 	 OutFr   0.1168 	 RMSD     2.0914
Iter 027 	 Temp     0.61 	 Delta   400.66 	 OutFr   0.1533 	 RMSD     2.0935
Iter 028 	 Temp     0.56 	 Delta   364.44 	 OutFr   0.1752 	 RMSD     2.0958
Iter 029 	 Temp     0.52 	 Delta   327.68 	 OutFr   0.2165 	 RMSD     2.0981
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.pPX44bcW/mybin.nii.gz
+ vtklevelset /tmp/ashs.pPX44bcW/mybin.nii.gz /tmp/ashs.pPX44bcW/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.pPX44bcW/mymesh.vtk /tmp/ashs.pPX44bcW/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 3062.05507660   0.92275446
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.pPX44bcW/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.7681 to 36.4107
   Y : -12.3204 to 34.9637
   Z : -40.6674 to -15.4338
   Image resolution  : 100 by 165 by 101
   Image box origin  : {6.7681, -17.3204, -45.6674}
   Image box size    : {34.7222, 57.2916, 35.3496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.7681, 17.3204, -45.6674]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat -o /tmp/ashs.pPX44bcW/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat -o /tmp/ashs.pPX44bcW/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.pPX44bcW/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.871154 0.876923
+ echo 'CHUNK 0.871154 0.876923 0.5'
CHUNK 0.871154 0.876923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.871154 0.876923 0.5
====================================
         PROGRESS: 0.871154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.pPX44bcW/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.pPX44bcW/fixed_hw.nii.gz /tmp/ashs.pPX44bcW/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.499138, moving = 0.661953
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.36267, 2.3549], [0.982092, 0.964555, 0.961382]
Level     0,  Iter     0:    Energy =   0.0376
Level     0,  Iter     1:    Energy =   0.0432
Level     0,  Iter     2:    Energy =   0.0481
Level     0,  Iter     3:    Energy =   0.0523
Level     0,  Iter     4:    Energy =   0.0566
Level     0,  Iter     5:    Energy =   0.0605
Level     0,  Iter     6:    Energy =   0.0639
Level     0,  Iter     7:    Energy =   0.0666
Level     0,  Iter     8:    Energy =   0.0696
Level     0,  Iter     9:    Energy =   0.0728
Level     0,  Iter    10:    Energy =   0.0751
Level     0,  Iter    11:    Energy =   0.0762
Level     0,  Iter    12:    Energy =   0.0770
Level     0,  Iter    13:    Energy =   0.0780
Level     0,  Iter    14:    Energy =   0.0793
Level     0,  Iter    15:    Energy =   0.0808
Level     0,  Iter    16:    Energy =   0.0818
Level     0,  Iter    17:    Energy =   0.0822
Level     0,  Iter    18:    Energy =   0.0823
Level     0,  Iter    19:    Energy =   0.0827
Level     0,  Iter    20:    Energy =   0.0828
Level     0,  Iter    21:    Energy =   0.0829
Level     0,  Iter    22:    Energy =   0.0830
Level     0,  Iter    23:    Energy =   0.0828
Level     0,  Iter    24:    Energy =   0.0830
Level     0,  Iter    25:    Energy =   0.0829
Level     0,  Iter    26:    Energy =   0.0830
Level     0,  Iter    27:    Energy =   0.0830
Level     0,  Iter    28:    Energy =   0.0832
Level     0,  Iter    29:    Energy =   0.0832
Level     0,  Iter    30:    Energy =   0.0833
Level     0,  Iter    31:    Energy =   0.0832
Level     0,  Iter    32:    Energy =   0.0833
Level     0,  Iter    33:    Energy =   0.0833
Level     0,  Iter    34:    Energy =   0.0834
Level     0,  Iter    35:    Energy =   0.0833
Level     0,  Iter    36:    Energy =   0.0835
Level     0,  Iter    37:    Energy =   0.0834
Level     0,  Iter    38:    Energy =   0.0836
Level     0,  Iter    39:    Energy =   0.0835
Level     0,  Iter    40:    Energy =   0.0837
Level     0,  Iter    41:    Energy =   0.0836
Level     0,  Iter    42:    Energy =   0.0838
Level     0,  Iter    43:    Energy =   0.0836
Level     0,  Iter    44:    Energy =   0.0838
Level     0,  Iter    45:    Energy =   0.0836
Level     0,  Iter    46:    Energy =   0.0840
Level     0,  Iter    47:    Energy =   0.0837
Level     0,  Iter    48:    Energy =   0.0841
Level     0,  Iter    49:    Energy =   0.0838
Level     0,  Iter    50:    Energy =   0.0841
Level     0,  Iter    51:    Energy =   0.0838
Level     0,  Iter    52:    Energy =   0.0841
Level     0,  Iter    53:    Energy =   0.0839
Level     0,  Iter    54:    Energy =   0.0842
Level     0,  Iter    55:    Energy =   0.0839
Level     0,  Iter    56:    Energy =   0.0842
Level     0,  Iter    57:    Energy =   0.0839
Level     0,  Iter    58:    Energy =   0.0843
Level     0,  Iter    59:    Energy =   0.0839
END OF LEVEL     0    DetJac Range:   0.2901  to   1.8513 
  Avg. Gradient Time  : 0.0072s  38.23% 
  Avg. Gaussian Time  : 0.0088s  46.82% 
  Avg. Iteration Time : 0.0189s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19557, 1.20054], [0.491046, 0.488088, 0.490116]
Level     1,  Iter     0:    Energy =   0.0543
Level     1,  Iter     1:    Energy =   0.0577
Level     1,  Iter     2:    Energy =   0.0607
Level     1,  Iter     3:    Energy =   0.0641
Level     1,  Iter     4:    Energy =   0.0667
Level     1,  Iter     5:    Energy =   0.0685
Level     1,  Iter     6:    Energy =   0.0700
Level     1,  Iter     7:    Energy =   0.0713
Level     1,  Iter     8:    Energy =   0.0722
Level     1,  Iter     9:    Energy =   0.0727
Level     1,  Iter    10:    Energy =   0.0733
Level     1,  Iter    11:    Energy =   0.0737
Level     1,  Iter    12:    Energy =   0.0743
Level     1,  Iter    13:    Energy =   0.0745
Level     1,  Iter    14:    Energy =   0.0751
Level     1,  Iter    15:    Energy =   0.0752
Level     1,  Iter    16:    Energy =   0.0756
Level     1,  Iter    17:    Energy =   0.0757
Level     1,  Iter    18:    Energy =   0.0760
Level     1,  Iter    19:    Energy =   0.0761
Level     1,  Iter    20:    Energy =   0.0764
Level     1,  Iter    21:    Energy =   0.0764
Level     1,  Iter    22:    Energy =   0.0767
Level     1,  Iter    23:    Energy =   0.0766
Level     1,  Iter    24:    Energy =   0.0770
Level     1,  Iter    25:    Energy =   0.0769
Level     1,  Iter    26:    Energy =   0.0772
Level     1,  Iter    27:    Energy =   0.0771
Level     1,  Iter    28:    Energy =   0.0774
Level     1,  Iter    29:    Energy =   0.0773
Level     1,  Iter    30:    Energy =   0.0775
Level     1,  Iter    31:    Energy =   0.0774
Level     1,  Iter    32:    Energy =   0.0777
Level     1,  Iter    33:    Energy =   0.0776
Level     1,  Iter    34:    Energy =   0.0778
Level     1,  Iter    35:    Energy =   0.0777
Level     1,  Iter    36:    Energy =   0.0779
Level     1,  Iter    37:    Energy =   0.0778
Level     1,  Iter    38:    Energy =   0.0780
Level     1,  Iter    39:    Energy =   0.0779
Level     1,  Iter    40:    Energy =   0.0780
Level     1,  Iter    41:    Energy =   0.0779
Level     1,  Iter    42:    Energy =   0.0781
Level     1,  Iter    43:    Energy =   0.0780
Level     1,  Iter    44:    Energy =   0.0781
Level     1,  Iter    45:    Energy =   0.0780
Level     1,  Iter    46:    Energy =   0.0782
Level     1,  Iter    47:    Energy =   0.0781
Level     1,  Iter    48:    Energy =   0.0783
Level     1,  Iter    49:    Energy =   0.0781
Level     1,  Iter    50:    Energy =   0.0783
Level     1,  Iter    51:    Energy =   0.0781
Level     1,  Iter    52:    Energy =   0.0784
Level     1,  Iter    53:    Energy =   0.0782
Level     1,  Iter    54:    Energy =   0.0784
Level     1,  Iter    55:    Energy =   0.0783
Level     1,  Iter    56:    Energy =   0.0785
Level     1,  Iter    57:    Energy =   0.0783
Level     1,  Iter    58:    Energy =   0.0785
Level     1,  Iter    59:    Energy =   0.0784
END OF LEVEL     1    DetJac Range:   0.0979  to   2.7755 
  Avg. Gradient Time  : 0.0416s  40.18% 
  Avg. Gaussian Time  : 0.0498s  48.04% 
  Avg. Iteration Time : 0.1036s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0420
Level     2,  Iter     1:    Energy =   0.0441
Level     2,  Iter     2:    Energy =   0.0462
Level     2,  Iter     3:    Energy =   0.0481
Level     2,  Iter     4:    Energy =   0.0494
Level     2,  Iter     5:    Energy =   0.0507
Level     2,  Iter     6:    Energy =   0.0523
Level     2,  Iter     7:    Energy =   0.0536
Level     2,  Iter     8:    Energy =   0.0547
Level     2,  Iter     9:    Energy =   0.0556
Level     2,  Iter    10:    Energy =   0.0562
Level     2,  Iter    11:    Energy =   0.0568
Level     2,  Iter    12:    Energy =   0.0572
Level     2,  Iter    13:    Energy =   0.0576
Level     2,  Iter    14:    Energy =   0.0580
Level     2,  Iter    15:    Energy =   0.0583
Level     2,  Iter    16:    Energy =   0.0586
Level     2,  Iter    17:    Energy =   0.0589
Level     2,  Iter    18:    Energy =   0.0592
Level     2,  Iter    19:    Energy =   0.0595
END OF LEVEL     2    DetJac Range:   0.0367  to   4.3140 
  Avg. Gradient Time  : 0.2946s  37.52% 
  Avg. Gaussian Time  : 0.4069s  51.81% 
  Avg. Iteration Time : 0.7853s 

real	0m26.117s
user	0m46.132s
sys	0m2.520s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.871154 0.876923
+ echo 'CHUNK 0.871154 0.876923 1'
CHUNK 0.871154 0.876923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.871154 0.876923 1
====================================
         PROGRESS: 0.871154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=022
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 022
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 022 right 0
+ local tid=022
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2027.87 	 OutFr   0.0000 	 RMSD     3.2200
Iter 002 	 Temp     3.72 	 Delta  1768.67 	 OutFr   0.0000 	 RMSD     2.1263
Iter 003 	 Temp     3.46 	 Delta  1634.77 	 OutFr   0.0000 	 RMSD     2.0967
Iter 004 	 Temp     3.22 	 Delta  1528.21 	 OutFr   0.0000 	 RMSD     2.0696
Iter 005 	 Temp     2.99 	 Delta  1437.46 	 OutFr   0.0000 	 RMSD     2.0449
Iter 006 	 Temp     2.78 	 Delta  1357.59 	 OutFr   0.0000 	 RMSD     2.0267
Iter 007 	 Temp     2.59 	 Delta  1286.28 	 OutFr   0.0000 	 RMSD     2.0127
Iter 008 	 Temp     2.41 	 Delta  1222.62 	 OutFr   0.0000 	 RMSD     2.0012
Iter 009 	 Temp     2.24 	 Delta  1165.84 	 OutFr   0.0000 	 RMSD     1.9925
Iter 010 	 Temp     2.08 	 Delta  1114.45 	 OutFr   0.0000 	 RMSD     1.9858
Iter 011 	 Temp     1.94 	 Delta  1069.31 	 OutFr   0.0024 	 RMSD     1.9811
Iter 012 	 Temp     1.80 	 Delta  1030.99 	 OutFr   0.0073 	 RMSD     1.9773
Iter 013 	 Temp     1.67 	 Delta   994.23 	 OutFr   0.0073 	 RMSD     1.9743
Iter 014 	 Temp     1.56 	 Delta   954.20 	 OutFr   0.0097 	 RMSD     1.9722
Iter 015 	 Temp     1.45 	 Delta   909.60 	 OutFr   0.0097 	 RMSD     1.9708
Iter 016 	 Temp     1.35 	 Delta   862.57 	 OutFr   0.0097 	 RMSD     1.9699
Iter 017 	 Temp     1.25 	 Delta   817.10 	 OutFr   0.0122 	 RMSD     1.9694
Iter 018 	 Temp     1.16 	 Delta   775.23 	 OutFr   0.0170 	 RMSD     1.9690
Iter 019 	 Temp     1.08 	 Delta   737.76 	 OutFr   0.0219 	 RMSD     1.9688
Iter 020 	 Temp     1.01 	 Delta   704.45 	 OutFr   0.0243 	 RMSD     1.9687
Iter 021 	 Temp     0.94 	 Delta   672.51 	 OutFr   0.0341 	 RMSD     1.9685
Iter 022 	 Temp     0.87 	 Delta   637.80 	 OutFr   0.0414 	 RMSD     1.9679
Iter 023 	 Temp     0.81 	 Delta   597.01 	 OutFr   0.0487 	 RMSD     1.9669
Iter 024 	 Temp     0.75 	 Delta   551.67 	 OutFr   0.0681 	 RMSD     1.9656
Iter 025 	 Temp     0.70 	 Delta   505.40 	 OutFr   0.0876 	 RMSD     1.9638
Iter 026 	 Temp     0.65 	 Delta   458.57 	 OutFr   0.1071 	 RMSD     1.9625
Iter 027 	 Temp     0.61 	 Delta   413.16 	 OutFr   0.1338 	 RMSD     1.9619
Iter 028 	 Temp     0.56 	 Delta   368.70 	 OutFr   0.1655 	 RMSD     1.9621
Iter 029 	 Temp     0.52 	 Delta   324.67 	 OutFr   0.2044 	 RMSD     1.9629
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.mJsVnEQD/mybin.nii.gz
+ vtklevelset /tmp/ashs.mJsVnEQD/mybin.nii.gz /tmp/ashs.mJsVnEQD/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.mJsVnEQD/mymesh.vtk /tmp/ashs.mJsVnEQD/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 2959.71580827   0.89191438
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.mJsVnEQD/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.17688 to 32.7993
   Y : -10.4234 to 35.4535
   Z : -31.2976 to -3.06542
   Image resolution  : 97 by 161 by 110
   Image box origin  : {4.17688, -15.4234, -36.2976}
   Image box size    : {33.6805, 55.9027, 38.4996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.17688, 15.4234, -36.2976]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat -o /tmp/ashs.mJsVnEQD/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat -o /tmp/ashs.mJsVnEQD/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.mJsVnEQD/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.876923 0.882692
+ echo 'CHUNK 0.876923 0.882692 0.5'
CHUNK 0.876923 0.882692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.876923 0.882692 0.5
====================================
         PROGRESS: 0.876923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.mJsVnEQD/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.mJsVnEQD/fixed_hw.nii.gz /tmp/ashs.mJsVnEQD/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.493945, moving = 0.555361
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.36162, 2.38154], [0.952629, 0.964127, 0.972261]
Level     0,  Iter     0:    Energy =   0.0564
Level     0,  Iter     1:    Energy =   0.0637
Level     0,  Iter     2:    Energy =   0.0697
Level     0,  Iter     3:    Energy =   0.0744
Level     0,  Iter     4:    Energy =   0.0781
Level     0,  Iter     5:    Energy =   0.0811
Level     0,  Iter     6:    Energy =   0.0834
Level     0,  Iter     7:    Energy =   0.0852
Level     0,  Iter     8:    Energy =   0.0866
Level     0,  Iter     9:    Energy =   0.0877
Level     0,  Iter    10:    Energy =   0.0889
Level     0,  Iter    11:    Energy =   0.0901
Level     0,  Iter    12:    Energy =   0.0910
Level     0,  Iter    13:    Energy =   0.0913
Level     0,  Iter    14:    Energy =   0.0912
Level     0,  Iter    15:    Energy =   0.0914
Level     0,  Iter    16:    Energy =   0.0914
Level     0,  Iter    17:    Energy =   0.0916
Level     0,  Iter    18:    Energy =   0.0916
Level     0,  Iter    19:    Energy =   0.0918
Level     0,  Iter    20:    Energy =   0.0918
Level     0,  Iter    21:    Energy =   0.0920
Level     0,  Iter    22:    Energy =   0.0920
Level     0,  Iter    23:    Energy =   0.0922
Level     0,  Iter    24:    Energy =   0.0921
Level     0,  Iter    25:    Energy =   0.0923
Level     0,  Iter    26:    Energy =   0.0923
Level     0,  Iter    27:    Energy =   0.0925
Level     0,  Iter    28:    Energy =   0.0924
Level     0,  Iter    29:    Energy =   0.0926
Level     0,  Iter    30:    Energy =   0.0926
Level     0,  Iter    31:    Energy =   0.0928
Level     0,  Iter    32:    Energy =   0.0927
Level     0,  Iter    33:    Energy =   0.0929
Level     0,  Iter    34:    Energy =   0.0928
Level     0,  Iter    35:    Energy =   0.0930
Level     0,  Iter    36:    Energy =   0.0929
Level     0,  Iter    37:    Energy =   0.0931
Level     0,  Iter    38:    Energy =   0.0930
Level     0,  Iter    39:    Energy =   0.0932
Level     0,  Iter    40:    Energy =   0.0931
Level     0,  Iter    41:    Energy =   0.0932
Level     0,  Iter    42:    Energy =   0.0932
Level     0,  Iter    43:    Energy =   0.0933
Level     0,  Iter    44:    Energy =   0.0933
Level     0,  Iter    45:    Energy =   0.0934
Level     0,  Iter    46:    Energy =   0.0933
Level     0,  Iter    47:    Energy =   0.0935
Level     0,  Iter    48:    Energy =   0.0934
Level     0,  Iter    49:    Energy =   0.0935
Level     0,  Iter    50:    Energy =   0.0935
Level     0,  Iter    51:    Energy =   0.0936
Level     0,  Iter    52:    Energy =   0.0936
Level     0,  Iter    53:    Energy =   0.0937
Level     0,  Iter    54:    Energy =   0.0936
Level     0,  Iter    55:    Energy =   0.0938
Level     0,  Iter    56:    Energy =   0.0937
Level     0,  Iter    57:    Energy =   0.0939
Level     0,  Iter    58:    Energy =   0.0938
Level     0,  Iter    59:    Energy =   0.0939
END OF LEVEL     0    DetJac Range:   0.3547  to   1.7145 
  Avg. Gradient Time  : 0.0074s  37.66% 
  Avg. Gaussian Time  : 0.0093s  47.38% 
  Avg. Iteration Time : 0.0197s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.19539, 1.21242], [0.486035, 0.488015, 0.494969]
Level     1,  Iter     0:    Energy =   0.0598
Level     1,  Iter     1:    Energy =   0.0641
Level     1,  Iter     2:    Energy =   0.0686
Level     1,  Iter     3:    Energy =   0.0719
Level     1,  Iter     4:    Energy =   0.0745
Level     1,  Iter     5:    Energy =   0.0769
Level     1,  Iter     6:    Energy =   0.0788
Level     1,  Iter     7:    Energy =   0.0795
Level     1,  Iter     8:    Energy =   0.0802
Level     1,  Iter     9:    Energy =   0.0809
Level     1,  Iter    10:    Energy =   0.0813
Level     1,  Iter    11:    Energy =   0.0821
Level     1,  Iter    12:    Energy =   0.0822
Level     1,  Iter    13:    Energy =   0.0828
Level     1,  Iter    14:    Energy =   0.0827
Level     1,  Iter    15:    Energy =   0.0832
Level     1,  Iter    16:    Energy =   0.0831
Level     1,  Iter    17:    Energy =   0.0836
Level     1,  Iter    18:    Energy =   0.0835
Level     1,  Iter    19:    Energy =   0.0840
Level     1,  Iter    20:    Energy =   0.0838
Level     1,  Iter    21:    Energy =   0.0843
Level     1,  Iter    22:    Energy =   0.0841
Level     1,  Iter    23:    Energy =   0.0845
Level     1,  Iter    24:    Energy =   0.0843
Level     1,  Iter    25:    Energy =   0.0847
Level     1,  Iter    26:    Energy =   0.0845
Level     1,  Iter    27:    Energy =   0.0849
Level     1,  Iter    28:    Energy =   0.0846
Level     1,  Iter    29:    Energy =   0.0852
Level     1,  Iter    30:    Energy =   0.0849
Level     1,  Iter    31:    Energy =   0.0854
Level     1,  Iter    32:    Energy =   0.0851
Level     1,  Iter    33:    Energy =   0.0855
Level     1,  Iter    34:    Energy =   0.0852
Level     1,  Iter    35:    Energy =   0.0857
Level     1,  Iter    36:    Energy =   0.0854
Level     1,  Iter    37:    Energy =   0.0859
Level     1,  Iter    38:    Energy =   0.0855
Level     1,  Iter    39:    Energy =   0.0859
Level     1,  Iter    40:    Energy =   0.0856
Level     1,  Iter    41:    Energy =   0.0860
Level     1,  Iter    42:    Energy =   0.0857
Level     1,  Iter    43:    Energy =   0.0861
Level     1,  Iter    44:    Energy =   0.0857
Level     1,  Iter    45:    Energy =   0.0861
Level     1,  Iter    46:    Energy =   0.0858
Level     1,  Iter    47:    Energy =   0.0861
Level     1,  Iter    48:    Energy =   0.0858
Level     1,  Iter    49:    Energy =   0.0862
Level     1,  Iter    50:    Energy =   0.0858
Level     1,  Iter    51:    Energy =   0.0862
Level     1,  Iter    52:    Energy =   0.0859
Level     1,  Iter    53:    Energy =   0.0863
Level     1,  Iter    54:    Energy =   0.0860
Level     1,  Iter    55:    Energy =   0.0862
Level     1,  Iter    56:    Energy =   0.0859
Level     1,  Iter    57:    Energy =   0.0863
Level     1,  Iter    58:    Energy =   0.0859
Level     1,  Iter    59:    Energy =   0.0864
END OF LEVEL     1    DetJac Range:   0.1894  to   2.9352 
  Avg. Gradient Time  : 0.0431s  39.85% 
  Avg. Gaussian Time  : 0.0522s  48.23% 
  Avg. Iteration Time : 0.1082s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0445
Level     2,  Iter     1:    Energy =   0.0469
Level     2,  Iter     2:    Energy =   0.0493
Level     2,  Iter     3:    Energy =   0.0514
Level     2,  Iter     4:    Energy =   0.0530
Level     2,  Iter     5:    Energy =   0.0545
Level     2,  Iter     6:    Energy =   0.0558
Level     2,  Iter     7:    Energy =   0.0571
Level     2,  Iter     8:    Energy =   0.0583
Level     2,  Iter     9:    Energy =   0.0595
Level     2,  Iter    10:    Energy =   0.0604
Level     2,  Iter    11:    Energy =   0.0612
Level     2,  Iter    12:    Energy =   0.0618
Level     2,  Iter    13:    Energy =   0.0620
Level     2,  Iter    14:    Energy =   0.0620
Level     2,  Iter    15:    Energy =   0.0622
Level     2,  Iter    16:    Energy =   0.0622
Level     2,  Iter    17:    Energy =   0.0626
Level     2,  Iter    18:    Energy =   0.0625
Level     2,  Iter    19:    Energy =   0.0630
END OF LEVEL     2    DetJac Range:   0.1332  to   5.7982 
  Avg. Gradient Time  : 0.3029s  37.27% 
  Avg. Gaussian Time  : 0.4225s  51.99% 
  Avg. Iteration Time : 0.8126s 

real	0m27.146s
user	0m48.076s
sys	0m2.628s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.876923 0.882692
+ echo 'CHUNK 0.876923 0.882692 1'
CHUNK 0.876923 0.882692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.876923 0.882692 1
====================================
         PROGRESS: 0.876923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=023
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 023
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 023 right 0
+ local tid=023
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1987.19 	 OutFr   0.0024 	 RMSD     3.9088
Iter 002 	 Temp     3.72 	 Delta  1845.14 	 OutFr   0.0000 	 RMSD     2.1223
Iter 003 	 Temp     3.46 	 Delta  1691.88 	 OutFr   0.0000 	 RMSD     2.0736
Iter 004 	 Temp     3.22 	 Delta  1574.02 	 OutFr   0.0000 	 RMSD     2.0601
Iter 005 	 Temp     2.99 	 Delta  1480.19 	 OutFr   0.0000 	 RMSD     2.0469
Iter 006 	 Temp     2.78 	 Delta  1402.89 	 OutFr   0.0000 	 RMSD     2.0355
Iter 007 	 Temp     2.59 	 Delta  1335.97 	 OutFr   0.0000 	 RMSD     2.0248
Iter 008 	 Temp     2.41 	 Delta  1275.11 	 OutFr   0.0024 	 RMSD     2.0149
Iter 009 	 Temp     2.24 	 Delta  1218.36 	 OutFr   0.0024 	 RMSD     2.0056
Iter 010 	 Temp     2.08 	 Delta  1164.80 	 OutFr   0.0024 	 RMSD     1.9974
Iter 011 	 Temp     1.94 	 Delta  1113.49 	 OutFr   0.0024 	 RMSD     1.9902
Iter 012 	 Temp     1.80 	 Delta  1063.25 	 OutFr   0.0097 	 RMSD     1.9842
Iter 013 	 Temp     1.67 	 Delta  1012.73 	 OutFr   0.0097 	 RMSD     1.9791
Iter 014 	 Temp     1.56 	 Delta   960.83 	 OutFr   0.0122 	 RMSD     1.9743
Iter 015 	 Temp     1.45 	 Delta   907.50 	 OutFr   0.0146 	 RMSD     1.9701
Iter 016 	 Temp     1.35 	 Delta   853.81 	 OutFr   0.0195 	 RMSD     1.9659
Iter 017 	 Temp     1.25 	 Delta   801.25 	 OutFr   0.0292 	 RMSD     1.9619
Iter 018 	 Temp     1.16 	 Delta   750.68 	 OutFr   0.0414 	 RMSD     1.9581
Iter 019 	 Temp     1.08 	 Delta   701.03 	 OutFr   0.0462 	 RMSD     1.9548
Iter 020 	 Temp     1.01 	 Delta   652.44 	 OutFr   0.0535 	 RMSD     1.9523
Iter 021 	 Temp     0.94 	 Delta   606.48 	 OutFr   0.0730 	 RMSD     1.9493
Iter 022 	 Temp     0.87 	 Delta   561.14 	 OutFr   0.0900 	 RMSD     1.9462
Iter 023 	 Temp     0.81 	 Delta   514.32 	 OutFr   0.1071 	 RMSD     1.9436
Iter 024 	 Temp     0.75 	 Delta   468.58 	 OutFr   0.1314 	 RMSD     1.9421
Iter 025 	 Temp     0.70 	 Delta   426.63 	 OutFr   0.1411 	 RMSD     1.9424
Iter 026 	 Temp     0.65 	 Delta   387.22 	 OutFr   0.1582 	 RMSD     1.9428
Iter 027 	 Temp     0.61 	 Delta   348.98 	 OutFr   0.1898 	 RMSD     1.9445
Iter 028 	 Temp     0.56 	 Delta   314.07 	 OutFr   0.2336 	 RMSD     1.9485
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.z4fgzLix/mybin.nii.gz
+ vtklevelset /tmp/ashs.z4fgzLix/mybin.nii.gz /tmp/ashs.z4fgzLix/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.z4fgzLix/mymesh.vtk /tmp/ashs.z4fgzLix/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 2907.46659593   0.87616901
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.z4fgzLix/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.4934 to 34.9856
   Y : -15.0308 to 30.35
   Z : -27.3705 to 0.44485
   Image resolution  : 97 by 160 by 109
   Image box origin  : {6.4934, -20.0308, -32.3705}
   Image box size    : {33.6805, 55.5555, 38.1496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.4934, 20.0308, -32.3705]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat -o /tmp/ashs.z4fgzLix/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat -o /tmp/ashs.z4fgzLix/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.z4fgzLix/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.882692 0.888462
+ echo 'CHUNK 0.882692 0.888462 0.5'
CHUNK 0.882692 0.888462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.882692 0.888462 0.5
====================================
         PROGRESS: 0.882692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.z4fgzLix/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.z4fgzLix/fixed_hw.nii.gz /tmp/ashs.z4fgzLix/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.489364, moving = 0.775255
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.40562, 2.35989], [0.952629, 0.982092, 0.963422]
Level     0,  Iter     0:    Energy =   0.0407
Level     0,  Iter     1:    Energy =   0.0464
Level     0,  Iter     2:    Energy =   0.0515
Level     0,  Iter     3:    Energy =   0.0558
Level     0,  Iter     4:    Energy =   0.0595
Level     0,  Iter     5:    Energy =   0.0627
Level     0,  Iter     6:    Energy =   0.0656
Level     0,  Iter     7:    Energy =   0.0684
Level     0,  Iter     8:    Energy =   0.0706
Level     0,  Iter     9:    Energy =   0.0722
Level     0,  Iter    10:    Energy =   0.0738
Level     0,  Iter    11:    Energy =   0.0751
Level     0,  Iter    12:    Energy =   0.0760
Level     0,  Iter    13:    Energy =   0.0769
Level     0,  Iter    14:    Energy =   0.0776
Level     0,  Iter    15:    Energy =   0.0782
Level     0,  Iter    16:    Energy =   0.0790
Level     0,  Iter    17:    Energy =   0.0794
Level     0,  Iter    18:    Energy =   0.0801
Level     0,  Iter    19:    Energy =   0.0802
Level     0,  Iter    20:    Energy =   0.0808
Level     0,  Iter    21:    Energy =   0.0807
Level     0,  Iter    22:    Energy =   0.0812
Level     0,  Iter    23:    Energy =   0.0811
Level     0,  Iter    24:    Energy =   0.0816
Level     0,  Iter    25:    Energy =   0.0815
Level     0,  Iter    26:    Energy =   0.0819
Level     0,  Iter    27:    Energy =   0.0819
Level     0,  Iter    28:    Energy =   0.0823
Level     0,  Iter    29:    Energy =   0.0822
Level     0,  Iter    30:    Energy =   0.0826
Level     0,  Iter    31:    Energy =   0.0826
Level     0,  Iter    32:    Energy =   0.0828
Level     0,  Iter    33:    Energy =   0.0828
Level     0,  Iter    34:    Energy =   0.0831
Level     0,  Iter    35:    Energy =   0.0831
Level     0,  Iter    36:    Energy =   0.0833
Level     0,  Iter    37:    Energy =   0.0833
Level     0,  Iter    38:    Energy =   0.0836
Level     0,  Iter    39:    Energy =   0.0835
Level     0,  Iter    40:    Energy =   0.0838
Level     0,  Iter    41:    Energy =   0.0837
Level     0,  Iter    42:    Energy =   0.0839
Level     0,  Iter    43:    Energy =   0.0838
Level     0,  Iter    44:    Energy =   0.0841
Level     0,  Iter    45:    Energy =   0.0839
Level     0,  Iter    46:    Energy =   0.0841
Level     0,  Iter    47:    Energy =   0.0840
Level     0,  Iter    48:    Energy =   0.0842
Level     0,  Iter    49:    Energy =   0.0841
Level     0,  Iter    50:    Energy =   0.0842
Level     0,  Iter    51:    Energy =   0.0842
Level     0,  Iter    52:    Energy =   0.0842
Level     0,  Iter    53:    Energy =   0.0842
Level     0,  Iter    54:    Energy =   0.0843
Level     0,  Iter    55:    Energy =   0.0843
Level     0,  Iter    56:    Energy =   0.0843
Level     0,  Iter    57:    Energy =   0.0843
Level     0,  Iter    58:    Energy =   0.0843
Level     0,  Iter    59:    Energy =   0.0843
END OF LEVEL     0    DetJac Range:   0.1442  to   2.4292 
  Avg. Gradient Time  : 0.0072s  37.71% 
  Avg. Gaussian Time  : 0.0090s  47.31% 
  Avg. Iteration Time : 0.0191s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.2014], [0.486035, 0.491046, 0.490469]
Level     1,  Iter     0:    Energy =   0.0579
Level     1,  Iter     1:    Energy =   0.0623
Level     1,  Iter     2:    Energy =   0.0656
Level     1,  Iter     3:    Energy =   0.0676
Level     1,  Iter     4:    Energy =   0.0695
Level     1,  Iter     5:    Energy =   0.0712
Level     1,  Iter     6:    Energy =   0.0728
Level     1,  Iter     7:    Energy =   0.0737
Level     1,  Iter     8:    Energy =   0.0747
Level     1,  Iter     9:    Energy =   0.0756
Level     1,  Iter    10:    Energy =   0.0764
Level     1,  Iter    11:    Energy =   0.0772
Level     1,  Iter    12:    Energy =   0.0778
Level     1,  Iter    13:    Energy =   0.0783
Level     1,  Iter    14:    Energy =   0.0788
Level     1,  Iter    15:    Energy =   0.0791
Level     1,  Iter    16:    Energy =   0.0794
Level     1,  Iter    17:    Energy =   0.0795
Level     1,  Iter    18:    Energy =   0.0794
Level     1,  Iter    19:    Energy =   0.0795
Level     1,  Iter    20:    Energy =   0.0795
Level     1,  Iter    21:    Energy =   0.0796
Level     1,  Iter    22:    Energy =   0.0796
Level     1,  Iter    23:    Energy =   0.0797
Level     1,  Iter    24:    Energy =   0.0797
Level     1,  Iter    25:    Energy =   0.0798
Level     1,  Iter    26:    Energy =   0.0799
Level     1,  Iter    27:    Energy =   0.0800
Level     1,  Iter    28:    Energy =   0.0800
Level     1,  Iter    29:    Energy =   0.0801
Level     1,  Iter    30:    Energy =   0.0801
Level     1,  Iter    31:    Energy =   0.0802
Level     1,  Iter    32:    Energy =   0.0802
Level     1,  Iter    33:    Energy =   0.0803
Level     1,  Iter    34:    Energy =   0.0803
Level     1,  Iter    35:    Energy =   0.0804
Level     1,  Iter    36:    Energy =   0.0804
Level     1,  Iter    37:    Energy =   0.0804
Level     1,  Iter    38:    Energy =   0.0804
Level     1,  Iter    39:    Energy =   0.0805
Level     1,  Iter    40:    Energy =   0.0805
Level     1,  Iter    41:    Energy =   0.0806
Level     1,  Iter    42:    Energy =   0.0806
Level     1,  Iter    43:    Energy =   0.0806
Level     1,  Iter    44:    Energy =   0.0807
Level     1,  Iter    45:    Energy =   0.0807
Level     1,  Iter    46:    Energy =   0.0807
Level     1,  Iter    47:    Energy =   0.0808
Level     1,  Iter    48:    Energy =   0.0808
Level     1,  Iter    49:    Energy =   0.0808
Level     1,  Iter    50:    Energy =   0.0808
Level     1,  Iter    51:    Energy =   0.0809
Level     1,  Iter    52:    Energy =   0.0809
Level     1,  Iter    53:    Energy =   0.0809
Level     1,  Iter    54:    Energy =   0.0809
Level     1,  Iter    55:    Energy =   0.0810
Level     1,  Iter    56:    Energy =   0.0809
Level     1,  Iter    57:    Energy =   0.0810
Level     1,  Iter    58:    Energy =   0.0810
Level     1,  Iter    59:    Energy =   0.0811
END OF LEVEL     1    DetJac Range:   0.1167  to   2.6909 
  Avg. Gradient Time  : 0.0422s  40.29% 
  Avg. Gaussian Time  : 0.0501s  47.76% 
  Avg. Iteration Time : 0.1049s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0431
Level     2,  Iter     1:    Energy =   0.0448
Level     2,  Iter     2:    Energy =   0.0465
Level     2,  Iter     3:    Energy =   0.0483
Level     2,  Iter     4:    Energy =   0.0499
Level     2,  Iter     5:    Energy =   0.0513
Level     2,  Iter     6:    Energy =   0.0524
Level     2,  Iter     7:    Energy =   0.0533
Level     2,  Iter     8:    Energy =   0.0542
Level     2,  Iter     9:    Energy =   0.0549
Level     2,  Iter    10:    Energy =   0.0557
Level     2,  Iter    11:    Energy =   0.0562
Level     2,  Iter    12:    Energy =   0.0566
Level     2,  Iter    13:    Energy =   0.0570
Level     2,  Iter    14:    Energy =   0.0574
Level     2,  Iter    15:    Energy =   0.0578
Level     2,  Iter    16:    Energy =   0.0582
Level     2,  Iter    17:    Energy =   0.0587
Level     2,  Iter    18:    Energy =   0.0591
Level     2,  Iter    19:    Energy =   0.0594
END OF LEVEL     2    DetJac Range:   0.0542  to   3.6731 
  Avg. Gradient Time  : 0.2970s  37.38% 
  Avg. Gaussian Time  : 0.4125s  51.93% 
  Avg. Iteration Time : 0.7944s 

real	0m26.470s
user	0m46.632s
sys	0m2.776s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.882692 0.888462
+ echo 'CHUNK 0.882692 0.888462 1'
CHUNK 0.882692 0.888462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.882692 0.888462 1
====================================
         PROGRESS: 0.882692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=024
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 024
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 024 right 0
+ local tid=024
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2069.45 	 OutFr   0.0000 	 RMSD     3.1622
Iter 002 	 Temp     3.72 	 Delta  1890.05 	 OutFr   0.0000 	 RMSD     2.3457
Iter 003 	 Temp     3.46 	 Delta  1749.31 	 OutFr   0.0000 	 RMSD     2.3098
Iter 004 	 Temp     3.22 	 Delta  1625.35 	 OutFr   0.0000 	 RMSD     2.2809
Iter 005 	 Temp     2.99 	 Delta  1505.11 	 OutFr   0.0000 	 RMSD     2.2572
Iter 006 	 Temp     2.78 	 Delta  1389.02 	 OutFr   0.0000 	 RMSD     2.2381
Iter 007 	 Temp     2.59 	 Delta  1285.35 	 OutFr   0.0000 	 RMSD     2.2234
Iter 008 	 Temp     2.41 	 Delta  1197.39 	 OutFr   0.0024 	 RMSD     2.2124
Iter 009 	 Temp     2.24 	 Delta  1117.21 	 OutFr   0.0024 	 RMSD     2.2040
Iter 010 	 Temp     2.08 	 Delta  1041.42 	 OutFr   0.0024 	 RMSD     2.1968
Iter 011 	 Temp     1.94 	 Delta   975.74 	 OutFr   0.0049 	 RMSD     2.1911
Iter 012 	 Temp     1.80 	 Delta   922.08 	 OutFr   0.0073 	 RMSD     2.1868
Iter 013 	 Temp     1.67 	 Delta   874.28 	 OutFr   0.0073 	 RMSD     2.1824
Iter 014 	 Temp     1.56 	 Delta   827.66 	 OutFr   0.0146 	 RMSD     2.1767
Iter 015 	 Temp     1.45 	 Delta   780.82 	 OutFr   0.0195 	 RMSD     2.1700
Iter 016 	 Temp     1.35 	 Delta   733.98 	 OutFr   0.0195 	 RMSD     2.1629
Iter 017 	 Temp     1.25 	 Delta   688.81 	 OutFr   0.0243 	 RMSD     2.1559
Iter 018 	 Temp     1.16 	 Delta   647.50 	 OutFr   0.0316 	 RMSD     2.1495
Iter 019 	 Temp     1.08 	 Delta   610.76 	 OutFr   0.0341 	 RMSD     2.1436
Iter 020 	 Temp     1.01 	 Delta   576.85 	 OutFr   0.0365 	 RMSD     2.1386
Iter 021 	 Temp     0.94 	 Delta   543.44 	 OutFr   0.0438 	 RMSD     2.1343
Iter 022 	 Temp     0.87 	 Delta   510.25 	 OutFr   0.0511 	 RMSD     2.1304
Iter 023 	 Temp     0.81 	 Delta   477.36 	 OutFr   0.0730 	 RMSD     2.1268
Iter 024 	 Temp     0.75 	 Delta   444.32 	 OutFr   0.0852 	 RMSD     2.1236
Iter 025 	 Temp     0.70 	 Delta   412.87 	 OutFr   0.1071 	 RMSD     2.1207
Iter 026 	 Temp     0.65 	 Delta   384.41 	 OutFr   0.1363 	 RMSD     2.1182
Iter 027 	 Temp     0.61 	 Delta   354.83 	 OutFr   0.1630 	 RMSD     2.1158
Iter 028 	 Temp     0.56 	 Delta   322.43 	 OutFr   0.1800 	 RMSD     2.1137
Iter 029 	 Temp     0.52 	 Delta   291.18 	 OutFr   0.2068 	 RMSD     2.1117
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.gHf9gf24/mybin.nii.gz
+ vtklevelset /tmp/ashs.gHf9gf24/mybin.nii.gz /tmp/ashs.gHf9gf24/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.gHf9gf24/mymesh.vtk /tmp/ashs.gHf9gf24/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 2890.58410562   0.87108145
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.gHf9gf24/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.4579 to 33.4476
   Y : -9.28433 to 37.0618
   Z : -26.8634 to -1.50626
   Image resolution  : 96 by 163 by 102
   Image box origin  : {5.4579, -14.2843, -31.8634}
   Image box size    : {33.3333, 56.5972, 35.6996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.4579, 14.2843, -31.8634]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat -o /tmp/ashs.gHf9gf24/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat -o /tmp/ashs.gHf9gf24/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.gHf9gf24/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.888462 0.894231
+ echo 'CHUNK 0.888462 0.894231 0.5'
CHUNK 0.888462 0.894231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.888462 0.894231 0.5
====================================
         PROGRESS: 0.888462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.gHf9gf24/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.gHf9gf24/fixed_hw.nii.gz /tmp/ashs.gHf9gf24/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.486103, moving = 0.639313
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.39096, 2.37821], [0.982092, 0.976104, 0.970901]
Level     0,  Iter     0:    Energy =   0.0299
Level     0,  Iter     1:    Energy =   0.0354
Level     0,  Iter     2:    Energy =   0.0416
Level     0,  Iter     3:    Energy =   0.0457
Level     0,  Iter     4:    Energy =   0.0486
Level     0,  Iter     5:    Energy =   0.0512
Level     0,  Iter     6:    Energy =   0.0537
Level     0,  Iter     7:    Energy =   0.0567
Level     0,  Iter     8:    Energy =   0.0586
Level     0,  Iter     9:    Energy =   0.0604
Level     0,  Iter    10:    Energy =   0.0622
Level     0,  Iter    11:    Energy =   0.0639
Level     0,  Iter    12:    Energy =   0.0651
Level     0,  Iter    13:    Energy =   0.0657
Level     0,  Iter    14:    Energy =   0.0663
Level     0,  Iter    15:    Energy =   0.0669
Level     0,  Iter    16:    Energy =   0.0680
Level     0,  Iter    17:    Energy =   0.0689
Level     0,  Iter    18:    Energy =   0.0697
Level     0,  Iter    19:    Energy =   0.0702
Level     0,  Iter    20:    Energy =   0.0705
Level     0,  Iter    21:    Energy =   0.0705
Level     0,  Iter    22:    Energy =   0.0706
Level     0,  Iter    23:    Energy =   0.0706
Level     0,  Iter    24:    Energy =   0.0708
Level     0,  Iter    25:    Energy =   0.0712
Level     0,  Iter    26:    Energy =   0.0718
Level     0,  Iter    27:    Energy =   0.0726
Level     0,  Iter    28:    Energy =   0.0732
Level     0,  Iter    29:    Energy =   0.0735
Level     0,  Iter    30:    Energy =   0.0735
Level     0,  Iter    31:    Energy =   0.0739
Level     0,  Iter    32:    Energy =   0.0744
Level     0,  Iter    33:    Energy =   0.0744
Level     0,  Iter    34:    Energy =   0.0746
Level     0,  Iter    35:    Energy =   0.0746
Level     0,  Iter    36:    Energy =   0.0748
Level     0,  Iter    37:    Energy =   0.0747
Level     0,  Iter    38:    Energy =   0.0750
Level     0,  Iter    39:    Energy =   0.0748
Level     0,  Iter    40:    Energy =   0.0750
Level     0,  Iter    41:    Energy =   0.0749
Level     0,  Iter    42:    Energy =   0.0750
Level     0,  Iter    43:    Energy =   0.0750
Level     0,  Iter    44:    Energy =   0.0751
Level     0,  Iter    45:    Energy =   0.0750
Level     0,  Iter    46:    Energy =   0.0753
Level     0,  Iter    47:    Energy =   0.0751
Level     0,  Iter    48:    Energy =   0.0754
Level     0,  Iter    49:    Energy =   0.0752
Level     0,  Iter    50:    Energy =   0.0753
Level     0,  Iter    51:    Energy =   0.0753
Level     0,  Iter    52:    Energy =   0.0754
Level     0,  Iter    53:    Energy =   0.0753
Level     0,  Iter    54:    Energy =   0.0754
Level     0,  Iter    55:    Energy =   0.0753
Level     0,  Iter    56:    Energy =   0.0755
Level     0,  Iter    57:    Energy =   0.0753
Level     0,  Iter    58:    Energy =   0.0754
Level     0,  Iter    59:    Energy =   0.0754
END OF LEVEL     0    DetJac Range:   0.2482  to   3.6837 
  Avg. Gradient Time  : 0.0070s  38.10% 
  Avg. Gaussian Time  : 0.0086s  46.87% 
  Avg. Iteration Time : 0.0183s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19548, 1.21242], [0.491046, 0.488052, 0.494969]
Level     1,  Iter     0:    Energy =   0.0510
Level     1,  Iter     1:    Energy =   0.0546
Level     1,  Iter     2:    Energy =   0.0585
Level     1,  Iter     3:    Energy =   0.0611
Level     1,  Iter     4:    Energy =   0.0631
Level     1,  Iter     5:    Energy =   0.0649
Level     1,  Iter     6:    Energy =   0.0665
Level     1,  Iter     7:    Energy =   0.0678
Level     1,  Iter     8:    Energy =   0.0690
Level     1,  Iter     9:    Energy =   0.0701
Level     1,  Iter    10:    Energy =   0.0713
Level     1,  Iter    11:    Energy =   0.0723
Level     1,  Iter    12:    Energy =   0.0734
Level     1,  Iter    13:    Energy =   0.0743
Level     1,  Iter    14:    Energy =   0.0751
Level     1,  Iter    15:    Energy =   0.0758
Level     1,  Iter    16:    Energy =   0.0761
Level     1,  Iter    17:    Energy =   0.0758
Level     1,  Iter    18:    Energy =   0.0757
Level     1,  Iter    19:    Energy =   0.0757
Level     1,  Iter    20:    Energy =   0.0756
Level     1,  Iter    21:    Energy =   0.0759
Level     1,  Iter    22:    Energy =   0.0757
Level     1,  Iter    23:    Energy =   0.0760
Level     1,  Iter    24:    Energy =   0.0758
Level     1,  Iter    25:    Energy =   0.0763
Level     1,  Iter    26:    Energy =   0.0760
Level     1,  Iter    27:    Energy =   0.0764
Level     1,  Iter    28:    Energy =   0.0762
Level     1,  Iter    29:    Energy =   0.0767
Level     1,  Iter    30:    Energy =   0.0764
Level     1,  Iter    31:    Energy =   0.0768
Level     1,  Iter    32:    Energy =   0.0766
Level     1,  Iter    33:    Energy =   0.0769
Level     1,  Iter    34:    Energy =   0.0768
Level     1,  Iter    35:    Energy =   0.0770
Level     1,  Iter    36:    Energy =   0.0768
Level     1,  Iter    37:    Energy =   0.0772
Level     1,  Iter    38:    Energy =   0.0769
Level     1,  Iter    39:    Energy =   0.0774
Level     1,  Iter    40:    Energy =   0.0771
Level     1,  Iter    41:    Energy =   0.0775
Level     1,  Iter    42:    Energy =   0.0772
Level     1,  Iter    43:    Energy =   0.0776
Level     1,  Iter    44:    Energy =   0.0772
Level     1,  Iter    45:    Energy =   0.0776
Level     1,  Iter    46:    Energy =   0.0773
Level     1,  Iter    47:    Energy =   0.0776
Level     1,  Iter    48:    Energy =   0.0773
Level     1,  Iter    49:    Energy =   0.0777
Level     1,  Iter    50:    Energy =   0.0774
Level     1,  Iter    51:    Energy =   0.0777
Level     1,  Iter    52:    Energy =   0.0775
Level     1,  Iter    53:    Energy =   0.0777
Level     1,  Iter    54:    Energy =   0.0774
Level     1,  Iter    55:    Energy =   0.0778
Level     1,  Iter    56:    Energy =   0.0775
Level     1,  Iter    57:    Energy =   0.0778
Level     1,  Iter    58:    Energy =   0.0776
Level     1,  Iter    59:    Energy =   0.0778
END OF LEVEL     1    DetJac Range:   0.0541  to   5.1357 
  Avg. Gradient Time  : 0.0398s  40.42% 
  Avg. Gaussian Time  : 0.0468s  47.54% 
  Avg. Iteration Time : 0.0984s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0380
Level     2,  Iter     1:    Energy =   0.0402
Level     2,  Iter     2:    Energy =   0.0421
Level     2,  Iter     3:    Energy =   0.0438
Level     2,  Iter     4:    Energy =   0.0453
Level     2,  Iter     5:    Energy =   0.0467
Level     2,  Iter     6:    Energy =   0.0480
Level     2,  Iter     7:    Energy =   0.0492
Level     2,  Iter     8:    Energy =   0.0501
Level     2,  Iter     9:    Energy =   0.0509
Level     2,  Iter    10:    Energy =   0.0515
Level     2,  Iter    11:    Energy =   0.0522
Level     2,  Iter    12:    Energy =   0.0529
Level     2,  Iter    13:    Energy =   0.0534
Level     2,  Iter    14:    Energy =   0.0540
Level     2,  Iter    15:    Energy =   0.0545
Level     2,  Iter    16:    Energy =   0.0551
Level     2,  Iter    17:    Energy =   0.0557
Level     2,  Iter    18:    Energy =   0.0564
Level     2,  Iter    19:    Energy =   0.0569
END OF LEVEL     2    DetJac Range:   0.0381  to   5.8090 
  Avg. Gradient Time  : 0.2838s  37.94% 
  Avg. Gaussian Time  : 0.3842s  51.36% 
  Avg. Iteration Time : 0.7481s 

real	0m24.974s
user	0m43.832s
sys	0m2.548s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.888462 0.894231
+ echo 'CHUNK 0.888462 0.894231 1'
CHUNK 0.888462 0.894231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.888462 0.894231 1
====================================
         PROGRESS: 0.888462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=025
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 025
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 025 right 0
+ local tid=025
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1858.20 	 OutFr   0.0097 	 RMSD     3.4821
Iter 002 	 Temp     3.72 	 Delta  1616.70 	 OutFr   0.0000 	 RMSD     2.1535
Iter 003 	 Temp     3.46 	 Delta  1505.11 	 OutFr   0.0000 	 RMSD     2.1020
Iter 004 	 Temp     3.22 	 Delta  1428.88 	 OutFr   0.0000 	 RMSD     2.0575
Iter 005 	 Temp     2.99 	 Delta  1372.94 	 OutFr   0.0000 	 RMSD     2.0210
Iter 006 	 Temp     2.78 	 Delta  1331.55 	 OutFr   0.0000 	 RMSD     1.9946
Iter 007 	 Temp     2.59 	 Delta  1298.59 	 OutFr   0.0000 	 RMSD     1.9757
Iter 008 	 Temp     2.41 	 Delta  1270.15 	 OutFr   0.0000 	 RMSD     1.9607
Iter 009 	 Temp     2.24 	 Delta  1243.70 	 OutFr   0.0000 	 RMSD     1.9481
Iter 010 	 Temp     2.08 	 Delta  1216.77 	 OutFr   0.0000 	 RMSD     1.9377
Iter 011 	 Temp     1.94 	 Delta  1186.23 	 OutFr   0.0024 	 RMSD     1.9284
Iter 012 	 Temp     1.80 	 Delta  1149.26 	 OutFr   0.0024 	 RMSD     1.9202
Iter 013 	 Temp     1.67 	 Delta  1104.91 	 OutFr   0.0049 	 RMSD     1.9137
Iter 014 	 Temp     1.56 	 Delta  1053.46 	 OutFr   0.0073 	 RMSD     1.9082
Iter 015 	 Temp     1.45 	 Delta   995.16 	 OutFr   0.0146 	 RMSD     1.9036
Iter 016 	 Temp     1.35 	 Delta   930.39 	 OutFr   0.0146 	 RMSD     1.8996
Iter 017 	 Temp     1.25 	 Delta   861.01 	 OutFr   0.0243 	 RMSD     1.8961
Iter 018 	 Temp     1.16 	 Delta   789.27 	 OutFr   0.0268 	 RMSD     1.8937
Iter 019 	 Temp     1.08 	 Delta   716.73 	 OutFr   0.0389 	 RMSD     1.8923
Iter 020 	 Temp     1.01 	 Delta   646.84 	 OutFr   0.0462 	 RMSD     1.8917
Iter 021 	 Temp     0.94 	 Delta   585.17 	 OutFr   0.0608 	 RMSD     1.8920
Iter 022 	 Temp     0.87 	 Delta   532.81 	 OutFr   0.0730 	 RMSD     1.8943
Iter 023 	 Temp     0.81 	 Delta   483.80 	 OutFr   0.0973 	 RMSD     1.8969
Iter 024 	 Temp     0.75 	 Delta   432.93 	 OutFr   0.1168 	 RMSD     1.8992
Iter 025 	 Temp     0.70 	 Delta   380.76 	 OutFr   0.1460 	 RMSD     1.9018
Iter 026 	 Temp     0.65 	 Delta   334.59 	 OutFr   0.1776 	 RMSD     1.9051
Iter 027 	 Temp     0.61 	 Delta   298.87 	 OutFr   0.1995 	 RMSD     1.9088
Iter 028 	 Temp     0.56 	 Delta   274.74 	 OutFr   0.2190 	 RMSD     1.9123
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.jZ0U00Ab/mybin.nii.gz
+ vtklevelset /tmp/ashs.jZ0U00Ab/mybin.nii.gz /tmp/ashs.jZ0U00Ab/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.jZ0U00Ab/mymesh.vtk /tmp/ashs.jZ0U00Ab/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3318.38556698 2696.34484283   0.81254718
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.jZ0U00Ab/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.0813 to 34.8118
   Y : -10.7865 to 30.0631
   Z : -17.4009 to 7.72296
   Image resolution  : 98 by 147 by 101
   Image box origin  : {6.0813, -15.7865, -22.4009}
   Image box size    : {34.0278, 51.0416, 35.3496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.0813, 15.7865, -22.4009]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat -o /tmp/ashs.jZ0U00Ab/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat -o /tmp/ashs.jZ0U00Ab/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.jZ0U00Ab/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.894231 0.9
+ echo 'CHUNK 0.894231 0.9 0.5'
CHUNK 0.894231 0.9 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.894231 0.9 0.5
====================================
         PROGRESS: 0.894231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.jZ0U00Ab/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.jZ0U00Ab/fixed_hw.nii.gz /tmp/ashs.jZ0U00Ab/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.48642, moving = 0.4079
LEVEL 1 of 3
  Smoothing sigmas: [2.35751, 2.38937, 2.3549], [0.96245, 0.975456, 0.961382]
Level     0,  Iter     0:    Energy =   0.0383
Level     0,  Iter     1:    Energy =   0.0446
Level     0,  Iter     2:    Energy =   0.0511
Level     0,  Iter     3:    Energy =   0.0558
Level     0,  Iter     4:    Energy =   0.0595
Level     0,  Iter     5:    Energy =   0.0630
Level     0,  Iter     6:    Energy =   0.0663
Level     0,  Iter     7:    Energy =   0.0687
Level     0,  Iter     8:    Energy =   0.0714
Level     0,  Iter     9:    Energy =   0.0736
Level     0,  Iter    10:    Energy =   0.0753
Level     0,  Iter    11:    Energy =   0.0763
Level     0,  Iter    12:    Energy =   0.0768
Level     0,  Iter    13:    Energy =   0.0775
Level     0,  Iter    14:    Energy =   0.0779
Level     0,  Iter    15:    Energy =   0.0784
Level     0,  Iter    16:    Energy =   0.0789
Level     0,  Iter    17:    Energy =   0.0795
Level     0,  Iter    18:    Energy =   0.0801
Level     0,  Iter    19:    Energy =   0.0805
Level     0,  Iter    20:    Energy =   0.0807
Level     0,  Iter    21:    Energy =   0.0812
Level     0,  Iter    22:    Energy =   0.0814
Level     0,  Iter    23:    Energy =   0.0820
Level     0,  Iter    24:    Energy =   0.0821
Level     0,  Iter    25:    Energy =   0.0822
Level     0,  Iter    26:    Energy =   0.0821
Level     0,  Iter    27:    Energy =   0.0820
Level     0,  Iter    28:    Energy =   0.0821
Level     0,  Iter    29:    Energy =   0.0823
Level     0,  Iter    30:    Energy =   0.0823
Level     0,  Iter    31:    Energy =   0.0822
Level     0,  Iter    32:    Energy =   0.0824
Level     0,  Iter    33:    Energy =   0.0826
Level     0,  Iter    34:    Energy =   0.0825
Level     0,  Iter    35:    Energy =   0.0826
Level     0,  Iter    36:    Energy =   0.0829
Level     0,  Iter    37:    Energy =   0.0830
Level     0,  Iter    38:    Energy =   0.0830
Level     0,  Iter    39:    Energy =   0.0829
Level     0,  Iter    40:    Energy =   0.0831
Level     0,  Iter    41:    Energy =   0.0834
Level     0,  Iter    42:    Energy =   0.0833
Level     0,  Iter    43:    Energy =   0.0832
Level     0,  Iter    44:    Energy =   0.0834
Level     0,  Iter    45:    Energy =   0.0836
Level     0,  Iter    46:    Energy =   0.0836
Level     0,  Iter    47:    Energy =   0.0834
Level     0,  Iter    48:    Energy =   0.0836
Level     0,  Iter    49:    Energy =   0.0838
Level     0,  Iter    50:    Energy =   0.0837
Level     0,  Iter    51:    Energy =   0.0836
Level     0,  Iter    52:    Energy =   0.0838
Level     0,  Iter    53:    Energy =   0.0841
Level     0,  Iter    54:    Energy =   0.0839
Level     0,  Iter    55:    Energy =   0.0838
Level     0,  Iter    56:    Energy =   0.0840
Level     0,  Iter    57:    Energy =   0.0843
Level     0,  Iter    58:    Energy =   0.0841
Level     0,  Iter    59:    Energy =   0.0839
END OF LEVEL     0    DetJac Range:   0.1408  to   2.0539 
  Avg. Gradient Time  : 0.0064s  37.72% 
  Avg. Gaussian Time  : 0.0079s  46.82% 
  Avg. Iteration Time : 0.0169s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19469, 1.20054], [0.491046, 0.487728, 0.490116]
Level     1,  Iter     0:    Energy =   0.0548
Level     1,  Iter     1:    Energy =   0.0588
Level     1,  Iter     2:    Energy =   0.0623
Level     1,  Iter     3:    Energy =   0.0650
Level     1,  Iter     4:    Energy =   0.0672
Level     1,  Iter     5:    Energy =   0.0689
Level     1,  Iter     6:    Energy =   0.0705
Level     1,  Iter     7:    Energy =   0.0718
Level     1,  Iter     8:    Energy =   0.0730
Level     1,  Iter     9:    Energy =   0.0742
Level     1,  Iter    10:    Energy =   0.0752
Level     1,  Iter    11:    Energy =   0.0761
Level     1,  Iter    12:    Energy =   0.0769
Level     1,  Iter    13:    Energy =   0.0770
Level     1,  Iter    14:    Energy =   0.0776
Level     1,  Iter    15:    Energy =   0.0774
Level     1,  Iter    16:    Energy =   0.0779
Level     1,  Iter    17:    Energy =   0.0780
Level     1,  Iter    18:    Energy =   0.0781
Level     1,  Iter    19:    Energy =   0.0780
Level     1,  Iter    20:    Energy =   0.0783
Level     1,  Iter    21:    Energy =   0.0785
Level     1,  Iter    22:    Energy =   0.0787
Level     1,  Iter    23:    Energy =   0.0785
Level     1,  Iter    24:    Energy =   0.0789
Level     1,  Iter    25:    Energy =   0.0790
Level     1,  Iter    26:    Energy =   0.0791
Level     1,  Iter    27:    Energy =   0.0790
Level     1,  Iter    28:    Energy =   0.0795
Level     1,  Iter    29:    Energy =   0.0794
Level     1,  Iter    30:    Energy =   0.0795
Level     1,  Iter    31:    Energy =   0.0794
Level     1,  Iter    32:    Energy =   0.0796
Level     1,  Iter    33:    Energy =   0.0795
Level     1,  Iter    34:    Energy =   0.0797
Level     1,  Iter    35:    Energy =   0.0796
Level     1,  Iter    36:    Energy =   0.0798
Level     1,  Iter    37:    Energy =   0.0796
Level     1,  Iter    38:    Energy =   0.0799
Level     1,  Iter    39:    Energy =   0.0797
Level     1,  Iter    40:    Energy =   0.0800
Level     1,  Iter    41:    Energy =   0.0798
Level     1,  Iter    42:    Energy =   0.0800
Level     1,  Iter    43:    Energy =   0.0799
Level     1,  Iter    44:    Energy =   0.0801
Level     1,  Iter    45:    Energy =   0.0800
Level     1,  Iter    46:    Energy =   0.0802
Level     1,  Iter    47:    Energy =   0.0800
Level     1,  Iter    48:    Energy =   0.0802
Level     1,  Iter    49:    Energy =   0.0801
Level     1,  Iter    50:    Energy =   0.0802
Level     1,  Iter    51:    Energy =   0.0801
Level     1,  Iter    52:    Energy =   0.0803
Level     1,  Iter    53:    Energy =   0.0801
Level     1,  Iter    54:    Energy =   0.0803
Level     1,  Iter    55:    Energy =   0.0802
Level     1,  Iter    56:    Energy =   0.0804
Level     1,  Iter    57:    Energy =   0.0803
Level     1,  Iter    58:    Energy =   0.0804
Level     1,  Iter    59:    Energy =   0.0803
END OF LEVEL     1    DetJac Range:   0.0442  to   3.0968 
  Avg. Gradient Time  : 0.0365s  40.18% 
  Avg. Gaussian Time  : 0.0435s  47.84% 
  Avg. Iteration Time : 0.0910s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0410
Level     2,  Iter     1:    Energy =   0.0433
Level     2,  Iter     2:    Energy =   0.0454
Level     2,  Iter     3:    Energy =   0.0469
Level     2,  Iter     4:    Energy =   0.0480
Level     2,  Iter     5:    Energy =   0.0491
Level     2,  Iter     6:    Energy =   0.0501
Level     2,  Iter     7:    Energy =   0.0510
Level     2,  Iter     8:    Energy =   0.0516
Level     2,  Iter     9:    Energy =   0.0523
Level     2,  Iter    10:    Energy =   0.0529
Level     2,  Iter    11:    Energy =   0.0535
Level     2,  Iter    12:    Energy =   0.0540
Level     2,  Iter    13:    Energy =   0.0545
Level     2,  Iter    14:    Energy =   0.0549
Level     2,  Iter    15:    Energy =   0.0553
Level     2,  Iter    16:    Energy =   0.0557
Level     2,  Iter    17:    Energy =   0.0560
Level     2,  Iter    18:    Energy =   0.0562
Level     2,  Iter    19:    Energy =   0.0564
END OF LEVEL     2    DetJac Range:   0.0308  to   3.8999 
  Avg. Gradient Time  : 0.2573s  37.55% 
  Avg. Gaussian Time  : 0.3550s  51.79% 
  Avg. Iteration Time : 0.6853s 

real	0m22.924s
user	0m40.060s
sys	0m2.484s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.894231 0.9
+ echo 'CHUNK 0.894231 0.9 1'
CHUNK 0.894231 0.9 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.894231 0.9 1
====================================
         PROGRESS: 0.894231               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 4 successful
------------------------------------------------
[0m
****************************************
Starting stage 5: Boostrapped joint label fusion
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 5: Boostrapped joint label fusion
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=1
+ side=left
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
Side: left
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 1
+ [[ 1 -ne 1 ]]
+ [[ '' -ne 1 ]]
+ ashs_label_fusion_apply 1
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ BOOTSTRAP=1
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Bootstrap: 1
+ [[ 1 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz -raw-posteriors tse_native_chunk_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_left.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 15, 4], [69, 63, 46] (199962 pixels)
Computing mask based on input segmentations
  Skipping 101245 out of 199962 voxels.
......................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_left.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -g tse_native_chunk_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_corr_usegray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
84:88:54
loading tse_native_chunk_left.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 379080
tc: 20088
mean intensity : sample #  180.71:33153
center location: (39.5057,44.8489,23.8146) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2348
tc: 20088
center location: (28.5799,40.2704,12.4554) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 4028
tc: 20088
center location: (35.7986,42.6454,23.3304) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 8235
tc: 20088
center location: (47.3535,46.5589,22.6864) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 229
tc: 20088
center location: (60.7628,48.2712,33.3273) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 1 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 4045
tc: 20088
center location: (51.771,46.4685,28.4031) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 471
tc: 20088
center location: (46.9565,51.4845,26.6809) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 4
tc: 20088
center location: (64.2919,47.5409,25.1518) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 728
tc: 20088
center location: (37.8702,46.1585,47.6948) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_corr_nogray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
84:88:54
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 379080
tc: 20088
center location: (39.5057,44.8489,23.8146) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2348
tc: 20088
center location: (28.5799,40.2704,12.4554) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 4028
tc: 20088
center location: (35.7986,42.6454,23.3304) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 8235
tc: 20088
center location: (47.3535,46.5589,22.6864) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 229
tc: 20088
center location: (60.7628,48.2712,33.3273) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 4045
tc: 20088
center location: (51.771,46.4685,28.4031) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 471
tc: 20088
center location: (46.9565,51.4845,26.6809) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 1 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 4
tc: 20088
center location: (64.2919,47.5409,25.1518) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_left_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 728
tc: 20088
center location: (37.8702,46.1585,47.6948) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -n '' ]]
++ [[ 1 -eq 1 ]]
++ echo bootstrap
+ MALFMODE=bootstrap
+ ashs_segmentation_qc left bootstrap heur
+ local side=left
+ local malfmode=bootstrap
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.pkkBTNc5/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.pkkBTNc5/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.pkkBTNc5/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.pkkBTNc5/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.pkkBTNc5/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.pkkBTNc5/sag_seg_%02d.png
++ ls /tmp/ashs.pkkBTNc5/cor_mprage_00.png /tmp/ashs.pkkBTNc5/cor_mprage_01.png /tmp/ashs.pkkBTNc5/cor_mprage_02.png /tmp/ashs.pkkBTNc5/cor_mprage_03.png /tmp/ashs.pkkBTNc5/cor_mprage_04.png /tmp/ashs.pkkBTNc5/cor_seg_00.png /tmp/ashs.pkkBTNc5/cor_seg_03.png /tmp/ashs.pkkBTNc5/cor_seg_06.png /tmp/ashs.pkkBTNc5/cor_seg_09.png /tmp/ashs.pkkBTNc5/cor_seg_12.png /tmp/ashs.pkkBTNc5/cor_tse_00.png /tmp/ashs.pkkBTNc5/cor_tse_01.png /tmp/ashs.pkkBTNc5/cor_tse_02.png /tmp/ashs.pkkBTNc5/cor_tse_03.png /tmp/ashs.pkkBTNc5/cor_tse_04.png /tmp/ashs.pkkBTNc5/sag_mprage_00.png /tmp/ashs.pkkBTNc5/sag_mprage_01.png /tmp/ashs.pkkBTNc5/sag_seg_00.png /tmp/ashs.pkkBTNc5/sag_seg_03.png /tmp/ashs.pkkBTNc5/sag_tse_00.png /tmp/ashs.pkkBTNc5/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_mprage_00.png /tmp/ashs.pkkBTNc5/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_mprage_01.png /tmp/ashs.pkkBTNc5/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_mprage_02.png /tmp/ashs.pkkBTNc5/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_mprage_03.png /tmp/ashs.pkkBTNc5/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_mprage_04.png /tmp/ashs.pkkBTNc5/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_seg_00.png /tmp/ashs.pkkBTNc5/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_seg_03.png /tmp/ashs.pkkBTNc5/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_seg_06.png /tmp/ashs.pkkBTNc5/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_seg_09.png /tmp/ashs.pkkBTNc5/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_seg_12.png /tmp/ashs.pkkBTNc5/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_tse_00.png /tmp/ashs.pkkBTNc5/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_tse_01.png /tmp/ashs.pkkBTNc5/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_tse_02.png /tmp/ashs.pkkBTNc5/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_tse_03.png /tmp/ashs.pkkBTNc5/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_tse_04.png /tmp/ashs.pkkBTNc5/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_mprage_00.png /tmp/ashs.pkkBTNc5/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_mprage_01.png /tmp/ashs.pkkBTNc5/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_seg_00.png /tmp/ashs.pkkBTNc5/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_seg_03.png /tmp/ashs.pkkBTNc5/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_tse_00.png /tmp/ashs.pkkBTNc5/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_tse_01.png /tmp/ashs.pkkBTNc5/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.pkkBTNc5/cor_tse_00.png /tmp/ashs.pkkBTNc5/cor_tse_01.png /tmp/ashs.pkkBTNc5/cor_tse_02.png /tmp/ashs.pkkBTNc5/cor_tse_03.png /tmp/ashs.pkkBTNc5/cor_tse_04.png /tmp/ashs.pkkBTNc5/sag_tse_00.png /tmp/ashs.pkkBTNc5/sag_tse_01.png /tmp/ashs.pkkBTNc5/cor_mprage_00.png /tmp/ashs.pkkBTNc5/cor_mprage_01.png /tmp/ashs.pkkBTNc5/cor_mprage_02.png /tmp/ashs.pkkBTNc5/cor_mprage_03.png /tmp/ashs.pkkBTNc5/cor_mprage_04.png /tmp/ashs.pkkBTNc5/sag_mprage_00.png /tmp/ashs.pkkBTNc5/sag_mprage_01.png /tmp/ashs.pkkBTNc5/cor_seg_00.png /tmp/ashs.pkkBTNc5/cor_seg_03.png /tmp/ashs.pkkBTNc5/cor_seg_06.png /tmp/ashs.pkkBTNc5/cor_seg_09.png /tmp/ashs.pkkBTNc5/cor_seg_12.png /tmp/ashs.pkkBTNc5/sag_seg_00.png /tmp/ashs.pkkBTNc5/sag_seg_03.png /tmp/ashs.pkkBTNc5/qa.png
+ convert /tmp/ashs.pkkBTNc5/qa.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ montage -label 26040:left /tmp/ashs.pkkBTNc5/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_bootstrap_heur_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,bootstrap_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_bootstrap_heur_left_qa.png
+ ashs_segmentation_qc left bootstrap corr_usegray
+ local side=left
+ local malfmode=bootstrap
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.pkkBTNc5/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.pkkBTNc5/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.pkkBTNc5/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.pkkBTNc5/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.pkkBTNc5/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.pkkBTNc5/sag_seg_%02d.png
++ ls /tmp/ashs.pkkBTNc5/cor_mprage_00.png /tmp/ashs.pkkBTNc5/cor_mprage_01.png /tmp/ashs.pkkBTNc5/cor_mprage_02.png /tmp/ashs.pkkBTNc5/cor_mprage_03.png /tmp/ashs.pkkBTNc5/cor_mprage_04.png /tmp/ashs.pkkBTNc5/cor_seg_00.png /tmp/ashs.pkkBTNc5/cor_seg_03.png /tmp/ashs.pkkBTNc5/cor_seg_06.png /tmp/ashs.pkkBTNc5/cor_seg_09.png /tmp/ashs.pkkBTNc5/cor_seg_12.png /tmp/ashs.pkkBTNc5/cor_tse_00.png /tmp/ashs.pkkBTNc5/cor_tse_01.png /tmp/ashs.pkkBTNc5/cor_tse_02.png /tmp/ashs.pkkBTNc5/cor_tse_03.png /tmp/ashs.pkkBTNc5/cor_tse_04.png /tmp/ashs.pkkBTNc5/sag_mprage_00.png /tmp/ashs.pkkBTNc5/sag_mprage_01.png /tmp/ashs.pkkBTNc5/sag_seg_00.png /tmp/ashs.pkkBTNc5/sag_seg_03.png /tmp/ashs.pkkBTNc5/sag_tse_00.png /tmp/ashs.pkkBTNc5/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_mprage_00.png /tmp/ashs.pkkBTNc5/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_mprage_01.png /tmp/ashs.pkkBTNc5/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_mprage_02.png /tmp/ashs.pkkBTNc5/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_mprage_03.png /tmp/ashs.pkkBTNc5/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_mprage_04.png /tmp/ashs.pkkBTNc5/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_seg_00.png /tmp/ashs.pkkBTNc5/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_seg_03.png /tmp/ashs.pkkBTNc5/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_seg_06.png /tmp/ashs.pkkBTNc5/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_seg_09.png /tmp/ashs.pkkBTNc5/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_seg_12.png /tmp/ashs.pkkBTNc5/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_tse_00.png /tmp/ashs.pkkBTNc5/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_tse_01.png /tmp/ashs.pkkBTNc5/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_tse_02.png /tmp/ashs.pkkBTNc5/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_tse_03.png /tmp/ashs.pkkBTNc5/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_tse_04.png /tmp/ashs.pkkBTNc5/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_mprage_00.png /tmp/ashs.pkkBTNc5/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_mprage_01.png /tmp/ashs.pkkBTNc5/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_seg_00.png /tmp/ashs.pkkBTNc5/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_seg_03.png /tmp/ashs.pkkBTNc5/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_tse_00.png /tmp/ashs.pkkBTNc5/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_tse_01.png /tmp/ashs.pkkBTNc5/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.pkkBTNc5/cor_tse_00.png /tmp/ashs.pkkBTNc5/cor_tse_01.png /tmp/ashs.pkkBTNc5/cor_tse_02.png /tmp/ashs.pkkBTNc5/cor_tse_03.png /tmp/ashs.pkkBTNc5/cor_tse_04.png /tmp/ashs.pkkBTNc5/sag_tse_00.png /tmp/ashs.pkkBTNc5/sag_tse_01.png /tmp/ashs.pkkBTNc5/cor_mprage_00.png /tmp/ashs.pkkBTNc5/cor_mprage_01.png /tmp/ashs.pkkBTNc5/cor_mprage_02.png /tmp/ashs.pkkBTNc5/cor_mprage_03.png /tmp/ashs.pkkBTNc5/cor_mprage_04.png /tmp/ashs.pkkBTNc5/sag_mprage_00.png /tmp/ashs.pkkBTNc5/sag_mprage_01.png /tmp/ashs.pkkBTNc5/cor_seg_00.png /tmp/ashs.pkkBTNc5/cor_seg_03.png /tmp/ashs.pkkBTNc5/cor_seg_06.png /tmp/ashs.pkkBTNc5/cor_seg_09.png /tmp/ashs.pkkBTNc5/cor_seg_12.png /tmp/ashs.pkkBTNc5/sag_seg_00.png /tmp/ashs.pkkBTNc5/sag_seg_03.png /tmp/ashs.pkkBTNc5/qa.png
+ convert /tmp/ashs.pkkBTNc5/qa.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ montage -label 26040:left /tmp/ashs.pkkBTNc5/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,bootstrap_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_left_qa.png
+ ashs_segmentation_qc left bootstrap corr_nogray
+ local side=left
+ local malfmode=bootstrap
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.pkkBTNc5/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.pkkBTNc5/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.pkkBTNc5/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.pkkBTNc5/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.pkkBTNc5/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.pkkBTNc5/sag_seg_%02d.png
++ ls /tmp/ashs.pkkBTNc5/cor_mprage_00.png /tmp/ashs.pkkBTNc5/cor_mprage_01.png /tmp/ashs.pkkBTNc5/cor_mprage_02.png /tmp/ashs.pkkBTNc5/cor_mprage_03.png /tmp/ashs.pkkBTNc5/cor_mprage_04.png /tmp/ashs.pkkBTNc5/cor_seg_00.png /tmp/ashs.pkkBTNc5/cor_seg_03.png /tmp/ashs.pkkBTNc5/cor_seg_06.png /tmp/ashs.pkkBTNc5/cor_seg_09.png /tmp/ashs.pkkBTNc5/cor_seg_12.png /tmp/ashs.pkkBTNc5/cor_tse_00.png /tmp/ashs.pkkBTNc5/cor_tse_01.png /tmp/ashs.pkkBTNc5/cor_tse_02.png /tmp/ashs.pkkBTNc5/cor_tse_03.png /tmp/ashs.pkkBTNc5/cor_tse_04.png /tmp/ashs.pkkBTNc5/sag_mprage_00.png /tmp/ashs.pkkBTNc5/sag_mprage_01.png /tmp/ashs.pkkBTNc5/sag_seg_00.png /tmp/ashs.pkkBTNc5/sag_seg_03.png /tmp/ashs.pkkBTNc5/sag_tse_00.png /tmp/ashs.pkkBTNc5/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_mprage_00.png /tmp/ashs.pkkBTNc5/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_mprage_01.png /tmp/ashs.pkkBTNc5/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_mprage_02.png /tmp/ashs.pkkBTNc5/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_mprage_03.png /tmp/ashs.pkkBTNc5/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_mprage_04.png /tmp/ashs.pkkBTNc5/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_seg_00.png /tmp/ashs.pkkBTNc5/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_seg_03.png /tmp/ashs.pkkBTNc5/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_seg_06.png /tmp/ashs.pkkBTNc5/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_seg_09.png /tmp/ashs.pkkBTNc5/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_seg_12.png /tmp/ashs.pkkBTNc5/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_tse_00.png /tmp/ashs.pkkBTNc5/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_tse_01.png /tmp/ashs.pkkBTNc5/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_tse_02.png /tmp/ashs.pkkBTNc5/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_tse_03.png /tmp/ashs.pkkBTNc5/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/cor_tse_04.png /tmp/ashs.pkkBTNc5/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_mprage_00.png /tmp/ashs.pkkBTNc5/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_mprage_01.png /tmp/ashs.pkkBTNc5/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_seg_00.png /tmp/ashs.pkkBTNc5/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_seg_03.png /tmp/ashs.pkkBTNc5/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_tse_00.png /tmp/ashs.pkkBTNc5/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.pkkBTNc5/sag_tse_01.png /tmp/ashs.pkkBTNc5/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.pkkBTNc5/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.pkkBTNc5/cor_tse_00.png /tmp/ashs.pkkBTNc5/cor_tse_01.png /tmp/ashs.pkkBTNc5/cor_tse_02.png /tmp/ashs.pkkBTNc5/cor_tse_03.png /tmp/ashs.pkkBTNc5/cor_tse_04.png /tmp/ashs.pkkBTNc5/sag_tse_00.png /tmp/ashs.pkkBTNc5/sag_tse_01.png /tmp/ashs.pkkBTNc5/cor_mprage_00.png /tmp/ashs.pkkBTNc5/cor_mprage_01.png /tmp/ashs.pkkBTNc5/cor_mprage_02.png /tmp/ashs.pkkBTNc5/cor_mprage_03.png /tmp/ashs.pkkBTNc5/cor_mprage_04.png /tmp/ashs.pkkBTNc5/sag_mprage_00.png /tmp/ashs.pkkBTNc5/sag_mprage_01.png /tmp/ashs.pkkBTNc5/cor_seg_00.png /tmp/ashs.pkkBTNc5/cor_seg_03.png /tmp/ashs.pkkBTNc5/cor_seg_06.png /tmp/ashs.pkkBTNc5/cor_seg_09.png /tmp/ashs.pkkBTNc5/cor_seg_12.png /tmp/ashs.pkkBTNc5/sag_seg_00.png /tmp/ashs.pkkBTNc5/sag_seg_03.png /tmp/ashs.pkkBTNc5/qa.png
+ convert /tmp/ashs.pkkBTNc5/qa.png -bordercolor Black -border 1x1 /tmp/ashs.pkkBTNc5/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ montage -label 26040:left /tmp/ashs.pkkBTNc5/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,bootstrap_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_left_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.9 -v be=0.95 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.9 0.95'
CHUNK 0.9 0.95
+ echo 1
+ awk -v bs=0.9 -v be=0.95 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.9 0.925
+ echo 'CHUNK 0.9 0.925 1'
CHUNK 0.9 0.925 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.9 0.925 1
====================================
         PROGRESS: 0.9               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=1
+ side=right
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
Side: right
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 1
+ [[ 1 -ne 1 ]]
+ [[ '' -ne 1 ]]
+ ashs_label_fusion_apply 1
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ BOOTSTRAP=1
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Bootstrap: 1
+ [[ 1 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz -raw-posteriors tse_native_chunk_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_right.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 12, 4], [72, 65, 46] (215280 pixels)
Computing mask based on input segmentations
  Skipping 116559 out of 215280 voxels.
......................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_right.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -g tse_native_chunk_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_corr_usegray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
85:87:54
loading tse_native_chunk_right.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 378864
tc: 20466
mean intensity : sample #  178.993:33570
center location: (40.4684,43.0908,23.5943) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2122
tc: 20466
center location: (51.0487,37.9004,12.5004) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 4023
tc: 20466
center location: (43.5704,41.4598,22.5542) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 8155
tc: 20466
center location: (34.0298,44.9176,22.5786) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 1 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 311
tc: 20466
center location: (22.7818,45.0349,34.9904) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 4626
tc: 20466
center location: (29.8819,44.2798,27.5789) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 582
tc: 20466
center location: (34.5756,50.0352,27.4429) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 62
tc: 20466
center location: (24.7379,36.8087,38.4095) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 585
tc: 20466
center location: (42.3472,45.6352,47.6781) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_corr_nogray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
85:87:54
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 378864
tc: 20466
center location: (40.4684,43.0908,23.5943) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2122
tc: 20466
center location: (51.0487,37.9004,12.5004) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 4023
tc: 20466
center location: (43.5704,41.4598,22.5542) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 8155
tc: 20466
center location: (34.0298,44.9176,22.5786) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 1 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 311
tc: 20466
center location: (22.7818,45.0349,34.9904) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 4626
tc: 20466
center location: (29.8819,44.2798,27.5789) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 582
tc: 20466
center location: (34.5756,50.0352,27.4429) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 62
tc: 20466
center location: (24.7379,36.8087,38.4095) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/posterior_right_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 585
tc: 20466
center location: (42.3472,45.6352,47.6781) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -n '' ]]
++ [[ 1 -eq 1 ]]
++ echo bootstrap
+ MALFMODE=bootstrap
+ ashs_segmentation_qc right bootstrap heur
+ local side=right
+ local malfmode=bootstrap
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.FsErnB5U/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.FsErnB5U/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.FsErnB5U/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.FsErnB5U/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.FsErnB5U/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.FsErnB5U/sag_seg_%02d.png
++ ls /tmp/ashs.FsErnB5U/cor_mprage_00.png /tmp/ashs.FsErnB5U/cor_mprage_01.png /tmp/ashs.FsErnB5U/cor_mprage_02.png /tmp/ashs.FsErnB5U/cor_mprage_03.png /tmp/ashs.FsErnB5U/cor_mprage_04.png /tmp/ashs.FsErnB5U/cor_seg_00.png /tmp/ashs.FsErnB5U/cor_seg_03.png /tmp/ashs.FsErnB5U/cor_seg_06.png /tmp/ashs.FsErnB5U/cor_seg_09.png /tmp/ashs.FsErnB5U/cor_seg_12.png /tmp/ashs.FsErnB5U/cor_tse_00.png /tmp/ashs.FsErnB5U/cor_tse_01.png /tmp/ashs.FsErnB5U/cor_tse_02.png /tmp/ashs.FsErnB5U/cor_tse_03.png /tmp/ashs.FsErnB5U/cor_tse_04.png /tmp/ashs.FsErnB5U/sag_mprage_00.png /tmp/ashs.FsErnB5U/sag_mprage_01.png /tmp/ashs.FsErnB5U/sag_seg_00.png /tmp/ashs.FsErnB5U/sag_seg_03.png /tmp/ashs.FsErnB5U/sag_tse_00.png /tmp/ashs.FsErnB5U/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_mprage_00.png /tmp/ashs.FsErnB5U/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_mprage_01.png /tmp/ashs.FsErnB5U/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_mprage_02.png /tmp/ashs.FsErnB5U/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_mprage_03.png /tmp/ashs.FsErnB5U/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_mprage_04.png /tmp/ashs.FsErnB5U/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_seg_00.png /tmp/ashs.FsErnB5U/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_seg_03.png /tmp/ashs.FsErnB5U/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_seg_06.png /tmp/ashs.FsErnB5U/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_seg_09.png /tmp/ashs.FsErnB5U/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_seg_12.png /tmp/ashs.FsErnB5U/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_tse_00.png /tmp/ashs.FsErnB5U/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_tse_01.png /tmp/ashs.FsErnB5U/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_tse_02.png /tmp/ashs.FsErnB5U/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_tse_03.png /tmp/ashs.FsErnB5U/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_tse_04.png /tmp/ashs.FsErnB5U/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_mprage_00.png /tmp/ashs.FsErnB5U/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_mprage_01.png /tmp/ashs.FsErnB5U/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_seg_00.png /tmp/ashs.FsErnB5U/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_seg_03.png /tmp/ashs.FsErnB5U/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_tse_00.png /tmp/ashs.FsErnB5U/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_tse_01.png /tmp/ashs.FsErnB5U/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.FsErnB5U/cor_tse_00.png /tmp/ashs.FsErnB5U/cor_tse_01.png /tmp/ashs.FsErnB5U/cor_tse_02.png /tmp/ashs.FsErnB5U/cor_tse_03.png /tmp/ashs.FsErnB5U/cor_tse_04.png /tmp/ashs.FsErnB5U/sag_tse_00.png /tmp/ashs.FsErnB5U/sag_tse_01.png /tmp/ashs.FsErnB5U/cor_mprage_00.png /tmp/ashs.FsErnB5U/cor_mprage_01.png /tmp/ashs.FsErnB5U/cor_mprage_02.png /tmp/ashs.FsErnB5U/cor_mprage_03.png /tmp/ashs.FsErnB5U/cor_mprage_04.png /tmp/ashs.FsErnB5U/sag_mprage_00.png /tmp/ashs.FsErnB5U/sag_mprage_01.png /tmp/ashs.FsErnB5U/cor_seg_00.png /tmp/ashs.FsErnB5U/cor_seg_03.png /tmp/ashs.FsErnB5U/cor_seg_06.png /tmp/ashs.FsErnB5U/cor_seg_09.png /tmp/ashs.FsErnB5U/cor_seg_12.png /tmp/ashs.FsErnB5U/sag_seg_00.png /tmp/ashs.FsErnB5U/sag_seg_03.png /tmp/ashs.FsErnB5U/qa.png
+ convert /tmp/ashs.FsErnB5U/qa.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ montage -label 26040:right /tmp/ashs.FsErnB5U/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_bootstrap_heur_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,bootstrap_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_bootstrap_heur_right_qa.png
+ ashs_segmentation_qc right bootstrap corr_usegray
+ local side=right
+ local malfmode=bootstrap
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.FsErnB5U/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.FsErnB5U/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.FsErnB5U/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.FsErnB5U/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.FsErnB5U/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.FsErnB5U/sag_seg_%02d.png
++ ls /tmp/ashs.FsErnB5U/cor_mprage_00.png /tmp/ashs.FsErnB5U/cor_mprage_01.png /tmp/ashs.FsErnB5U/cor_mprage_02.png /tmp/ashs.FsErnB5U/cor_mprage_03.png /tmp/ashs.FsErnB5U/cor_mprage_04.png /tmp/ashs.FsErnB5U/cor_seg_00.png /tmp/ashs.FsErnB5U/cor_seg_03.png /tmp/ashs.FsErnB5U/cor_seg_06.png /tmp/ashs.FsErnB5U/cor_seg_09.png /tmp/ashs.FsErnB5U/cor_seg_12.png /tmp/ashs.FsErnB5U/cor_tse_00.png /tmp/ashs.FsErnB5U/cor_tse_01.png /tmp/ashs.FsErnB5U/cor_tse_02.png /tmp/ashs.FsErnB5U/cor_tse_03.png /tmp/ashs.FsErnB5U/cor_tse_04.png /tmp/ashs.FsErnB5U/sag_mprage_00.png /tmp/ashs.FsErnB5U/sag_mprage_01.png /tmp/ashs.FsErnB5U/sag_seg_00.png /tmp/ashs.FsErnB5U/sag_seg_03.png /tmp/ashs.FsErnB5U/sag_tse_00.png /tmp/ashs.FsErnB5U/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_mprage_00.png /tmp/ashs.FsErnB5U/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_mprage_01.png /tmp/ashs.FsErnB5U/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_mprage_02.png /tmp/ashs.FsErnB5U/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_mprage_03.png /tmp/ashs.FsErnB5U/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_mprage_04.png /tmp/ashs.FsErnB5U/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_seg_00.png /tmp/ashs.FsErnB5U/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_seg_03.png /tmp/ashs.FsErnB5U/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_seg_06.png /tmp/ashs.FsErnB5U/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_seg_09.png /tmp/ashs.FsErnB5U/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_seg_12.png /tmp/ashs.FsErnB5U/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_tse_00.png /tmp/ashs.FsErnB5U/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_tse_01.png /tmp/ashs.FsErnB5U/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_tse_02.png /tmp/ashs.FsErnB5U/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_tse_03.png /tmp/ashs.FsErnB5U/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_tse_04.png /tmp/ashs.FsErnB5U/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_mprage_00.png /tmp/ashs.FsErnB5U/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_mprage_01.png /tmp/ashs.FsErnB5U/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_seg_00.png /tmp/ashs.FsErnB5U/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_seg_03.png /tmp/ashs.FsErnB5U/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_tse_00.png /tmp/ashs.FsErnB5U/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_tse_01.png /tmp/ashs.FsErnB5U/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.FsErnB5U/cor_tse_00.png /tmp/ashs.FsErnB5U/cor_tse_01.png /tmp/ashs.FsErnB5U/cor_tse_02.png /tmp/ashs.FsErnB5U/cor_tse_03.png /tmp/ashs.FsErnB5U/cor_tse_04.png /tmp/ashs.FsErnB5U/sag_tse_00.png /tmp/ashs.FsErnB5U/sag_tse_01.png /tmp/ashs.FsErnB5U/cor_mprage_00.png /tmp/ashs.FsErnB5U/cor_mprage_01.png /tmp/ashs.FsErnB5U/cor_mprage_02.png /tmp/ashs.FsErnB5U/cor_mprage_03.png /tmp/ashs.FsErnB5U/cor_mprage_04.png /tmp/ashs.FsErnB5U/sag_mprage_00.png /tmp/ashs.FsErnB5U/sag_mprage_01.png /tmp/ashs.FsErnB5U/cor_seg_00.png /tmp/ashs.FsErnB5U/cor_seg_03.png /tmp/ashs.FsErnB5U/cor_seg_06.png /tmp/ashs.FsErnB5U/cor_seg_09.png /tmp/ashs.FsErnB5U/cor_seg_12.png /tmp/ashs.FsErnB5U/sag_seg_00.png /tmp/ashs.FsErnB5U/sag_seg_03.png /tmp/ashs.FsErnB5U/qa.png
+ convert /tmp/ashs.FsErnB5U/qa.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ montage -label 26040:right /tmp/ashs.FsErnB5U/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,bootstrap_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_right_qa.png
+ ashs_segmentation_qc right bootstrap corr_nogray
+ local side=right
+ local malfmode=bootstrap
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.FsErnB5U/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.FsErnB5U/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.FsErnB5U/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.FsErnB5U/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.FsErnB5U/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.FsErnB5U/sag_seg_%02d.png
++ ls /tmp/ashs.FsErnB5U/cor_mprage_00.png /tmp/ashs.FsErnB5U/cor_mprage_01.png /tmp/ashs.FsErnB5U/cor_mprage_02.png /tmp/ashs.FsErnB5U/cor_mprage_03.png /tmp/ashs.FsErnB5U/cor_mprage_04.png /tmp/ashs.FsErnB5U/cor_seg_00.png /tmp/ashs.FsErnB5U/cor_seg_03.png /tmp/ashs.FsErnB5U/cor_seg_06.png /tmp/ashs.FsErnB5U/cor_seg_09.png /tmp/ashs.FsErnB5U/cor_seg_12.png /tmp/ashs.FsErnB5U/cor_tse_00.png /tmp/ashs.FsErnB5U/cor_tse_01.png /tmp/ashs.FsErnB5U/cor_tse_02.png /tmp/ashs.FsErnB5U/cor_tse_03.png /tmp/ashs.FsErnB5U/cor_tse_04.png /tmp/ashs.FsErnB5U/sag_mprage_00.png /tmp/ashs.FsErnB5U/sag_mprage_01.png /tmp/ashs.FsErnB5U/sag_seg_00.png /tmp/ashs.FsErnB5U/sag_seg_03.png /tmp/ashs.FsErnB5U/sag_tse_00.png /tmp/ashs.FsErnB5U/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_mprage_00.png /tmp/ashs.FsErnB5U/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_mprage_01.png /tmp/ashs.FsErnB5U/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_mprage_02.png /tmp/ashs.FsErnB5U/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_mprage_03.png /tmp/ashs.FsErnB5U/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_mprage_04.png /tmp/ashs.FsErnB5U/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_seg_00.png /tmp/ashs.FsErnB5U/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_seg_03.png /tmp/ashs.FsErnB5U/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_seg_06.png /tmp/ashs.FsErnB5U/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_seg_09.png /tmp/ashs.FsErnB5U/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_seg_12.png /tmp/ashs.FsErnB5U/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_tse_00.png /tmp/ashs.FsErnB5U/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_tse_01.png /tmp/ashs.FsErnB5U/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_tse_02.png /tmp/ashs.FsErnB5U/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_tse_03.png /tmp/ashs.FsErnB5U/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/cor_tse_04.png /tmp/ashs.FsErnB5U/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_mprage_00.png /tmp/ashs.FsErnB5U/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_mprage_01.png /tmp/ashs.FsErnB5U/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_seg_00.png /tmp/ashs.FsErnB5U/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_seg_03.png /tmp/ashs.FsErnB5U/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_tse_00.png /tmp/ashs.FsErnB5U/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.FsErnB5U/sag_tse_01.png /tmp/ashs.FsErnB5U/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.FsErnB5U/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.FsErnB5U/cor_tse_00.png /tmp/ashs.FsErnB5U/cor_tse_01.png /tmp/ashs.FsErnB5U/cor_tse_02.png /tmp/ashs.FsErnB5U/cor_tse_03.png /tmp/ashs.FsErnB5U/cor_tse_04.png /tmp/ashs.FsErnB5U/sag_tse_00.png /tmp/ashs.FsErnB5U/sag_tse_01.png /tmp/ashs.FsErnB5U/cor_mprage_00.png /tmp/ashs.FsErnB5U/cor_mprage_01.png /tmp/ashs.FsErnB5U/cor_mprage_02.png /tmp/ashs.FsErnB5U/cor_mprage_03.png /tmp/ashs.FsErnB5U/cor_mprage_04.png /tmp/ashs.FsErnB5U/sag_mprage_00.png /tmp/ashs.FsErnB5U/sag_mprage_01.png /tmp/ashs.FsErnB5U/cor_seg_00.png /tmp/ashs.FsErnB5U/cor_seg_03.png /tmp/ashs.FsErnB5U/cor_seg_06.png /tmp/ashs.FsErnB5U/cor_seg_09.png /tmp/ashs.FsErnB5U/cor_seg_12.png /tmp/ashs.FsErnB5U/sag_seg_00.png /tmp/ashs.FsErnB5U/sag_seg_03.png /tmp/ashs.FsErnB5U/qa.png
+ convert /tmp/ashs.FsErnB5U/qa.png -bordercolor Black -border 1x1 /tmp/ashs.FsErnB5U/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ montage -label 26040:right /tmp/ashs.FsErnB5U/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,bootstrap_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.9 -v be=0.95 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.9 0.95'
CHUNK 0.9 0.95
+ echo 1
+ awk -v bs=0.9 -v be=0.95 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.925 0.95
+ echo 'CHUNK 0.925 0.95 1'
CHUNK 0.925 0.95 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.925 0.95 1
====================================
         PROGRESS: 0.925               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 5 successful
------------------------------------------------
[0m
****************************************
Starting stage 6: Final QA
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 6: Final QA
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
+ [[ '' -ne 1 ]]
+ WSUB=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion
+ WQA=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ ASHS_LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ for side in '${SIDES}'
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_left_lfseg_heur.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_left_lfseg_corr_usegray.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_left_lfseg_corr_nogray.nii.gz
+ for side in '${SIDES}'
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_right_lfseg_heur.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_right_lfseg_corr_usegray.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_right_lfseg_corr_nogray.nii.gz
+ for side in '${SIDES}'
+ SMASV=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz ]]
+ c3d -verbose /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -int 0 -trim 10x10x0mm -resample 400x400x100% -as REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -stretch 1% 99% 0 255 -clip 0 255 -reslice-identity -push REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -reslice-identity -push REF -foreach -slice z 50% -flip xy -info -endfor -popas S -popas S2 -as G -type uchar -info -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/gray_left.png -clear -push G -push S -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/masv_left.png -clear -push G -push S2 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/final_left.png -clear -push G -push S -push S2 -scale -1 -add -thresh 0 0 0 1 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/bc_left.png
Reading #1 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
Trimming #1
  Wrapping non-background voxels with margin of 10 10 0 mm.
  Extracting bounding box [0, 2, 4] [84, 86, 46]
Resampling #1 to have[336, 344, 46] voxels.
  Interpolation method: 0
  Background intensity: 0
  Input spacing: [0.4375, 0.4375, 1.1]
  Input origin: [10.5148, -45.6149, -30.3251]
  Output spacing: [0.109375, 0.109375, 1.1]
  Output origin: [10.3507, -45.5623, -30.4805]
Reading #2 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
Quantile 0.01 maps to 73
Quantile 0.99 maps to 967
Scaling #2 by 0.285235 and adding -20.8221
Clipping out-of-range intensities in #2
  Intensity range: 0 to 255
  Reference voxel [0, 0, 0] => moving voxel [272.625, 210.625, 4]
  Reference voxel [168, 172, 23] => moving voxel [314.625, 253.625, 27]
  Reference voxel [335, 343, 45] => moving voxel [356.375, 296.375, 49]
Reslicing #2 with reference1
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Reading #3 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
  Reference voxel [0, 0, 0] => moving voxel [-0.375, 1.625, 4]
  Reference voxel [168, 172, 23] => moving voxel [41.625, 44.625, 27]
  Reference voxel [335, 343, 45] => moving voxel [83.375, 87.375, 49]
Reslicing #3 with reference2
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Repeating commands for all 3 images
Extracting slice 23 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 23] [336, 344, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [336, 344, 1];  bb = {[-46.9913 33.6259 13.1662], [-10.2413 71.2509 14.2662]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 166.577];  orient = Oblique, closest to RIA

Extracting slice 23 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 23] [336, 344, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [336, 344, 1];  bb = {[-46.9913 33.6259 13.1662], [-10.2413 71.2509 14.2662]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 5];  orient = Oblique, closest to RIA

Extracting slice 23 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 23] [336, 344, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [336, 344, 1];  bb = {[-46.9913 33.6259 13.1662], [-10.2413 71.2509 14.2662]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Image #1: dim = [336, 344, 1];  bb = {[-46.9913 33.6259 13.1662], [-10.2413 71.2509 14.2662]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 166.577];  orient = Oblique, closest to RIA

Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/gray_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/masv_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/final_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Scaling #3 by -1 and adding 0
Adding #2 and 1
Thresholding #2
  Mapping range [0, 0] to 0
  Values outside are mapped to 1
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/bc_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ for side in '${SIDES}'
+ SMASV=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz ]]
+ c3d -verbose /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -int 0 -trim 10x10x0mm -resample 400x400x100% -as REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz -stretch 1% 99% 0 255 -clip 0 255 -reslice-identity -push REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -reslice-identity -push REF -foreach -slice z 50% -flip xy -info -endfor -popas S -popas S2 -as G -type uchar -info -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/gray_right.png -clear -push G -push S -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/masv_right.png -clear -push G -push S2 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/final_right.png -clear -push G -push S -push S2 -scale -1 -add -thresh 0 0 0 1 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/bc_right.png
Reading #1 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
Trimming #1
  Wrapping non-background voxels with margin of 10 10 0 mm.
  Extracting bounding box [0, 0, 4] [85, 87, 46]
Resampling #1 to have[340, 348, 46] voxels.
  Interpolation method: 0
  Background intensity: 0
  Input spacing: [0.4375, 0.4375, 1.1]
  Input origin: [-38.0477, -44.7733, -32.8116]
  Output spacing: [0.109375, 0.109375, 1.1]
  Output origin: [-38.2118, -44.7207, -32.967]
Reading #2 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/tse.nii.gz
Quantile 0.01 maps to 73
Quantile 0.99 maps to 967
Scaling #2 by 0.285235 and adding -20.8221
Clipping out-of-range intensities in #2
  Intensity range: 0 to 255
  Reference voxel [0, 0, 0] => moving voxel [161.625, 204.625, 4]
  Reference voxel [170, 174, 23] => moving voxel [204.125, 248.125, 27]
  Reference voxel [339, 347, 45] => moving voxel [246.375, 291.375, 49]
Reslicing #2 with reference1
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Reading #3 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
  Reference voxel [0, 0, 0] => moving voxel [-0.375, -0.375, 4]
  Reference voxel [170, 174, 23] => moving voxel [42.125, 43.125, 27]
  Reference voxel [339, 347, 45] => moving voxel [84.375, 86.375, 49]
Reslicing #3 with reference2
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Repeating commands for all 3 images
Extracting slice 23 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 23] [340, 348, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [340, 348, 1];  bb = {[1.13365 32.9245 11.0941], [38.3212 70.987 12.1941]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 164.01];  orient = Oblique, closest to RIA

Extracting slice 23 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 23] [340, 348, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [340, 348, 1];  bb = {[1.13365 32.9245 11.0941], [38.3212 70.987 12.1941]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Extracting slice 23 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 23] [340, 348, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [340, 348, 1];  bb = {[1.13365 32.9245 11.0941], [38.3212 70.987 12.1941]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Image #1: dim = [340, 348, 1];  bb = {[1.13365 32.9245 11.0941], [38.3212 70.987 12.1941]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 164.01];  orient = Oblique, closest to RIA

Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/gray_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/masv_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/final_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Scaling #3 by -1 and adding 0
Adding #2 and 1
Thresholding #2
  Mapping range [0, 0] to 0
  Values outside are mapped to 1
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa/bc_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/qa
+ cat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.95 -v be=0.98 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.95 0.98'
CHUNK 0.95 0.98
+ echo 1
+ awk -v bs=0.95 -v be=0.98 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.95 0.98
+ echo 'CHUNK 0.95 0.98 1'
CHUNK 0.95 0.98 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.95 0.98 1
====================================
         PROGRESS: 0.95               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 6 successful
------------------------------------------------
[0m
****************************************
Starting stage 7: Statistics and volume computation
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 7: Statistics and volume 
computation
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_extractstats_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  SUBJECT: 26040
+ [[ '' -ne 1 ]]
+ WSUB=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion
+ WSTAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final
+ cat /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ awk '$1 > 0 {split($0,arr,"\""); sub(/[ \t]+/,"_",arr[2]); print $1,arr[2]}'
+ LABIDS=($(cat $TMPDIR/labels.txt | awk '{print $1}'))
++ cat /tmp/ashs.BjpCrACY/labels.txt
++ awk '{print $1}'
+ LABNAMES=($(cat $TMPDIR/labels.txt | awk '{print $2}'))
++ cat /tmp/ashs.BjpCrACY/labels.txt
++ awk '{print $2}'
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ raw == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz ]]
+ STATS=/tmp/ashs.BjpCrACY/rawvols_raw_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz -dup -lstat
+ tee /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      379080     79814.111     84    88    54
    1       1.00000     0.00000     1.00000     1.00000        2348       494.364     34    41    22
    2       2.00000     0.00000     2.00000     2.00000        4028       848.083     48    19    44
    3       3.00000     0.00000     3.00000     3.00000        8235      1733.854     58    36    42
    4       4.00000     0.00000     4.00000     4.00000         229        48.215     20    12    26
    5       5.00000     0.00000     5.00000     5.00000        4045       851.662     41    19    34
    6       6.00000     0.00000     6.00000     6.00000         471        99.168     36    15    28
    7       7.00000     0.00000     7.00000     7.00000           4         0.842      2     2     1
    8       8.00000     0.00000     8.00000     8.00000         728       153.278     30    21     4
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_left_raw_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_left_raw_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=494.364
+ [[ -n 22 ]]
+ echo 26040 left ERC 22 494.364
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=44
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=848.083
+ [[ -n 44 ]]
+ echo 26040 left SUB 44 848.083
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=42
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1733.854
+ [[ -n 42 ]]
+ echo 26040 left CA1 42 1733.854
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=26
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=48.215
+ [[ -n 26 ]]
+ echo 26040 left CA2 26 48.215
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=34
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=851.662
+ [[ -n 34 ]]
+ echo 26040 left DG 34 851.662
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=28
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=99.168
+ [[ -n 28 ]]
+ echo 26040 left CA3 28 99.168
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=1
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=0.842
+ [[ -n 1 ]]
+ echo 26040 left Cyst 1 0.842
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=4
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=153.278
+ [[ -n 4 ]]
+ echo 26040 left Tail 4 153.278
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ raw == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz ]]
+ STATS=/tmp/ashs.BjpCrACY/rawvols_raw_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz -dup -lstat
+ tee /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      378864     79768.633     85    87    54
    1       1.00000     0.00000     1.00000     1.00000        2122       446.780     42    47    22
    2       2.00000     0.00000     2.00000     2.00000        4023       847.030     45    27    43
    3       3.00000     0.00000     3.00000     3.00000        8155      1717.010     60    39    44
    4       4.00000     0.00000     4.00000     4.00000         311        65.480     20    14    26
    5       5.00000     0.00000     5.00000     5.00000        4626       973.990     44    21    37
    6       6.00000     0.00000     6.00000     6.00000         582       122.538     36    16    28
    7       7.00000     0.00000     7.00000     7.00000          62        13.054     20     9    23
    8       8.00000     0.00000     8.00000     8.00000         585       123.170     29    23     4
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_right_raw_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_right_raw_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=446.780
+ [[ -n 22 ]]
+ echo 26040 right ERC 22 446.780
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=43
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=847.030
+ [[ -n 43 ]]
+ echo 26040 right SUB 43 847.030
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=44
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1717.010
+ [[ -n 44 ]]
+ echo 26040 right CA1 44 1717.010
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=26
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=65.480
+ [[ -n 26 ]]
+ echo 26040 right CA2 26 65.480
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=973.990
+ [[ -n 37 ]]
+ echo 26040 right DG 37 973.990
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=28
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=122.538
+ [[ -n 28 ]]
+ echo 26040 right CA3 28 122.538
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=13.054
+ [[ -n 23 ]]
+ echo 26040 right Cyst 23 13.054
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=4
++ cat /tmp/ashs.BjpCrACY/rawvols_raw_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=123.170
+ [[ -n 4 ]]
+ echo 26040 right Tail 4 123.170
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ heur == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz ]]
+ STATS=/tmp/ashs.BjpCrACY/rawvols_heur_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -dup -lstat
+ tee /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      379080     79814.111     84    88    54
    1       1.00000     0.00000     1.00000     1.00000        2348       494.364     34    41    22
    2       2.00000     0.00000     2.00000     2.00000        4028       848.083     48    19    44
    3       3.00000     0.00000     3.00000     3.00000        8235      1733.854     58    36    42
    4       4.00000     0.00000     4.00000     4.00000         229        48.215     20    12    26
    5       5.00000     0.00000     5.00000     5.00000        4045       851.662     41    19    34
    6       6.00000     0.00000     6.00000     6.00000         471        99.168     36    15    28
    7       7.00000     0.00000     7.00000     7.00000           4         0.842      2     2     1
    8       8.00000     0.00000     8.00000     8.00000         728       153.278     30    21     4
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_left_heur_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_left_heur_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=494.364
+ [[ -n 22 ]]
+ echo 26040 left ERC 22 494.364
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=44
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=848.083
+ [[ -n 44 ]]
+ echo 26040 left SUB 44 848.083
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=42
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1733.854
+ [[ -n 42 ]]
+ echo 26040 left CA1 42 1733.854
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=26
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=48.215
+ [[ -n 26 ]]
+ echo 26040 left CA2 26 48.215
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=34
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=851.662
+ [[ -n 34 ]]
+ echo 26040 left DG 34 851.662
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=28
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=99.168
+ [[ -n 28 ]]
+ echo 26040 left CA3 28 99.168
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=1
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=0.842
+ [[ -n 1 ]]
+ echo 26040 left Cyst 1 0.842
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=4
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=153.278
+ [[ -n 4 ]]
+ echo 26040 left Tail 4 153.278
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ heur == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz ]]
+ STATS=/tmp/ashs.BjpCrACY/rawvols_heur_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -dup -lstat
+ tee /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      378864     79768.633     85    87    54
    1       1.00000     0.00000     1.00000     1.00000        2122       446.780     42    47    22
    2       2.00000     0.00000     2.00000     2.00000        4023       847.030     45    27    43
    3       3.00000     0.00000     3.00000     3.00000        8155      1717.010     60    39    44
    4       4.00000     0.00000     4.00000     4.00000         311        65.480     20    14    26
    5       5.00000     0.00000     5.00000     5.00000        4626       973.990     44    21    37
    6       6.00000     0.00000     6.00000     6.00000         582       122.538     36    16    28
    7       7.00000     0.00000     7.00000     7.00000          62        13.054     20     9    23
    8       8.00000     0.00000     8.00000     8.00000         585       123.170     29    23     4
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_right_heur_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_right_heur_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=446.780
+ [[ -n 22 ]]
+ echo 26040 right ERC 22 446.780
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=43
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=847.030
+ [[ -n 43 ]]
+ echo 26040 right SUB 43 847.030
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=44
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1717.010
+ [[ -n 44 ]]
+ echo 26040 right CA1 44 1717.010
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=26
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=65.480
+ [[ -n 26 ]]
+ echo 26040 right CA2 26 65.480
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=973.990
+ [[ -n 37 ]]
+ echo 26040 right DG 37 973.990
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=28
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=122.538
+ [[ -n 28 ]]
+ echo 26040 right CA3 28 122.538
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=13.054
+ [[ -n 23 ]]
+ echo 26040 right Cyst 23 13.054
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=4
++ cat /tmp/ashs.BjpCrACY/rawvols_heur_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=123.170
+ [[ -n 4 ]]
+ echo 26040 right Tail 4 123.170
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ corr_usegray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz ]]
+ STATS=/tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -dup -lstat
+ tee /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      379001     79797.478     84    88    54
    1       1.00000     0.00000     1.00000     1.00000        2460       517.945     32    41    24
    2       2.00000     0.00000     2.00000     2.00000        3918       824.923     49    18    46
    3       3.00000     0.00000     3.00000     3.00000        8626      1816.177     58    36    43
    4       4.00000     0.00000     4.00000     4.00000          24         5.053      5     9    12
    5       5.00000     0.00000     5.00000     5.00000        4191       882.402     42    19    35
    6       6.00000     0.00000     6.00000     6.00000          69        14.528     31    12    23
    7       7.00000     0.00000     7.00000     7.00000           3         0.632      2     2     2
    8       8.00000     0.00000     8.00000     8.00000         876       184.439     29    20     6
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_left_corr_usegray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_left_corr_usegray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=24
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=517.945
+ [[ -n 24 ]]
+ echo 26040 left ERC 24 517.945
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=46
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=824.923
+ [[ -n 46 ]]
+ echo 26040 left SUB 46 824.923
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=43
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1816.177
+ [[ -n 43 ]]
+ echo 26040 left CA1 43 1816.177
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=12
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=5.053
+ [[ -n 12 ]]
+ echo 26040 left CA2 12 5.053
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=35
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=882.402
+ [[ -n 35 ]]
+ echo 26040 left DG 35 882.402
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=14.528
+ [[ -n 23 ]]
+ echo 26040 left CA3 23 14.528
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=2
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=0.632
+ [[ -n 2 ]]
+ echo 26040 left Cyst 2 0.632
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=6
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=184.439
+ [[ -n 6 ]]
+ echo 26040 left Tail 6 184.439
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ corr_usegray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz ]]
+ STATS=/tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -dup -lstat
+ tee /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      380002     80008.235     85    87    54
    1       1.00000     0.00000     1.00000     1.00000        1328       279.606     31    43    20
    2       2.00000     0.00000     2.00000     2.00000        3568       751.231     44    22    44
    3       3.00000     0.00000     3.00000     3.00000        8694      1830.495     61    39    44
    4       4.00000     0.00000     4.00000     4.00000          73        15.370     19     8    20
    5       5.00000     0.00000     5.00000     5.00000        4788      1008.098     40    19    37
    6       6.00000     0.00000     6.00000     6.00000         253        53.268     33    15    24
    7       7.00000     0.00000     7.00000     7.00000          84        17.686     21    10    23
    8       8.00000     0.00000     8.00000     8.00000         540       113.695     26    18     6
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_right_corr_usegray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_right_corr_usegray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=20
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=279.606
+ [[ -n 20 ]]
+ echo 26040 right ERC 20 279.606
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=44
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=751.231
+ [[ -n 44 ]]
+ echo 26040 right SUB 44 751.231
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=44
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1830.495
+ [[ -n 44 ]]
+ echo 26040 right CA1 44 1830.495
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=20
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=15.370
+ [[ -n 20 ]]
+ echo 26040 right CA2 20 15.370
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=1008.098
+ [[ -n 37 ]]
+ echo 26040 right DG 37 1008.098
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=24
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=53.268
+ [[ -n 24 ]]
+ echo 26040 right CA3 24 53.268
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=17.686
+ [[ -n 23 ]]
+ echo 26040 right Cyst 23 17.686
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=6
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_usegray_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=113.695
+ [[ -n 6 ]]
+ echo 26040 right Tail 6 113.695
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ corr_nogray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz ]]
+ STATS=/tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -dup -lstat
+ tee /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      379371     79875.380     84    88    54
    1       1.00000     0.00000     1.00000     1.00000        2239       471.414     32    38    23
    2       2.00000     0.00000     2.00000     2.00000        3910       823.238     47    18    46
    3       3.00000     0.00000     3.00000     3.00000        8380      1764.383     58    36    43
    4       4.00000     0.00000     4.00000     4.00000          26         5.474      7    10    14
    5       5.00000     0.00000     5.00000     5.00000        4155       874.822     40    18    35
    6       6.00000     0.00000     6.00000     6.00000          97        20.423     32    12    24
    7       7.00000     0.00000     7.00000     7.00000           3         0.632      2     2     1
    8       8.00000     0.00000     8.00000     8.00000         987       207.810     28    21     6
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_left_corr_nogray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_left_corr_nogray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=471.414
+ [[ -n 23 ]]
+ echo 26040 left ERC 23 471.414
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=46
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=823.238
+ [[ -n 46 ]]
+ echo 26040 left SUB 46 823.238
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=43
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1764.383
+ [[ -n 43 ]]
+ echo 26040 left CA1 43 1764.383
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=14
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=5.474
+ [[ -n 14 ]]
+ echo 26040 left CA2 14 5.474
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=35
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=874.822
+ [[ -n 35 ]]
+ echo 26040 left DG 35 874.822
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=24
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=20.423
+ [[ -n 24 ]]
+ echo 26040 left CA3 24 20.423
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=1
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=0.632
+ [[ -n 1 ]]
+ echo 26040 left Cyst 1 0.632
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=6
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=207.810
+ [[ -n 6 ]]
+ echo 26040 left Tail 6 207.810
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ corr_nogray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz ]]
+ STATS=/tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -dup -lstat
+ tee /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      380251     80060.662     85    87    54
    1       1.00000     0.00000     1.00000     1.00000        1115       234.760     29    41    20
    2       2.00000     0.00000     2.00000     2.00000        3630       764.285     37    23    43
    3       3.00000     0.00000     3.00000     3.00000        8644      1819.967     61    39    43
    4       4.00000     0.00000     4.00000     4.00000          62        13.054     16     7    12
    5       5.00000     0.00000     5.00000     5.00000        4826      1016.099     40    20    37
    6       6.00000     0.00000     6.00000     6.00000         243        51.163     34    14    25
    7       7.00000     0.00000     7.00000     7.00000          76        16.002     20    10    23
    8       8.00000     0.00000     8.00000     8.00000         483       101.694     26    18     5
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_right_corr_nogray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/final/26040_right_corr_nogray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=20
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=234.760
+ [[ -n 20 ]]
+ echo 26040 right ERC 20 234.760
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=43
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=764.285
+ [[ -n 43 ]]
+ echo 26040 right SUB 43 764.285
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=43
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1819.967
+ [[ -n 43 ]]
+ echo 26040 right CA1 43 1819.967
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=12
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=13.054
+ [[ -n 12 ]]
+ echo 26040 right CA2 12 13.054
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=1016.099
+ [[ -n 37 ]]
+ echo 26040 right DG 37 1016.099
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=25
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=51.163
+ [[ -n 25 ]]
+ echo 26040 right CA3 25 51.163
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=16.002
+ [[ -n 23 ]]
+ echo 26040 right Cyst 23 16.002
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=5
++ cat /tmp/ashs.BjpCrACY/rawvols_corr_nogray_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=101.694
+ [[ -n 5 ]]
+ echo 26040 right Tail 5 101.694
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ manual == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ manual == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ [[ -f /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz ]]
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz /tmp/ashs.BjpCrACY/icv.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/mprage.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 24
++ voxel_size /tmp/ashs.BjpCrACY/icv.nii.gz
+++ c3d /tmp/ashs.BjpCrACY/icv.nii.gz -info-full
+++ grep Spacing
+++ sed -e 's/[^0-9\.]/ /g'
+++ awk '{print $1*$2*$3}'
++ echo 0.343
+ VVOX=0.343
++ c3d /tmp/ashs.BjpCrACY/icv.nii.gz -thresh 0.5 inf 1 0 -dup -lstat
++ tail -n 1
++ awk '{print $6}'
+ VOLUME=4601306
++ echo '0.343 4601306'
++ awk '{print $1*$2}'
+ ICV=1.57825e+06
+ echo 26040 1.57825e+06
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.98 -v be=1.0 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.98 1.0'
CHUNK 0.98 1.0
+ echo 1
+ awk -v bs=0.98 -v be=1.0 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.98 1
+ echo 'CHUNK 0.98 1 1'
CHUNK 0.98 1 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.98 1 1
====================================
         PROGRESS: 0.98               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 7 successful
------------------------------------------------
[0m
Beginning ASHS for:  26040
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii
Beginning ASHS for:  26040
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26040/20200310_U-ID48485/Series_033_Highresolution_TSE_PAT2_100/t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 112: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/originalskullstripped: No such file or directory
Beginning ASHS for:  26040
Beginning ASHS for:  26040
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 139: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/DenoiseT1N4T2Utrecht: No such file or directory
Beginning ASHS for:  26040
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 149: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/26040/DenoiseT1N4T2Utrecht: No such file or directory
