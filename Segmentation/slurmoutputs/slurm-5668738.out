Changed directory to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs.

JobID: 5668738
======
Time: Thu Jan  7 19:32:32 GMT 2021
Running on master node: wbic-cs-16
Current directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Nodes allocated:
================
wbic-cs-16

numtasks=1, numnodes=1, mpi_tasks_per_node=1 (OMP_NUM_THREADS=1)

Executing command:
==================
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh /lustre/scratch/wbic-beta/ccn30/ENCRYPT 25739/20200122_U-ID47772 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

mkdir: cannot create directory â€˜/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739â€™: File exists
Beginning ASHS for:  25739
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/Series_033_Highresolution_TSE_PAT2_100/t2.nii
ASHS started at 19:32:32


 ASHS completed for 25739 at 19:32:32, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  25739
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii
ASHS started at 19:32:32


 ASHS completed for 25739 at 19:32:32, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  25739
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii
ASHS started at 19:32:32


 ASHS completed for 25739 at 19:32:32, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  25739
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii
ASHS started at 19:32:32


 ASHS completed for 25739 at 19:32:32, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  25739
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/Series_033_Highresolution_TSE_PAT2_100/t2.nii
ASHS started at 19:32:32


 ASHS completed for 25739 at 19:32:32, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  25739
ASHS started at 19:32:32


 ASHS completed for 25739 at 19:32:32, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  25739
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 164: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht: No such file or directory
ASHS started at 19:32:32
ashs_main execution log
  timestamp:   Thu Jan  7 19:32:32 GMT 2021
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 25739 -a /home/ccn30/ENCRYPT/atlases/utrechtatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseBrain
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SUBJID=25739
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht
Atlas    : /home/ccn30/ENCRYPT/atlases/utrechtatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 
  Skip Ants: 
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25739/20200122_U-ID47772/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/tse.nii.gz -resample 100x100x100% -region 20x20x0% 60x60x100% -type short -o /tmp/ashs.lQWst6fC/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.lQWst6fC/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 24
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1975.7   GNORM= 137.253
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2101.022     112.915       0.007
   2    4     -2182.354      34.236       0.333
   3    5     -2191.615      13.910       1.000
   4    6     -2193.417      10.881       1.000
   5    7     -2193.933      12.411       1.000
   6    8     -2195.283       8.555       1.000
   7   10     -2195.590       4.634       0.172
   8   11     -2195.711       2.408       1.000
   9   12     -2195.749       1.275       1.000
  10   15     -2195.786       2.139       2.514
  11   16     -2195.799       1.453       1.000
  12   19     -2195.800       0.375       0.117
  13   21     -2195.800       0.201       0.250
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999976 0.00329825 -0.00611609 0.406819 
-0.00319116 0.999843 0.0174372 -0.565849 
0.00617264 -0.0174173 0.999829 -2.71644 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2022.11   GNORM= 124.2
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2126.862      71.039       0.008
   2    4     -2152.559      23.982       0.429
   3    5     -2156.962      22.280       1.000
   4    6     -2173.260      33.813       1.000
   5    8     -2175.929      20.082       0.238
   6    9     -2177.373       5.587       1.000
   7   10     -2177.575       2.591       1.000
   8   11     -2177.644       1.735       1.000
   9   12     -2177.694       1.004       1.000
  10   14     -2177.703       0.899       0.375
  11   15     -2177.709       0.632       1.000
  12   17     -2177.711       0.586       0.289
  13   18     -2177.713       0.451       1.000
  14   20     -2177.715       0.315       0.523
  15   21     -2177.715       0.295       1.000
  16   22     -2177.715       0.220       1.000
  17   23     -2177.715       0.054       1.000
  18   24     -2177.715       0.093       1.000
  19   26     -2177.715       0.056       0.352
  20   28     -2177.715       0.028       0.375
  21   29     -2177.715       0.037       1.000
  22   30     -2177.715       0.017       1.000
  23   31     -2177.715       0.014       1.000
  24   33     -2177.715       0.011       0.046
  25   40     -2177.715       0.012       0.069
  26   42     -2177.715       0.034       0.247
  27   44     -2177.715       0.022       0.191
  28   45     -2177.715       0.030       1.000
  29   47     -2177.715       0.027       0.270
  30   49     -2177.715       0.013       0.359
  31   51     -2177.715       0.011       5.000
  32   53     -2177.715       0.021       0.192
  33   54     -2177.715       0.015       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.99999 0.00377794 -0.00240464 0.181276 
-0.00368852 0.999339 0.0361656 -0.202714 
0.00253968 -0.0361564 0.999343 -0.671522 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2349.65   GNORM= 280.649
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2411.824      48.490       0.001
   2    4     -2414.961      42.293       1.000
   3    5     -2426.920      73.352       1.000
   4    6     -2442.023     103.300       1.000
   5    7     -2459.798      73.242       1.000
   6    8     -2461.692      50.954       1.000
   7    9     -2463.356       5.937       1.000
   8   10     -2463.418       5.338       1.000
   9   11     -2463.648       6.315       1.000
Final RAS Transform: 
0.999988 0.00312118 -0.00367428 0.334251 
-0.00294907 0.998939 0.0459504 -0.411729 
0.0038138 -0.045939 0.998937 -0.0135393 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat ]]
+ greedy -d 3 -a -dof 6 -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat -n 400x0x0x0 -ia-image-centers -search 400 5 5
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 50.593
Rigid search -> Initial best: -264.483 5.89806e-17 -7.15264e-19 -1.39057e-16 -0.737462 52.8671 -9.69448
New best: -541.459 0.0466339 0.00759078 0.0670481 -5.09338 59.5706 -1.11934
New best: -542.804 0.0215754 -0.0110612 -0.00451291 1.60536 48.3529 -2.86487
New best: -599.355 -0.0556997 0.0101424 0.0825242 2.17674 55.0775 -4.92297
New best: -633.161 0.0715428 0.0724489 -0.0507586 4.74368 64.3442 1.99529
New best: -729.906 -0.00384622 0.00132025 0.00363836 5.47432 61.0769 4.12805
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -729.906   GNORM= 70.3237
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -731.941      49.657       0.005
   2    5      -732.586      34.128       0.193
   3    6      -732.644      38.508       1.000
   4    7      -733.223      39.923       1.000
   5   13      -733.319      41.607       0.002
   6   14      -733.486      32.438       1.000
   7   16      -733.495      48.959       0.166
   8   18      -733.531      35.860       0.515
   9   19      -733.585      78.901       1.000
  10   20      -733.636      55.361       1.000
  11   21      -733.726      22.199       1.000
  12   23      -733.785      44.812       5.000
  13   25      -734.251      34.822       0.358
  14   26      -735.008      34.402       1.000
  15   27      -735.226      50.076       1.000
  16   28      -735.723      29.130       1.000
  17   30      -735.752      25.462       0.155
  18   31      -735.768      16.430       1.000
  19   32      -735.816      19.265       1.000
  20   33      -736.044      17.422       1.000
  21   36      -736.121      25.996       0.053
  22   40      -736.465     246.021       1.953
  23   42      -736.659     294.422       0.212
  24   44      -737.094      38.348       0.190
  25   46      -737.154      20.756       0.255
  26   48      -737.171      30.312       0.512
  27   50      -737.184      53.340       0.135
  28   51      -737.199      24.479       1.000
  29   52      -737.247      37.752       1.000
  30   53      -737.291      36.157       1.000
  31   54      -737.309      55.592       1.000
  32   55      -737.333      26.126       1.000
  33   56      -737.336      26.830       1.000
  34   57      -737.340      26.955       1.000
  35   59      -737.376      14.807       0.356
  36   61      -737.378       8.514       0.207
  37   62      -737.380      18.920       1.000
  38   63      -737.383      18.702       1.000
  39   64      -737.384      10.929       1.000
  40   65      -737.387       9.197       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999951 -0.00992918 0.000635329 5.3212 
0.00992571 0.999937 0.0052515 60.9932 
-0.000687432 -0.00524494 0.999986 4.40426 
0 0 0 1 

Final RAS Transform: 
0.999951 -0.00992918 0.000635329 5.3212 
0.00992571 0.999937 0.0052515 60.9932 
-0.000687432 -0.00524494 0.999986 4.40426 
0 0 0 1 

Final RAS Transform: 
0.999951 -0.00992918 0.000635329 5.3212 
0.00992571 0.999937 0.0052515 60.9932 
-0.000687432 -0.00524494 0.999986 4.40426 
0 0 0 1 

Final RAS Transform: 
0.999951 -0.00992918 0.000635329 5.3212 
0.00992571 0.999937 0.0052515 60.9932 
-0.000687432 -0.00524494 0.999986 4.40426 
0 0 0 1 


real	1m21.026s
user	2m7.324s
sys	0m5.796s
+ greedy -d 3 -a -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template.mat -n 400x80x40x0 -ia /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 50.593
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -737.389   GNORM= 69.1645
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1090.073      62.805       0.072
   2    4     -1855.863      60.317       1.000
   3    5     -2411.170       0.811       1.000
   4    6     -2411.930       0.954       1.000
   5   10     -2412.828       1.082       1.330
   6   13     -2412.882       1.188       0.050
   7   14     -2413.374       0.869       1.000
   8   16     -2414.049       1.623       5.000
   9   17     -2414.439       2.533       1.000
  10   19     -2415.886       1.194       0.220
  11   22     -2416.221       0.710       0.022
  12   23     -2416.389       0.772       1.000
  13   24     -2416.842       0.996       1.000
  14   27     -2416.923       0.860       0.236
  15   28     -2417.118       0.522       1.000
  16   29     -2417.178       0.736       1.000
  17   30     -2417.295       1.207       1.000
  18   32     -2417.310       0.868       0.248
  19   33     -2417.354       0.380       1.000
  20   36     -2417.359       0.829       0.078
  21   37     -2417.366       0.514       1.000
  22   38     -2417.374       0.463       1.000
  23   39     -2417.409       0.242       1.000
  24   40     -2417.420       0.271       1.000
  25   42     -2417.429       0.190       0.444
  26   44     -2417.432       0.181       0.451
  27   45     -2417.452       0.167       1.000
  28   47     -2417.453       0.159       0.114
  29   48     -2417.456       0.129       1.000
  30   50     -2417.459       0.128       0.189
  31   53     -2417.460       0.110       0.024
  32   54     -2417.460       0.122       1.000
  33   56     -2417.461       0.098       0.302
  34   57     -2417.461       0.088       1.000
  35   58     -2417.463       0.132       1.000
  36   59     -2417.463       0.111       1.000
  37   60     -2417.464       0.068       1.000
  38   62     -2417.464       0.064       0.377
  39   63     -2417.464       0.084       1.000
  40   64     -2417.464       0.093       1.000
  41   65     -2417.465       0.127       1.000
  42   67     -2417.465       0.062       0.216
  43   68     -2417.465       0.065       1.000
  44   69     -2417.465       0.064       1.000
  45   71     -2417.465       0.063       0.211
  46   73     -2417.465       0.104       0.220
  47   75     -2417.465       0.095       0.251
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
2.35905 0.142369 -0.0380906 -6.37108 
-0.208746 3.06057 -0.142201 74.8703 
0.238368 -0.0105108 1.83173 17.1814 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2678.91   GNORM= 0.626768
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2679.341       0.532       1.595
   2    3     -2680.508       0.326       1.000
   3    6     -2680.658       0.244       0.061
   4    7     -2680.688       0.250       1.000
   5    8     -2680.805       0.159       1.000
   6   10     -2680.816       0.140       0.318
   7   14     -2680.817       0.139       0.111
   8   17     -2680.818       0.135       0.021
   9   18     -2680.822       0.235       1.000
  10   22     -2680.828       0.220       0.034
  11   24     -2680.832       0.193       0.405
  12   26     -2680.833       0.346       0.210
  13   27     -2680.835       0.236       1.000
  14   28     -2680.836       0.184       1.000
  15   29     -2680.842       0.253       1.000
  16   33     -2680.962       0.423       1.650
  17   35     -2680.990       0.359       0.068
  18   39     -2680.994       0.343       0.295
  19   42     -2680.995       0.412       0.003
  20   44     -2680.996       0.599       0.393
  21   45     -2681.027       0.401       1.000
  22   47     -2681.048       0.650       0.408
  23   48     -2681.064       0.456       1.000
  24   49     -2681.082       1.383       1.000
  25   50     -2681.094       0.634       1.000
  26   51     -2681.123       0.299       1.000
  27   52     -2681.187       0.270       1.000
  28   53     -2681.222       0.276       1.000
  29   54     -2681.227       0.174       1.000
  30   55     -2681.242       0.252       1.000
  31   56     -2681.250       0.196       1.000
  32   57     -2681.265       0.206       1.000
  33   59     -2681.268       0.103       0.411
  34   60     -2681.275       0.108       1.000
  35   62     -2681.279       0.114       0.188
  36   64     -2681.281       0.215       0.248
  37   66     -2681.283       0.221       0.190
  38   67     -2681.285       0.141       1.000
  39   68     -2681.287       0.151       1.000
  40   71     -2681.288       0.122       0.071
  41   73     -2681.290       0.079       0.446
  42   74     -2681.291       0.126       1.000
  43   75     -2681.293       0.075       1.000
  44   77     -2681.294       0.052       0.326
  45   79     -2681.294       0.056       0.404
Final RAS Transform: 
2.32965 0.151543 -0.0226909 -6.17313 
-0.225349 3.08626 -0.161496 76.6976 
0.243693 0.0108794 1.8145 9.09484 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2799.09   GNORM= 0.153411
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5     -2799.116       0.086       1.295
   2    8     -2799.116       0.054       0.042
   3   10     -2799.117       0.130       0.307
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
2.32966 0.15131 -0.0228065 -5.98585 
-0.225448 3.08635 -0.161486 76.7323 
0.243701 0.0107684 1.8146 9.06084 
0 0 0 1 

Final RAS Transform: 
2.32966 0.15131 -0.0228065 -5.98585 
-0.225448 3.08635 -0.161486 76.7323 
0.243701 0.0107684 1.8146 9.06084 
0 0 0 1 


real	2m49.569s
user	5m1.932s
sys	0m7.264s
+ greedy -d 3 -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template.mat -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/test_greedy_affine.nii.gz
Executing with the default number of threads: 24
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat
+ ln -sf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/test_greedy_affine.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.nii.gz
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n '' ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25739/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 0
LEVEL 1 of 4
  Smoothing sigmas: [9.11606, 9.11606, 6.92825], [3.72161, 3.72161, 2.82845]
Level     0,  Iter     0:    Energy =   0.0003
Level     0,  Iter     1:    Energy =   0.0005
Level     0,  Iter     2:    Energy =   0.0008
Level     0,  Iter     3:    Energy =   0.0010
Level     0,  Iter     4:    Energy =   0.0011
Level     0,  Iter     5:    Energy =   0.0015
Level     0,  Iter     6:    Energy =   0.0015
Level     0,  Iter     7:    Energy =   0.0019
Level     0,  Iter     8:    Energy =   0.0021
Level     0,  Iter     9:    Energy =   0.0023
Level     0,  Iter    10:    Energy =   0.0026
Level     0,  Iter    11:    Energy =   0.0030
Level     0,  Iter    12:    Energy =   0.0030
Level     0,  Iter    13:    Energy =   0.0034
Level     0,  Iter    14:    Energy =   0.0036
Level     0,  Iter    15:    Energy =   0.0038
Level     0,  Iter    16:    Energy =   0.0039
Level     0,  Iter    17:    Energy =   0.0042
Level     0,  Iter    18:    Energy =   0.0042
Level     0,  Iter    19:    Energy =   0.0042
Level     0,  Iter    20:    Energy =   0.0043
Level     0,  Iter    21:    Energy =   0.0045
Level     0,  Iter    22:    Energy =   0.0045
Level     0,  Iter    23:    Energy =   0.0045
Level     0,  Iter    24:    Energy =   0.0046
Level     0,  Iter    25:    Energy =   0.0045
Level     0,  Iter    26:    Energy =   0.0046
Level     0,  Iter    27:    Energy =   0.0046
Level     0,  Iter    28:    Energy =   0.0047
Level     0,  Iter    29:    Energy =   0.0047
Level     0,  Iter    30:    Energy =   0.0047
Level     0,  Iter    31:    Energy =   0.0047
Level     0,  Iter    32:    Energy =   0.0048
Level     0,  Iter    33:    Energy =   0.0048
Level     0,  Iter    34:    Energy =   0.0048
Level     0,  Iter    35:    Energy =   0.0050
Level     0,  Iter    36:    Energy =   0.0050
Level     0,  Iter    37:    Energy =   0.0051
Level     0,  Iter    38:    Energy =   0.0051
Level     0,  Iter    39:    Energy =   0.0052
Level     0,  Iter    40:    Energy =   0.0051
Level     0,  Iter    41:    Energy =   0.0052
Level     0,  Iter    42:    Energy =   0.0050
Level     0,  Iter    43:    Energy =   0.0051
Level     0,  Iter    44:    Energy =   0.0050
Level     0,  Iter    45:    Energy =   0.0051
Level     0,  Iter    46:    Energy =   0.0050
Level     0,  Iter    47:    Energy =   0.0050
Level     0,  Iter    48:    Energy =   0.0050
Level     0,  Iter    49:    Energy =   0.0052
Level     0,  Iter    50:    Energy =   0.0052
Level     0,  Iter    51:    Energy =   0.0051
Level     0,  Iter    52:    Energy =   0.0052
Level     0,  Iter    53:    Energy =   0.0051
Level     0,  Iter    54:    Energy =   0.0050
Level     0,  Iter    55:    Energy =   0.0049
Level     0,  Iter    56:    Energy =   0.0050
Level     0,  Iter    57:    Energy =   0.0050
Level     0,  Iter    58:    Energy =   0.0048
Level     0,  Iter    59:    Energy =   0.0050
END OF LEVEL     0    DetJac Range:   0.1698  to   1.6515 
  Avg. Gradient Time  : 0.0192s  37.42% 
  Avg. Gaussian Time  : 0.0253s  49.30% 
  Avg. Iteration Time : 0.0514s 
LEVEL 2 of 4
  Smoothing sigmas: [4.55803, 4.55803, 3.46412], [1.86081, 1.86081, 1.41422]
Level     1,  Iter     0:    Energy =   0.0017
Level     1,  Iter     1:    Energy =   0.0018
Level     1,  Iter     2:    Energy =   0.0018
Level     1,  Iter     3:    Energy =   0.0019
Level     1,  Iter     4:    Energy =   0.0019
Level     1,  Iter     5:    Energy =   0.0021
Level     1,  Iter     6:    Energy =   0.0021
Level     1,  Iter     7:    Energy =   0.0023
Level     1,  Iter     8:    Energy =   0.0022
Level     1,  Iter     9:    Energy =   0.0022
Level     1,  Iter    10:    Energy =   0.0022
Level     1,  Iter    11:    Energy =   0.0023
Level     1,  Iter    12:    Energy =   0.0023
Level     1,  Iter    13:    Energy =   0.0023
Level     1,  Iter    14:    Energy =   0.0023
Level     1,  Iter    15:    Energy =   0.0024
Level     1,  Iter    16:    Energy =   0.0026
Level     1,  Iter    17:    Energy =   0.0025
Level     1,  Iter    18:    Energy =   0.0025
Level     1,  Iter    19:    Energy =   0.0025
big value: 4061.023570
Level     1,  Iter    20:    Energy =   0.0025
Level     1,  Iter    21:    Energy =   0.0024
Level     1,  Iter    22:    Energy =   0.0025
Level     1,  Iter    23:    Energy =   0.0024
Level     1,  Iter    24:    Energy =   0.0023
Level     1,  Iter    25:    Energy =   0.0023
Level     1,  Iter    26:    Energy =   0.0023
Level     1,  Iter    27:    Energy =   0.0022
Level     1,  Iter    28:    Energy =   0.0022
Level     1,  Iter    29:    Energy =   0.0024
Level     1,  Iter    30:    Energy =   0.0024
Level     1,  Iter    31:    Energy =   0.0023
Level     1,  Iter    32:    Energy =   0.0023
Level     1,  Iter    33:    Energy =   0.0024
Level     1,  Iter    34:    Energy =   0.0024
Level     1,  Iter    35:    Energy =   0.0025
Level     1,  Iter    36:    Energy =   0.0026
Level     1,  Iter    37:    Energy =   0.0025
Level     1,  Iter    38:    Energy =   0.0025
Level     1,  Iter    39:    Energy =   0.0025
Level     1,  Iter    40:    Energy =   0.0025
Level     1,  Iter    41:    Energy =   0.0025
Level     1,  Iter    42:    Energy =   0.0027
Level     1,  Iter    43:    Energy =   0.0026
big value: 1184.600961
Level     1,  Iter    44:    Energy =   0.0025
Level     1,  Iter    45:    Energy =   0.0024
Level     1,  Iter    46:    Energy =   0.0024
Level     1,  Iter    47:    Energy =   0.0025
Level     1,  Iter    48:    Energy =   0.0025
Level     1,  Iter    49:    Energy =   0.0026
Level     1,  Iter    50:    Energy =   0.0026
Level     1,  Iter    51:    Energy =   0.0026
Level     1,  Iter    52:    Energy =   0.0026
Level     1,  Iter    53:    Energy =   0.0025
Level     1,  Iter    54:    Energy =   0.0027
Level     1,  Iter    55:    Energy =   0.0027
Level     1,  Iter    56:    Energy =   0.0027
Level     1,  Iter    57:    Energy =   0.0027
Level     1,  Iter    58:    Energy =   0.0026
Level     1,  Iter    59:    Energy =   0.0027
END OF LEVEL     1    DetJac Range:   0.2034  to   1.6159 
  Avg. Gradient Time  : 0.1422s  37.76% 
  Avg. Gaussian Time  : 0.1938s  51.47% 
  Avg. Iteration Time : 0.3766s 
LEVEL 3 of 4
  Smoothing sigmas: [2.27901, 2.27901, 1.73206], [0.930404, 0.930404, 0.707111]
big value: 1322.268996
big value: 1886.682311
big value: 1935.627815
big value: -1122.010365
Level     2,  Iter     0:    Energy =   0.0009
big value: 1713.233805
big value: 1521.268258
Level     2,  Iter     1:    Energy =   0.0009
big value: 2023.879571
big value: 10647.921090
big value: 1021.339445
Level     2,  Iter     2:    Energy =   0.0009
big value: 4752.084926
Level     2,  Iter     3:    Energy =   0.0009
big value: -1582.985336
big value: -2012.060094
big value: 2475.422493
big value: -1059.431018
big value: 1050.318109
big value: -1204.168689
big value: -1661.470323
big value: 2396.809086
big value: 1061.952377
Level     2,  Iter     4:    Energy =   0.0009
big value: 8047.426657
big value: -2673.019351
big value: 5341.444422
big value: -1321.091722
big value: 1423.716367
Level     2,  Iter     5:    Energy =   0.0009
big value: 1059.890025
big value: 1282.482201
Level     2,  Iter     6:    Energy =   0.0008
Level     2,  Iter     7:    Energy =   0.0008
big value: 1646.592336
big value: 3592.930306
Level     2,  Iter     8:    Energy =   0.0008
big value: 2558.282472
big value: 1119.977695
big value: 6773.398029
big value: -1125.881417
big value: 1041.793802
big value: -2050.903964
Level     2,  Iter     9:    Energy =   0.0008
Level     2,  Iter    10:    Energy =   0.0008
big value: 2038.563403
big value: -1490.971624
big value: 4756.212666
big value: 2010.254778
Level     2,  Iter    11:    Energy =   0.0008
big value: -1203.643836
big value: 2504.774901
big value: 1089.574123
big value: 5012.529492
Level     2,  Iter    12:    Energy =   0.0008
big value: 1290.838457
Level     2,  Iter    13:    Energy =   0.0008
big value: -2975.018489
Level     2,  Iter    14:    Energy =   0.0008
Level     2,  Iter    15:    Energy =   0.0008
big value: -2737.123655
big value: -1745.673985
big value: 6427.218948
big value: 19264.092672
big value: 2053.415829
big value: -2506.362758
Level     2,  Iter    16:    Energy =   0.0008
Level     2,  Iter    17:    Energy =   0.0008
big value: -1599.130989
big value: -1335.972515
big value: 5101.061650
big value: -2060.884696
big value: 3794.976176
big value: -1007.396739
big value: -1266.122384
big value: 3828.707820
big value: 2939.204223
Level     2,  Iter    18:    Energy =   0.0008
big value: 1209.374609
big value: 1072.989987
big value: 1161.605426
Level     2,  Iter    19:    Energy =   0.0008
END OF LEVEL     2    DetJac Range:   0.2823  to   1.4253 
  Avg. Gradient Time  : 1.4213s  34.43% 
  Avg. Gaussian Time  : 2.3661s  57.32% 
  Avg. Iteration Time : 4.1279s 
LEVEL 4 of 4
  Smoothing sigmas: [1.13951, 1.13951, 0.866031], [0.465202, 0.465202, 0.353556]
slurmstepd: error: Job 5668738 exceeded memory limit (7174072 > 7168000), being killed
slurmstepd: error: Exceeded job memory limit
slurmstepd: error: *** JOB 5668738 ON wbic-cs-16 CANCELLED AT 2021-01-07T19:42:25 ***
